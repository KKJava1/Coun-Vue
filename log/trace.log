2023-05-13 00:00:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38012598607810560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:00:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012598607810560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:00:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012598607810560 [0;39m ==> Parameters: 
2023-05-13 00:00:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012598607810560 [0;39m <==    Updates: 5
2023-05-13 00:00:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38012598607810560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 00:00:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38012619579330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:00:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012619579330560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:00:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012619579330560 [0;39m ==> Parameters: 
2023-05-13 00:00:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012619579330560 [0;39m <==    Updates: 1
2023-05-13 00:00:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38012619579330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:00:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38012745442004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:00:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012745442004992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:00:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012745442004992 [0;39m ==> Parameters: 
2023-05-13 00:00:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012745442004992 [0;39m <==    Updates: 1
2023-05-13 00:00:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38012745442004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:01:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38012850253467648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:01:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012850253467648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:01:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012850253467648 [0;39m ==> Parameters: 
2023-05-13 00:01:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012850253467648 [0;39m <==    Updates: 0
2023-05-13 00:01:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38012850253467648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:01:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38012871224987648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:01:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012871224987648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:01:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012871224987648 [0;39m ==> Parameters: 
2023-05-13 00:01:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012871224987648 [0;39m <==    Updates: 1
2023-05-13 00:01:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38012871224987648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:01:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38012997091856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:01:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012997091856384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:01:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012997091856384 [0;39m ==> Parameters: 
2023-05-13 00:01:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012997091856384 [0;39m <==    Updates: 1
2023-05-13 00:01:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38012997091856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:02:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38013101932679168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013101932679168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013101932679168 [0;39m ==> Parameters: 
2023-05-13 00:02:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013101932679168 [0;39m <==    Updates: 0
2023-05-13 00:02:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38013101932679168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:02:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013122904199168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:02:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013122904199168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:02:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013122904199168 [0;39m ==> Parameters: 
2023-05-13 00:02:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013122904199168 [0;39m <==    Updates: 1
2023-05-13 00:02:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013122904199168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:02:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013248737513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:02:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013248737513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:02:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013248737513472 [0;39m ==> Parameters: 
2023-05-13 00:02:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013248737513472 [0;39m <==    Updates: 1
2023-05-13 00:02:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013248737513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 00:03:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38013353574141952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:03:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013353574141952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:03:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013353574141952 [0;39m ==> Parameters: 
2023-05-13 00:03:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013353574141952 [0;39m <==    Updates: 0
2023-05-13 00:03:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38013353574141952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 00:03:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013374566633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013374566633472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013374566633472 [0;39m ==> Parameters: 
2023-05-13 00:03:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013374566633472 [0;39m <==    Updates: 1
2023-05-13 00:03:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013374566633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 00:03:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013500374781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:03:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013500374781952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:03:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013500374781952 [0;39m ==> Parameters: 
2023-05-13 00:03:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013500374781952 [0;39m <==    Updates: 1
2023-05-13 00:03:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013500374781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:04:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38013605278519296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:04:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013605278519296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:04:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013605278519296 [0;39m ==> Parameters: 
2023-05-13 00:04:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013605278519296 [0;39m <==    Updates: 0
2023-05-13 00:04:00.026 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38013605278519296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 00:04:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013626203901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:04:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013626203901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:04:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013626203901952 [0;39m ==> Parameters: 
2023-05-13 00:04:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013626203901952 [0;39m <==    Updates: 1
2023-05-13 00:04:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013626203901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:04:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013752028827648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:04:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013752028827648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:04:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013752028827648 [0;39m ==> Parameters: 
2023-05-13 00:04:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013752028827648 [0;39m <==    Updates: 1
2023-05-13 00:04:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013752028827648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:05:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38013856911593472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:05:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013856911593472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:05:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013856911593472 [0;39m ==> Parameters: 
2023-05-13 00:05:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013856911593472 [0;39m <==    Updates: 0
2023-05-13 00:05:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38013856911593472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:05:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013877878919168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:05:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013877878919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013877878919168 [0;39m ==> Parameters: 
2023-05-13 00:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013877878919168 [0;39m <==    Updates: 1
2023-05-13 00:05:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013877878919168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:05:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014003712233472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:05:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014003712233472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:05:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014003712233472 [0;39m ==> Parameters: 
2023-05-13 00:05:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014003712233472 [0;39m <==    Updates: 1
2023-05-13 00:05:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014003712233472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:06:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38014108599193600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:06:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014108599193600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:06:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014108599193600 [0;39m ==> Parameters: 
2023-05-13 00:06:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014108599193600 [0;39m <==    Updates: 0
2023-05-13 00:06:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38014108599193600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:06:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014129516187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:06:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014129516187648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:06:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014129516187648 [0;39m ==> Parameters: 
2023-05-13 00:06:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014129516187648 [0;39m <==    Updates: 1
2023-05-13 00:06:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014129516187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:06:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014255391444992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:06:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014255391444992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:06:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014255391444992 [0;39m ==> Parameters: 
2023-05-13 00:06:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014255391444992 [0;39m <==    Updates: 1
2023-05-13 00:06:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014255391444992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:07:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38014360215490560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:07:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014360215490560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:07:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014360215490560 [0;39m ==> Parameters: 
2023-05-13 00:07:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014360215490560 [0;39m <==    Updates: 0
2023-05-13 00:07:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38014360215490560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:07:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014381182816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:07:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014381182816256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:07:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014381182816256 [0;39m ==> Parameters: 
2023-05-13 00:07:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014381182816256 [0;39m <==    Updates: 1
2023-05-13 00:07:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014381182816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:07:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014507062267904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:07:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014507062267904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:07:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014507062267904 [0;39m ==> Parameters: 
2023-05-13 00:07:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014507062267904 [0;39m <==    Updates: 1
2023-05-13 00:07:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014507062267904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:08:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38014611861147648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:08:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014611861147648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:08:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014611861147648 [0;39m ==> Parameters: 
2023-05-13 00:08:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014611861147648 [0;39m <==    Updates: 0
2023-05-13 00:08:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38014611861147648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:08:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014632866222080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:08:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014632866222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:08:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014632866222080 [0;39m ==> Parameters: 
2023-05-13 00:08:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014632866222080 [0;39m <==    Updates: 1
2023-05-13 00:08:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014632866222080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:08:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014758695342080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:08:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014758695342080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:08:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014758695342080 [0;39m ==> Parameters: 
2023-05-13 00:08:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014758695342080 [0;39m <==    Updates: 1
2023-05-13 00:08:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014758695342080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:09:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38014863519387648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:09:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014863519387648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:09:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014863519387648 [0;39m ==> Parameters: 
2023-05-13 00:09:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014863519387648 [0;39m <==    Updates: 0
2023-05-13 00:09:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38014863519387648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:09:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014884541239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:09:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014884541239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:09:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014884541239296 [0;39m ==> Parameters: 
2023-05-13 00:09:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014884541239296 [0;39m <==    Updates: 1
2023-05-13 00:09:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014884541239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:09:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015010324221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:09:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015010324221952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:09:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015010324221952 [0;39m ==> Parameters: 
2023-05-13 00:09:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015010324221952 [0;39m <==    Updates: 1
2023-05-13 00:09:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015010324221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:10:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38015115177627648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:10:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015115177627648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:10:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015115177627648 [0;39m ==> Parameters: 
2023-05-13 00:10:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015115177627648 [0;39m <==    Updates: 0
2023-05-13 00:10:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38015115177627648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:10:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015136149147648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:10:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015136149147648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:10:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015136149147648 [0;39m ==> Parameters: 
2023-05-13 00:10:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015136149147648 [0;39m <==    Updates: 1
2023-05-13 00:10:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015136149147648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:10:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015262011822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:10:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015262011822080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:10:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015262011822080 [0;39m ==> Parameters: 
2023-05-13 00:10:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015262011822080 [0;39m <==    Updates: 1
2023-05-13 00:10:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015262011822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:11:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38015366856839168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:11:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015366856839168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:11:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015366856839168 [0;39m ==> Parameters: 
2023-05-13 00:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015366856839168 [0;39m <==    Updates: 0
2023-05-13 00:11:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38015366856839168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:11:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015387811581952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:11:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015387811581952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:11:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015387811581952 [0;39m ==> Parameters: 
2023-05-13 00:11:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015387811581952 [0;39m <==    Updates: 1
2023-05-13 00:11:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015387811581952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:11:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015513678450688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:11:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015513678450688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:11:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015513678450688 [0;39m ==> Parameters: 
2023-05-13 00:11:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015513678450688 [0;39m <==    Updates: 1
2023-05-13 00:11:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015513678450688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:12:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38015618544439296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:12:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015618544439296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:12:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015618544439296 [0;39m ==> Parameters: 
2023-05-13 00:12:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015618544439296 [0;39m <==    Updates: 0
2023-05-13 00:12:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38015618544439296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:12:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015639465627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:12:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015639465627648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:12:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015639465627648 [0;39m ==> Parameters: 
2023-05-13 00:12:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015639465627648 [0;39m <==    Updates: 1
2023-05-13 00:12:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015639465627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:12:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015765319913472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:12:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015765319913472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:12:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015765319913472 [0;39m ==> Parameters: 
2023-05-13 00:12:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015765319913472 [0;39m <==    Updates: 1
2023-05-13 00:12:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015765319913472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:13:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38015870194290688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:13:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015870194290688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:13:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015870194290688 [0;39m ==> Parameters: 
2023-05-13 00:13:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015870194290688 [0;39m <==    Updates: 0
2023-05-13 00:13:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38015870194290688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:13:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015891182587904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:13:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015891182587904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:13:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015891182587904 [0;39m ==> Parameters: 
2023-05-13 00:13:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015891182587904 [0;39m <==    Updates: 1
2023-05-13 00:13:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015891182587904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:13:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016016957181952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:13:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016016957181952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:13:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016016957181952 [0;39m ==> Parameters: 
2023-05-13 00:13:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016016957181952 [0;39m <==    Updates: 1
2023-05-13 00:13:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016016957181952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:14:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38016121844142080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:14:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016121844142080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:14:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016121844142080 [0;39m ==> Parameters: 
2023-05-13 00:14:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016121844142080 [0;39m <==    Updates: 0
2023-05-13 00:14:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38016121844142080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:14:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016142845022208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:14:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016142845022208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:14:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016142845022208 [0;39m ==> Parameters: 
2023-05-13 00:14:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016142845022208 [0;39m <==    Updates: 1
2023-05-13 00:14:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016142845022208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:14:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016268657364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:14:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016268657364992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:14:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016268657364992 [0;39m ==> Parameters: 
2023-05-13 00:14:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016268657364992 [0;39m <==    Updates: 1
2023-05-13 00:14:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016268657364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:15:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38016373493993472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:15:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016373493993472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:15:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016373493993472 [0;39m ==> Parameters: 
2023-05-13 00:15:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016373493993472 [0;39m <==    Updates: 0
2023-05-13 00:15:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38016373493993472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:15:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016394440347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:15:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016394440347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:15:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016394440347648 [0;39m ==> Parameters: 
2023-05-13 00:15:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016394440347648 [0;39m <==    Updates: 1
2023-05-13 00:15:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016394440347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:15:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016520290439168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:15:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016520290439168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:15:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016520290439168 [0;39m ==> Parameters: 
2023-05-13 00:15:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016520290439168 [0;39m <==    Updates: 1
2023-05-13 00:15:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016520290439168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:16:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38016625173204992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:16:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016625173204992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:16:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016625173204992 [0;39m ==> Parameters: 
2023-05-13 00:16:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016625173204992 [0;39m <==    Updates: 0
2023-05-13 00:16:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38016625173204992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:16:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016646136336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:16:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016646136336384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:16:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016646136336384 [0;39m ==> Parameters: 
2023-05-13 00:16:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016646136336384 [0;39m <==    Updates: 1
2023-05-13 00:16:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016646136336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:16:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016771936096256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:16:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016771936096256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:16:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016771936096256 [0;39m ==> Parameters: 
2023-05-13 00:16:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016771936096256 [0;39m <==    Updates: 1
2023-05-13 00:16:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016771936096256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:17:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38016876810473472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:17:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016876810473472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:17:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016876810473472 [0;39m ==> Parameters: 
2023-05-13 00:17:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016876810473472 [0;39m <==    Updates: 0
2023-05-13 00:17:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38016876810473472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:17:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016897807159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016897807159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016897807159296 [0;39m ==> Parameters: 
2023-05-13 00:17:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016897807159296 [0;39m <==    Updates: 1
2023-05-13 00:17:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016897807159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:17:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017023585947648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:17:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017023585947648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:17:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017023585947648 [0;39m ==> Parameters: 
2023-05-13 00:17:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017023585947648 [0;39m <==    Updates: 1
2023-05-13 00:17:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017023585947648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:18:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38017128477102080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:18:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017128477102080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:18:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017128477102080 [0;39m ==> Parameters: 
2023-05-13 00:18:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017128477102080 [0;39m <==    Updates: 0
2023-05-13 00:18:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38017128477102080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:18:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017149465399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:18:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017149465399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:18:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017149465399296 [0;39m ==> Parameters: 
2023-05-13 00:18:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017149465399296 [0;39m <==    Updates: 1
2023-05-13 00:18:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017149465399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:18:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017275281936384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:18:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017275281936384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:18:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017275281936384 [0;39m ==> Parameters: 
2023-05-13 00:18:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017275281936384 [0;39m <==    Updates: 1
2023-05-13 00:18:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017275281936384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:19:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38017380097593344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:19:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017380097593344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:19:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017380097593344 [0;39m ==> Parameters: 
2023-05-13 00:19:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017380097593344 [0;39m <==    Updates: 0
2023-05-13 00:19:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38017380097593344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:19:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017401085890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:19:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017401085890560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:19:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017401085890560 [0;39m ==> Parameters: 
2023-05-13 00:19:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017401085890560 [0;39m <==    Updates: 1
2023-05-13 00:19:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017401085890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:19:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017526902427648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:19:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017526902427648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:19:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017526902427648 [0;39m ==> Parameters: 
2023-05-13 00:19:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017526902427648 [0;39m <==    Updates: 1
2023-05-13 00:19:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017526902427648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:20:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38017631818747904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:20:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017631818747904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:20:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017631818747904 [0;39m ==> Parameters: 
2023-05-13 00:20:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017631818747904 [0;39m <==    Updates: 0
2023-05-13 00:20:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38017631818747904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:20:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017652752519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:20:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017652752519168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:20:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017652752519168 [0;39m ==> Parameters: 
2023-05-13 00:20:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017652752519168 [0;39m <==    Updates: 1
2023-05-13 00:20:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017652752519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:20:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017778615193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:20:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017778615193600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:20:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017778615193600 [0;39m ==> Parameters: 
2023-05-13 00:20:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017778615193600 [0;39m <==    Updates: 1
2023-05-13 00:20:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017778615193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:21:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38017883456016384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:21:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017883456016384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:21:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017883456016384 [0;39m ==> Parameters: 
2023-05-13 00:21:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017883456016384 [0;39m <==    Updates: 0
2023-05-13 00:21:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38017883456016384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:21:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017904419147776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:21:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017904419147776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:21:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017904419147776 [0;39m ==> Parameters: 
2023-05-13 00:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017904419147776 [0;39m <==    Updates: 1
2023-05-13 00:21:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017904419147776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:21:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018030260850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:21:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018030260850688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:21:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018030260850688 [0;39m ==> Parameters: 
2023-05-13 00:21:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018030260850688 [0;39m <==    Updates: 1
2023-05-13 00:21:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018030260850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 00:22:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38018135105867776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:22:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018135105867776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:22:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018135105867776 [0;39m ==> Parameters: 
2023-05-13 00:22:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018135105867776 [0;39m <==    Updates: 0
2023-05-13 00:22:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38018135105867776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:22:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018156094164992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:22:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018156094164992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:22:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018156094164992 [0;39m ==> Parameters: 
2023-05-13 00:22:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018156094164992 [0;39m <==    Updates: 1
2023-05-13 00:22:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018156094164992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:22:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018281893924864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:22:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018281893924864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:22:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018281893924864 [0;39m ==> Parameters: 
2023-05-13 00:22:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018281893924864 [0;39m <==    Updates: 1
2023-05-13 00:22:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018281893924864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:23:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38018386793467904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:23:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018386793467904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:23:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018386793467904 [0;39m ==> Parameters: 
2023-05-13 00:23:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018386793467904 [0;39m <==    Updates: 0
2023-05-13 00:23:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38018386793467904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:23:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018407702073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:23:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018407702073344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:23:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018407702073344 [0;39m ==> Parameters: 
2023-05-13 00:23:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018407702073344 [0;39m <==    Updates: 1
2023-05-13 00:23:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018407702073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:23:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018533560553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:23:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018533560553472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:23:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018533560553472 [0;39m ==> Parameters: 
2023-05-13 00:23:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018533560553472 [0;39m <==    Updates: 1
2023-05-13 00:23:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018533560553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:24:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38018638413959168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018638413959168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018638413959168 [0;39m ==> Parameters: 
2023-05-13 00:24:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018638413959168 [0;39m <==    Updates: 0
2023-05-13 00:24:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38018638413959168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:24:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018659389673472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:24:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018659389673472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:24:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018659389673472 [0;39m ==> Parameters: 
2023-05-13 00:24:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018659389673472 [0;39m <==    Updates: 1
2023-05-13 00:24:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018659389673472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:24:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018785227182080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:24:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018785227182080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:24:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018785227182080 [0;39m ==> Parameters: 
2023-05-13 00:24:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018785227182080 [0;39m <==    Updates: 1
2023-05-13 00:24:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018785227182080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:25:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38018890051227648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:25:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018890051227648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:25:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018890051227648 [0;39m ==> Parameters: 
2023-05-13 00:25:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018890051227648 [0;39m <==    Updates: 0
2023-05-13 00:25:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38018890051227648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:25:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018911060496384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:25:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018911060496384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:25:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018911060496384 [0;39m ==> Parameters: 
2023-05-13 00:25:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018911060496384 [0;39m <==    Updates: 1
2023-05-13 00:25:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018911060496384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:25:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019036902199296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:25:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019036902199296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:25:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019036902199296 [0;39m ==> Parameters: 
2023-05-13 00:25:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019036902199296 [0;39m <==    Updates: 1
2023-05-13 00:25:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019036902199296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:26:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38019141743022080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:26:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019141743022080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:26:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019141743022080 [0;39m ==> Parameters: 
2023-05-13 00:26:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019141743022080 [0;39m <==    Updates: 0
2023-05-13 00:26:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38019141743022080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:26:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019162710347776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:26:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019162710347776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:26:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019162710347776 [0;39m ==> Parameters: 
2023-05-13 00:26:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019162710347776 [0;39m <==    Updates: 1
2023-05-13 00:26:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019162710347776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:26:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019288543662080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:26:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019288543662080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:26:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019288543662080 [0;39m ==> Parameters: 
2023-05-13 00:26:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019288543662080 [0;39m <==    Updates: 1
2023-05-13 00:26:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019288543662080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:27:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38019393359319040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:27:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019393359319040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:27:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019393359319040 [0;39m ==> Parameters: 
2023-05-13 00:27:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019393359319040 [0;39m <==    Updates: 0
2023-05-13 00:27:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38019393359319040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:27:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019414393753600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:27:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019414393753600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:27:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019414393753600 [0;39m ==> Parameters: 
2023-05-13 00:27:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019414393753600 [0;39m <==    Updates: 1
2023-05-13 00:27:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019414393753600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:27:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019540193513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:27:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019540193513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:27:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019540193513472 [0;39m ==> Parameters: 
2023-05-13 00:27:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019540193513472 [0;39m <==    Updates: 1
2023-05-13 00:27:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019540193513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:28:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38019645063696384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:28:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019645063696384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:28:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019645063696384 [0;39m ==> Parameters: 
2023-05-13 00:28:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019645063696384 [0;39m <==    Updates: 0
2023-05-13 00:28:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38019645063696384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:28:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019666005856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:28:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019666005856256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:28:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019666005856256 [0;39m ==> Parameters: 
2023-05-13 00:28:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019666005856256 [0;39m <==    Updates: 1
2023-05-13 00:28:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019666005856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:28:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019791826587648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:28:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019791826587648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:28:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019791826587648 [0;39m ==> Parameters: 
2023-05-13 00:28:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019791826587648 [0;39m <==    Updates: 1
2023-05-13 00:28:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019791826587648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:29:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38019896713547776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:29:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019896713547776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:29:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019896713547776 [0;39m ==> Parameters: 
2023-05-13 00:29:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019896713547776 [0;39m <==    Updates: 0
2023-05-13 00:29:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38019896713547776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:29:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019917672484864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:29:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019917672484864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:29:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019917672484864 [0;39m ==> Parameters: 
2023-05-13 00:29:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019917672484864 [0;39m <==    Updates: 1
2023-05-13 00:29:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019917672484864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:29:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020043535159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:29:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020043535159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:29:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020043535159296 [0;39m ==> Parameters: 
2023-05-13 00:29:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020043535159296 [0;39m <==    Updates: 1
2023-05-13 00:29:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020043535159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:30:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38020148367593472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:30:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020148367593472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:30:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020148367593472 [0;39m ==> Parameters: 
2023-05-13 00:30:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020148367593472 [0;39m <==    Updates: 0
2023-05-13 00:30:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38020148367593472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:30:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020169309753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:30:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020169309753344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:30:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020169309753344 [0;39m ==> Parameters: 
2023-05-13 00:30:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020169309753344 [0;39m <==    Updates: 1
2023-05-13 00:30:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020169309753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:30:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020295189204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:30:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020295189204992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:30:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020295189204992 [0;39m ==> Parameters: 
2023-05-13 00:30:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020295189204992 [0;39m <==    Updates: 1
2023-05-13 00:30:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020295189204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:31:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38020399996473344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:31:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020399996473344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:31:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020399996473344 [0;39m ==> Parameters: 
2023-05-13 00:31:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020399996473344 [0;39m <==    Updates: 0
2023-05-13 00:31:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38020399996473344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:31:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020421005742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:31:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020421005742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:31:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020421005742080 [0;39m ==> Parameters: 
2023-05-13 00:31:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020421005742080 [0;39m <==    Updates: 1
2023-05-13 00:31:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020421005742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:31:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020546801307648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:31:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020546801307648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:31:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020546801307648 [0;39m ==> Parameters: 
2023-05-13 00:31:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020546801307648 [0;39m <==    Updates: 1
2023-05-13 00:31:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020546801307648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:32:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38020651658907648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:32:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020651658907648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:32:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020651658907648 [0;39m ==> Parameters: 
2023-05-13 00:32:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020651658907648 [0;39m <==    Updates: 0
2023-05-13 00:32:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38020651658907648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 00:32:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020672680759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:32:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020672680759296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:32:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020672680759296 [0;39m ==> Parameters: 
2023-05-13 00:32:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020672680759296 [0;39m <==    Updates: 1
2023-05-13 00:32:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020672680759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:32:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020798463741952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:32:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020798463741952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:32:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020798463741952 [0;39m ==> Parameters: 
2023-05-13 00:32:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020798463741952 [0;39m <==    Updates: 1
2023-05-13 00:32:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020798463741952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 00:33:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38020903375867904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:33:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020903375867904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:33:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020903375867904 [0;39m ==> Parameters: 
2023-05-13 00:33:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020903375867904 [0;39m <==    Updates: 0
2023-05-13 00:33:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38020903375867904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:33:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020924347387904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:33:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020924347387904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:33:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020924347387904 [0;39m ==> Parameters: 
2023-05-13 00:33:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020924347387904 [0;39m <==    Updates: 1
2023-05-13 00:33:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020924347387904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:33:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021050159730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:33:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021050159730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:33:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021050159730688 [0;39m ==> Parameters: 
2023-05-13 00:33:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021050159730688 [0;39m <==    Updates: 1
2023-05-13 00:33:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021050159730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:33:36.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021056157585408 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:33:36.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021056157585408 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:33:36.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021056157585408 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:33:36.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021056157585408 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:33:36.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021056157585408 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:33:36.446 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021056157585408 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:33:36.446 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021056157585408 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:33:36.447 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:33:36.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 43, 5
2023-05-13 00:33:36.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:33:36.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:33:36.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:33:36.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:33:36.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:33:36.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:33:36.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:33:36.450 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021056157585408 [0;39m <==      Total: 8
2023-05-13 00:33:36.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021056157585408 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":43,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:33:36.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021056157585408 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 00:33:36.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021056451186688 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:33:36.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021056451186688 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:33:36.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021056451186688 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:33:36.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021056451186688 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:33:36.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021056451186688 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:33:36.514 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021056451186688 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:33:36.514 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021056451186688 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:33:36.515 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021056451186688 [0;39m <==    Columns: id, content
2023-05-13 00:33:36.515 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021056451186688 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:33:36.516 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021056451186688 [0;39m <==      Total: 1
2023-05-13 00:33:36.516 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021056451186688 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:33:36.516 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021056451186688 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:33:36.520 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021056451186688 [0;39m <==    Updates: 1
2023-05-13 00:33:36.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021056451186688 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:33:36.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021056451186688 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 00:34:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38021154992164864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:34:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021154992164864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:34:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021154992164864 [0;39m ==> Parameters: 
2023-05-13 00:34:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021154992164864 [0;39m <==    Updates: 0
2023-05-13 00:34:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38021154992164864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:34:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021175997239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:34:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021175997239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:34:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021175997239296 [0;39m ==> Parameters: 
2023-05-13 00:34:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021175997239296 [0;39m <==    Updates: 1
2023-05-13 00:34:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021175997239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 00:34:17.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021226609905664 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:17.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021226609905664 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:34:17.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021226609905664 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:34:17.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021226609905664 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:17.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021226609905664 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:17.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021226609905664 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:34:17.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021226609905664 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:17.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:34:17.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 44, 5
2023-05-13 00:34:17.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:34:17.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:34:17.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:34:17.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:34:17.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:34:17.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:34:17.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:34:17.085 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021226609905664 [0;39m <==      Total: 8
2023-05-13 00:34:17.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021226609905664 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":44,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:34:17.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021226609905664 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 00:34:17.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021226681208832 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:17.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021226681208832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:34:17.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021226681208832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:34:17.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021226681208832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:17.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021226681208832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:17.098 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021226681208832 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:34:17.099 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021226681208832 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:17.099 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021226681208832 [0;39m <==    Columns: id, content
2023-05-13 00:34:17.099 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021226681208832 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:34:17.099 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021226681208832 [0;39m <==      Total: 1
2023-05-13 00:34:17.099 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021226681208832 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:34:17.100 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021226681208832 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:17.101 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021226681208832 [0;39m <==    Updates: 1
2023-05-13 00:34:17.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021226681208832 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:34:17.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021226681208832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-13 00:34:26.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021268078989312 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:26.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021268078989312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:34:26.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021268078989312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:34:26.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021268078989312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:26.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021268078989312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:26.970 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021268078989312 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:34:26.970 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021268078989312 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:26.971 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:34:26.971 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 45, 5
2023-05-13 00:34:26.971 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:34:26.972 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:34:26.972 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:34:26.972 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:34:26.972 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:34:26.973 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:34:26.973 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:34:26.973 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021268078989312 [0;39m <==      Total: 8
2023-05-13 00:34:26.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021268078989312 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":45,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:34:26.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021268078989312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 00:34:27.088 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021268582305792 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:27.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021268582305792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:34:27.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021268582305792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:34:27.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021268582305792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:27.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021268582305792 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:27.089 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021268582305792 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:34:27.090 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021268582305792 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:27.092 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021268582305792 [0;39m <==    Columns: id, content
2023-05-13 00:34:27.092 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021268582305792 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:34:27.092 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021268582305792 [0;39m <==      Total: 1
2023-05-13 00:34:27.093 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021268582305792 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:34:27.093 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021268582305792 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:27.094 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021268582305792 [0;39m <==    Updates: 1
2023-05-13 00:34:27.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021268582305792 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:34:27.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021268582305792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 00:34:33.278 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021294545047552 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:33.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021294545047552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:34:33.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021294545047552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:34:33.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021294545047552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:33.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021294545047552 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:33.280 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021294545047552 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:34:33.280 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021294545047552 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:33.281 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:34:33.281 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 46, 5
2023-05-13 00:34:33.281 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:34:33.281 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:34:33.282 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:34:33.282 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:34:33.282 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:34:33.282 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:34:33.283 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:34:33.283 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021294545047552 [0;39m <==      Total: 8
2023-05-13 00:34:33.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021294545047552 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":46,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:34:33.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021294545047552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 00:34:33.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021294809288704 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:33.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021294809288704 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:34:33.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021294809288704 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:34:33.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021294809288704 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:33.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021294809288704 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:33.342 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021294809288704 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:34:33.343 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021294809288704 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:33.344 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021294809288704 [0;39m <==    Columns: id, content
2023-05-13 00:34:33.344 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021294809288704 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:34:33.344 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021294809288704 [0;39m <==      Total: 1
2023-05-13 00:34:33.345 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021294809288704 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:34:33.345 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021294809288704 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:33.347 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021294809288704 [0;39m <==    Updates: 1
2023-05-13 00:34:33.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021294809288704 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:34:33.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021294809288704 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 00:34:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021301813776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:34:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021301813776384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:34:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021301813776384 [0;39m ==> Parameters: 
2023-05-13 00:34:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021301813776384 [0;39m <==    Updates: 1
2023-05-13 00:34:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021301813776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 00:34:42.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021331538808832 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:42.099 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021331538808832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:34:42.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021331538808832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:34:42.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021331538808832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:42.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021331538808832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:42.102 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021331538808832 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:34:42.102 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021331538808832 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 47, 5
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:34:42.104 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:34:42.104 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021331538808832 [0;39m <==      Total: 8
2023-05-13 00:34:42.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021331538808832 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":47,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:34:42.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021331538808832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 00:34:42.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021331685609472 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:42.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021331685609472 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:34:42.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021331685609472 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:34:42.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021331685609472 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:42.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021331685609472 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:42.134 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021331685609472 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:34:42.134 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021331685609472 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:42.135 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021331685609472 [0;39m <==    Columns: id, content
2023-05-13 00:34:42.136 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021331685609472 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:34:42.136 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021331685609472 [0;39m <==      Total: 1
2023-05-13 00:34:42.136 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021331685609472 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:34:42.137 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021331685609472 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:42.138 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021331685609472 [0;39m <==    Updates: 1
2023-05-13 00:34:42.139 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021331685609472 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:34:42.139 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021331685609472 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 00:34:44.864 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38021056157585408 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š2vHmlPXmjRï¼Œsession idï¼š3ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 00:34:45.501 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38021056451186688 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šsrePAdnsLuï¼Œsession idï¼š4ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 00:34:45.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021346021740544 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:45.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021346021740544 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:34:45.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021346021740544 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:34:45.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021346021740544 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:45.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021346021740544 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:45.553 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021346021740544 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:34:45.553 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021346021740544 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:45.553 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 48, 5
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:34:45.555 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:34:45.555 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021346021740544 [0;39m <==      Total: 8
2023-05-13 00:34:45.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021346021740544 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":48,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:34:45.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021346021740544 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 00:34:45.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021346256621568 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:45.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021346256621568 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:34:45.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021346256621568 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:34:45.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021346256621568 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:45.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021346256621568 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:45.609 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021346256621568 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:34:45.609 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021346256621568 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:45.610 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021346256621568 [0;39m <==    Columns: id, content
2023-05-13 00:34:45.611 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021346256621568 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:34:45.611 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021346256621568 [0;39m <==      Total: 1
2023-05-13 00:34:45.612 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021346256621568 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:34:45.612 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021346256621568 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:45.615 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021346256621568 [0;39m <==    Updates: 1
2023-05-13 00:34:45.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021346256621568 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:34:45.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021346256621568 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 00:34:48.461 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38021268078989312 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šsrePAdnsLuï¼Œsession idï¼š4ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 00:34:49.007 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38021268582305792 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šPZHClsx1gxï¼Œsession idï¼š5ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 00:34:49.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021360676638720 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:49.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021360676638720 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:34:49.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021360676638720 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:34:49.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021360676638720 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:49.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021360676638720 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:49.046 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021360676638720 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:34:49.046 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021360676638720 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:49.048 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:34:49.048 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 49, 5
2023-05-13 00:34:49.049 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:34:49.049 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:34:49.049 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:34:49.049 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:34:49.049 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:34:49.049 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:34:49.050 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:34:49.050 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021360676638720 [0;39m <==      Total: 8
2023-05-13 00:34:49.050 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021360676638720 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":49,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:34:49.050 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021360676638720 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 00:34:49.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021360894742528 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:49.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021360894742528 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:34:49.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021360894742528 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:34:49.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021360894742528 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:49.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021360894742528 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:49.099 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021360894742528 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:34:49.099 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021360894742528 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:49.100 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021360894742528 [0;39m <==    Columns: id, content
2023-05-13 00:34:49.100 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021360894742528 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:34:49.100 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021360894742528 [0;39m <==      Total: 1
2023-05-13 00:34:49.101 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021360894742528 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:34:49.101 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021360894742528 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:49.102 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021360894742528 [0;39m <==    Updates: 1
2023-05-13 00:34:49.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021360894742528 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:34:49.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021360894742528 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 00:35:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38021406671376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:35:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021406671376384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:35:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021406671376384 [0;39m ==> Parameters: 
2023-05-13 00:35:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021406671376384 [0;39m <==    Updates: 0
2023-05-13 00:35:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38021406671376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 00:35:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021427626119168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:35:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021427626119168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:35:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021427626119168 [0;39m ==> Parameters: 
2023-05-13 00:35:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021427626119168 [0;39m <==    Updates: 1
2023-05-13 00:35:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021427626119168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 00:35:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021553434267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:35:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021553434267648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:35:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021553434267648 [0;39m ==> Parameters: 
2023-05-13 00:35:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021553434267648 [0;39m <==    Updates: 1
2023-05-13 00:35:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021553434267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:36:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38021658329616384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:36:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021658329616384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:36:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021658329616384 [0;39m ==> Parameters: 
2023-05-13 00:36:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021658329616384 [0;39m <==    Updates: 0
2023-05-13 00:36:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38021658329616384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-13 00:36:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021679296942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:36:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021679296942080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:36:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021679296942080 [0;39m ==> Parameters: 
2023-05-13 00:36:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021679296942080 [0;39m <==    Updates: 1
2023-05-13 00:36:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021679296942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:36:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021805096701952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:36:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021805096701952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:36:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021805096701952 [0;39m ==> Parameters: 
2023-05-13 00:36:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021805096701952 [0;39m <==    Updates: 1
2023-05-13 00:36:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021805096701952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:37:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38021909992050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:37:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021909992050688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:37:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021909992050688 [0;39m ==> Parameters: 
2023-05-13 00:37:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021909992050688 [0;39m <==    Updates: 0
2023-05-13 00:37:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38021909992050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:37:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021930917433344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:37:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021930917433344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:37:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021930917433344 [0;39m ==> Parameters: 
2023-05-13 00:37:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021930917433344 [0;39m <==    Updates: 1
2023-05-13 00:37:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021930917433344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:37:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022056784302080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:37:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022056784302080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:37:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022056784302080 [0;39m ==> Parameters: 
2023-05-13 00:37:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022056784302080 [0;39m <==    Updates: 1
2023-05-13 00:37:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022056784302080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:38:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38022161633513472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:38:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022161633513472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:38:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022161633513472 [0;39m ==> Parameters: 
2023-05-13 00:38:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022161633513472 [0;39m <==    Updates: 0
2023-05-13 00:38:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38022161633513472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:38:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022182575673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:38:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022182575673344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:38:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022182575673344 [0;39m ==> Parameters: 
2023-05-13 00:38:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022182575673344 [0;39m <==    Updates: 1
2023-05-13 00:38:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022182575673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:38:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022308404793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:38:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022308404793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:38:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022308404793344 [0;39m ==> Parameters: 
2023-05-13 00:38:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022308404793344 [0;39m <==    Updates: 1
2023-05-13 00:38:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022308404793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:39:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38022413262393344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:39:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022413262393344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:39:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022413262393344 [0;39m ==> Parameters: 
2023-05-13 00:39:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022413262393344 [0;39m <==    Updates: 0
2023-05-13 00:39:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38022413262393344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:39:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022434242301952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:39:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022434242301952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:39:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022434242301952 [0;39m ==> Parameters: 
2023-05-13 00:39:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022434242301952 [0;39m <==    Updates: 1
2023-05-13 00:39:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022434242301952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:39:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022560067227648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:39:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022560067227648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:39:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022560067227648 [0;39m ==> Parameters: 
2023-05-13 00:39:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022560067227648 [0;39m <==    Updates: 1
2023-05-13 00:39:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022560067227648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:40:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38022664937410560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:40:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022664937410560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:40:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022664937410560 [0;39m ==> Parameters: 
2023-05-13 00:40:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022664937410560 [0;39m <==    Updates: 0
2023-05-13 00:40:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38022664937410560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:40:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022685904736256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:40:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022685904736256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:40:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022685904736256 [0;39m ==> Parameters: 
2023-05-13 00:40:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022685904736256 [0;39m <==    Updates: 1
2023-05-13 00:40:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022685904736256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:40:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022811738050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:40:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022811738050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:40:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022811738050560 [0;39m ==> Parameters: 
2023-05-13 00:40:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022811738050560 [0;39m <==    Updates: 1
2023-05-13 00:40:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022811738050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:41:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38022916625010688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:41:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022916625010688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:41:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022916625010688 [0;39m ==> Parameters: 
2023-05-13 00:41:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022916625010688 [0;39m <==    Updates: 0
2023-05-13 00:41:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38022916625010688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:41:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022937596530688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:41:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022937596530688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:41:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022937596530688 [0;39m ==> Parameters: 
2023-05-13 00:41:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022937596530688 [0;39m <==    Updates: 1
2023-05-13 00:41:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022937596530688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:41:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023063434039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:41:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023063434039296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:41:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023063434039296 [0;39m ==> Parameters: 
2023-05-13 00:41:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023063434039296 [0;39m <==    Updates: 1
2023-05-13 00:41:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023063434039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:42:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38023168270667776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:42:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023168270667776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:42:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023168270667776 [0;39m ==> Parameters: 
2023-05-13 00:42:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023168270667776 [0;39m <==    Updates: 0
2023-05-13 00:42:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38023168270667776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:42:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023189250576384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:42:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023189250576384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:42:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023189250576384 [0;39m ==> Parameters: 
2023-05-13 00:42:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023189250576384 [0;39m <==    Updates: 1
2023-05-13 00:42:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023189250576384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:42:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023315037753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:42:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023315037753344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023315037753344 [0;39m ==> Parameters: 
2023-05-13 00:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023315037753344 [0;39m <==    Updates: 1
2023-05-13 00:42:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023315037753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:43:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38023419941490688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:43:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023419941490688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:43:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023419941490688 [0;39m ==> Parameters: 
2023-05-13 00:43:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023419941490688 [0;39m <==    Updates: 0
2023-05-13 00:43:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38023419941490688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:43:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023440900427776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:43:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023440900427776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:43:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023440900427776 [0;39m ==> Parameters: 
2023-05-13 00:43:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023440900427776 [0;39m <==    Updates: 1
2023-05-13 00:43:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023440900427776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:43:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023566733742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023566733742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:43:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023566733742080 [0;39m ==> Parameters: 
2023-05-13 00:43:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023566733742080 [0;39m <==    Updates: 1
2023-05-13 00:43:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023566733742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:44:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38023671616507904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:44:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023671616507904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:44:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023671616507904 [0;39m ==> Parameters: 
2023-05-13 00:44:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023671616507904 [0;39m <==    Updates: 0
2023-05-13 00:44:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38023671616507904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:44:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023692537696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:44:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023692537696256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:44:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023692537696256 [0;39m ==> Parameters: 
2023-05-13 00:44:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023692537696256 [0;39m <==    Updates: 1
2023-05-13 00:44:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023692537696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:44:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023818366816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:44:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023818366816256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:44:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023818366816256 [0;39m ==> Parameters: 
2023-05-13 00:44:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023818366816256 [0;39m <==    Updates: 1
2023-05-13 00:44:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023818366816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:45:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38023923262164992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:45:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023923262164992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:45:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023923262164992 [0;39m ==> Parameters: 
2023-05-13 00:45:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023923262164992 [0;39m <==    Updates: 0
2023-05-13 00:45:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38023923262164992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:45:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023944237879296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:45:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023944237879296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:45:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023944237879296 [0;39m ==> Parameters: 
2023-05-13 00:45:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023944237879296 [0;39m <==    Updates: 1
2023-05-13 00:45:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023944237879296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:45:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024070020861952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:45:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024070020861952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:45:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024070020861952 [0;39m ==> Parameters: 
2023-05-13 00:45:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024070020861952 [0;39m <==    Updates: 1
2023-05-13 00:45:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024070020861952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:46:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38024174878461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:46:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024174878461952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:46:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024174878461952 [0;39m ==> Parameters: 
2023-05-13 00:46:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024174878461952 [0;39m <==    Updates: 0
2023-05-13 00:46:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38024174878461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:46:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024195858370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:46:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024195858370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:46:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024195858370560 [0;39m ==> Parameters: 
2023-05-13 00:46:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024195858370560 [0;39m <==    Updates: 1
2023-05-13 00:46:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024195858370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:46:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024321679101952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:46:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024321679101952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:46:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024321679101952 [0;39m ==> Parameters: 
2023-05-13 00:46:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024321679101952 [0;39m <==    Updates: 1
2023-05-13 00:46:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024321679101952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:47:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38024426528313344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:47:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024426528313344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:47:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024426528313344 [0;39m ==> Parameters: 
2023-05-13 00:47:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024426528313344 [0;39m <==    Updates: 0
2023-05-13 00:47:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38024426528313344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:47:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024447554359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:47:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024447554359296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:47:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024447554359296 [0;39m ==> Parameters: 
2023-05-13 00:47:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024447554359296 [0;39m <==    Updates: 1
2023-05-13 00:47:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024447554359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:47:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024573375090688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:47:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024573375090688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:47:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024573375090688 [0;39m ==> Parameters: 
2023-05-13 00:47:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024573375090688 [0;39m <==    Updates: 1
2023-05-13 00:47:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024573375090688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:48:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38024678232690688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:48:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024678232690688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:48:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024678232690688 [0;39m ==> Parameters: 
2023-05-13 00:48:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024678232690688 [0;39m <==    Updates: 0
2023-05-13 00:48:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38024678232690688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:48:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024699170656256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:48:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024699170656256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:48:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024699170656256 [0;39m ==> Parameters: 
2023-05-13 00:48:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024699170656256 [0;39m <==    Updates: 1
2023-05-13 00:48:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024699170656256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:48:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024825024942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:48:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024825024942080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:48:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024825024942080 [0;39m ==> Parameters: 
2023-05-13 00:48:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024825024942080 [0;39m <==    Updates: 1
2023-05-13 00:48:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024825024942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:49:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38024929848987648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:49:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024929848987648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:49:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024929848987648 [0;39m ==> Parameters: 
2023-05-13 00:49:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024929848987648 [0;39m <==    Updates: 0
2023-05-13 00:49:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38024929848987648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:49:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024950875033600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:49:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024950875033600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:49:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024950875033600 [0;39m ==> Parameters: 
2023-05-13 00:49:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024950875033600 [0;39m <==    Updates: 1
2023-05-13 00:49:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024950875033600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:49:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025076712542208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:49:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025076712542208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:49:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025076712542208 [0;39m ==> Parameters: 
2023-05-13 00:49:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025076712542208 [0;39m <==    Updates: 1
2023-05-13 00:49:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025076712542208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:50:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38025181540782080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:50:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025181540782080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:50:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025181540782080 [0;39m ==> Parameters: 
2023-05-13 00:50:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025181540782080 [0;39m <==    Updates: 0
2023-05-13 00:50:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38025181540782080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:50:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025202537467904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:50:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025202537467904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:50:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025202537467904 [0;39m ==> Parameters: 
2023-05-13 00:50:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025202537467904 [0;39m <==    Updates: 1
2023-05-13 00:50:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025202537467904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:50:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025328354004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:50:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025328354004992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:50:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025328354004992 [0;39m ==> Parameters: 
2023-05-13 00:50:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025328354004992 [0;39m <==    Updates: 1
2023-05-13 00:50:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025328354004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:51:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38025433178050560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:51:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025433178050560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:51:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025433178050560 [0;39m ==> Parameters: 
2023-05-13 00:51:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025433178050560 [0;39m <==    Updates: 0
2023-05-13 00:51:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38025433178050560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:51:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025454174736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:51:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025454174736384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:51:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025454174736384 [0;39m ==> Parameters: 
2023-05-13 00:51:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025454174736384 [0;39m <==    Updates: 1
2023-05-13 00:51:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025454174736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:51:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025579961913344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:51:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025579961913344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:51:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025579961913344 [0;39m ==> Parameters: 
2023-05-13 00:51:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025579961913344 [0;39m <==    Updates: 1
2023-05-13 00:51:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025579961913344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:52:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38025684823707648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:52:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025684823707648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:52:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025684823707648 [0;39m ==> Parameters: 
2023-05-13 00:52:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025684823707648 [0;39m <==    Updates: 0
2023-05-13 00:52:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38025684823707648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:52:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025705795227648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:52:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025705795227648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:52:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025705795227648 [0;39m ==> Parameters: 
2023-05-13 00:52:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025705795227648 [0;39m <==    Updates: 1
2023-05-13 00:52:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025705795227648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:52:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025831624347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:52:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025831624347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:52:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025831624347648 [0;39m ==> Parameters: 
2023-05-13 00:52:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025831624347648 [0;39m <==    Updates: 1
2023-05-13 00:52:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025831624347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:53:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38025936477753344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:53:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025936477753344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:53:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025936477753344 [0;39m ==> Parameters: 
2023-05-13 00:53:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025936477753344 [0;39m <==    Updates: 0
2023-05-13 00:53:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38025936477753344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:53:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025957512187904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:53:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025957512187904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:53:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025957512187904 [0;39m ==> Parameters: 
2023-05-13 00:53:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025957512187904 [0;39m <==    Updates: 1
2023-05-13 00:53:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025957512187904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:53:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026083286781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:53:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026083286781952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:53:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026083286781952 [0;39m ==> Parameters: 
2023-05-13 00:53:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026083286781952 [0;39m <==    Updates: 1
2023-05-13 00:53:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026083286781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:54:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38026188190519296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:54:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026188190519296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:54:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026188190519296 [0;39m ==> Parameters: 
2023-05-13 00:54:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026188190519296 [0;39m <==    Updates: 0
2023-05-13 00:54:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38026188190519296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:54:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026209107513344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:54:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026209107513344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:54:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026209107513344 [0;39m ==> Parameters: 
2023-05-13 00:54:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026209107513344 [0;39m <==    Updates: 1
2023-05-13 00:54:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026209107513344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:54:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026334945021952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:54:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026334945021952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:54:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026334945021952 [0;39m ==> Parameters: 
2023-05-13 00:54:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026334945021952 [0;39m <==    Updates: 1
2023-05-13 00:54:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026334945021952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:55:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38026439861342208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:55:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026439861342208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:55:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026439861342208 [0;39m ==> Parameters: 
2023-05-13 00:55:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026439861342208 [0;39m <==    Updates: 0
2023-05-13 00:55:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38026439861342208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:55:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026460795113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:55:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026460795113472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:55:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026460795113472 [0;39m ==> Parameters: 
2023-05-13 00:55:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026460795113472 [0;39m <==    Updates: 1
2023-05-13 00:55:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026460795113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:55:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026586615844864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:55:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026586615844864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:55:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026586615844864 [0;39m ==> Parameters: 
2023-05-13 00:55:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026586615844864 [0;39m <==    Updates: 1
2023-05-13 00:55:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026586615844864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:56:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38026691490222080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:56:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026691490222080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:56:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026691490222080 [0;39m ==> Parameters: 
2023-05-13 00:56:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026691490222080 [0;39m <==    Updates: 0
2023-05-13 00:56:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38026691490222080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:56:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026712461742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:56:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026712461742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:56:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026712461742080 [0;39m ==> Parameters: 
2023-05-13 00:56:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026712461742080 [0;39m <==    Updates: 1
2023-05-13 00:56:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026712461742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:56:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026838320222208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:56:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026838320222208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:56:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026838320222208 [0;39m ==> Parameters: 
2023-05-13 00:56:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026838320222208 [0;39m <==    Updates: 1
2023-05-13 00:56:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026838320222208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:57:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38026943144267776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:57:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026943144267776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:57:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026943144267776 [0;39m ==> Parameters: 
2023-05-13 00:57:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026943144267776 [0;39m <==    Updates: 0
2023-05-13 00:57:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38026943144267776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:57:05.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026964157730816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:57:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026964157730816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:57:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026964157730816 [0;39m ==> Parameters: 
2023-05-13 00:57:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026964157730816 [0;39m <==    Updates: 1
2023-05-13 00:57:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026964157730816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:57:23.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027043451047936 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:23.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027043451047936 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:57:23.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027043451047936 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:57:23.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027043451047936 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:23.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027043451047936 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:23.925 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027043451047936 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:57:23.926 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027043451047936 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:23.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:57:23.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 50, 5
2023-05-13 00:57:23.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:57:23.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:57:23.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:57:23.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:57:23.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:57:23.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:57:23.929 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:57:23.929 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027043451047936 [0;39m <==      Total: 8
2023-05-13 00:57:23.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027043451047936 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":50,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:57:23.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027043451047936 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 00:57:24.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027044650618880 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:24.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027044650618880 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:57:24.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027044650618880 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:57:24.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027044650618880 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:24.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027044650618880 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:24.211 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027044650618880 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:57:24.212 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027044650618880 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:24.213 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027044650618880 [0;39m <==    Columns: id, content
2023-05-13 00:57:24.213 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027044650618880 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:57:24.214 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027044650618880 [0;39m <==      Total: 1
2023-05-13 00:57:24.214 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027044650618880 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:57:24.214 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027044650618880 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:24.215 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027044650618880 [0;39m <==    Updates: 1
2023-05-13 00:57:24.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027044650618880 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:57:24.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027044650618880 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 00:57:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027089970073600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:57:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027089970073600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:57:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027089970073600 [0;39m ==> Parameters: 
2023-05-13 00:57:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027089970073600 [0;39m <==    Updates: 1
2023-05-13 00:57:35.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027089970073600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 00:57:42.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027119485390848 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:42.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027119485390848 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:57:42.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027119485390848 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:57:42.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027119485390848 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:42.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027119485390848 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:42.053 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027119485390848 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:57:42.054 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027119485390848 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:42.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:57:42.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 51, 5
2023-05-13 00:57:42.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:57:42.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:57:42.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:57:42.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:57:42.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:57:42.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:57:42.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:57:42.056 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027119485390848 [0;39m <==      Total: 8
2023-05-13 00:57:42.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027119485390848 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":51,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:57:42.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027119485390848 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 00:57:42.131 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027119816740864 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:42.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027119816740864 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:57:42.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027119816740864 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:57:42.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027119816740864 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:42.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027119816740864 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:42.132 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027119816740864 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:57:42.133 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027119816740864 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:42.133 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027119816740864 [0;39m <==    Columns: id, content
2023-05-13 00:57:42.133 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027119816740864 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:57:42.134 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027119816740864 [0;39m <==      Total: 1
2023-05-13 00:57:42.134 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027119816740864 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:57:42.134 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027119816740864 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:42.136 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027119816740864 [0;39m <==    Updates: 1
2023-05-13 00:57:42.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027119816740864 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:57:42.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027119816740864 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 00:57:46.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027140142338048 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:46.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027140142338048 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:57:46.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027140142338048 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:57:46.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027140142338048 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:46.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027140142338048 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:46.979 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027140142338048 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:57:46.979 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027140142338048 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:46.983 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:57:46.983 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 52, 5
2023-05-13 00:57:46.983 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:57:46.984 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:57:46.984 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:57:46.984 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:57:46.984 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:57:46.985 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:57:46.985 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:57:46.985 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027140142338048 [0;39m <==      Total: 8
2023-05-13 00:57:46.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027140142338048 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":52,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:57:46.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027140142338048 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 00:57:47.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027140289138688 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:47.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027140289138688 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:57:47.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027140289138688 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:57:47.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027140289138688 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:47.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027140289138688 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:47.013 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027140289138688 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:57:47.014 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027140289138688 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:47.015 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027140289138688 [0;39m <==    Columns: id, content
2023-05-13 00:57:47.015 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027140289138688 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:57:47.015 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027140289138688 [0;39m <==      Total: 1
2023-05-13 00:57:47.016 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027140289138688 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:57:47.017 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027140289138688 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:47.023 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027140289138688 [0;39m <==    Updates: 1
2023-05-13 00:57:47.023 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027140289138688 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:57:47.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027140289138688 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 00:57:53.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027167237541888 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:53.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027167237541888 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:57:53.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027167237541888 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:57:53.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027167237541888 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:53.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027167237541888 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:53.439 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027167237541888 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:57:53.439 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027167237541888 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:53.441 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:57:53.441 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 53, 5
2023-05-13 00:57:53.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:57:53.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:57:53.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:57:53.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:57:53.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:57:53.443 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:57:53.443 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:57:53.443 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027167237541888 [0;39m <==      Total: 8
2023-05-13 00:57:53.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027167237541888 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":53,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:57:53.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027167237541888 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 00:57:53.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027167401119744 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:53.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027167401119744 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:57:53.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027167401119744 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:57:53.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027167401119744 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:53.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027167401119744 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:53.479 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027167401119744 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:57:53.479 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027167401119744 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:53.480 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027167401119744 [0;39m <==    Columns: id, content
2023-05-13 00:57:53.480 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027167401119744 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:57:53.481 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027167401119744 [0;39m <==      Total: 1
2023-05-13 00:57:53.481 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027167401119744 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:57:53.481 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027167401119744 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:53.483 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027167401119744 [0;39m <==    Updates: 1
2023-05-13 00:57:53.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027167401119744 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:57:53.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027167401119744 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 00:58:00.063 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38027195029000192 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:58:00.063 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027195029000192 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:58:00.063 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027195029000192 [0;39m ==> Parameters: 
2023-05-13 00:58:00.089 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027195029000192 [0;39m <==    Updates: 0
2023-05-13 00:58:00.089 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38027195029000192 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2023-05-13 00:58:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027215740473344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:58:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027215740473344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:58:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027215740473344 [0;39m ==> Parameters: 
2023-05-13 00:58:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027215740473344 [0;39m <==    Updates: 1
2023-05-13 00:58:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027215740473344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 00:58:28.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027314222731264 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:58:28.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027314222731264 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:58:28.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027314222731264 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:58:28.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027314222731264 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:58:28.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027314222731264 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:58:28.483 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027314222731264 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:58:28.483 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027314222731264 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:58:28.484 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:58:28.484 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 54, 5
2023-05-13 00:58:28.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:58:28.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:58:28.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:58:28.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:58:28.486 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:58:28.486 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:58:28.486 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:58:28.486 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027314222731264 [0;39m <==      Total: 8
2023-05-13 00:58:28.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027314222731264 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":54,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:58:28.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027314222731264 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 00:58:28.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027314373726208 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:58:28.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027314373726208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:58:28.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027314373726208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:58:28.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027314373726208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:58:28.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027314373726208 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:58:28.518 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027314373726208 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:58:28.519 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027314373726208 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:58:28.520 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027314373726208 [0;39m <==    Columns: id, content
2023-05-13 00:58:28.520 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027314373726208 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:58:28.531 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027314373726208 [0;39m <==      Total: 1
2023-05-13 00:58:28.533 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027314373726208 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:58:28.533 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027314373726208 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:58:28.535 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027314373726208 [0;39m <==    Updates: 1
2023-05-13 00:58:28.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027314373726208 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:58:28.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027314373726208 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-13 00:58:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027341628313600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:58:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027341628313600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:58:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027341628313600 [0;39m ==> Parameters: 
2023-05-13 00:58:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027341628313600 [0;39m <==    Updates: 1
2023-05-13 00:58:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027341628313600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:59:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38027446473330688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:59:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027446473330688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:59:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027446473330688 [0;39m ==> Parameters: 
2023-05-13 00:59:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027446473330688 [0;39m <==    Updates: 0
2023-05-13 00:59:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38027446473330688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 00:59:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027467415490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:59:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027467415490560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:59:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027467415490560 [0;39m ==> Parameters: 
2023-05-13 00:59:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027467415490560 [0;39m <==    Updates: 1
2023-05-13 00:59:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027467415490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:59:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027593261387776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:59:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027593261387776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:59:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027593261387776 [0;39m ==> Parameters: 
2023-05-13 00:59:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027593261387776 [0;39m <==    Updates: 1
2023-05-13 00:59:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027593261387776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:00:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38027698089627648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:00:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027698089627648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:00:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027698089627648 [0;39m ==> Parameters: 
2023-05-13 01:00:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027698089627648 [0;39m <==    Updates: 0
2023-05-13 01:00:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38027698089627648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:00:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027719077924864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:00:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027719077924864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:00:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027719077924864 [0;39m ==> Parameters: 
2023-05-13 01:00:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027719077924864 [0;39m <==    Updates: 1
2023-05-13 01:00:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027719077924864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:00:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027844915433472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:00:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027844915433472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:00:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027844915433472 [0;39m ==> Parameters: 
2023-05-13 01:00:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027844915433472 [0;39m <==    Updates: 1
2023-05-13 01:00:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027844915433472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:01:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38027949773033472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:01:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027949773033472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:01:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027949773033472 [0;39m ==> Parameters: 
2023-05-13 01:01:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027949773033472 [0;39m <==    Updates: 0
2023-05-13 01:01:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38027949773033472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:01:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027970748747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:01:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027970748747776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:01:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027970748747776 [0;39m ==> Parameters: 
2023-05-13 01:01:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027970748747776 [0;39m <==    Updates: 1
2023-05-13 01:01:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027970748747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 01:01:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028096561090560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:01:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028096561090560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:01:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028096561090560 [0;39m ==> Parameters: 
2023-05-13 01:01:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028096561090560 [0;39m <==    Updates: 1
2023-05-13 01:01:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028096561090560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:01:35.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38028099551629312 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:01:35.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38028099551629312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:01:35.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38028099551629312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:01:35.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38028099551629312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:01:35.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38028099551629312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:01:35.721 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38028099551629312 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:01:35.721 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38028099551629312 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:01:35.722 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:01:35.722 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 55, 5
2023-05-13 01:01:35.722 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:01:35.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:01:35.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:01:35.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:01:35.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:01:35.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:01:35.724 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:01:35.724 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38028099551629312 [0;39m <==      Total: 8
2023-05-13 01:01:35.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38028099551629312 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":55,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:01:35.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38028099551629312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:01:35.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38028099702624256 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:01:35.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38028099702624256 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:01:35.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38028099702624256 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:01:35.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38028099702624256 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:01:35.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38028099702624256 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:01:35.755 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38028099702624256 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:01:35.756 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38028099702624256 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:01:35.757 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38028099702624256 [0;39m <==    Columns: id, content
2023-05-13 01:01:35.757 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38028099702624256 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:01:35.757 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38028099702624256 [0;39m <==      Total: 1
2023-05-13 01:01:35.758 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38028099702624256 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:01:35.758 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38028099702624256 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:01:35.760 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38028099702624256 [0;39m <==    Updates: 1
2023-05-13 01:01:35.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38028099702624256 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:01:35.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38028099702624256 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:02:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38028201448050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:02:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028201448050688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:02:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028201448050688 [0;39m ==> Parameters: 
2023-05-13 01:02:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028201448050688 [0;39m <==    Updates: 0
2023-05-13 01:02:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38028201448050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 01:02:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028222377627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:02:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028222377627648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:02:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028222377627648 [0;39m ==> Parameters: 
2023-05-13 01:02:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028222377627648 [0;39m <==    Updates: 1
2023-05-13 01:02:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028222377627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 01:02:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028348210941952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:02:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028348210941952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:02:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028348210941952 [0;39m ==> Parameters: 
2023-05-13 01:02:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028348210941952 [0;39m <==    Updates: 1
2023-05-13 01:02:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028348210941952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:03:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38028453106290688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:03:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028453106290688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:03:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028453106290688 [0;39m ==> Parameters: 
2023-05-13 01:03:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028453106290688 [0;39m <==    Updates: 0
2023-05-13 01:03:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38028453106290688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 01:03:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028474065227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028474065227776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028474065227776 [0;39m ==> Parameters: 
2023-05-13 01:03:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028474065227776 [0;39m <==    Updates: 1
2023-05-13 01:03:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028474065227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:03:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028599915319296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:03:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028599915319296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:03:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028599915319296 [0;39m ==> Parameters: 
2023-05-13 01:03:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028599915319296 [0;39m <==    Updates: 1
2023-05-13 01:03:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028599915319296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:04:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38028704747753472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:04:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028704747753472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:04:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028704747753472 [0;39m ==> Parameters: 
2023-05-13 01:04:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028704747753472 [0;39m <==    Updates: 0
2023-05-13 01:04:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38028704747753472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:04:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028725731856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:04:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028725731856384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:04:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028725731856384 [0;39m ==> Parameters: 
2023-05-13 01:04:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028725731856384 [0;39m <==    Updates: 1
2023-05-13 01:04:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028725731856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:04:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028851540004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028851540004864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028851540004864 [0;39m ==> Parameters: 
2023-05-13 01:04:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028851540004864 [0;39m <==    Updates: 1
2023-05-13 01:04:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028851540004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:05:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38028956389216256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:05:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028956389216256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:05:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028956389216256 [0;39m ==> Parameters: 
2023-05-13 01:05:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028956389216256 [0;39m <==    Updates: 0
2023-05-13 01:05:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38028956389216256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 01:05:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028977373319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028977373319168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028977373319168 [0;39m ==> Parameters: 
2023-05-13 01:05:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028977373319168 [0;39m <==    Updates: 1
2023-05-13 01:05:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028977373319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:05:35.030 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029103298908160 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:05:35.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029103298908160 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:05:35.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029103298908160 [0;39m ==> Parameters: 
2023-05-13 01:05:35.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029103298908160 [0;39m <==    Updates: 1
2023-05-13 01:05:35.032 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029103298908160 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:05:44.437 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38027140142338048 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šPZHClsx1gxï¼Œsession idï¼š5ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 01:05:45.414 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38027140289138688 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šUWDumtmLlIï¼Œsession idï¼š6ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 01:05:45.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029147112607744 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:05:45.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029147112607744 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:05:45.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029147112607744 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:05:45.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029147112607744 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:05:45.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029147112607744 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:05:45.480 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029147112607744 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:05:45.482 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029147112607744 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:05:45.483 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:05:45.483 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 56, 5
2023-05-13 01:05:45.483 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:05:45.483 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:05:45.483 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:05:45.484 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:05:45.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:05:45.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:05:45.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:05:45.485 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029147112607744 [0;39m <==      Total: 8
2023-05-13 01:05:45.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029147112607744 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":56,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:05:45.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029147112607744 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 01:05:45.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029147397820416 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:05:45.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029147397820416 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:05:45.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029147397820416 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:05:45.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029147397820416 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:05:45.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029147397820416 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:05:45.546 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029147397820416 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:05:45.546 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029147397820416 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:05:45.548 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029147397820416 [0;39m <==    Columns: id, content
2023-05-13 01:05:45.548 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029147397820416 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:05:45.548 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029147397820416 [0;39m <==      Total: 1
2023-05-13 01:05:45.549 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029147397820416 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:05:45.549 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029147397820416 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:05:45.551 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029147397820416 [0;39m <==    Updates: 1
2023-05-13 01:05:45.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029147397820416 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:05:45.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029147397820416 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:06:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38029208055844864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:06:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029208055844864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:06:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029208055844864 [0;39m ==> Parameters: 
2023-05-13 01:06:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029208055844864 [0;39m <==    Updates: 0
2023-05-13 01:06:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38029208055844864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:06:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029229031559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:06:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029229031559168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:06:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029229031559168 [0;39m ==> Parameters: 
2023-05-13 01:06:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029229031559168 [0;39m <==    Updates: 1
2023-05-13 01:06:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029229031559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:06:09.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029246119153664 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:09.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029246119153664 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:06:09.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029246119153664 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:06:09.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029246119153664 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:09.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029246119153664 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:09.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029246119153664 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:06:09.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029246119153664 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:09.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:06:09.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 57, 5
2023-05-13 01:06:09.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:06:09.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:06:09.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:06:09.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:06:09.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:06:09.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:06:09.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:06:09.086 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029246119153664 [0;39m <==      Total: 8
2023-05-13 01:06:09.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029246119153664 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":57,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:06:09.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029246119153664 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:06:09.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029246291120128 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:09.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029246291120128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:06:09.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029246291120128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:06:09.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029246291120128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:09.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029246291120128 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:09.124 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029246291120128 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:06:09.124 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029246291120128 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:09.125 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029246291120128 [0;39m <==    Columns: id, content
2023-05-13 01:06:09.125 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029246291120128 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:06:09.125 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029246291120128 [0;39m <==      Total: 1
2023-05-13 01:06:09.126 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029246291120128 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:06:09.126 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029246291120128 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:09.127 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029246291120128 [0;39m <==    Updates: 1
2023-05-13 01:06:09.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029246291120128 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:06:09.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029246291120128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:06:17.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029280101404672 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:17.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029280101404672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:06:17.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029280101404672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:06:17.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029280101404672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:17.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029280101404672 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:17.187 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029280101404672 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:06:17.187 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029280101404672 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:17.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:06:17.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 58, 5
2023-05-13 01:06:17.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:06:17.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:06:17.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:06:17.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:06:17.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:06:17.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:06:17.190 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:06:17.190 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029280101404672 [0;39m <==      Total: 8
2023-05-13 01:06:17.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029280101404672 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":58,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:06:17.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029280101404672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:06:17.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029280353062912 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:17.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029280353062912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:06:17.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029280353062912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:06:17.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029280353062912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:17.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029280353062912 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:17.244 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029280353062912 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:06:17.245 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029280353062912 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:17.247 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029280353062912 [0;39m <==    Columns: id, content
2023-05-13 01:06:17.247 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029280353062912 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:06:17.248 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029280353062912 [0;39m <==      Total: 1
2023-05-13 01:06:17.249 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029280353062912 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:06:17.249 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029280353062912 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:17.250 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029280353062912 [0;39m <==    Updates: 1
2023-05-13 01:06:17.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029280353062912 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:06:17.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029280353062912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:06:21.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029299051270144 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:21.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029299051270144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:06:21.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029299051270144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:06:21.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029299051270144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:21.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029299051270144 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:21.703 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029299051270144 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:06:21.703 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029299051270144 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:21.704 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:06:21.704 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 59, 5
2023-05-13 01:06:21.704 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:06:21.704 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:06:21.705 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:06:21.705 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:06:21.705 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:06:21.705 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:06:21.705 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:06:21.705 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029299051270144 [0;39m <==      Total: 8
2023-05-13 01:06:21.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029299051270144 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":59,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:06:21.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029299051270144 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:06:21.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029299181293568 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:21.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029299181293568 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:06:21.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029299181293568 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:06:21.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029299181293568 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:21.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029299181293568 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:21.734 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029299181293568 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:06:21.735 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029299181293568 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:21.736 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029299181293568 [0;39m <==    Columns: id, content
2023-05-13 01:06:21.737 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029299181293568 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:06:21.737 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029299181293568 [0;39m <==      Total: 1
2023-05-13 01:06:21.737 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029299181293568 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:06:21.738 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029299181293568 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:21.739 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029299181293568 [0;39m <==    Updates: 1
2023-05-13 01:06:21.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029299181293568 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:06:21.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029299181293568 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:06:31.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029338947489792 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:31.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029338947489792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:06:31.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029338947489792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:06:31.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029338947489792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:31.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029338947489792 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:31.215 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029338947489792 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:06:31.216 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029338947489792 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:31.216 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:06:31.217 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 60, 5
2023-05-13 01:06:31.217 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:06:31.217 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:06:31.217 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:06:31.218 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:06:31.218 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:06:31.218 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:06:31.218 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:06:31.218 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029338947489792 [0;39m <==      Total: 8
2023-05-13 01:06:31.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029338947489792 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":60,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:06:31.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029338947489792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:06:31.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029339077513216 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:31.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029339077513216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:06:31.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029339077513216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:06:31.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029339077513216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:31.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029339077513216 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:31.245 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029339077513216 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:06:31.245 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029339077513216 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:31.246 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029339077513216 [0;39m <==    Columns: id, content
2023-05-13 01:06:31.246 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029339077513216 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:06:31.247 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029339077513216 [0;39m <==      Total: 1
2023-05-13 01:06:31.248 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029339077513216 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:06:31.249 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029339077513216 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:31.250 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029339077513216 [0;39m <==    Updates: 1
2023-05-13 01:06:31.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029339077513216 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:06:31.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029339077513216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:06:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029354873262080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:06:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029354873262080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:06:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029354873262080 [0;39m ==> Parameters: 
2023-05-13 01:06:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029354873262080 [0;39m <==    Updates: 1
2023-05-13 01:06:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029354873262080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:07:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38029459735056384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:07:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029459735056384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:07:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029459735056384 [0;39m ==> Parameters: 
2023-05-13 01:07:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029459735056384 [0;39m <==    Updates: 0
2023-05-13 01:07:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38029459735056384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 01:07:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029480668827648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:07:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029480668827648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:07:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029480668827648 [0;39m ==> Parameters: 
2023-05-13 01:07:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029480668827648 [0;39m <==    Updates: 1
2023-05-13 01:07:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029480668827648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:07:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029606569250816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:07:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029606569250816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:07:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029606569250816 [0;39m ==> Parameters: 
2023-05-13 01:07:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029606569250816 [0;39m <==    Updates: 1
2023-05-13 01:07:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029606569250816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:08:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38029711389102080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:08:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029711389102080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:08:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029711389102080 [0;39m ==> Parameters: 
2023-05-13 01:08:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029711389102080 [0;39m <==    Updates: 0
2023-05-13 01:08:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38029711389102080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:08:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029732322873344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:08:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029732322873344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:08:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029732322873344 [0;39m ==> Parameters: 
2023-05-13 01:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029732322873344 [0;39m <==    Updates: 1
2023-05-13 01:08:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029732322873344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:08:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029858156187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:08:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029858156187648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:08:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029858156187648 [0;39m ==> Parameters: 
2023-05-13 01:08:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029858156187648 [0;39m <==    Updates: 1
2023-05-13 01:08:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029858156187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:09:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38029963051536384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:09:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029963051536384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:09:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029963051536384 [0;39m ==> Parameters: 
2023-05-13 01:09:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029963051536384 [0;39m <==    Updates: 0
2023-05-13 01:09:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38029963051536384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:09:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029983989501952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:09:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029983989501952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:09:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029983989501952 [0;39m ==> Parameters: 
2023-05-13 01:09:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029983989501952 [0;39m <==    Updates: 1
2023-05-13 01:09:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029983989501952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:09:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38030109827010560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:09:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38030109827010560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:09:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38030109827010560 [0;39m ==> Parameters: 
2023-05-13 01:09:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38030109827010560 [0;39m <==    Updates: 1
2023-05-13 01:09:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38030109827010560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:10:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38030214709776384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:10:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38030214709776384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:10:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38030214709776384 [0;39m ==> Parameters: 
2023-05-13 01:10:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38030214709776384 [0;39m <==    Updates: 0
2023-05-13 01:10:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38030214709776384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:10:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38030235651936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:10:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38030235651936256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:10:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38030235651936256 [0;39m ==> Parameters: 
2023-05-13 01:10:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38030235651936256 [0;39m <==    Updates: 1
2023-05-13 01:10:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38030235651936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:15:02.650 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 13724 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-13 01:15:02.649 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-13 01:15:02.652 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-13 01:15:02.785 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-13 01:15:02.786 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-13 01:15:03.586 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-13 01:15:03.589 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-13 01:15:03.619 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2023-05-13 01:15:03.903 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$3280abd0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:03.915 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.560 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.564 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$d4bb20d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.565 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.568 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.576 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.577 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.580 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.583 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.584 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.604 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.605 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.611 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.614 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.631 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:07.145 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:07.150 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:07.811 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-13 01:15:07.820 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-13 01:15:07.821 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-13 01:15:07.822 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-13 01:15:08.016 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-13 01:15:08.017 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 5230 ms
2023-05-13 01:15:09.206 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-13 01:15:09.457 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:09.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:09.778 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-13 01:15:09.849 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-13 01:15:15.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:15.061 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 01:15:15.061 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-13 01:15:15.072 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-13 01:15:15.082 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-13 01:15:15.093 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 12.873 seconds (JVM running for 14.383)
2023-05-13 01:15:15.093 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-13 01:15:15.093 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-13 01:15:19.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38031619805810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:15:35.032 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38031619805810688 [0;39m HikariPool-1 - Starting...
2023-05-13 01:15:35.482 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38031619805810688 [0;39m HikariPool-1 - Start completed.
2023-05-13 01:15:35.487 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031619805810688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:15:35.499 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031619805810688 [0;39m ==> Parameters: 
2023-05-13 01:15:35.506 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031619805810688 [0;39m <==    Updates: 1
2023-05-13 01:15:35.508 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38031619805810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š496æ¯«ç§’
2023-05-13 01:15:39.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:40.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:42.081 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:44.869 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-13 01:15:44.869 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-13 01:15:44.871 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2023-05-13 01:15:44.918 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šM8Dw5mnEPMï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 01:15:44.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38031661400723456 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:15:44.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38031661400723456 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:15:44.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38031661400723456 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:15:44.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38031661400723456 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:15:44.975 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38031661400723456 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:15:45.121 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38031661400723456 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:15:45.122 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38031661400723456 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:15:45.137 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:15:45.137 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 61, 5
2023-05-13 01:15:45.138 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:15:45.138 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:15:45.138 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:15:45.139 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:15:45.139 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:15:45.140 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:15:45.140 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:15:45.140 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38031661400723456 [0;39m <==      Total: 8
2023-05-13 01:15:45.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38031661400723456 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":61,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:15:45.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38031661400723456 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š235 ms -------------
2023-05-13 01:15:45.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38031662633848832 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:15:45.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38031662633848832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:15:45.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38031662633848832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:15:45.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38031662633848832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:15:45.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38031662633848832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:15:45.224 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38031662633848832 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:15:45.226 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38031662633848832 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:15:45.234 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38031662633848832 [0;39m <==    Columns: id, content
2023-05-13 01:15:45.235 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38031662633848832 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:15:45.235 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38031662633848832 [0;39m <==      Total: 1
2023-05-13 01:15:45.236 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38031662633848832 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:15:45.237 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38031662633848832 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:15:45.240 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38031662633848832 [0;39m <==    Updates: 1
2023-05-13 01:15:45.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38031662633848832 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:15:45.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38031662633848832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-13 01:15:46.148 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:49.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38031679364927488 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:15:49.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38031679364927488 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-13 01:15:49.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38031679364927488 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-13 01:15:49.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38031679364927488 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:15:49.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38031679364927488 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2023-05-13 01:15:49.220 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38031679364927488 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-13 01:15:49.221 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38031679364927488 [0;39m ==> Parameters: test(String)
2023-05-13 01:15:49.222 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38031679364927488 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 01:15:49.222 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38031679364927488 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 01:15:49.223 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38031679364927488 [0;39m <==      Total: 1
2023-05-13 01:15:49.227 INFO  com.jiawa.wiki.controller.UserController          :86   [32m38031679364927488 [0;39m ç”Ÿæˆå•ç‚¹ç™»å½•tokenï¼š38031679427842048ï¼Œå¹¶æ”¾å…¥redisä¸­
2023-05-13 01:15:49.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38031679364927488 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38031679427842048"},"success":true}
2023-05-13 01:15:49.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38031679364927488 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š141 ms -------------
2023-05-13 01:16:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38031724675993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:16:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38031724675993600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:16:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38031724675993600 [0;39m ==> Parameters: 
2023-05-13 01:16:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38031724675993600 [0;39m <==    Updates: 0
2023-05-13 01:16:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38031724675993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 01:16:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38031745647513600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:16:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031745647513600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:16:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031745647513600 [0;39m ==> Parameters: 
2023-05-13 01:16:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031745647513600 [0;39m <==    Updates: 1
2023-05-13 01:16:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38031745647513600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:16:09.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:16:12.038 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:16:14.067 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:16:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38031871472439296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:16:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031871472439296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:16:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031871472439296 [0;39m ==> Parameters: 
2023-05-13 01:16:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031871472439296 [0;39m <==    Updates: 1
2023-05-13 01:16:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38031871472439296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:16:38.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:16:39.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:16:42.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:16:44.229 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38031976300679168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:17:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38031976300679168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:17:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38031976300679168 [0;39m ==> Parameters: 
2023-05-13 01:17:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38031976300679168 [0;39m <==    Updates: 0
2023-05-13 01:17:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38031976300679168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-13 01:17:00.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:02.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38031997268004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:17:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031997268004864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:17:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031997268004864 [0;39m ==> Parameters: 
2023-05-13 01:17:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031997268004864 [0;39m <==    Updates: 1
2023-05-13 01:17:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38031997268004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:17:07.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:09.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:10.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:12.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:26.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032123076153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:17:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032123076153344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:17:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032123076153344 [0;39m ==> Parameters: 
2023-05-13 01:17:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032123076153344 [0;39m <==    Updates: 1
2023-05-13 01:17:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032123076153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:17:39.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:42.106 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:48.452 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:50.476 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38032228005056512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:18:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032228005056512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:18:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032228005056512 [0;39m ==> Parameters: 
2023-05-13 01:18:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032228005056512 [0;39m <==    Updates: 0
2023-05-13 01:18:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38032228005056512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:18:01.540 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šM8Dw5mnEPMï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 01:18:02.118 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šihgIF5emRRï¼Œsession idï¼š1ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 01:18:02.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032237031198720 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:18:02.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032237031198720 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:18:02.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032237031198720 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:18:02.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032237031198720 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:18:02.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032237031198720 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:18:02.172 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032237031198720 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:18:02.173 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032237031198720 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:18:02.174 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:18:02.174 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 62, 5
2023-05-13 01:18:02.174 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:18:02.176 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:18:02.176 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:18:02.177 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:18:02.177 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:18:02.177 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:18:02.178 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:18:02.179 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032237031198720 [0;39m <==      Total: 8
2023-05-13 01:18:02.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032237031198720 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":62,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:18:02.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032237031198720 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 01:18:02.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032237228331008 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:18:02.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032237228331008 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:18:02.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032237228331008 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:18:02.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032237228331008 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:18:02.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032237228331008 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:18:02.219 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032237228331008 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:18:02.219 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032237228331008 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:18:02.222 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032237228331008 [0;39m <==    Columns: id, content
2023-05-13 01:18:02.222 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032237228331008 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:18:02.223 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032237228331008 [0;39m <==      Total: 1
2023-05-13 01:18:02.224 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032237228331008 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:18:02.224 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032237228331008 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:18:02.226 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032237228331008 [0;39m <==    Updates: 1
2023-05-13 01:18:02.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032237228331008 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:18:02.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032237228331008 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 01:18:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032248963993600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:18:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032248963993600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:18:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032248963993600 [0;39m ==> Parameters: 
2023-05-13 01:18:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032248963993600 [0;39m <==    Updates: 1
2023-05-13 01:18:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032248963993600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-13 01:18:07.962 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:09.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:14.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:16.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032374776336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032374776336384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032374776336384 [0;39m ==> Parameters: 
2023-05-13 01:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032374776336384 [0;39m <==    Updates: 1
2023-05-13 01:18:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032374776336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-13 01:18:37.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:39.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:42.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:44.098 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:44.264 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032413586231296 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:18:44.264 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032413586231296 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:18:44.264 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032413586231296 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:18:44.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032413586231296 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:18:44.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032413586231296 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:18:44.266 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032413586231296 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:18:44.267 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032413586231296 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:18:44.268 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:18:44.268 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 63, 5
2023-05-13 01:18:44.268 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:18:44.269 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:18:44.269 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:18:44.270 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:18:44.270 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:18:44.270 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:18:44.271 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:18:44.271 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032413586231296 [0;39m <==      Total: 8
2023-05-13 01:18:44.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032413586231296 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":63,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:18:44.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032413586231296 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:18:44.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032414508978176 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:18:44.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032414508978176 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:18:44.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032414508978176 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:18:44.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032414508978176 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:18:44.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032414508978176 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:18:44.487 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032414508978176 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:18:44.488 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032414508978176 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:18:44.491 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032414508978176 [0;39m <==    Columns: id, content
2023-05-13 01:18:44.492 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032414508978176 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:18:44.493 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032414508978176 [0;39m <==      Total: 1
2023-05-13 01:18:44.495 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032414508978176 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:18:44.496 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032414508978176 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:18:44.499 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032414508978176 [0;39m <==    Updates: 1
2023-05-13 01:18:44.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032414508978176 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:18:44.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032414508978176 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-13 01:19:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38032479608770560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:19:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032479608770560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:19:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032479608770560 [0;39m ==> Parameters: 
2023-05-13 01:19:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032479608770560 [0;39m <==    Updates: 0
2023-05-13 01:19:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38032479608770560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 01:19:05.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032500647399424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:19:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032500647399424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:19:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032500647399424 [0;39m ==> Parameters: 
2023-05-13 01:19:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032500647399424 [0;39m <==    Updates: 1
2023-05-13 01:19:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032500647399424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:19:06.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:10.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:12.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:28.167 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:30.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032626430382080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:19:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032626430382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:19:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032626430382080 [0;39m ==> Parameters: 
2023-05-13 01:19:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032626430382080 [0;39m <==    Updates: 1
2023-05-13 01:19:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032626430382080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:19:37.990 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:39.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:40.027 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:42.066 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:48.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032684823482368 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:19:48.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032684823482368 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:19:48.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032684823482368 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:19:48.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032684823482368 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:19:48.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032684823482368 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:19:48.935 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032684823482368 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:19:48.935 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032684823482368 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:19:48.936 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:19:48.937 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 64, 5
2023-05-13 01:19:48.937 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:19:48.937 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:19:48.938 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:19:48.938 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:19:48.938 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:19:48.939 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:19:48.939 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:19:48.939 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032684823482368 [0;39m <==      Total: 8
2023-05-13 01:19:48.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032684823482368 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":64,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:19:48.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032684823482368 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:19:48.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032685096112128 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:19:48.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032685096112128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:19:48.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032685096112128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:19:48.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032685096112128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:19:48.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032685096112128 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:19:48.999 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032685096112128 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:19:48.999 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032685096112128 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:19:49.000 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032685096112128 [0;39m <==    Columns: id, content
2023-05-13 01:19:49.000 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032685096112128 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:19:49.001 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032685096112128 [0;39m <==      Total: 1
2023-05-13 01:19:49.001 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032685096112128 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:19:49.002 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032685096112128 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:19:49.004 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032685096112128 [0;39m <==    Updates: 1
2023-05-13 01:19:49.004 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032685096112128 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:19:49.004 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032685096112128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:19:50.385 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šihgIF5emRRï¼Œsession idï¼š1ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 01:19:52.029 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š5PkUQIV8hHï¼Œsession idï¼š2ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 01:19:52.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032698228477952 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:19:52.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032698228477952 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:19:52.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032698228477952 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:19:52.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032698228477952 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:19:52.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032698228477952 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:19:52.131 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032698228477952 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:19:52.131 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032698228477952 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:19:52.133 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:19:52.133 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 65, 5
2023-05-13 01:19:52.134 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:19:52.135 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:19:52.135 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:19:52.135 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:19:52.136 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:19:52.136 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:19:52.136 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:19:52.137 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032698228477952 [0;39m <==      Total: 8
2023-05-13 01:19:52.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032698228477952 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":65,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:19:52.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032698228477952 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:19:52.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032698513690624 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:19:52.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032698513690624 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:19:52.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032698513690624 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:19:52.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032698513690624 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:19:52.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032698513690624 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:19:52.198 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032698513690624 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:19:52.199 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032698513690624 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:19:52.200 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032698513690624 [0;39m <==    Columns: id, content
2023-05-13 01:19:52.200 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032698513690624 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:19:52.200 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032698513690624 [0;39m <==      Total: 1
2023-05-13 01:19:52.201 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032698513690624 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:19:52.201 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032698513690624 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:19:52.207 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032698513690624 [0;39m <==    Updates: 1
2023-05-13 01:19:52.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032698513690624 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:19:52.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032698513690624 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 01:19:54.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38032731321536512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:20:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032731321536512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:20:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032731321536512 [0;39m ==> Parameters: 
2023-05-13 01:20:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032731321536512 [0;39m <==    Updates: 0
2023-05-13 01:20:00.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38032731321536512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 01:20:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032752221753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:20:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032752221753344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:20:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032752221753344 [0;39m ==> Parameters: 
2023-05-13 01:20:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032752221753344 [0;39m <==    Updates: 1
2023-05-13 01:20:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032752221753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 01:20:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:10.022 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:12.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:18.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032878113787904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:20:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032878113787904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:20:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032878113787904 [0;39m ==> Parameters: 
2023-05-13 01:20:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032878113787904 [0;39m <==    Updates: 1
2023-05-13 01:20:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032878113787904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:20:37.971 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:39.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:40.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:44.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38032982950416384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032982950416384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032982950416384 [0;39m ==> Parameters: 
2023-05-13 01:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032982950416384 [0;39m <==    Updates: 0
2023-05-13 01:21:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38032982950416384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 01:21:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033003917742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:21:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033003917742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:21:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033003917742080 [0;39m ==> Parameters: 
2023-05-13 01:21:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033003917742080 [0;39m <==    Updates: 1
2023-05-13 01:21:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033003917742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:21:09.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:14.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:32.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033129734279168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:21:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033129734279168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:21:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033129734279168 [0;39m ==> Parameters: 
2023-05-13 01:21:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033129734279168 [0;39m <==    Updates: 1
2023-05-13 01:21:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033129734279168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:21:37.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:39.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:40.000 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:42.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:54.355 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:56.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38033234625433600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:22:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033234625433600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:22:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033234625433600 [0;39m ==> Parameters: 
2023-05-13 01:22:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033234625433600 [0;39m <==    Updates: 0
2023-05-13 01:22:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38033234625433600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-13 01:22:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033255596953600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:22:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033255596953600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:22:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033255596953600 [0;39m ==> Parameters: 
2023-05-13 01:22:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033255596953600 [0;39m <==    Updates: 1
2023-05-13 01:22:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033255596953600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-13 01:22:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:10.037 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:12.069 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:20.464 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033381384130560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:22:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033381384130560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:22:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033381384130560 [0;39m ==> Parameters: 
2023-05-13 01:22:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033381384130560 [0;39m <==    Updates: 1
2023-05-13 01:22:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033381384130560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:22:37.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:39.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:40.006 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:42.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:46.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38033486296256512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:23:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033486296256512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:23:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033486296256512 [0;39m ==> Parameters: 
2023-05-13 01:23:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033486296256512 [0;39m <==    Updates: 0
2023-05-13 01:23:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38033486296256512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:23:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033507255193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:23:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033507255193600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:23:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033507255193600 [0;39m ==> Parameters: 
2023-05-13 01:23:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033507255193600 [0;39m <==    Updates: 1
2023-05-13 01:23:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033507255193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:23:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:12.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:14.069 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033633084313600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033633084313600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033633084313600 [0;39m ==> Parameters: 
2023-05-13 01:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033633084313600 [0;39m <==    Updates: 1
2023-05-13 01:23:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033633084313600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-13 01:23:36.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:38.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:40.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:42.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38033737916747776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:24:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033737916747776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:24:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033737916747776 [0;39m ==> Parameters: 
2023-05-13 01:24:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033737916747776 [0;39m <==    Updates: 0
2023-05-13 01:24:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38033737916747776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:24:00.957 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033758892462080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:24:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033758892462080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:24:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033758892462080 [0;39m ==> Parameters: 
2023-05-13 01:24:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033758892462080 [0;39m <==    Updates: 1
2023-05-13 01:24:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033758892462080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:24:08.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:09.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:10.511 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:12.560 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:25.927 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033884692221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:24:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033884692221952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:24:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033884692221952 [0;39m ==> Parameters: 
2023-05-13 01:24:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033884692221952 [0;39m <==    Updates: 1
2023-05-13 01:24:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033884692221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:24:38.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:39.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:43.018 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:48.094 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:50.497 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38033989600153600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:25:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033989600153600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:25:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033989600153600 [0;39m ==> Parameters: 
2023-05-13 01:25:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033989600153600 [0;39m <==    Updates: 0
2023-05-13 01:25:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38033989600153600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:25:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034010571673600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:25:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034010571673600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:25:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034010571673600 [0;39m ==> Parameters: 
2023-05-13 01:25:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034010571673600 [0;39m <==    Updates: 1
2023-05-13 01:25:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034010571673600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:25:07.994 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:09.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:10.041 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:16.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034136400793600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:25:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034136400793600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:25:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034136400793600 [0;39m ==> Parameters: 
2023-05-13 01:25:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034136400793600 [0;39m <==    Updates: 1
2023-05-13 01:25:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034136400793600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:25:37.969 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:39.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:44.067 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38034241275170816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:26:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034241275170816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:26:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034241275170816 [0;39m ==> Parameters: 
2023-05-13 01:26:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034241275170816 [0;39m <==    Updates: 0
2023-05-13 01:26:00.029 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38034241275170816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 01:26:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034262204747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:26:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034262204747776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:26:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034262204747776 [0;39m ==> Parameters: 
2023-05-13 01:26:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034262204747776 [0;39m <==    Updates: 1
2023-05-13 01:26:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034262204747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:26:08.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:09.588 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:11.131 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:13.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:15.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:33.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034388000313344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:26:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034388000313344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:26:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034388000313344 [0;39m ==> Parameters: 
2023-05-13 01:26:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034388000313344 [0;39m <==    Updates: 1
2023-05-13 01:26:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034388000313344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:26:39.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:40.620 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:42.840 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:58.051 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:27:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38034492866301952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:27:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034492866301952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:27:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034492866301952 [0;39m ==> Parameters: 
2023-05-13 01:27:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034492866301952 [0;39m <==    Updates: 0
2023-05-13 01:27:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38034492866301952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:27:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034513842016256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:27:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034513842016256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:27:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034513842016256 [0;39m ==> Parameters: 
2023-05-13 01:27:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034513842016256 [0;39m <==    Updates: 1
2023-05-13 01:27:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034513842016256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:27:08.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:27:09.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:27:13.081 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:27:22.381 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:27:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034639708884992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:27:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034639708884992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:27:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034639708884992 [0;39m ==> Parameters: 
2023-05-13 01:27:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034639708884992 [0;39m <==    Updates: 1
2023-05-13 01:27:35.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034639708884992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 01:27:39.379 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:27:47.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:28:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38034744532930560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:28:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034744532930560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:28:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034744532930560 [0;39m ==> Parameters: 
2023-05-13 01:28:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034744532930560 [0;39m <==    Updates: 0
2023-05-13 01:28:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38034744532930560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:28:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034765525422080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:28:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034765525422080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:28:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034765525422080 [0;39m ==> Parameters: 
2023-05-13 01:28:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034765525422080 [0;39m <==    Updates: 1
2023-05-13 01:28:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034765525422080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:28:09.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:28:14.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:28:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034891341959168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:28:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034891341959168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:28:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034891341959168 [0;39m ==> Parameters: 
2023-05-13 01:28:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034891341959168 [0;39m <==    Updates: 1
2023-05-13 01:28:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034891341959168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 01:28:39.428 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:28:44.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38034996186976256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:29:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034996186976256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:29:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034996186976256 [0;39m ==> Parameters: 
2023-05-13 01:29:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034996186976256 [0;39m <==    Updates: 0
2023-05-13 01:29:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38034996186976256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 01:29:04.928 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035017166884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:29:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035017166884864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:29:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035017166884864 [0;39m ==> Parameters: 
2023-05-13 01:29:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035017166884864 [0;39m <==    Updates: 1
2023-05-13 01:29:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035017166884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:29:09.580 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:12.603 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:29.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035142996004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:29:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035142996004864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:29:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035142996004864 [0;39m ==> Parameters: 
2023-05-13 01:29:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035142996004864 [0;39m <==    Updates: 1
2023-05-13 01:29:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035142996004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 01:29:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:42.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:53.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38035247845216256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:30:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035247845216256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:30:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035247845216256 [0;39m ==> Parameters: 
2023-05-13 01:30:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035247845216256 [0;39m <==    Updates: 0
2023-05-13 01:30:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38035247845216256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:30:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035268846096384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:30:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035268846096384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:30:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035268846096384 [0;39m ==> Parameters: 
2023-05-13 01:30:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035268846096384 [0;39m <==    Updates: 1
2023-05-13 01:30:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035268846096384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:30:09.641 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:13.036 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:15.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:17.463 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035394679410688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:30:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035394679410688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:30:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035394679410688 [0;39m ==> Parameters: 
2023-05-13 01:30:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035394679410688 [0;39m <==    Updates: 1
2023-05-13 01:30:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035394679410688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:30:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:42.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:44.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38035499520233472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:31:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035499520233472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:31:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035499520233472 [0;39m ==> Parameters: 
2023-05-13 01:31:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035499520233472 [0;39m <==    Updates: 0
2023-05-13 01:31:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38035499520233472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:31:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035520487559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:31:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035520487559168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:31:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035520487559168 [0;39m ==> Parameters: 
2023-05-13 01:31:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035520487559168 [0;39m <==    Updates: 1
2023-05-13 01:31:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035520487559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:31:06.433 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:12.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:33.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035646320873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:31:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035646320873472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:31:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035646320873472 [0;39m ==> Parameters: 
2023-05-13 01:31:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035646320873472 [0;39m <==    Updates: 1
2023-05-13 01:31:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035646320873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 01:31:39.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:40.024 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:42.067 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:57.632 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38035751207833600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:32:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035751207833600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:32:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035751207833600 [0;39m ==> Parameters: 
2023-05-13 01:32:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035751207833600 [0;39m <==    Updates: 0
2023-05-13 01:32:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38035751207833600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:32:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035772170964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:32:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035772170964992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:32:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035772170964992 [0;39m ==> Parameters: 
2023-05-13 01:32:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035772170964992 [0;39m <==    Updates: 1
2023-05-13 01:32:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035772170964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:32:09.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:12.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:19.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:21.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035897987502080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:32:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035897987502080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:32:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035897987502080 [0;39m ==> Parameters: 
2023-05-13 01:32:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035897987502080 [0;39m <==    Updates: 1
2023-05-13 01:32:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035897987502080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:32:39.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:42.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:44.085 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:46.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38036002819936256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:33:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036002819936256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:33:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036002819936256 [0;39m ==> Parameters: 
2023-05-13 01:33:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036002819936256 [0;39m <==    Updates: 0
2023-05-13 01:33:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38036002819936256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:33:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036023791456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:33:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036023791456256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:33:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036023791456256 [0;39m ==> Parameters: 
2023-05-13 01:33:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036023791456256 [0;39m <==    Updates: 1
2023-05-13 01:33:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036023791456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:33:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:12.051 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:14.085 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036149666713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:33:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036149666713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:33:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036149666713600 [0;39m ==> Parameters: 
2023-05-13 01:33:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036149666713600 [0;39m <==    Updates: 1
2023-05-13 01:33:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036149666713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:33:39.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:40.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:42.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:50.951 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38032413586231296 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 01:33:50.953 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38032413586231296 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š1 ms -------------
2023-05-13 01:33:50.979 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38032414508978176 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 01:33:50.980 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38032414508978176 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-13 01:33:50.980 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38032414508978176 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38031679427842048
2023-05-13 01:33:50.985 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38032414508978176 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38031679427842048"}
2023-05-13 01:33:51.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036216813326336 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:51.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036216813326336 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-13 01:33:51.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036216813326336 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-13 01:33:51.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036216813326336 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:51.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036216813326336 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-13 01:33:51.090 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38036216813326336 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-13 01:33:51.090 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38036216813326336 [0;39m ==> Parameters: 
2023-05-13 01:33:51.094 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38036216813326336 [0;39m <==    Columns: count(0)
2023-05-13 01:33:51.095 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38036216813326336 [0;39m <==        Row: 6
2023-05-13 01:33:51.096 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38036216813326336 [0;39m <==      Total: 1
2023-05-13 01:33:51.099 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38036216813326336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-13 01:33:51.099 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38036216813326336 [0;39m ==> Parameters: 10(Integer)
2023-05-13 01:33:51.100 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 01:33:51.101 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 01:33:51.101 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-13 01:33:51.102 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-13 01:33:51.102 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-13 01:33:51.103 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-13 01:33:51.103 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-13 01:33:51.103 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38036216813326336 [0;39m <==      Total: 6
2023-05-13 01:33:51.105 INFO  com.jiawa.wiki.service.UserService                :50   [32m38036216813326336 [0;39m æ€»è¡Œæ•°ï¼š6
2023-05-13 01:33:51.105 INFO  com.jiawa.wiki.service.UserService                :51   [32m38036216813326336 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:33:51.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036216813326336 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-13 01:33:51.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036216813326336 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š89 ms -------------
2023-05-13 01:33:51.116 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38036216813326336 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š136 ms -------------
2023-05-13 01:33:51.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036220437204992 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:51.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036220437204992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:33:51.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036220437204992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:33:51.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036220437204992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:51.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036220437204992 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:51.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036220445593600 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:51.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036220445593600 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:33:51.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036220445593600 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:33:51.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036220445593600 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:51.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036220445593600 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:51.892 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036220437204992 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:33:51.893 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036220437204992 [0;39m ==> Parameters: 
2023-05-13 01:33:51.895 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036220437204992 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:33:51.896 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036220437204992 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:33:51.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036220479148032 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:51.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036220479148032 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:33:51.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036220479148032 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:33:51.898 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036220437204992 [0;39m <==        Row: 2023-05-13, 91, 10, 23, 0
2023-05-13 01:33:51.899 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036220437204992 [0;39m <==      Total: 2
2023-05-13 01:33:51.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036220479148032 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:51.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036220479148032 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:51.900 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036220479148032 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:33:51.901 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036220479148032 [0;39m ==> Parameters: 
2023-05-13 01:33:51.907 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036220479148032 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:33:51.908 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036220479148032 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:33:51.908 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036220479148032 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:33:51.909 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036220479148032 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:33:51.909 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036220479148032 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:33:51.910 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036220479148032 [0;39m <==      Total: 4
2023-05-13 01:33:51.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036220437204992 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":91,"viewIncrease":23,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:33:51.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036220479148032 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:33:51.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036220437204992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š32 ms -------------
2023-05-13 01:33:51.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036220479148032 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-05-13 01:33:51.920 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036220445593600 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:33:51.921 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036220445593600 [0;39m ==> Parameters: 
2023-05-13 01:33:51.930 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:33:51.931 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:33:51.931 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:33:51.931 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:33:51.932 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:33:51.932 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:33:51.932 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:33:51.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:33:51.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:33:51.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:33:51.934 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:33:51.934 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:33:51.934 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:33:51.935 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:33:51.935 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:33:51.936 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:33:51.936 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036220445593600 [0;39m <==      Total: 15
2023-05-13 01:33:51.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036220445593600 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:33:51.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036220445593600 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š55 ms -------------
2023-05-13 01:33:52.682 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38032698513690624 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 01:33:52.683 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38032698513690624 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-13 01:33:52.683 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38032698513690624 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38031679427842048
2023-05-13 01:33:52.696 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38032698513690624 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38031679427842048"}
2023-05-13 01:33:52.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036223834591232 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:52.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036223834591232 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-13 01:33:52.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036223834591232 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-13 01:33:52.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036223834591232 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:52.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036223834591232 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-13 01:33:52.700 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38036223834591232 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-13 01:33:52.700 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38036223834591232 [0;39m ==> Parameters: 
2023-05-13 01:33:52.708 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38036223834591232 [0;39m <==    Columns: count(0)
2023-05-13 01:33:52.708 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38036223834591232 [0;39m <==        Row: 6
2023-05-13 01:33:52.708 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38036223834591232 [0;39m <==      Total: 1
2023-05-13 01:33:52.709 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38036223834591232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-13 01:33:52.709 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38036223834591232 [0;39m ==> Parameters: 10(Integer)
2023-05-13 01:33:52.710 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 01:33:52.710 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 01:33:52.711 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-13 01:33:52.711 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-13 01:33:52.711 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-13 01:33:52.712 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-13 01:33:52.712 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-13 01:33:52.713 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38036223834591232 [0;39m <==      Total: 6
2023-05-13 01:33:52.713 INFO  com.jiawa.wiki.service.UserService                :50   [32m38036223834591232 [0;39m æ€»è¡Œæ•°ï¼š6
2023-05-13 01:33:52.713 INFO  com.jiawa.wiki.service.UserService                :51   [32m38036223834591232 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:33:52.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036223834591232 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-13 01:33:52.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036223834591232 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-13 01:33:52.715 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38036223834591232 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š32 ms -------------
2023-05-13 01:33:53.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036229203300352 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:53.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036229203300352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:33:53.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036229203300352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:33:53.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036229203300352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:53.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036229203300352 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:53.980 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036229203300352 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:33:53.980 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036229203300352 [0;39m ==> Parameters: 
2023-05-13 01:33:53.981 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:33:53.981 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:33:53.983 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:33:53.983 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:33:53.983 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:33:53.984 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:33:53.984 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:33:53.984 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:33:53.984 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:33:53.985 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:33:53.985 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:33:53.985 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:33:53.986 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:33:53.986 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:33:53.986 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:33:53.986 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:33:53.986 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036229203300352 [0;39m <==      Total: 15
2023-05-13 01:33:53.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036229203300352 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:33:53.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036229203300352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 01:33:54.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036229698228224 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:54.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036229698228224 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:33:54.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036229698228224 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:33:54.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036229698228224 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:54.099 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036229698228224 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-13 01:33:54.112 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036229698228224 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-13 01:33:54.115 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036229698228224 [0;39m ==> Parameters: 
2023-05-13 01:33:54.121 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036229698228224 [0;39m <==    Columns: count(0)
2023-05-13 01:33:54.123 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036229698228224 [0;39m <==        Row: 5
2023-05-13 01:33:54.123 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036229698228224 [0;39m <==      Total: 1
2023-05-13 01:33:54.124 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036229698228224 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-13 01:33:54.124 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036229698228224 [0;39m ==> Parameters: 10(Integer)
2023-05-13 01:33:54.125 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036229698228224 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:33:54.126 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036229698228224 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 91, 10
2023-05-13 01:33:54.126 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036229698228224 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:33:54.127 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036229698228224 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:33:54.127 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036229698228224 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:33:54.127 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036229698228224 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:33:54.127 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036229698228224 [0;39m <==      Total: 5
2023-05-13 01:33:54.128 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036229698228224 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-13 01:33:54.128 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036229698228224 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:33:54.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036229698228224 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":91,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-13 01:33:54.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036229698228224 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š53 ms -------------
2023-05-13 01:33:54.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036231342395392 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:54.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036231342395392 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:33:54.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036231342395392 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:33:54.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036231342395392 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:54.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036231342395392 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:54.489 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036231342395392 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:33:54.489 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036231346589696 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:54.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036231346589696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:33:54.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036231346589696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:33:54.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036231346589696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:54.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036231346589696 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:54.492 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036231342395392 [0;39m ==> Parameters: 
2023-05-13 01:33:54.493 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036231342395392 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:33:54.494 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036231342395392 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:33:54.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036231367561216 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:54.494 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036231342395392 [0;39m <==        Row: 2023-05-13, 91, 10, 23, 0
2023-05-13 01:33:54.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036231367561216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:33:54.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036231367561216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:33:54.494 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036231342395392 [0;39m <==      Total: 2
2023-05-13 01:33:54.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036231367561216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:54.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036231342395392 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":91,"viewIncrease":23,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:33:54.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036231342395392 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:33:54.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036231367561216 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:54.498 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036231346589696 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:33:54.499 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036231367561216 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:33:54.499 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036231346589696 [0;39m ==> Parameters: 
2023-05-13 01:33:54.499 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036231367561216 [0;39m ==> Parameters: 
2023-05-13 01:33:54.500 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:33:54.501 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:33:54.501 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036231346589696 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:33:54.501 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:33:54.501 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036231346589696 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:33:54.501 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:33:54.501 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036231346589696 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:33:54.501 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:33:54.502 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036231346589696 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:33:54.502 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:33:54.502 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036231346589696 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:33:54.502 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:33:54.502 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036231346589696 [0;39m <==      Total: 4
2023-05-13 01:33:54.502 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:33:54.502 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:33:54.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036231346589696 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:33:54.503 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:33:54.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036231346589696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 01:33:54.503 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:33:54.503 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:33:54.503 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:33:54.505 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:33:54.505 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:33:54.505 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:33:54.505 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036231367561216 [0;39m <==      Total: 15
2023-05-13 01:33:54.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036231367561216 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:33:54.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036231367561216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 01:33:57.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036242205642752 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:57.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036242205642752 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:33:57.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036242205642752 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:33:57.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036242205642752 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:57.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036242205642752 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":401,"page":1,"size":1000}]
2023-05-13 01:33:57.100 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036242205642752 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:33:57.102 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036242205642752 [0;39m ==> Parameters: 401(Long)
2023-05-13 01:33:57.103 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036242205642752 [0;39m <==    Columns: count(0)
2023-05-13 01:33:57.104 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036242205642752 [0;39m <==        Row: 1
2023-05-13 01:33:57.104 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036242205642752 [0;39m <==      Total: 1
2023-05-13 01:33:57.105 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036242205642752 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 01:33:57.106 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036242205642752 [0;39m ==> Parameters: 401(Long), 1000(Integer)
2023-05-13 01:33:57.107 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036242205642752 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:33:57.107 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036242205642752 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:33:57.107 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036242205642752 [0;39m <==      Total: 1
2023-05-13 01:33:57.107 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036242205642752 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 01:33:57.108 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036242205642752 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:33:57.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036242205642752 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-13 01:33:57.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036242205642752 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š31 ms -------------
2023-05-13 01:33:58.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036247058452480 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:58.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036247058452480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:33:58.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036247058452480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:33:58.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036247058452480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:58.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036247058452480 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-13 01:33:58.240 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036247058452480 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:33:58.241 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036247058452480 [0;39m ==> Parameters: 202(Long)
2023-05-13 01:33:58.242 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036247058452480 [0;39m <==    Columns: count(0)
2023-05-13 01:33:58.243 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036247058452480 [0;39m <==        Row: 1
2023-05-13 01:33:58.243 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036247058452480 [0;39m <==      Total: 1
2023-05-13 01:33:58.244 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036247058452480 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 01:33:58.245 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036247058452480 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-13 01:33:58.247 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036247058452480 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:33:58.247 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036247058452480 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 91, 10
2023-05-13 01:33:58.248 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036247058452480 [0;39m <==      Total: 1
2023-05-13 01:33:58.248 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036247058452480 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 01:33:58.248 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036247058452480 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:33:58.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036247058452480 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":91,"voteCount":10}],"total":1},"success":true}
2023-05-13 01:33:58.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036247058452480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 01:34:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38036254465593344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:34:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036254465593344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:34:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036254465593344 [0;39m ==> Parameters: 
2023-05-13 01:34:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036254465593344 [0;39m <==    Updates: 0
2023-05-13 01:34:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38036254465593344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:34:01.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036262044700672 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036262044700672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:34:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036262044700672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:34:01.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036262044700672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:01.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036262044700672 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:34:01.810 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036262044700672 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:34:01.810 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036262044700672 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:34:01.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:34:01.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 66, 5
2023-05-13 01:34:01.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:34:01.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:34:01.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:34:01.812 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:34:01.812 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:34:01.813 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:34:01.813 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:34:01.813 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036262044700672 [0;39m <==      Total: 8
2023-05-13 01:34:01.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036262044700672 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":66,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:34:01.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036262044700672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:34:01.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036262145363968 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:01.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036262145363968 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:34:01.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036262145363968 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:34:01.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036262145363968 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:01.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036262145363968 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:34:01.835 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38036262145363968 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:34:01.836 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38036262145363968 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:34:01.837 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38036262145363968 [0;39m <==    Columns: id, content
2023-05-13 01:34:01.837 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38036262145363968 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:34:01.837 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38036262145363968 [0;39m <==      Total: 1
2023-05-13 01:34:01.838 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38036262145363968 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:34:01.838 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38036262145363968 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:34:01.841 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38036262145363968 [0;39m <==    Updates: 1
2023-05-13 01:34:01.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036262145363968 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:34:01.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036262145363968 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:34:03.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036275491639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:34:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036275491639296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:34:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036275491639296 [0;39m ==> Parameters: 
2023-05-13 01:34:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036275491639296 [0;39m <==    Updates: 1
2023-05-13 01:34:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036275491639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:34:06.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036279945990144 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:06.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036279945990144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:34:06.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036279945990144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:34:06.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036279945990144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:06.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036279945990144 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:06.078 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036279945990144 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:34:06.078 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036279945990144 [0;39m ==> Parameters: 
2023-05-13 01:34:06.080 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036279945990144 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:34:06.080 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036279945990144 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:34:06.081 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036279945990144 [0;39m <==        Row: 2023-05-13, 91, 10, 23, 0
2023-05-13 01:34:06.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036279966961664 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:06.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036279966961664 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:34:06.081 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036279945990144 [0;39m <==      Total: 2
2023-05-13 01:34:06.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036279966961664 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:34:06.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036279945990144 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":91,"viewIncrease":23,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:34:06.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036279945990144 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:34:06.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036279971155968 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:06.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036279971155968 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:34:06.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036279971155968 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:34:06.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036279971155968 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:06.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036279971155968 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:06.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036279966961664 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:06.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036279966961664 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:06.083 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036279971155968 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:34:06.083 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036279971155968 [0;39m ==> Parameters: 
2023-05-13 01:34:06.083 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036279966961664 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:34:06.084 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036279966961664 [0;39m ==> Parameters: 
2023-05-13 01:34:06.084 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036279971155968 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:34:06.084 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036279971155968 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:34:06.084 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:34:06.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:34:06.085 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036279971155968 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:34:06.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:34:06.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:34:06.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:34:06.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:34:06.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:34:06.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:34:06.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:34:06.086 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036279971155968 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:34:06.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:34:06.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:34:06.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:34:06.087 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036279971155968 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:34:06.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:34:06.087 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036279971155968 [0;39m <==      Total: 4
2023-05-13 01:34:06.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:34:06.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:34:06.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036279971155968 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:34:06.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:34:06.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036279971155968 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:34:06.088 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036279966961664 [0;39m <==      Total: 15
2023-05-13 01:34:06.088 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036279966961664 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:34:06.088 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036279966961664 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:34:07.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036284194820096 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:07.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036284194820096 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:34:07.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036284194820096 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:34:07.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036284194820096 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:07.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036284194820096 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-13 01:34:07.093 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036284194820096 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:34:07.094 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036284194820096 [0;39m ==> Parameters: 201(Long)
2023-05-13 01:34:07.095 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036284194820096 [0;39m <==    Columns: count(0)
2023-05-13 01:34:07.096 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036284194820096 [0;39m <==        Row: 0
2023-05-13 01:34:07.096 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036284194820096 [0;39m <==      Total: 1
2023-05-13 01:34:07.096 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036284194820096 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-13 01:34:07.097 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036284194820096 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-13 01:34:07.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036284194820096 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-13 01:34:07.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036284194820096 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:34:07.721 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036286845620224 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:07.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036286845620224 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:34:07.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036286845620224 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:34:07.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036286845620224 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:07.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036286845620224 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-13 01:34:07.726 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036286845620224 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:34:07.727 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036286845620224 [0;39m ==> Parameters: 102(Long)
2023-05-13 01:34:07.728 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036286845620224 [0;39m <==    Columns: count(0)
2023-05-13 01:34:07.728 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036286845620224 [0;39m <==        Row: 0
2023-05-13 01:34:07.728 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036286845620224 [0;39m <==      Total: 1
2023-05-13 01:34:07.729 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036286845620224 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-13 01:34:07.729 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036286845620224 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-13 01:34:07.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036286845620224 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-13 01:34:07.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036286845620224 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:34:08.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036289236373504 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:08.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036289236373504 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:34:08.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036289236373504 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:34:08.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036289236373504 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:08.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036289236373504 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-13 01:34:08.298 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036289236373504 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:34:08.299 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036289236373504 [0;39m ==> Parameters: 101(Long)
2023-05-13 01:34:08.300 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036289236373504 [0;39m <==    Columns: count(0)
2023-05-13 01:34:08.300 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036289236373504 [0;39m <==        Row: 1
2023-05-13 01:34:08.301 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036289236373504 [0;39m <==      Total: 1
2023-05-13 01:34:08.301 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036289236373504 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 01:34:08.302 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036289236373504 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-13 01:34:08.303 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036289236373504 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:34:08.303 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036289236373504 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:34:08.303 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036289236373504 [0;39m <==      Total: 1
2023-05-13 01:34:08.304 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036289236373504 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 01:34:08.304 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036289236373504 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:34:08.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036289236373504 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-13 01:34:08.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036289236373504 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 01:34:09.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036292902195200 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:09.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036292902195200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/2 GET
2023-05-13 01:34:09.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036292902195200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:34:09.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036292902195200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:09.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036292902195200 [0;39m è¯·æ±‚å‚æ•°: [2]
2023-05-13 01:34:09.168 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036292902195200 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:34:09.169 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036292902195200 [0;39m ==> Parameters: 2(Long)
2023-05-13 01:34:09.170 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036292902195200 [0;39m <==      Total: 0
2023-05-13 01:34:09.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036292902195200 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-13 01:34:09.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036292902195200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:34:09.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:10.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036297759199232 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:10.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036297759199233 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:10.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036297759199233 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:34:10.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036297759199233 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:34:10.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036297759199233 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:10.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036297759199233 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:10.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036297759199232 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:34:10.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036297759199232 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:34:10.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036297759199232 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:10.326 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036297759199233 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:34:10.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036297759199232 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:10.326 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036297759199233 [0;39m ==> Parameters: 
2023-05-13 01:34:10.327 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036297759199233 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:34:10.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036297759199233 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:34:10.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036297759199233 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:34:10.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036297759199233 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:34:10.329 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036297759199233 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:34:10.329 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036297759199232 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:34:10.329 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036297759199233 [0;39m <==      Total: 4
2023-05-13 01:34:10.329 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036297759199232 [0;39m ==> Parameters: 
2023-05-13 01:34:10.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036297759199233 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:34:10.330 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036297759199232 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:34:10.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036297759199233 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:34:10.330 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036297759199232 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:34:10.330 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036297759199232 [0;39m <==        Row: 2023-05-13, 91, 10, 23, 0
2023-05-13 01:34:10.331 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036297759199232 [0;39m <==      Total: 2
2023-05-13 01:34:10.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036297759199232 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":91,"viewIncrease":23,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:34:10.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036297759199232 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:34:10.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036297801142272 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:10.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036297801142272 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:34:10.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036297801142272 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:34:10.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036297801142272 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:10.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036297801142272 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:10.334 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036297801142272 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:34:10.334 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036297801142272 [0;39m ==> Parameters: 
2023-05-13 01:34:10.335 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:34:10.336 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:34:10.336 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:34:10.336 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:34:10.336 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:34:10.336 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:34:10.337 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:34:10.337 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:34:10.337 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:34:10.337 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:34:10.338 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:34:10.338 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:34:10.338 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:34:10.339 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:34:10.339 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:34:10.339 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:34:10.339 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036297801142272 [0;39m <==      Total: 15
2023-05-13 01:34:10.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036297801142272 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:34:10.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036297801142272 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:34:11.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036301651513344 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:11.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036301651513344 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:34:11.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036301651513344 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:34:11.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036301651513344 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:11.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036301651513344 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:11.252 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036301651513344 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:34:11.253 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036301651513344 [0;39m ==> Parameters: 
2023-05-13 01:34:11.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:34:11.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:34:11.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:34:11.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:34:11.255 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:34:11.255 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:34:11.255 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:34:11.255 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:34:11.256 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:34:11.256 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:34:11.256 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:34:11.256 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:34:11.256 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:34:11.257 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:34:11.257 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:34:11.257 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:34:11.257 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036301651513344 [0;39m <==      Total: 15
2023-05-13 01:34:11.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036301651513344 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:34:11.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036301651513344 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:34:11.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036301919948800 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:11.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036301919948800 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:34:11.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036301919948800 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:34:11.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036301919948800 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:11.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036301919948800 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-13 01:34:11.319 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036301919948800 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-13 01:34:11.319 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036301919948800 [0;39m ==> Parameters: 
2023-05-13 01:34:11.321 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036301919948800 [0;39m <==    Columns: count(0)
2023-05-13 01:34:11.321 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036301919948800 [0;39m <==        Row: 5
2023-05-13 01:34:11.321 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036301919948800 [0;39m <==      Total: 1
2023-05-13 01:34:11.322 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036301919948800 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-13 01:34:11.322 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036301919948800 [0;39m ==> Parameters: 10(Integer)
2023-05-13 01:34:11.323 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036301919948800 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:34:11.324 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036301919948800 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 92, 10
2023-05-13 01:34:11.324 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036301919948800 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:34:11.324 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036301919948800 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:34:11.325 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036301919948800 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:34:11.325 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036301919948800 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:34:11.325 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036301919948800 [0;39m <==      Total: 5
2023-05-13 01:34:11.325 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036301919948800 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-13 01:34:11.326 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036301919948800 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:34:11.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036301919948800 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":92,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-13 01:34:11.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036301919948800 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 01:34:12.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:14.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036314192482305 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:14.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036314192482305 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:34:14.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036314192482305 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:34:14.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036314192482305 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:14.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036314192482304 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:14.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036314192482305 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:14.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036314192482304 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:34:14.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036314192482304 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:34:14.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036314192482304 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:14.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036314192482304 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:14.243 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036314192482305 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:34:14.243 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036314192482305 [0;39m ==> Parameters: 
2023-05-13 01:34:14.243 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036314192482304 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:34:14.243 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036314192482304 [0;39m ==> Parameters: 
2023-05-13 01:34:14.244 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036314192482305 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:34:14.244 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036314192482304 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:34:14.244 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036314192482305 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:34:14.244 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036314192482304 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:34:14.245 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036314192482304 [0;39m <==        Row: 2023-05-13, 91, 10, 23, 0
2023-05-13 01:34:14.245 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036314192482305 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:34:14.245 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036314192482304 [0;39m <==      Total: 2
2023-05-13 01:34:14.245 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036314192482305 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:34:14.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036314192482304 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":91,"viewIncrease":23,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:34:14.245 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036314192482305 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:34:14.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036314192482304 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:34:14.246 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036314192482305 [0;39m <==      Total: 4
2023-05-13 01:34:14.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036314192482305 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:34:14.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036314192482305 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:34:14.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036314221842432 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:14.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036314221842432 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:34:14.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036314221842432 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:34:14.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036314221842432 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:14.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036314221842432 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:14.249 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036314221842432 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:34:14.249 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036314221842432 [0;39m ==> Parameters: 
2023-05-13 01:34:14.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:34:14.251 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:34:14.251 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:34:14.251 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:34:14.252 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:34:14.252 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:34:14.252 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:34:14.252 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:34:14.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:34:14.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:34:14.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:34:14.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:34:14.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:34:14.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:34:14.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:34:14.255 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:34:14.255 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036314221842432 [0;39m <==      Total: 15
2023-05-13 01:34:14.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036314221842432 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:34:14.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036314221842432 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:34:15.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036319410196480 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:15.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036319410196480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:34:15.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036319410196480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:34:15.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036319410196480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:15.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036319410196480 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":301,"page":1,"size":1000}]
2023-05-13 01:34:15.488 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036319410196480 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:34:15.488 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036319410196480 [0;39m ==> Parameters: 301(Long)
2023-05-13 01:34:15.490 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036319410196480 [0;39m <==    Columns: count(0)
2023-05-13 01:34:15.491 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036319410196480 [0;39m <==        Row: 1
2023-05-13 01:34:15.492 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036319410196480 [0;39m <==      Total: 1
2023-05-13 01:34:15.493 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036319410196480 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 01:34:15.494 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036319410196480 [0;39m ==> Parameters: 301(Long), 1000(Integer)
2023-05-13 01:34:15.494 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036319410196480 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:34:15.495 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036319410196480 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:34:15.495 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036319410196480 [0;39m <==      Total: 1
2023-05-13 01:34:15.496 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036319410196480 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 01:34:15.496 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036319410196480 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:34:15.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036319410196480 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-13 01:34:15.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036319410196480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 01:34:16.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036324837625856 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:16.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036324837625856 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/3 GET
2023-05-13 01:34:16.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036324837625856 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:34:16.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036324837625856 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:16.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036324837625856 [0;39m è¯·æ±‚å‚æ•°: [3]
2023-05-13 01:34:16.782 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036324837625856 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:34:16.783 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036324837625856 [0;39m ==> Parameters: 3(Long)
2023-05-13 01:34:16.784 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036324837625856 [0;39m <==      Total: 0
2023-05-13 01:34:16.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036324837625856 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-13 01:34:16.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036324837625856 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:34:27.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036401287204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:34:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036401287204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:34:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036401287204864 [0;39m ==> Parameters: 
2023-05-13 01:34:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036401287204864 [0;39m <==    Updates: 1
2023-05-13 01:34:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036401287204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:34:39.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:42.055 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:50.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:53.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38036506148999168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:35:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036506148999168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:35:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036506148999168 [0;39m ==> Parameters: 
2023-05-13 01:35:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036506148999168 [0;39m <==    Updates: 0
2023-05-13 01:35:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38036506148999168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:35:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036527107936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:35:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036527107936256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:35:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036527107936256 [0;39m ==> Parameters: 
2023-05-13 01:35:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036527107936256 [0;39m <==    Updates: 1
2023-05-13 01:35:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036527107936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:35:07.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:09.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:10.032 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:12.075 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:17.066 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036652953833472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:35:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036652953833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:35:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036652953833472 [0;39m ==> Parameters: 
2023-05-13 01:35:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036652953833472 [0;39m <==    Updates: 1
2023-05-13 01:35:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036652953833472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 01:35:39.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:42.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:44.238 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38036757790461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:36:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036757790461952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:36:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036757790461952 [0;39m ==> Parameters: 
2023-05-13 01:36:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036757790461952 [0;39m <==    Updates: 0
2023-05-13 01:36:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38036757790461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:36:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036778753593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:36:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036778753593344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:36:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036778753593344 [0;39m ==> Parameters: 
2023-05-13 01:36:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036778753593344 [0;39m <==    Updates: 1
2023-05-13 01:36:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036778753593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:36:06.299 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:08.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:09.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:14.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:32.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036904582713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:36:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036904582713344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:36:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036904582713344 [0;39m ==> Parameters: 
2023-05-13 01:36:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036904582713344 [0;39m <==    Updates: 1
2023-05-13 01:36:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036904582713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:36:39.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:40.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:42.048 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:54.468 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:56.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38037009499033600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:37:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037009499033600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:37:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037009499033600 [0;39m ==> Parameters: 
2023-05-13 01:37:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037009499033600 [0;39m <==    Updates: 0
2023-05-13 01:37:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38037009499033600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:37:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037030457970688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:37:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037030457970688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:37:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037030457970688 [0;39m ==> Parameters: 
2023-05-13 01:37:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037030457970688 [0;39m <==    Updates: 1
2023-05-13 01:37:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037030457970688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:37:07.976 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:09.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:10.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:12.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:20.591 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037156287090688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:37:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037156287090688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:37:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037156287090688 [0;39m ==> Parameters: 
2023-05-13 01:37:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037156287090688 [0;39m <==    Updates: 1
2023-05-13 01:37:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037156287090688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:37:37.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:39.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:40.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:42.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:44.085 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:46.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38037261115330560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:38:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037261115330560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:38:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037261115330560 [0;39m ==> Parameters: 
2023-05-13 01:38:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037261115330560 [0;39m <==    Updates: 0
2023-05-13 01:38:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38037261115330560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:38:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037282074267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:38:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037282074267648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:38:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037282074267648 [0;39m ==> Parameters: 
2023-05-13 01:38:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037282074267648 [0;39m <==    Updates: 1
2023-05-13 01:38:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037282074267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:38:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:12.037 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:14.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037407945330688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:38:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037407945330688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:38:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037407945330688 [0;39m ==> Parameters: 
2023-05-13 01:38:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037407945330688 [0;39m <==    Updates: 1
2023-05-13 01:38:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037407945330688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:38:36.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:38.156 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:39.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:42.235 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:44.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38037512777764864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:39:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037512777764864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:39:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037512777764864 [0;39m ==> Parameters: 
2023-05-13 01:39:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037512777764864 [0;39m <==    Updates: 0
2023-05-13 01:39:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38037512777764864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:39:00.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:02.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037533740896256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:39:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037533740896256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:39:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037533740896256 [0;39m ==> Parameters: 
2023-05-13 01:39:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037533740896256 [0;39m <==    Updates: 1
2023-05-13 01:39:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037533740896256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:39:07.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:12.051 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:24.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:26.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037659570016256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:39:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037659570016256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:39:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037659570016256 [0;39m ==> Parameters: 
2023-05-13 01:39:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037659570016256 [0;39m <==    Updates: 1
2023-05-13 01:39:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037659570016256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:39:39.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:40.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:42.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:48.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:50.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38037764440199168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:40:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037764440199168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:40:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037764440199168 [0;39m ==> Parameters: 
2023-05-13 01:40:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037764440199168 [0;39m <==    Updates: 0
2023-05-13 01:40:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38037764440199168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:40:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037785407524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:40:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037785407524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:40:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037785407524864 [0;39m ==> Parameters: 
2023-05-13 01:40:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037785407524864 [0;39m <==    Updates: 1
2023-05-13 01:40:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037785407524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:40:07.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:10.006 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:12.046 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:14.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:16.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037911249227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:40:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037911249227776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:40:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037911249227776 [0;39m ==> Parameters: 
2023-05-13 01:40:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037911249227776 [0;39m <==    Updates: 1
2023-05-13 01:40:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037911249227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:40:37.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:39.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:42.039 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:44.074 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38038016119410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:41:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038016119410688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:41:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038016119410688 [0;39m ==> Parameters: 
2023-05-13 01:41:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038016119410688 [0;39m <==    Updates: 0
2023-05-13 01:41:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38038016119410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:41:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038037082542080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:41:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038037082542080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:41:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038037082542080 [0;39m ==> Parameters: 
2023-05-13 01:41:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038037082542080 [0;39m <==    Updates: 1
2023-05-13 01:41:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038037082542080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:41:08.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:10.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:14.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:30.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:32.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038162899079168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:41:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038162899079168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:41:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038162899079168 [0;39m ==> Parameters: 
2023-05-13 01:41:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038162899079168 [0;39m <==    Updates: 1
2023-05-13 01:41:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038162899079168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:41:39.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:42.038 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:54.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:56.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38038267773456384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:42:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038267773456384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:42:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038267773456384 [0;39m ==> Parameters: 
2023-05-13 01:42:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038267773456384 [0;39m <==    Updates: 0
2023-05-13 01:42:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38038267773456384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:42:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038288715616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:42:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038288715616256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:42:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038288715616256 [0;39m ==> Parameters: 
2023-05-13 01:42:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038288715616256 [0;39m <==    Updates: 1
2023-05-13 01:42:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038288715616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:42:07.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:09.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:12.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:18.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:20.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038414532153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038414532153344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:42:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038414532153344 [0;39m ==> Parameters: 
2023-05-13 01:42:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038414532153344 [0;39m <==    Updates: 1
2023-05-13 01:42:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038414532153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:42:37.985 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:39.186 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:40.019 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:42.057 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:46.134 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:43:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38038519393947648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:43:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038519393947648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:43:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038519393947648 [0;39m ==> Parameters: 
2023-05-13 01:43:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038519393947648 [0;39m <==    Updates: 0
2023-05-13 01:43:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38038519393947648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:43:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038540373856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:43:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038540373856256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:43:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038540373856256 [0;39m ==> Parameters: 
2023-05-13 01:43:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038540373856256 [0;39m <==    Updates: 1
2023-05-13 01:43:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038540373856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:43:09.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:43:12.058 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:43:14.094 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:43:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038666223947776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038666223947776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:43:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038666223947776 [0;39m ==> Parameters: 
2023-05-13 01:43:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038666223947776 [0;39m <==    Updates: 1
2023-05-13 01:43:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038666223947776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:43:38.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:43:39.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:43:44.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38038771094130688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:44:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038771094130688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:44:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038771094130688 [0;39m ==> Parameters: 
2023-05-13 01:44:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038771094130688 [0;39m <==    Updates: 0
2023-05-13 01:44:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38038771094130688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:44:02.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038792048873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:44:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038792048873472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:44:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038792048873472 [0;39m ==> Parameters: 
2023-05-13 01:44:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038792048873472 [0;39m <==    Updates: 1
2023-05-13 01:44:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038792048873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:44:09.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:10.008 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:12.045 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:26.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038917903159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:44:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038917903159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:44:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038917903159296 [0;39m ==> Parameters: 
2023-05-13 01:44:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038917903159296 [0;39m <==    Updates: 1
2023-05-13 01:44:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038917903159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:44:37.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:39.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:40.006 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:42.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:48.368 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:50.408 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38039022731399168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:45:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039022731399168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:45:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039022731399168 [0;39m ==> Parameters: 
2023-05-13 01:45:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039022731399168 [0;39m <==    Updates: 0
2023-05-13 01:45:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38039022731399168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:45:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039043677753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:45:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039043677753344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:45:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039043677753344 [0;39m ==> Parameters: 
2023-05-13 01:45:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039043677753344 [0;39m <==    Updates: 1
2023-05-13 01:45:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039043677753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:45:07.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:10.017 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:12.051 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:14.086 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:16.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039169511067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:45:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039169511067648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:45:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039169511067648 [0;39m ==> Parameters: 
2023-05-13 01:45:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039169511067648 [0;39m <==    Updates: 1
2023-05-13 01:45:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039169511067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:45:37.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:40.020 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:42.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:44.085 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38039274372861952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:46:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039274372861952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:46:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039274372861952 [0;39m ==> Parameters: 
2023-05-13 01:46:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039274372861952 [0;39m <==    Updates: 0
2023-05-13 01:46:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38039274372861952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:46:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039295390519296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:46:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039295390519296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:46:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039295390519296 [0;39m ==> Parameters: 
2023-05-13 01:46:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039295390519296 [0;39m <==    Updates: 1
2023-05-13 01:46:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039295390519296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:46:06.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:08.156 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:09.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:10.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:12.229 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:31.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:33.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039421215444992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:46:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039421215444992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:46:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039421215444992 [0;39m ==> Parameters: 
2023-05-13 01:46:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039421215444992 [0;39m <==    Updates: 1
2023-05-13 01:46:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039421215444992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:46:39.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:42.054 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:55.148 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38036314192482305 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š5PkUQIV8hHï¼Œsession idï¼š2ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 01:46:55.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:57.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:57.761 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38036314221842432 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šgCv6tzLd7Gï¼Œsession idï¼š3ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 01:46:58.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38039517684436992 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:46:58.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38039517684436992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/3 GET
2023-05-13 01:46:58.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38039517684436992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:46:58.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38039517684436992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:46:58.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38039517684436992 [0;39m è¯·æ±‚å‚æ•°: [3]
2023-05-13 01:46:58.016 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38039517684436992 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:46:58.017 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38039517684436992 [0;39m ==> Parameters: 3(Long)
2023-05-13 01:46:58.017 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38039517684436992 [0;39m <==      Total: 0
2023-05-13 01:46:58.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38039517684436992 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-13 01:46:58.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38039517684436992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:47:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38039526047879168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:47:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039526047879168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:47:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039526047879168 [0;39m ==> Parameters: 
2023-05-13 01:47:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039526047879168 [0;39m <==    Updates: 0
2023-05-13 01:47:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38039526047879168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-13 01:47:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039547011010560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:47:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039547011010560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:47:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039547011010560 [0;39m ==> Parameters: 
2023-05-13 01:47:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039547011010560 [0;39m <==    Updates: 1
2023-05-13 01:47:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039547011010560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:47:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:10.073 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:12.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:19.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:21.898 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039672882073600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:47:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039672882073600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:47:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039672882073600 [0;39m ==> Parameters: 
2023-05-13 01:47:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039672882073600 [0;39m <==    Updates: 1
2023-05-13 01:47:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039672882073600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:47:37.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:39.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:42.303 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:44.345 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:46.382 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:48:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38039777697730560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:48:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039777697730560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:48:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039777697730560 [0;39m ==> Parameters: 
2023-05-13 01:48:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039777697730560 [0;39m <==    Updates: 0
2023-05-13 01:48:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38039777697730560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:48:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039798665056256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:48:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039798665056256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:48:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039798665056256 [0;39m ==> Parameters: 
2023-05-13 01:48:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039798665056256 [0;39m <==    Updates: 1
2023-05-13 01:48:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039798665056256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:48:09.306 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:48:12.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:48:14.447 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:48:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039924485787648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:48:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039924485787648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:48:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039924485787648 [0;39m ==> Parameters: 
2023-05-13 01:48:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039924485787648 [0;39m <==    Updates: 1
2023-05-13 01:48:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039924485787648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:48:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:48:42.597 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38040029385330688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:49:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040029385330688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:49:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040029385330688 [0;39m ==> Parameters: 
2023-05-13 01:49:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040029385330688 [0;39m <==    Updates: 0
2023-05-13 01:49:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38040029385330688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 01:49:03.821 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040050310713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:49:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040050310713344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:49:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040050310713344 [0;39m ==> Parameters: 
2023-05-13 01:49:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040050310713344 [0;39m <==    Updates: 1
2023-05-13 01:49:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040050310713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:49:09.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:13.355 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:25.861 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:27.897 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040176181776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:49:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040176181776384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:49:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040176181776384 [0;39m ==> Parameters: 
2023-05-13 01:49:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040176181776384 [0;39m <==    Updates: 1
2023-05-13 01:49:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040176181776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:49:39.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:42.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:49.945 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:52.039 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38040281005821952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:50:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040281005821952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:50:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040281005821952 [0;39m ==> Parameters: 
2023-05-13 01:50:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040281005821952 [0;39m <==    Updates: 0
2023-05-13 01:50:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38040281005821952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:50:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040301977341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:50:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040301977341952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:50:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040301977341952 [0;39m ==> Parameters: 
2023-05-13 01:50:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040301977341952 [0;39m <==    Updates: 1
2023-05-13 01:50:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040301977341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:50:09.451 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:12.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:14.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:16.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:25.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040389327917056 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:50:25.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040389327917056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/3 GET
2023-05-13 01:50:25.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040389327917056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:50:25.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040389327917056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:50:25.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040389327917056 [0;39m è¯·æ±‚å‚æ•°: [3]
2023-05-13 01:50:25.832 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38040389327917056 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:50:25.832 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38040389327917056 [0;39m ==> Parameters: 3(Long)
2023-05-13 01:50:25.833 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38040389327917056 [0;39m <==      Total: 0
2023-05-13 01:50:25.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040389327917056 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-13 01:50:25.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040389327917056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:50:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040427835822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:50:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040427835822080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:50:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040427835822080 [0;39m ==> Parameters: 
2023-05-13 01:50:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040427835822080 [0;39m <==    Updates: 1
2023-05-13 01:50:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040427835822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:50:39.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:42.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:44.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:51:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38040532676644864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:51:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040532676644864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:51:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040532676644864 [0;39m ==> Parameters: 
2023-05-13 01:51:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040532676644864 [0;39m <==    Updates: 0
2023-05-13 01:51:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38040532676644864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:51:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040553635581952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:51:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040553635581952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:51:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040553635581952 [0;39m ==> Parameters: 
2023-05-13 01:51:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040553635581952 [0;39m <==    Updates: 1
2023-05-13 01:51:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040553635581952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:51:09.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:51:12.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:51:33.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:51:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040679456313344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:51:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040679456313344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:51:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040679456313344 [0;39m ==> Parameters: 
2023-05-13 01:51:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040679456313344 [0;39m <==    Updates: 1
2023-05-13 01:51:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040679456313344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:51:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:51:42.056 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:51:57.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38040784326496256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:52:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040784326496256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:52:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040784326496256 [0;39m ==> Parameters: 
2023-05-13 01:52:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040784326496256 [0;39m <==    Updates: 0
2023-05-13 01:52:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38040784326496256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 01:52:05.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040805369319424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:52:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040805369319424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:52:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040805369319424 [0;39m ==> Parameters: 
2023-05-13 01:52:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040805369319424 [0;39m <==    Updates: 1
2023-05-13 01:52:05.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040805369319424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:52:09.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:12.065 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:19.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:21.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:24.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040888328458240 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:24.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040888328458241 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:24.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040888328458241 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:52:24.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040888328458241 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:52:24.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040888328458240 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:52:24.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040888328458241 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:24.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040888328458241 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:52:24.805 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38040888328458241 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:52:24.805 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38040888328458241 [0;39m ==> Parameters: 
2023-05-13 01:52:24.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040888357818368 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:24.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040888357818368 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:52:24.807 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:52:24.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040888357818368 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:52:24.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040888357818368 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:24.807 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:52:24.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040888357818368 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:52:24.807 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:52:24.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040888328458240 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:52:24.809 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:52:24.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040888328458240 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:24.809 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:52:24.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040888328458240 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:52:24.810 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:52:24.811 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:52:24.811 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:52:24.810 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38040888357818368 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:52:24.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:52:24.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:52:24.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:52:24.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:52:24.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:52:24.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:52:24.812 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38040888328458240 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:52:24.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:52:24.812 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38040888357818368 [0;39m ==> Parameters: 
2023-05-13 01:52:24.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:52:24.814 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38040888328458241 [0;39m <==      Total: 15
2023-05-13 01:52:24.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040888328458241 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:52:24.813 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38040888328458240 [0;39m ==> Parameters: 
2023-05-13 01:52:24.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040888328458241 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-13 01:52:24.815 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38040888357818368 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:52:24.815 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38040888357818368 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:52:24.816 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38040888357818368 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:52:24.816 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38040888357818368 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:52:24.817 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38040888328458240 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:52:24.817 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38040888357818368 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:52:24.817 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38040888328458240 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:52:24.817 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38040888357818368 [0;39m <==      Total: 4
2023-05-13 01:52:24.817 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38040888328458240 [0;39m <==        Row: 2023-05-13, 92, 10, 24, 0
2023-05-13 01:52:24.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040888357818368 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:52:24.818 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38040888328458240 [0;39m <==      Total: 2
2023-05-13 01:52:24.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040888357818368 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 01:52:24.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040888328458240 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":92,"viewIncrease":24,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:52:24.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040888328458240 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-13 01:52:26.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040895462969344 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:26.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040895462969344 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:52:26.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040895462969344 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:52:26.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040895462969344 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:26.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040895462969344 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-13 01:52:26.504 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38040895462969344 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:52:26.505 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38040895462969344 [0;39m ==> Parameters: 201(Long)
2023-05-13 01:52:26.505 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38040895462969344 [0;39m <==    Columns: count(0)
2023-05-13 01:52:26.506 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38040895462969344 [0;39m <==        Row: 0
2023-05-13 01:52:26.506 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38040895462969344 [0;39m <==      Total: 1
2023-05-13 01:52:26.506 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38040895462969344 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-13 01:52:26.506 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38040895462969344 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-13 01:52:26.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040895462969344 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-13 01:52:26.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040895462969344 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:52:27.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040897895665664 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:27.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040897895665664 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:52:27.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040897895665664 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:52:27.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040897895665664 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:27.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040897895665664 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-13 01:52:27.086 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38040897895665664 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:52:27.086 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38040897895665664 [0;39m ==> Parameters: 202(Long)
2023-05-13 01:52:27.087 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38040897895665664 [0;39m <==    Columns: count(0)
2023-05-13 01:52:27.087 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38040897895665664 [0;39m <==        Row: 1
2023-05-13 01:52:27.088 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38040897895665664 [0;39m <==      Total: 1
2023-05-13 01:52:27.088 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38040897895665664 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 01:52:27.089 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38040897895665664 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-13 01:52:27.090 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38040897895665664 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:52:27.090 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38040897895665664 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 92, 10
2023-05-13 01:52:27.090 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38040897895665664 [0;39m <==      Total: 1
2023-05-13 01:52:27.090 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38040897895665664 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 01:52:27.091 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38040897895665664 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:52:27.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040897895665664 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":92,"voteCount":10}],"total":1},"success":true}
2023-05-13 01:52:27.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040897895665664 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 01:52:30.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040913041297408 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:30.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040913041297408 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:52:30.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040913041297408 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:52:30.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040913041297408 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:30.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040913041297408 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:52:30.695 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38040913041297408 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:52:30.695 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38040913041297408 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:52:30.697 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:52:30.697 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 67, 5
2023-05-13 01:52:30.698 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:52:30.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:52:30.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:52:30.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:52:30.700 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:52:30.700 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:52:30.701 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:52:30.701 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38040913041297408 [0;39m <==      Total: 8
2023-05-13 01:52:30.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040913041297408 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":67,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:52:30.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040913041297408 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 01:52:31.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040914337337344 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:31.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040914337337344 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:52:31.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040914337337344 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:52:31.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040914337337344 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:31.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040914337337344 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:52:31.002 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38040914337337344 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:52:31.003 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38040914337337344 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:52:31.004 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38040914337337344 [0;39m <==    Columns: id, content
2023-05-13 01:52:31.004 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38040914337337344 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:52:31.005 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38040914337337344 [0;39m <==      Total: 1
2023-05-13 01:52:31.005 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38040914337337344 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:52:31.005 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38040914337337344 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:52:31.009 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38040914337337344 [0;39m <==    Updates: 1
2023-05-13 01:52:31.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040914337337344 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:52:31.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040914337337344 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:52:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040931156496384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:52:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040931156496384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:52:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040931156496384 [0;39m ==> Parameters: 
2023-05-13 01:52:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040931156496384 [0;39m <==    Updates: 1
2023-05-13 01:52:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040931156496384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 01:52:39.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:42.626 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:45.594 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:48.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38041035972153344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:53:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041035972153344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:53:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041035972153344 [0;39m ==> Parameters: 
2023-05-13 01:53:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041035972153344 [0;39m <==    Updates: 0
2023-05-13 01:53:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38041035972153344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:53:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041056964644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:53:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041056964644864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:53:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041056964644864 [0;39m ==> Parameters: 
2023-05-13 01:53:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041056964644864 [0;39m <==    Updates: 1
2023-05-13 01:53:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041056964644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:53:07.988 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:09.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:12.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:14.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041182772793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:53:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041182772793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:53:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041182772793344 [0;39m ==> Parameters: 
2023-05-13 01:53:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041182772793344 [0;39m <==    Updates: 1
2023-05-13 01:53:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041182772793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:53:36.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:39.314 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:42.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38041287684919296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:54:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041287684919296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:54:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041287684919296 [0;39m ==> Parameters: 
2023-05-13 01:54:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041287684919296 [0;39m <==    Updates: 0
2023-05-13 01:54:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38041287684919296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:54:01.888 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:03.931 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041308660633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:54:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041308660633600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:54:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041308660633600 [0;39m ==> Parameters: 
2023-05-13 01:54:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041308660633600 [0;39m <==    Updates: 1
2023-05-13 01:54:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041308660633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:54:09.359 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:12.765 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:26.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:29.597 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:34.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041434120654848 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:54:34.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041434120654848 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:54:34.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041434120654848 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:54:34.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041434120654848 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:54:34.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041434120654848 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:54:34.930 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041434120654848 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:54:34.930 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041434120654848 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:54:34.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:54:34.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 68, 5
2023-05-13 01:54:34.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:54:34.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:54:34.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:54:34.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:54:34.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:54:34.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:54:34.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:54:34.933 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041434120654848 [0;39m <==      Total: 8
2023-05-13 01:54:34.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041434120654848 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":68,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:54:34.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041434120654848 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:54:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041434443616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:54:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041434443616256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:54:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041434443616256 [0;39m ==> Parameters: 
2023-05-13 01:54:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041434443616256 [0;39m <==    Updates: 1
2023-05-13 01:54:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041434443616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:54:35.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041434498142208 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:54:35.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041434498142208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:54:35.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041434498142208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:54:35.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041434498142208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:54:35.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041434498142208 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:54:35.020 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041434498142208 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:54:35.021 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041434498142208 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:54:35.023 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041434498142208 [0;39m <==    Columns: id, content
2023-05-13 01:54:35.023 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041434498142208 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:54:35.023 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041434498142208 [0;39m <==      Total: 1
2023-05-13 01:54:35.024 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041434498142208 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:54:35.024 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041434498142208 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:54:35.027 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041434498142208 [0;39m <==    Updates: 1
2023-05-13 01:54:35.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041434498142208 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:54:35.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041434498142208 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 01:54:39.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:43.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:51.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:53.687 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:55:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38041539326382080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:55:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041539326382080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:55:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041539326382080 [0;39m ==> Parameters: 
2023-05-13 01:55:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041539326382080 [0;39m <==    Updates: 0
2023-05-13 01:55:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38041539326382080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:55:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041560314679296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:55:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041560314679296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:55:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041560314679296 [0;39m ==> Parameters: 
2023-05-13 01:55:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041560314679296 [0;39m <==    Updates: 1
2023-05-13 01:55:05.036 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041560314679296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š22æ¯«ç§’
2023-05-13 01:55:09.583 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:55:12.790 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:55:17.771 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:55:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041686156382208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:55:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041686156382208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:55:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041686156382208 [0;39m ==> Parameters: 
2023-05-13 01:55:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041686156382208 [0;39m <==    Updates: 1
2023-05-13 01:55:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041686156382208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:55:39.559 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:55:44.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38041791001399296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:56:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041791001399296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:56:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041791001399296 [0;39m ==> Parameters: 
2023-05-13 01:56:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041791001399296 [0;39m <==    Updates: 0
2023-05-13 01:56:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38041791001399296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 01:56:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041811977113600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:56:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041811977113600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:56:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041811977113600 [0;39m ==> Parameters: 
2023-05-13 01:56:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041811977113600 [0;39m <==    Updates: 1
2023-05-13 01:56:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041811977113600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:56:08.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041826313244672 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:08.435 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041826313244672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:56:08.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041826313244672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:56:08.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041826313244672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:08.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041826313244672 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:56:08.437 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041826313244672 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:56:08.438 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041826313244672 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:08.439 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:56:08.439 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 69, 5
2023-05-13 01:56:08.440 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:56:08.440 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:56:08.440 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:56:08.441 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:56:08.441 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:56:08.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:56:08.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:56:08.442 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041826313244672 [0;39m <==      Total: 8
2023-05-13 01:56:08.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041826313244672 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":69,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:56:08.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041826313244672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 01:56:08.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041827932246016 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:08.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041827932246016 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:56:08.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041827932246016 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:56:08.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041827932246016 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:08.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041827932246016 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:56:08.821 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041827932246016 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:56:08.823 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041827932246016 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:08.824 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041827932246016 [0;39m <==    Columns: id, content
2023-05-13 01:56:08.824 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041827932246016 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:56:08.825 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041827932246016 [0;39m <==      Total: 1
2023-05-13 01:56:08.825 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041827932246016 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:56:08.825 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041827932246016 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:08.827 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041827932246016 [0;39m <==    Updates: 1
2023-05-13 01:56:08.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041827932246016 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:56:08.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041827932246016 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:56:09.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:13.834 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:26.298 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38040913041297408 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šgCv6tzLd7Gï¼Œsession idï¼š3ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 01:56:31.623 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38040914337337344 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š9LIS1wj8z0ï¼Œsession idï¼š4ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 01:56:32.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041925365927936 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:32.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041925365927936 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:56:32.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041925365927936 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:56:32.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041925365927936 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:32.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041925365927936 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:56:32.053 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041925365927936 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:56:32.054 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041925365927936 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:32.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:56:32.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 70, 5
2023-05-13 01:56:32.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:56:32.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:56:32.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:56:32.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:56:32.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:56:32.057 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:56:32.057 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:56:32.057 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041925365927936 [0;39m <==      Total: 8
2023-05-13 01:56:32.058 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041925365927936 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":70,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:56:32.058 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041925365927936 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:56:32.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041927211421696 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:32.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041927211421696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:56:32.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041927211421696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:56:32.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041927211421696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:32.492 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041927211421696 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:56:32.492 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041927211421696 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:56:32.492 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041927211421696 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:32.493 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041927211421696 [0;39m <==    Columns: id, content
2023-05-13 01:56:32.494 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041927211421696 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:56:32.495 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041927211421696 [0;39m <==      Total: 1
2023-05-13 01:56:32.495 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041927211421696 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:56:32.496 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041927211421696 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:32.498 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041927211421696 [0;39m <==    Updates: 1
2023-05-13 01:56:32.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041927211421696 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:56:32.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041927211421696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:56:32.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:33.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041931258925056 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:33.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041931258925056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:56:33.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041931258925056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:56:33.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041931258925056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:33.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041931258925056 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:56:33.455 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38041931258925056 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:56:33.456 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38041931258925056 [0;39m ==> Parameters: 
2023-05-13 01:56:33.457 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38041931258925056 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:56:33.457 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38041931258925056 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:56:33.457 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38041931258925056 [0;39m <==        Row: 2023-05-13, 94, 10, 26, 0
2023-05-13 01:56:33.457 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38041931258925056 [0;39m <==      Total: 2
2023-05-13 01:56:33.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041931258925056 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":94,"viewIncrease":26,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:56:33.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041931258925056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:56:33.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041931393142784 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:33.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041931393142784 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:56:33.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041931393142784 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:56:33.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041931393142784 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:33.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041931393142784 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:56:33.487 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38041931393142784 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:56:33.488 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38041931393142784 [0;39m ==> Parameters: 
2023-05-13 01:56:33.489 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38041931393142784 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:56:33.489 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38041931393142784 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:56:33.489 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38041931393142784 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:56:33.491 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38041931393142784 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:56:33.491 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38041931393142784 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:56:33.491 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38041931393142784 [0;39m <==      Total: 4
2023-05-13 01:56:33.492 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041931393142784 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:56:33.492 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041931393142784 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:56:33.515 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041931514777600 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:33.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041931514777600 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:56:33.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041931514777600 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:56:33.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041931514777600 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:33.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041931514777600 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:56:33.517 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38041931514777600 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:56:33.517 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38041931514777600 [0;39m ==> Parameters: 
2023-05-13 01:56:33.518 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:56:33.518 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:56:33.519 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:56:33.519 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:56:33.519 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:56:33.519 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:56:33.520 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:56:33.520 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:56:33.520 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:56:33.520 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:56:33.521 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:56:33.521 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:56:33.521 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:56:33.521 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:56:33.522 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:56:33.522 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:56:33.522 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38041931514777600 [0;39m <==      Total: 15
2023-05-13 01:56:33.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041931514777600 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:56:33.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041931514777600 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:56:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041937789456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:56:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041937789456384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:56:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041937789456384 [0;39m ==> Parameters: 
2023-05-13 01:56:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041937789456384 [0;39m <==    Updates: 1
2023-05-13 01:56:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041937789456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:56:35.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:35.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041939819499520 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:35.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041939819499520 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:56:35.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041939819499520 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:56:35.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041939819499520 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:35.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041939819499520 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-13 01:56:35.500 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38041939819499520 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:56:35.500 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38041939819499520 [0;39m ==> Parameters: 201(Long)
2023-05-13 01:56:35.502 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38041939819499520 [0;39m <==    Columns: count(0)
2023-05-13 01:56:35.502 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38041939819499520 [0;39m <==        Row: 0
2023-05-13 01:56:35.502 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38041939819499520 [0;39m <==      Total: 1
2023-05-13 01:56:35.503 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38041939819499520 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-13 01:56:35.503 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38041939819499520 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-13 01:56:35.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041939819499520 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-13 01:56:35.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041939819499520 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:56:36.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041942847787008 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:36.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041942847787008 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:56:36.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041942847787008 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:56:36.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041942847787008 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:36.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041942847787008 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-13 01:56:36.223 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38041942847787008 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:56:36.223 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38041942847787008 [0;39m ==> Parameters: 202(Long)
2023-05-13 01:56:36.224 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38041942847787008 [0;39m <==    Columns: count(0)
2023-05-13 01:56:36.225 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38041942847787008 [0;39m <==        Row: 1
2023-05-13 01:56:36.225 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38041942847787008 [0;39m <==      Total: 1
2023-05-13 01:56:36.225 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38041942847787008 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 01:56:36.225 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38041942847787008 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-13 01:56:36.226 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38041942847787008 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:56:36.226 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38041942847787008 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 96, 10
2023-05-13 01:56:36.228 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38041942847787008 [0;39m <==      Total: 1
2023-05-13 01:56:36.228 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38041942847787008 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 01:56:36.228 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38041942847787008 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:56:36.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041942847787008 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":96,"voteCount":10}],"total":1},"success":true}
2023-05-13 01:56:36.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041942847787008 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-13 01:56:38.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041954495369216 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:38.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041954495369216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:56:38.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041954495369216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:56:38.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041954495369216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:38.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041954495369216 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:56:38.998 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041954495369216 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:56:38.998 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041954495369216 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:38.999 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:56:38.999 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 71, 5
2023-05-13 01:56:39.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:56:39.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:56:39.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:56:39.001 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:56:39.001 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:56:39.001 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:56:39.001 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:56:39.002 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041954495369216 [0;39m <==      Total: 8
2023-05-13 01:56:39.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041954495369216 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":71,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:56:39.003 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041954495369216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:56:39.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041954839302144 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:39.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041954839302144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:56:39.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041954839302144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:56:39.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041954839302144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:39.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041954839302144 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:56:39.078 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041954839302144 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:56:39.079 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041954839302144 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:39.079 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041954839302144 [0;39m <==    Columns: id, content
2023-05-13 01:56:39.079 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041954839302144 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:56:39.080 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041954839302144 [0;39m <==      Total: 1
2023-05-13 01:56:39.080 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041954839302144 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:56:39.080 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041954839302144 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:39.085 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041954839302144 [0;39m <==    Updates: 1
2023-05-13 01:56:39.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041954839302144 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:56:39.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041954839302144 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 01:56:39.381 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:42.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:57.477 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:00.011 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:00.085 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38042042957434880 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:57:00.086 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042042957434880 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:57:00.093 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042042957434880 [0;39m ==> Parameters: 
2023-05-13 01:57:00.132 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042042957434880 [0;39m <==    Updates: 0
2023-05-13 01:57:00.132 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38042042957434880 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š47æ¯«ç§’
2023-05-13 01:57:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042063589216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:57:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042063589216256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:57:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042063589216256 [0;39m ==> Parameters: 
2023-05-13 01:57:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042063589216256 [0;39m <==    Updates: 1
2023-05-13 01:57:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042063589216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:57:09.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:13.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:17.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38042116215148544 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:57:17.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38042116215148544 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:57:17.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38042116215148544 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:57:17.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38042116215148544 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:57:17.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38042116215148544 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:57:17.566 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38042116215148544 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:57:17.567 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38042116215148544 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:57:17.568 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:57:17.568 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 72, 5
2023-05-13 01:57:17.568 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:57:17.569 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:57:17.569 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:57:17.570 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:57:17.571 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:57:17.571 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:57:17.571 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:57:17.571 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38042116215148544 [0;39m <==      Total: 8
2023-05-13 01:57:17.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38042116215148544 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":72,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:57:17.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38042116215148544 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-13 01:57:18.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38042118488461312 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:57:18.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38042118488461312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:57:18.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38042118488461312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:57:18.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38042118488461312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:57:18.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38042118488461312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:57:18.095 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38042118488461312 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:57:18.095 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38042118488461312 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:57:18.096 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38042118488461312 [0;39m <==    Columns: id, content
2023-05-13 01:57:18.096 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38042118488461312 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:57:18.096 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38042118488461312 [0;39m <==      Total: 1
2023-05-13 01:57:18.097 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38042118488461312 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:57:18.097 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38042118488461312 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:57:18.100 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38042118488461312 [0;39m <==    Updates: 1
2023-05-13 01:57:18.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38042118488461312 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:57:18.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38042118488461312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:57:24.059 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042189426724864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:57:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042189426724864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:57:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042189426724864 [0;39m ==> Parameters: 
2023-05-13 01:57:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042189426724864 [0;39m <==    Updates: 1
2023-05-13 01:57:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042189426724864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 01:57:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:42.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:48.154 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38042294284324864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:58:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042294284324864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:58:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042294284324864 [0;39m ==> Parameters: 
2023-05-13 01:58:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042294284324864 [0;39m <==    Updates: 0
2023-05-13 01:58:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38042294284324864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š19æ¯«ç§’
2023-05-13 01:58:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042315276816384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:58:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042315276816384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:58:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042315276816384 [0;39m ==> Parameters: 
2023-05-13 01:58:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042315276816384 [0;39m <==    Updates: 1
2023-05-13 01:58:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042315276816384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:58:09.525 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:12.467 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:14.523 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042441063993344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:58:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042441063993344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:58:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042441063993344 [0;39m ==> Parameters: 
2023-05-13 01:58:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042441063993344 [0;39m <==    Updates: 1
2023-05-13 01:58:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042441063993344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:58:38.611 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:39.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:40.652 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:42.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:44.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:00.107 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38042546366189568 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:59:00.108 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042546366189568 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:59:00.109 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042546366189568 [0;39m ==> Parameters: 
2023-05-13 01:59:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042546366189568 [0;39m <==    Updates: 0
2023-05-13 01:59:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38042546366189568 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:59:02.826 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042566930862080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:59:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042566930862080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:59:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042566930862080 [0;39m ==> Parameters: 
2023-05-13 01:59:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042566930862080 [0;39m <==    Updates: 1
2023-05-13 01:59:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042566930862080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:59:09.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:10.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:12.716 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:27.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042692722233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:59:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042692722233344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:59:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042692722233344 [0;39m ==> Parameters: 
2023-05-13 01:59:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042692722233344 [0;39m <==    Updates: 1
2023-05-13 01:59:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042692722233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:59:39.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:42.074 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:51.416 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:00:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38042797625970688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:00:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042797625970688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:00:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042797625970688 [0;39m ==> Parameters: 
2023-05-13 02:00:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042797625970688 [0;39m <==    Updates: 0
2023-05-13 02:00:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38042797625970688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:00:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042818589102080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:00:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042818589102080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:00:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042818589102080 [0;39m ==> Parameters: 
2023-05-13 02:00:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042818589102080 [0;39m <==    Updates: 1
2023-05-13 02:00:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042818589102080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:00:09.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:00:13.073 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:00:17.147 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:00:35.025 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042944481136640 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:00:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042944481136640 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:00:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042944481136640 [0;39m ==> Parameters: 
2023-05-13 02:00:35.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042944481136640 [0;39m <==    Updates: 1
2023-05-13 02:00:35.034 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042944481136640 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 02:00:39.815 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:00:43.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:01:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38043049259044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:01:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043049259044864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:01:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043049259044864 [0;39m ==> Parameters: 
2023-05-13 02:01:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043049259044864 [0;39m <==    Updates: 0
2023-05-13 02:01:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38043049259044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:01:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043070226370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:01:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043070226370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:01:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043070226370560 [0;39m ==> Parameters: 
2023-05-13 02:01:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043070226370560 [0;39m <==    Updates: 1
2023-05-13 02:01:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043070226370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:01:09.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:01:13.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:01:31.344 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:01:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043196051296256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:01:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043196051296256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:01:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043196051296256 [0;39m ==> Parameters: 
2023-05-13 02:01:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043196051296256 [0;39m <==    Updates: 1
2023-05-13 02:01:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043196051296256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:01:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:01:42.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:01:55.434 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:02:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38043300942450688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:02:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043300942450688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:02:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043300942450688 [0;39m ==> Parameters: 
2023-05-13 02:02:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043300942450688 [0;39m <==    Updates: 0
2023-05-13 02:02:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38043300942450688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:02:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043321926553600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:02:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043321926553600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:02:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043321926553600 [0;39m ==> Parameters: 
2023-05-13 02:02:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043321926553600 [0;39m <==    Updates: 1
2023-05-13 02:02:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043321926553600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:02:09.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:02:13.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:02:16.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043370039414784 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:16.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043370039414784 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:02:16.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043370039414784 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:02:16.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043370039414784 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:16.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043370039414784 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:16.493 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043370039414784 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:02:16.494 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043370039414784 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:16.495 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:02:16.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 73, 5
2023-05-13 02:02:16.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:02:16.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:02:16.497 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:02:16.497 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:02:16.497 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:02:16.497 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:02:16.498 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:02:16.498 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043370039414784 [0;39m <==      Total: 8
2023-05-13 02:02:16.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043370039414784 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":73,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:02:16.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043370039414784 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 02:02:17.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043373290000384 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.264 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043373290000384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:02:17.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043373290000384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:02:17.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043373290000384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043373290000384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.265 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043373290000384 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:02:17.266 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043373290000384 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.268 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043373290000384 [0;39m <==    Columns: id, content
2023-05-13 02:02:17.268 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043373290000384 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:02:17.269 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043373290000384 [0;39m <==      Total: 1
2023-05-13 02:02:17.269 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043373290000384 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:02:17.270 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043373290000384 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.273 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043373290000384 [0;39m <==    Updates: 1
2023-05-13 02:02:17.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043373290000384 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:02:17.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043373290000384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 02:02:17.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043373575213056 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043373575213056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:02:17.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043373575213056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:02:17.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043373575213056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043373575213056 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.334 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043373575213056 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:02:17.334 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043373575213056 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.335 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:02:17.335 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 74, 5
2023-05-13 02:02:17.336 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:02:17.336 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:02:17.336 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:02:17.336 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:02:17.337 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:02:17.337 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:02:17.337 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:02:17.338 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043373575213056 [0;39m <==      Total: 8
2023-05-13 02:02:17.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043373575213056 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":74,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:02:17.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043373575213056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 02:02:17.394 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043373847842816 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043373847842816 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:02:17.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043373847842816 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:02:17.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043373847842816 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043373847842816 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.397 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043373847842816 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:02:17.398 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043373847842816 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.399 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043373847842816 [0;39m <==    Columns: id, content
2023-05-13 02:02:17.399 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043373847842816 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:02:17.400 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043373847842816 [0;39m <==      Total: 1
2023-05-13 02:02:17.400 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043373847842816 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:02:17.401 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043373847842816 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.404 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043373847842816 [0;39m <==    Updates: 1
2023-05-13 02:02:17.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043373847842816 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:02:17.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043373847842816 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 02:02:17.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043374049169408 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043374049169408 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:02:17.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043374049169408 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:02:17.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043374049169408 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043374049169408 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.443 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043374049169408 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:02:17.444 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043374049169408 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.445 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:02:17.445 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 75, 5
2023-05-13 02:02:17.446 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:02:17.446 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:02:17.446 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:02:17.446 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:02:17.447 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:02:17.447 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:02:17.447 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:02:17.447 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043374049169408 [0;39m <==      Total: 8
2023-05-13 02:02:17.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043374049169408 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":75,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:02:17.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043374049169408 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 02:02:17.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043374367936512 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043374367936512 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:02:17.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043374367936512 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:02:17.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043374367936512 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043374367936512 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.520 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043374367936512 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:02:17.522 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043374367936512 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.524 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043374367936512 [0;39m <==    Columns: id, content
2023-05-13 02:02:17.525 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043374367936512 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:02:17.526 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043374367936512 [0;39m <==      Total: 1
2023-05-13 02:02:17.526 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043374367936512 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:02:17.527 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043374367936512 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.529 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043374367936512 [0;39m <==    Updates: 1
2023-05-13 02:02:17.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043374367936512 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:02:17.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043374367936512 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 02:02:17.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043374917390336 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043374917390336 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:02:17.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043374917390336 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:02:17.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043374917390336 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043374917390336 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.654 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043374917390336 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:02:17.654 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043374917390336 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.655 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:02:17.655 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 76, 5
2023-05-13 02:02:17.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:02:17.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:02:17.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:02:17.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:02:17.657 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:02:17.657 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:02:17.657 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:02:17.657 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043374917390336 [0;39m <==      Total: 8
2023-05-13 02:02:17.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043374917390336 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":76,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:02:17.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043374917390336 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 02:02:17.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043375542341632 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043375542341632 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:02:17.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043375542341632 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:02:17.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043375542341632 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043375542341632 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.802 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043375542341632 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:02:17.802 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043375542341632 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.805 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043375542341632 [0;39m <==    Columns: id, content
2023-05-13 02:02:17.806 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043375542341632 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:02:17.808 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043375542341632 [0;39m <==      Total: 1
2023-05-13 02:02:17.809 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043375542341632 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:02:17.809 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043375542341632 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.812 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043375542341632 [0;39m <==    Updates: 1
2023-05-13 02:02:17.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043375542341632 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:02:17.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043375542341632 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-13 02:02:17.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043375756251136 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043375756251136 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:02:17.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043375756251136 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:02:17.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043375756251136 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043375756251136 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.851 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043375756251136 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:02:17.851 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043375756251136 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.852 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:02:17.852 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 77, 5
2023-05-13 02:02:17.853 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:02:17.853 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:02:17.854 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:02:17.854 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:02:17.854 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:02:17.855 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:02:17.855 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:02:17.855 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043375756251136 [0;39m <==      Total: 8
2023-05-13 02:02:17.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043375756251136 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":77,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:02:17.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043375756251136 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:02:17.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043376385396736 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:18.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043376385396736 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:02:18.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043376385396736 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:02:18.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043376385396736 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:18.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043376385396736 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:18.001 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043376385396736 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:02:18.002 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043376385396736 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:18.005 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043376385396736 [0;39m <==    Columns: id, content
2023-05-13 02:02:18.005 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043376385396736 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:02:18.005 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043376385396736 [0;39m <==      Total: 1
2023-05-13 02:02:18.006 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043376385396736 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:02:18.006 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043376385396736 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:18.014 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043376385396736 [0;39m <==    Updates: 1
2023-05-13 02:02:18.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043376385396736 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:02:18.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043376385396736 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-13 02:02:18.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043376720941056 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:18.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043376720941056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:02:18.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043376720941056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:02:18.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043376720941056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:18.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043376720941056 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:18.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043376720941056 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:02:18.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043376720941056 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:18.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:02:18.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 78, 5
2023-05-13 02:02:18.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:02:18.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:02:18.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:02:18.086 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:02:18.086 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:02:18.086 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:02:18.086 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:02:18.087 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043376720941056 [0;39m <==      Total: 8
2023-05-13 02:02:18.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043376720941056 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":78,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:02:18.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043376720941056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 02:02:18.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043377094234112 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:18.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043377094234112 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:02:18.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043377094234112 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:02:18.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043377094234112 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:18.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043377094234112 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:18.172 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043377094234112 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:02:18.172 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043377094234112 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:18.173 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043377094234112 [0;39m <==    Columns: id, content
2023-05-13 02:02:18.173 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043377094234112 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:02:18.175 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043377094234112 [0;39m <==      Total: 1
2023-05-13 02:02:18.175 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043377094234112 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:02:18.176 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043377094234112 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:18.177 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043377094234112 [0;39m <==    Updates: 1
2023-05-13 02:02:18.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043377094234112 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:02:18.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043377094234112 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 02:02:20.355 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:02:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043447726313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:02:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043447726313472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:02:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043447726313472 [0;39m ==> Parameters: 
2023-05-13 02:02:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043447726313472 [0;39m <==    Updates: 1
2023-05-13 02:02:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043447726313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 02:02:39.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:02:46.132 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:03:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38043552613273600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:03:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043552613273600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:03:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043552613273600 [0;39m ==> Parameters: 
2023-05-13 02:03:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043552613273600 [0;39m <==    Updates: 0
2023-05-13 02:03:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38043552613273600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:03:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043573547044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:03:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043573547044864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:03:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043573547044864 [0;39m ==> Parameters: 
2023-05-13 02:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043573547044864 [0;39m <==    Updates: 1
2023-05-13 02:03:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043573547044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:03:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:03:12.398 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:03:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043699359387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:03:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043699359387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:03:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043699359387648 [0;39m ==> Parameters: 
2023-05-13 02:03:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043699359387648 [0;39m <==    Updates: 1
2023-05-13 02:03:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043699359387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 02:03:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:03:42.359 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38043804250542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:04:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043804250542080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:04:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043804250542080 [0;39m ==> Parameters: 
2023-05-13 02:04:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043804250542080 [0;39m <==    Updates: 0
2023-05-13 02:04:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38043804250542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:04:00.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043825222062080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:04:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043825222062080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:04:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043825222062080 [0;39m ==> Parameters: 
2023-05-13 02:04:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043825222062080 [0;39m <==    Updates: 1
2023-05-13 02:04:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043825222062080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:04:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:12.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:24.409 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043951072153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:04:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043951072153600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:04:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043951072153600 [0;39m ==> Parameters: 
2023-05-13 02:04:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043951072153600 [0;39m <==    Updates: 1
2023-05-13 02:04:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043951072153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:04:39.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:42.059 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:48.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:05:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38044055896199168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:05:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044055896199168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:05:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044055896199168 [0;39m ==> Parameters: 
2023-05-13 02:05:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044055896199168 [0;39m <==    Updates: 0
2023-05-13 02:05:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38044055896199168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 02:05:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044076863524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:05:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044076863524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:05:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044076863524864 [0;39m ==> Parameters: 
2023-05-13 02:05:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044076863524864 [0;39m <==    Updates: 1
2023-05-13 02:05:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044076863524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:05:09.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:05:14.088 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:05:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044202705227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:05:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044202705227776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:05:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044202705227776 [0;39m ==> Parameters: 
2023-05-13 02:05:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044202705227776 [0;39m <==    Updates: 1
2023-05-13 02:05:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044202705227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:05:39.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:05:42.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38044307550244864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:06:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044307550244864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:06:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044307550244864 [0;39m ==> Parameters: 
2023-05-13 02:06:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044307550244864 [0;39m <==    Updates: 0
2023-05-13 02:06:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38044307550244864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:06:03.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044328551124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:06:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044328551124992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:06:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044328551124992 [0;39m ==> Parameters: 
2023-05-13 02:06:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044328551124992 [0;39m <==    Updates: 1
2023-05-13 02:06:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044328551124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:06:09.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:12.060 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:27.779 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044454371856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:06:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044454371856384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:06:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044454371856384 [0;39m ==> Parameters: 
2023-05-13 02:06:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044454371856384 [0;39m <==    Updates: 1
2023-05-13 02:06:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044454371856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:06:39.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:42.055 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:51.861 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:07:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38044559221067776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:07:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044559221067776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:07:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044559221067776 [0;39m ==> Parameters: 
2023-05-13 02:07:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044559221067776 [0;39m <==    Updates: 0
2023-05-13 02:07:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38044559221067776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:07:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044580209364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:07:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044580209364992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:07:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044580209364992 [0;39m ==> Parameters: 
2023-05-13 02:07:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044580209364992 [0;39m <==    Updates: 1
2023-05-13 02:07:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044580209364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:07:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:07:16.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:07:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044705992347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:07:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044705992347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:07:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044705992347648 [0;39m ==> Parameters: 
2023-05-13 02:07:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044705992347648 [0;39m <==    Updates: 1
2023-05-13 02:07:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044705992347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:07:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:07:44.092 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:08:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38044810896084992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:08:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044810896084992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:08:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044810896084992 [0;39m ==> Parameters: 
2023-05-13 02:08:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044810896084992 [0;39m <==    Updates: 0
2023-05-13 02:08:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38044810896084992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:08:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044831825661952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044831825661952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044831825661952 [0;39m ==> Parameters: 
2023-05-13 02:08:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044831825661952 [0;39m <==    Updates: 1
2023-05-13 02:08:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044831825661952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:08:09.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:08:12.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:08:33.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:08:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044957675753472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:08:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044957675753472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:08:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044957675753472 [0;39m ==> Parameters: 
2023-05-13 02:08:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044957675753472 [0;39m <==    Updates: 1
2023-05-13 02:08:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044957675753472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:08:39.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:08:42.064 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:08:57.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:09:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38045062516576256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:09:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045062516576256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:09:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045062516576256 [0;39m ==> Parameters: 
2023-05-13 02:09:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045062516576256 [0;39m <==    Updates: 0
2023-05-13 02:09:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38045062516576256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:09:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045083530039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:09:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045083530039296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:09:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045083530039296 [0;39m ==> Parameters: 
2023-05-13 02:09:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045083530039296 [0;39m <==    Updates: 1
2023-05-13 02:09:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045083530039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:09:09.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:09:12.045 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:09:21.368 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:09:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045209317216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:09:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045209317216256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:09:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045209317216256 [0;39m ==> Parameters: 
2023-05-13 02:09:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045209317216256 [0;39m <==    Updates: 1
2023-05-13 02:09:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045209317216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:09:39.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:09:46.121 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:10:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38045314204176384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:10:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045314204176384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:10:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045314204176384 [0;39m ==> Parameters: 
2023-05-13 02:10:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045314204176384 [0;39m <==    Updates: 0
2023-05-13 02:10:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38045314204176384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:10:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045335167307776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:10:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045335167307776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:10:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045335167307776 [0;39m ==> Parameters: 
2023-05-13 02:10:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045335167307776 [0;39m <==    Updates: 1
2023-05-13 02:10:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045335167307776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:10:09.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:10:14.079 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:10:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045461013204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:10:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045461013204992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:10:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045461013204992 [0;39m ==> Parameters: 
2023-05-13 02:10:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045461013204992 [0;39m <==    Updates: 1
2023-05-13 02:10:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045461013204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:10:39.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:10:42.231 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38045565879193600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:11:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045565879193600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:11:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045565879193600 [0;39m ==> Parameters: 
2023-05-13 02:11:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045565879193600 [0;39m <==    Updates: 0
2023-05-13 02:11:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38045565879193600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:11:03.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045586842324992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:11:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045586842324992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:11:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045586842324992 [0;39m ==> Parameters: 
2023-05-13 02:11:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045586842324992 [0;39m <==    Updates: 1
2023-05-13 02:11:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045586842324992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:11:09.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:12.086 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:27.315 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045712629501952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:11:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045712629501952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:11:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045712629501952 [0;39m ==> Parameters: 
2023-05-13 02:11:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045712629501952 [0;39m <==    Updates: 1
2023-05-13 02:11:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045712629501952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:11:39.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:42.075 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:51.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:12:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38045817529044992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:12:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045817529044992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:12:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045817529044992 [0;39m ==> Parameters: 
2023-05-13 02:12:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045817529044992 [0;39m <==    Updates: 0
2023-05-13 02:12:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38045817529044992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:12:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045838500564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:12:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045838500564992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:12:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045838500564992 [0;39m ==> Parameters: 
2023-05-13 02:12:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045838500564992 [0;39m <==    Updates: 1
2023-05-13 02:12:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045838500564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:12:09.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:12:16.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:12:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045964325490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:12:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045964325490688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:12:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045964325490688 [0;39m ==> Parameters: 
2023-05-13 02:12:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045964325490688 [0;39m <==    Updates: 1
2023-05-13 02:12:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045964325490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 02:12:37.987 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:12:39.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:12:44.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38046069157924864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:13:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046069157924864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:13:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046069157924864 [0;39m ==> Parameters: 
2023-05-13 02:13:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046069157924864 [0;39m <==    Updates: 0
2023-05-13 02:13:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38046069157924864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 02:13:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046090125250560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:13:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046090125250560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:13:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046090125250560 [0;39m ==> Parameters: 
2023-05-13 02:13:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046090125250560 [0;39m <==    Updates: 1
2023-05-13 02:13:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046090125250560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:13:09.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:10.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:12.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:30.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046215958564864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:13:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046215958564864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:13:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046215958564864 [0;39m ==> Parameters: 
2023-05-13 02:13:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046215958564864 [0;39m <==    Updates: 1
2023-05-13 02:13:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046215958564864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:13:37.974 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:39.243 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:42.046 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:54.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38046320811970560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:14:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046320811970560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:14:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046320811970560 [0;39m ==> Parameters: 
2023-05-13 02:14:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046320811970560 [0;39m <==    Updates: 0
2023-05-13 02:14:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38046320811970560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:14:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046341787684864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:14:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046341787684864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:14:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046341787684864 [0;39m ==> Parameters: 
2023-05-13 02:14:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046341787684864 [0;39m <==    Updates: 1
2023-05-13 02:14:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046341787684864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:14:09.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:10.025 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:12.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:18.407 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046467604221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:14:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046467604221952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:14:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046467604221952 [0;39m ==> Parameters: 
2023-05-13 02:14:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046467604221952 [0;39m <==    Updates: 1
2023-05-13 02:14:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046467604221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:14:37.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:39.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:40.011 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:44.089 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38046572495376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:15:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046572495376384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:15:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046572495376384 [0;39m ==> Parameters: 
2023-05-13 02:15:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046572495376384 [0;39m <==    Updates: 0
2023-05-13 02:15:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38046572495376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-13 02:15:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046593462702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:15:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046593462702080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:15:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046593462702080 [0;39m ==> Parameters: 
2023-05-13 02:15:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046593462702080 [0;39m <==    Updates: 1
2023-05-13 02:15:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046593462702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:15:09.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:10.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:12.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:14.950 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:32.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046719275044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:15:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046719275044864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:15:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046719275044864 [0;39m ==> Parameters: 
2023-05-13 02:15:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046719275044864 [0;39m <==    Updates: 1
2023-05-13 02:15:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046719275044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:15:37.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:39.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:40.017 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:42.051 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:56.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38046824124256256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:16:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046824124256256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:16:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046824124256256 [0;39m ==> Parameters: 
2023-05-13 02:16:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046824124256256 [0;39m <==    Updates: 0
2023-05-13 02:16:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38046824124256256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 02:16:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046845112553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:16:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046845112553472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:16:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046845112553472 [0;39m ==> Parameters: 
2023-05-13 02:16:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046845112553472 [0;39m <==    Updates: 1
2023-05-13 02:16:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046845112553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:16:07.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:10.008 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:12.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:20.519 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046970916507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:16:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046970916507648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:16:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046970916507648 [0;39m ==> Parameters: 
2023-05-13 02:16:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046970916507648 [0;39m <==    Updates: 1
2023-05-13 02:16:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046970916507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:16:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:46.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38047075811856384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:17:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047075811856384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:17:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047075811856384 [0;39m ==> Parameters: 
2023-05-13 02:17:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047075811856384 [0;39m <==    Updates: 0
2023-05-13 02:17:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38047075811856384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:17:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047096795959296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047096795959296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047096795959296 [0;39m ==> Parameters: 
2023-05-13 02:17:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047096795959296 [0;39m <==    Updates: 1
2023-05-13 02:17:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047096795959296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:17:07.974 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:09.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:12.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:14.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047222625079296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047222625079296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:17:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047222625079296 [0;39m ==> Parameters: 
2023-05-13 02:17:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047222625079296 [0;39m <==    Updates: 1
2023-05-13 02:17:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047222625079296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:17:36.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:39.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:42.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38047327449124864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:18:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047327449124864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:18:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047327449124864 [0;39m ==> Parameters: 
2023-05-13 02:18:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047327449124864 [0;39m <==    Updates: 0
2023-05-13 02:18:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38047327449124864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:18:00.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047348420644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:18:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047348420644864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:18:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047348420644864 [0;39m ==> Parameters: 
2023-05-13 02:18:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047348420644864 [0;39m <==    Updates: 1
2023-05-13 02:18:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047348420644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:18:09.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:10.019 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:12.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:24.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047474245570560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:18:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047474245570560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:18:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047474245570560 [0;39m ==> Parameters: 
2023-05-13 02:18:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047474245570560 [0;39m <==    Updates: 1
2023-05-13 02:18:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047474245570560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:18:37.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:39.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:40.027 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:42.078 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:46.365 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:48.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38047579128336384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:19:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047579128336384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:19:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047579128336384 [0;39m ==> Parameters: 
2023-05-13 02:19:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047579128336384 [0;39m <==    Updates: 0
2023-05-13 02:19:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38047579128336384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:19:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047600057913344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:19:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047600057913344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:19:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047600057913344 [0;39m ==> Parameters: 
2023-05-13 02:19:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047600057913344 [0;39m <==    Updates: 1
2023-05-13 02:19:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047600057913344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:19:09.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:12.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:14.091 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047725928976384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:19:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047725928976384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:19:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047725928976384 [0;39m ==> Parameters: 
2023-05-13 02:19:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047725928976384 [0;39m <==    Updates: 1
2023-05-13 02:19:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047725928976384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:19:38.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:39.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:42.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:44.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38047830744633344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:20:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047830744633344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:20:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047830744633344 [0;39m ==> Parameters: 
2023-05-13 02:20:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047830744633344 [0;39m <==    Updates: 0
2023-05-13 02:20:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38047830744633344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:20:00.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:02.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047851745513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:20:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047851745513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:20:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047851745513472 [0;39m ==> Parameters: 
2023-05-13 02:20:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047851745513472 [0;39m <==    Updates: 1
2023-05-13 02:20:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047851745513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 02:20:07.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:09.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:10.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:12.047 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:26.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047977570439168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:20:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047977570439168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:20:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047977570439168 [0;39m ==> Parameters: 
2023-05-13 02:20:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047977570439168 [0;39m <==    Updates: 1
2023-05-13 02:20:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047977570439168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:20:37.982 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:39.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:42.060 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:48.395 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:50.433 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38048082419650560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:21:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048082419650560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:21:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048082419650560 [0;39m ==> Parameters: 
2023-05-13 02:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048082419650560 [0;39m <==    Updates: 0
2023-05-13 02:21:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38048082419650560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:21:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048103437307904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:21:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048103437307904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:21:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048103437307904 [0;39m ==> Parameters: 
2023-05-13 02:21:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048103437307904 [0;39m <==    Updates: 1
2023-05-13 02:21:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048103437307904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:21:07.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:10.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:12.065 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:16.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048229211901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:21:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048229211901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:21:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048229211901952 [0;39m ==> Parameters: 
2023-05-13 02:21:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048229211901952 [0;39m <==    Updates: 1
2023-05-13 02:21:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048229211901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:21:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:40.038 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:42.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:44.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38048334111444992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:22:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048334111444992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:22:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048334111444992 [0;39m ==> Parameters: 
2023-05-13 02:22:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048334111444992 [0;39m <==    Updates: 0
2023-05-13 02:22:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38048334111444992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:22:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048355091353600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:22:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048355091353600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:22:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048355091353600 [0;39m ==> Parameters: 
2023-05-13 02:22:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048355091353600 [0;39m <==    Updates: 1
2023-05-13 02:22:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048355091353600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:22:06.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:08.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:09.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:10.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:12.291 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:14.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:30.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:32.299 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048480912084992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:22:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048480912084992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:22:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048480912084992 [0;39m ==> Parameters: 
2023-05-13 02:22:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048480912084992 [0;39m <==    Updates: 1
2023-05-13 02:22:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048480912084992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:22:39.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:42.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:54.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:56.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38048585736130560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:23:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048585736130560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:23:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048585736130560 [0;39m ==> Parameters: 
2023-05-13 02:23:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048585736130560 [0;39m <==    Updates: 0
2023-05-13 02:23:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38048585736130560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:23:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048606716039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:23:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048606716039168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:23:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048606716039168 [0;39m ==> Parameters: 
2023-05-13 02:23:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048606716039168 [0;39m <==    Updates: 1
2023-05-13 02:23:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048606716039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:23:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:10.006 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:12.044 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:18.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:20.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048732587102208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:23:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048732587102208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:23:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048732587102208 [0;39m ==> Parameters: 
2023-05-13 02:23:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048732587102208 [0;39m <==    Updates: 1
2023-05-13 02:23:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048732587102208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:23:37.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:39.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:42.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:46.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:24:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38048837423730688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:24:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048837423730688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:24:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048837423730688 [0;39m ==> Parameters: 
2023-05-13 02:24:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048837423730688 [0;39m <==    Updates: 0
2023-05-13 02:24:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38048837423730688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:24:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048858382667776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:24:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048858382667776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:24:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048858382667776 [0;39m ==> Parameters: 
2023-05-13 02:24:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048858382667776 [0;39m <==    Updates: 1
2023-05-13 02:24:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048858382667776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 02:24:07.990 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:24:09.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:24:12.368 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:24:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048984232759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:24:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048984232759296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:24:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048984232759296 [0;39m ==> Parameters: 
2023-05-13 02:24:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048984232759296 [0;39m <==    Updates: 1
2023-05-13 02:24:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048984232759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:24:36.296 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:24:39.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:24:42.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38049089044221952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:25:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049089044221952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:25:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049089044221952 [0;39m ==> Parameters: 
2023-05-13 02:25:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049089044221952 [0;39m <==    Updates: 0
2023-05-13 02:25:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38049089044221952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:25:00.374 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049110011547648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:25:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049110011547648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:25:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049110011547648 [0;39m ==> Parameters: 
2023-05-13 02:25:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049110011547648 [0;39m <==    Updates: 1
2023-05-13 02:25:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049110011547648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:25:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:12.060 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:24.457 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049235886804992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:25:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049235886804992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:25:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049235886804992 [0;39m ==> Parameters: 
2023-05-13 02:25:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049235886804992 [0;39m <==    Updates: 1
2023-05-13 02:25:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049235886804992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:25:39.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:40.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:42.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:46.507 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:48.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38049340702461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:26:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049340702461952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:26:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049340702461952 [0;39m ==> Parameters: 
2023-05-13 02:26:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049340702461952 [0;39m <==    Updates: 0
2023-05-13 02:26:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38049340702461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:26:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049361665593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:26:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049361665593344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:26:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049361665593344 [0;39m ==> Parameters: 
2023-05-13 02:26:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049361665593344 [0;39m <==    Updates: 1
2023-05-13 02:26:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049361665593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:26:07.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:12.063 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:14.107 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049487494713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:26:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049487494713344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:26:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049487494713344 [0;39m ==> Parameters: 
2023-05-13 02:26:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049487494713344 [0;39m <==    Updates: 1
2023-05-13 02:26:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049487494713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:26:38.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:39.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:42.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:44.304 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38049592390062080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:27:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049592390062080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:27:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049592390062080 [0;39m ==> Parameters: 
2023-05-13 02:27:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049592390062080 [0;39m <==    Updates: 0
2023-05-13 02:27:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38049592390062080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:27:02.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049613365776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:27:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049613365776384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:27:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049613365776384 [0;39m ==> Parameters: 
2023-05-13 02:27:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049613365776384 [0;39m <==    Updates: 1
2023-05-13 02:27:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049613365776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:27:07.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:09.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:10.019 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:12.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:24.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:26.373 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049739161341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:27:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049739161341952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:27:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049739161341952 [0;39m ==> Parameters: 
2023-05-13 02:27:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049739161341952 [0;39m <==    Updates: 1
2023-05-13 02:27:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049739161341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:27:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:42.064 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:48.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:50.461 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38049844056690688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:28:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049844056690688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:28:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049844056690688 [0;39m ==> Parameters: 
2023-05-13 02:28:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049844056690688 [0;39m <==    Updates: 0
2023-05-13 02:28:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38049844056690688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:28:05.092 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049865363755008 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:28:05.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049865363755008 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:28:05.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049865363755008 [0;39m ==> Parameters: 
2023-05-13 02:28:05.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049865363755008 [0;39m <==    Updates: 1
2023-05-13 02:28:05.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049865363755008 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 02:28:07.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:09.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:10.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:12.069 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:16.132 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:35.052 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049991025102848 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:28:35.053 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049991025102848 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:28:35.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049991025102848 [0;39m ==> Parameters: 
2023-05-13 02:28:35.055 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049991025102848 [0;39m <==    Updates: 1
2023-05-13 02:28:35.055 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049991025102848 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:28:39.448 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:42.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:44.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38050095706542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:29:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050095706542080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:29:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050095706542080 [0;39m ==> Parameters: 
2023-05-13 02:29:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050095706542080 [0;39m <==    Updates: 0
2023-05-13 02:29:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38050095706542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:29:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050116703227904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:29:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050116703227904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:29:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050116703227904 [0;39m ==> Parameters: 
2023-05-13 02:29:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050116703227904 [0;39m <==    Updates: 1
2023-05-13 02:29:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050116703227904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:29:09.090 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:09.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:11.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:13.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:33.732 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050242519764992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:29:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050242519764992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:29:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050242519764992 [0;39m ==> Parameters: 
2023-05-13 02:29:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050242519764992 [0;39m <==    Updates: 1
2023-05-13 02:29:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050242519764992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 02:29:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:42.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:57.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38050347377364992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:30:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050347377364992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:30:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050347377364992 [0;39m ==> Parameters: 
2023-05-13 02:30:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050347377364992 [0;39m <==    Updates: 0
2023-05-13 02:30:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38050347377364992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:30:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050368319524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:30:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050368319524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:30:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050368319524864 [0;39m ==> Parameters: 
2023-05-13 02:30:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050368319524864 [0;39m <==    Updates: 1
2023-05-13 02:30:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050368319524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:30:08.009 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:09.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:10.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:12.109 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:21.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:35.069 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050494412886016 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:30:35.072 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050494412886016 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:30:35.073 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050494412886016 [0;39m ==> Parameters: 
2023-05-13 02:30:35.088 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050494412886016 [0;39m <==    Updates: 1
2023-05-13 02:30:35.091 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050494412886016 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š21æ¯«ç§’
2023-05-13 02:30:38.048 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:42.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:46.224 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:31:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38050599031410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:31:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050599031410688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:31:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050599031410688 [0;39m ==> Parameters: 
2023-05-13 02:31:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050599031410688 [0;39m <==    Updates: 0
2023-05-13 02:31:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38050599031410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:31:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050619956793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:31:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050619956793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:31:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050619956793344 [0;39m ==> Parameters: 
2023-05-13 02:31:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050619956793344 [0;39m <==    Updates: 1
2023-05-13 02:31:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050619956793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:31:09.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:31:13.409 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:31:28.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38050720301322240 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:31:28.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38050720301322240 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:31:28.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38050720301322240 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:31:28.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38050720301322240 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:31:28.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38050720301322240 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:31:28.929 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38050720301322240 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:31:28.930 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38050720301322240 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:31:28.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:31:28.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 79, 5
2023-05-13 02:31:28.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:31:28.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:31:28.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:31:28.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:31:28.933 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:31:28.933 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:31:28.933 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:31:28.933 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38050720301322240 [0;39m <==      Total: 8
2023-05-13 02:31:28.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38050720301322240 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":79,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:31:28.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38050720301322240 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 02:31:29.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38050720968216576 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:31:29.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38050720968216576 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:31:29.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38050720968216576 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:31:29.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38050720968216576 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:31:29.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38050720968216576 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:31:29.085 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38050720968216576 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:31:29.086 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38050720968216576 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:31:29.087 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38050720968216576 [0;39m <==    Columns: id, content
2023-05-13 02:31:29.087 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38050720968216576 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:31:29.088 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38050720968216576 [0;39m <==      Total: 1
2023-05-13 02:31:29.088 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38050720968216576 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:31:29.088 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38050720968216576 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:31:29.090 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38050720968216576 [0;39m <==    Updates: 1
2023-05-13 02:31:29.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38050720968216576 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:31:29.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38050720968216576 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:31:29.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38050721207291904 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:31:29.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38050721207291904 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:31:29.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38050721207291904 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:31:29.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38050721207291904 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:31:29.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38050721207291904 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:31:29.143 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38050721207291904 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:31:29.145 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38050721207291904 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:31:29.146 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:31:29.146 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 80, 5
2023-05-13 02:31:29.146 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:31:29.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:31:29.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:31:29.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:31:29.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:31:29.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:31:29.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:31:29.147 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38050721207291904 [0;39m <==      Total: 8
2023-05-13 02:31:29.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38050721207291904 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":80,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:31:29.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38050721207291904 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 02:31:29.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38050721509281792 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:31:29.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38050721509281792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:31:29.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38050721509281792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:31:29.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38050721509281792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:31:29.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38050721509281792 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:31:29.215 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38050721509281792 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:31:29.215 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38050721509281792 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:31:29.216 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38050721509281792 [0;39m <==    Columns: id, content
2023-05-13 02:31:29.216 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38050721509281792 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:31:29.217 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38050721509281792 [0;39m <==      Total: 1
2023-05-13 02:31:29.217 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38050721509281792 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:31:29.217 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38050721509281792 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:31:29.220 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38050721509281792 [0;39m <==    Updates: 1
2023-05-13 02:31:29.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38050721509281792 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:31:29.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38050721509281792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:31:34.457 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:31:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050745806884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:31:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050745806884864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:31:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050745806884864 [0;39m ==> Parameters: 
2023-05-13 02:31:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050745806884864 [0;39m <==    Updates: 1
2023-05-13 02:31:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050745806884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:31:36.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:31:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:31:42.624 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38050850660290560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:32:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050850660290560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:32:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050850660290560 [0;39m ==> Parameters: 
2023-05-13 02:32:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050850660290560 [0;39m <==    Updates: 0
2023-05-13 02:32:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38050850660290560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 02:32:00.770 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:05.032 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050871745056768 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:32:05.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050871745056768 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:32:05.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050871745056768 [0;39m ==> Parameters: 
2023-05-13 02:32:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050871745056768 [0;39m <==    Updates: 1
2023-05-13 02:32:05.034 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050871745056768 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:32:07.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:09.655 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:12.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:25.842 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:35.128 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050997972635648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:32:35.129 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050997972635648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:32:35.130 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050997972635648 [0;39m ==> Parameters: 
2023-05-13 02:32:35.130 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050997972635648 [0;39m <==    Updates: 1
2023-05-13 02:32:35.130 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050997972635648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 02:32:39.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:43.026 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:49.838 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:33:00.064 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38051102565994496 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:33:00.066 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051102565994496 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:33:00.067 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051102565994496 [0;39m ==> Parameters: 
2023-05-13 02:33:00.073 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051102565994496 [0;39m <==    Updates: 0
2023-05-13 02:33:00.073 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38051102565994496 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 02:33:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051123302633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:33:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051123302633472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:33:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051123302633472 [0;39m ==> Parameters: 
2023-05-13 02:33:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051123302633472 [0;39m <==    Updates: 1
2023-05-13 02:33:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051123302633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:33:09.466 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:33:15.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:33:35.201 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051249941254144 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:33:35.202 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051249941254144 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:33:35.202 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051249941254144 [0;39m ==> Parameters: 
2023-05-13 02:33:35.204 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051249941254144 [0;39m <==    Updates: 1
2023-05-13 02:33:35.204 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051249941254144 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:33:39.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:33:44.460 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38051354018713600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:34:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051354018713600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:34:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051354018713600 [0;39m ==> Parameters: 
2023-05-13 02:34:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051354018713600 [0;39m <==    Updates: 0
2023-05-13 02:34:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38051354018713600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:34:04.942 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051374973456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:34:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051374973456384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:34:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051374973456384 [0;39m ==> Parameters: 
2023-05-13 02:34:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051374973456384 [0;39m <==    Updates: 1
2023-05-13 02:34:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051374973456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:34:09.536 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:12.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:17.007 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38051425288327168 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:34:17.007 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38051425288327168 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:34:17.007 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38051425288327168 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:34:17.008 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38051425288327168 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:34:17.008 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38051425288327168 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:34:17.009 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051425288327168 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:34:17.010 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051425288327168 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:34:17.012 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:34:17.012 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 81, 5
2023-05-13 02:34:17.012 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:34:17.014 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:34:17.014 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:34:17.015 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:34:17.015 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:34:17.015 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:34:17.015 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:34:17.016 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051425288327168 [0;39m <==      Total: 8
2023-05-13 02:34:17.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38051425288327168 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":81,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:34:17.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38051425288327168 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 02:34:17.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38051428966731776 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:34:17.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38051428966731776 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:34:17.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38051428966731776 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:34:17.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38051428966731776 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:34:17.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38051428966731776 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:34:17.887 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051428966731776 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:34:17.887 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051428966731776 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:34:17.888 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38051428966731776 [0;39m <==    Columns: id, content
2023-05-13 02:34:17.889 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38051428966731776 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:34:17.889 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051428966731776 [0;39m <==      Total: 1
2023-05-13 02:34:17.889 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051428966731776 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:34:17.890 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051428966731776 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:34:17.891 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051428966731776 [0;39m <==    Updates: 1
2023-05-13 02:34:17.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38051428966731776 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:34:17.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38051428966731776 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 02:34:17.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38051429201612800 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:34:17.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38051429201612800 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:34:17.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38051429201612800 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:34:17.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38051429201612800 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:34:17.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38051429201612800 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:34:17.942 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051429201612800 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:34:17.943 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051429201612800 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:34:17.944 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:34:17.944 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 82, 5
2023-05-13 02:34:17.945 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:34:17.945 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:34:17.945 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:34:17.946 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:34:17.946 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:34:17.946 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:34:17.946 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:34:17.946 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051429201612800 [0;39m <==      Total: 8
2023-05-13 02:34:17.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38051429201612800 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":82,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:34:17.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38051429201612800 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 02:34:18.102 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38051429881090048 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:34:18.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38051429881090048 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:34:18.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38051429881090048 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:34:18.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38051429881090048 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:34:18.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38051429881090048 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:34:18.104 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051429881090048 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:34:18.105 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051429881090048 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:34:18.106 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38051429881090048 [0;39m <==    Columns: id, content
2023-05-13 02:34:18.106 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38051429881090048 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:34:18.106 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051429881090048 [0;39m <==      Total: 1
2023-05-13 02:34:18.107 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051429881090048 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:34:18.107 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051429881090048 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:34:18.108 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051429881090048 [0;39m <==    Updates: 1
2023-05-13 02:34:18.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38051429881090048 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:34:18.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38051429881090048 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:34:29.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:35.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051500852908032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:34:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051500852908032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:34:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051500852908032 [0;39m ==> Parameters: 
2023-05-13 02:34:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051500852908032 [0;39m <==    Updates: 1
2023-05-13 02:34:35.035 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051500852908032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 02:34:40.183 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:42.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:53.845 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:35:00.120 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38051606117355520 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:35:00.120 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051606117355520 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:35:00.121 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051606117355520 [0;39m ==> Parameters: 
2023-05-13 02:35:00.128 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051606117355520 [0;39m <==    Updates: 0
2023-05-13 02:35:00.129 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38051606117355520 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 02:35:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051626635890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:35:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051626635890688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:35:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051626635890688 [0;39m ==> Parameters: 
2023-05-13 02:35:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051626635890688 [0;39m <==    Updates: 1
2023-05-13 02:35:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051626635890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:35:09.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:35:13.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:35:13.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38051661301813248 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:35:13.278 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38051661301813248 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:35:13.278 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38051661301813248 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:35:13.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38051661301813248 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:35:13.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38051661301813248 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:35:13.282 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051661301813248 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:35:13.283 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051661301813248 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:35:13.284 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:35:13.284 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 83, 5
2023-05-13 02:35:13.284 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:35:13.285 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:35:13.285 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:35:13.285 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:35:13.285 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:35:13.285 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:35:13.287 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:35:13.287 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051661301813248 [0;39m <==      Total: 8
2023-05-13 02:35:13.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38051661301813248 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":83,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:35:13.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38051661301813248 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 02:35:13.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38051662035816448 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:35:13.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38051662035816448 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:35:13.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38051662035816448 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:35:13.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38051662035816448 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:35:13.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38051662035816448 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:35:13.453 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051662035816448 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:35:13.455 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051662035816448 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:35:13.457 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38051662035816448 [0;39m <==    Columns: id, content
2023-05-13 02:35:13.458 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38051662035816448 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:35:13.458 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051662035816448 [0;39m <==      Total: 1
2023-05-13 02:35:13.459 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051662035816448 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:35:13.459 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051662035816448 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:35:13.461 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051662035816448 [0;39m <==    Updates: 1
2023-05-13 02:35:13.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38051662035816448 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:35:13.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38051662035816448 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 02:35:18.604 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:35:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051752444039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:35:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051752444039168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:35:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051752444039168 [0;39m ==> Parameters: 
2023-05-13 02:35:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051752444039168 [0;39m <==    Updates: 1
2023-05-13 02:35:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051752444039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 02:35:39.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:35:45.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:36:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38051857293250560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:36:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051857293250560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:36:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051857293250560 [0;39m ==> Parameters: 
2023-05-13 02:36:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051857293250560 [0;39m <==    Updates: 0
2023-05-13 02:36:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38051857293250560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 02:36:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051878281547776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:36:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051878281547776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:36:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051878281547776 [0;39m ==> Parameters: 
2023-05-13 02:36:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051878281547776 [0;39m <==    Updates: 1
2023-05-13 02:36:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051878281547776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:36:09.241 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:36:14.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:36:34.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:36:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052004093890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:36:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052004093890560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:36:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052004093890560 [0;39m ==> Parameters: 
2023-05-13 02:36:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052004093890560 [0;39m <==    Updates: 1
2023-05-13 02:36:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052004093890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:36:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:36:42.634 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:36:59.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38052108997627904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:37:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052108997627904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:37:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052108997627904 [0;39m ==> Parameters: 
2023-05-13 02:37:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052108997627904 [0;39m <==    Updates: 0
2023-05-13 02:37:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38052108997627904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 02:37:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052129977536512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:37:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052129977536512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:37:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052129977536512 [0;39m ==> Parameters: 
2023-05-13 02:37:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052129977536512 [0;39m <==    Updates: 1
2023-05-13 02:37:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052129977536512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:37:09.306 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:12.548 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:23.892 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052255760519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:37:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052255760519168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:37:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052255760519168 [0;39m ==> Parameters: 
2023-05-13 02:37:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052255760519168 [0;39m <==    Updates: 1
2023-05-13 02:37:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052255760519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:37:39.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:42.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:46.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052304011792384 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:37:46.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052304011792384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:37:46.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052304011792384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:37:46.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052304011792384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:37:46.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052304011792384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:37:46.513 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052304011792384 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:37:46.514 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052304011792384 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:37:46.515 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:37:46.516 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 84, 5
2023-05-13 02:37:46.516 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:37:46.516 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:37:46.517 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:37:46.517 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:37:46.517 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:37:46.518 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:37:46.518 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:37:46.518 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052304011792384 [0;39m <==      Total: 8
2023-05-13 02:37:46.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052304011792384 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":84,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:37:46.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052304011792384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 02:37:47.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052309263060992 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:37:47.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052309263060992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:37:47.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052309263060992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:37:47.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052309263060992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:37:47.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052309263060992 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:37:47.764 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052309263060992 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:37:47.765 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052309263060992 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:37:47.766 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052309263060992 [0;39m <==    Columns: id, content
2023-05-13 02:37:47.767 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052309263060992 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:37:47.767 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052309263060992 [0;39m <==      Total: 1
2023-05-13 02:37:47.767 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052309263060992 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:37:47.767 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052309263060992 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:37:47.769 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052309263060992 [0;39m <==    Updates: 1
2023-05-13 02:37:47.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052309263060992 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:37:47.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052309263060992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:37:49.079 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:49.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052318092070912 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:37:49.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052318092070912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:37:49.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052318092070912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:37:49.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052318092070912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:37:49.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052318092070912 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:37:49.869 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052318092070912 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:37:49.870 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052318092070912 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:37:49.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:37:49.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 85, 5
2023-05-13 02:37:49.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:37:49.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:37:49.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:37:49.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:37:49.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:37:49.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:37:49.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:37:49.874 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052318092070912 [0;39m <==      Total: 8
2023-05-13 02:37:49.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052318092070912 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":85,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:37:49.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052318092070912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:37:49.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052318561832960 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:37:49.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052318561832960 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:37:49.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052318561832960 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:37:49.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052318561832960 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:37:49.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052318561832960 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:37:49.983 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052318561832960 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:37:49.984 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052318561832960 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:37:49.985 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052318561832960 [0;39m <==    Columns: id, content
2023-05-13 02:37:49.985 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052318561832960 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:37:49.985 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052318561832960 [0;39m <==      Total: 1
2023-05-13 02:37:49.986 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052318561832960 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:37:49.986 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052318561832960 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:37:49.989 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052318561832960 [0;39m <==    Updates: 1
2023-05-13 02:37:49.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052318561832960 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:37:49.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052318561832960 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 02:38:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38052360626507776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:38:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052360626507776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:38:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052360626507776 [0;39m ==> Parameters: 
2023-05-13 02:38:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052360626507776 [0;39m <==    Updates: 0
2023-05-13 02:38:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38052360626507776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:38:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052381581250560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:38:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052381581250560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:38:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052381581250560 [0;39m ==> Parameters: 
2023-05-13 02:38:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052381581250560 [0;39m <==    Updates: 1
2023-05-13 02:38:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052381581250560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:38:05.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052384433377280 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:38:05.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052384433377280 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:38:05.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052384433377280 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:38:05.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052384433377280 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:38:05.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052384433377280 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:38:05.687 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052384433377280 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:38:05.687 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052384433377280 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:05.689 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:38:05.689 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 86, 5
2023-05-13 02:38:05.690 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:38:05.690 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:38:05.690 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:38:05.690 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:38:05.690 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:38:05.690 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:38:05.691 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:38:05.691 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052384433377280 [0;39m <==      Total: 8
2023-05-13 02:38:05.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052384433377280 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":86,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:38:05.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052384433377280 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:38:06.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052389261021184 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:38:06.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052389261021184 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:38:06.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052389261021184 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:38:06.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052389261021184 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:38:06.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052389261021184 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:38:06.838 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052389261021184 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:38:06.839 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052389261021184 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:06.840 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052389261021184 [0;39m <==    Columns: id, content
2023-05-13 02:38:06.840 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052389261021184 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:38:06.840 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052389261021184 [0;39m <==      Total: 1
2023-05-13 02:38:06.841 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052389261021184 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:38:06.841 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052389261021184 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:06.842 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052389261021184 [0;39m <==    Updates: 1
2023-05-13 02:38:06.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052389261021184 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:38:06.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052389261021184 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:38:09.656 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:38:10.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052405119684608 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:38:10.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052405119684608 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:38:10.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052405119684608 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:38:10.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052405119684608 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:38:10.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052405119684608 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:38:10.619 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052405119684608 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:38:10.619 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052405119684608 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:10.620 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:38:10.620 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 87, 5
2023-05-13 02:38:10.620 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:38:10.621 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:38:10.621 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:38:10.621 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:38:10.621 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:38:10.622 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:38:10.622 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:38:10.623 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052405119684608 [0;39m <==      Total: 8
2023-05-13 02:38:10.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052405119684608 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":87,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:38:10.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052405119684608 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 02:38:10.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052405383925760 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:38:10.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052405383925760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:38:10.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052405383925760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:38:10.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052405383925760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:38:10.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052405383925760 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:38:10.682 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052405383925760 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:38:10.682 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052405383925760 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:10.682 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052405383925760 [0;39m <==    Columns: id, content
2023-05-13 02:38:10.682 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052405383925760 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:38:10.686 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052405383925760 [0;39m <==      Total: 1
2023-05-13 02:38:10.687 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052405383925760 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:38:10.688 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052405383925760 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:10.691 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052405383925760 [0;39m <==    Updates: 1
2023-05-13 02:38:10.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052405383925760 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:38:10.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052405383925760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 02:38:10.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052406096957440 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:38:10.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052406096957440 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:38:10.851 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052406096957440 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:38:10.851 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052406096957440 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:38:10.851 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052406096957440 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:38:10.852 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052406096957440 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:38:10.853 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052406096957440 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:10.853 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:38:10.853 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 88, 5
2023-05-13 02:38:10.854 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:38:10.855 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:38:10.855 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:38:10.855 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:38:10.856 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:38:10.856 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:38:10.856 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:38:10.856 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052406096957440 [0;39m <==      Total: 8
2023-05-13 02:38:10.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052406096957440 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":88,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:38:10.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052406096957440 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:38:10.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052406398947328 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:38:10.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052406398947328 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:38:10.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052406398947328 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:38:10.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052406398947328 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:38:10.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052406398947328 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:38:10.924 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052406398947328 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:38:10.924 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052406398947328 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:10.926 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052406398947328 [0;39m <==    Columns: id, content
2023-05-13 02:38:10.926 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052406398947328 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:38:10.927 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052406398947328 [0;39m <==      Total: 1
2023-05-13 02:38:10.927 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052406398947328 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:38:10.928 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052406398947328 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:10.930 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052406398947328 [0;39m <==    Updates: 1
2023-05-13 02:38:10.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052406398947328 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:38:10.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052406398947328 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 02:38:15.291 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:38:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052507410370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:38:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052507410370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:38:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052507410370560 [0;39m ==> Parameters: 
2023-05-13 02:38:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052507410370560 [0;39m <==    Updates: 1
2023-05-13 02:38:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052507410370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:38:39.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:38:44.245 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38052612309913600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:39:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052612309913600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:39:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052612309913600 [0;39m ==> Parameters: 
2023-05-13 02:39:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052612309913600 [0;39m <==    Updates: 0
2023-05-13 02:39:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38052612309913600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 02:39:03.776 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052633243684864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:39:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052633243684864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:39:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052633243684864 [0;39m ==> Parameters: 
2023-05-13 02:39:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052633243684864 [0;39m <==    Updates: 1
2023-05-13 02:39:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052633243684864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:39:09.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:12.528 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:27.866 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052759051833344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:39:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052759051833344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:39:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052759051833344 [0;39m ==> Parameters: 
2023-05-13 02:39:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052759051833344 [0;39m <==    Updates: 1
2023-05-13 02:39:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052759051833344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:39:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:42.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:51.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:40:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38052863922016256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:40:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052863922016256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:40:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052863922016256 [0;39m ==> Parameters: 
2023-05-13 02:40:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052863922016256 [0;39m <==    Updates: 0
2023-05-13 02:40:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38052863922016256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:40:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052884918702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:40:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052884918702080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:40:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052884918702080 [0;39m ==> Parameters: 
2023-05-13 02:40:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052884918702080 [0;39m <==    Updates: 1
2023-05-13 02:40:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052884918702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:40:09.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:40:16.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:40:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053010760404992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:40:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053010760404992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:40:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053010760404992 [0;39m ==> Parameters: 
2023-05-13 02:40:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053010760404992 [0;39m <==    Updates: 1
2023-05-13 02:40:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053010760404992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:40:39.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:40:44.091 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:41:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38053115618004992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:41:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053115618004992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:41:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053115618004992 [0;39m ==> Parameters: 
2023-05-13 02:41:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053115618004992 [0;39m <==    Updates: 0
2023-05-13 02:41:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38053115618004992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 02:41:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053136555970560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:41:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053136555970560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:41:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053136555970560 [0;39m ==> Parameters: 
2023-05-13 02:41:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053136555970560 [0;39m <==    Updates: 1
2023-05-13 02:41:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053136555970560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:41:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:41:12.245 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:41:33.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:41:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053262414450688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:41:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053262414450688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:41:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053262414450688 [0;39m ==> Parameters: 
2023-05-13 02:41:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053262414450688 [0;39m <==    Updates: 1
2023-05-13 02:41:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053262414450688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:41:39.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:41:42.051 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:41:57.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:42:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38053367230107648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:42:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053367230107648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:42:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053367230107648 [0;39m ==> Parameters: 
2023-05-13 02:42:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053367230107648 [0;39m <==    Updates: 0
2023-05-13 02:42:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38053367230107648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:42:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053388256153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:42:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053388256153600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:42:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053388256153600 [0;39m ==> Parameters: 
2023-05-13 02:42:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053388256153600 [0;39m <==    Updates: 1
2023-05-13 02:42:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053388256153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:42:09.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:42:12.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:42:21.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:42:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053514026553344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053514026553344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053514026553344 [0;39m ==> Parameters: 
2023-05-13 02:42:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053514026553344 [0;39m <==    Updates: 1
2023-05-13 02:42:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053514026553344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:42:39.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:42:47.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:43:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38053618909319168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:43:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053618909319168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:43:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053618909319168 [0;39m ==> Parameters: 
2023-05-13 02:43:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053618909319168 [0;39m <==    Updates: 0
2023-05-13 02:43:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38053618909319168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:43:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053639876644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:43:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053639876644864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:43:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053639876644864 [0;39m ==> Parameters: 
2023-05-13 02:43:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053639876644864 [0;39m <==    Updates: 1
2023-05-13 02:43:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053639876644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:43:09.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:43:14.099 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:43:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053765714153472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053765714153472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053765714153472 [0;39m ==> Parameters: 
2023-05-13 02:43:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053765714153472 [0;39m <==    Updates: 1
2023-05-13 02:43:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053765714153472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:43:39.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:43:42.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38053870575947776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:44:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053870575947776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:44:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053870575947776 [0;39m ==> Parameters: 
2023-05-13 02:44:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053870575947776 [0;39m <==    Updates: 0
2023-05-13 02:44:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38053870575947776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:44:03.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053891560050688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:44:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053891560050688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:44:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053891560050688 [0;39m ==> Parameters: 
2023-05-13 02:44:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053891560050688 [0;39m <==    Updates: 1
2023-05-13 02:44:05.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053891560050688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 02:44:09.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:12.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:27.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054017405947904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:44:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054017405947904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:44:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054017405947904 [0;39m ==> Parameters: 
2023-05-13 02:44:35.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054017405947904 [0;39m <==    Updates: 1
2023-05-13 02:44:35.028 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054017405947904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 02:44:39.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:42.047 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:51.411 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:45:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38054122225799168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:45:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054122225799168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:45:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054122225799168 [0;39m ==> Parameters: 
2023-05-13 02:45:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054122225799168 [0;39m <==    Updates: 0
2023-05-13 02:45:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38054122225799168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 02:45:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054143188930560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:45:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054143188930560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:45:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054143188930560 [0;39m ==> Parameters: 
2023-05-13 02:45:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054143188930560 [0;39m <==    Updates: 1
2023-05-13 02:45:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054143188930560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 02:45:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:45:16.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:45:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054269022244864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:45:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054269022244864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:45:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054269022244864 [0;39m ==> Parameters: 
2023-05-13 02:45:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054269022244864 [0;39m <==    Updates: 1
2023-05-13 02:45:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054269022244864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:45:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:45:42.046 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:45:44.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38054373900816384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:46:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054373900816384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:46:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054373900816384 [0;39m ==> Parameters: 
2023-05-13 02:46:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054373900816384 [0;39m <==    Updates: 0
2023-05-13 02:46:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38054373900816384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:46:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054394880724992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:46:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054394880724992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:46:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054394880724992 [0;39m ==> Parameters: 
2023-05-13 02:46:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054394880724992 [0;39m <==    Updates: 1
2023-05-13 02:46:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054394880724992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:46:06.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:09.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:10.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:12.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:30.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054520701456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:46:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054520701456384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:46:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054520701456384 [0;39m ==> Parameters: 
2023-05-13 02:46:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054520701456384 [0;39m <==    Updates: 1
2023-05-13 02:46:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054520701456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:46:37.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:39.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:40.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:42.057 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:54.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38054625575833600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:47:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054625575833600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:47:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054625575833600 [0;39m ==> Parameters: 
2023-05-13 02:47:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054625575833600 [0;39m <==    Updates: 0
2023-05-13 02:47:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38054625575833600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:47:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054646492827648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:47:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054646492827648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:47:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054646492827648 [0;39m ==> Parameters: 
2023-05-13 02:47:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054646492827648 [0;39m <==    Updates: 1
2023-05-13 02:47:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054646492827648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:47:07.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:09.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:12.032 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:18.381 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054772330336256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:47:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054772330336256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:47:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054772330336256 [0;39m ==> Parameters: 
2023-05-13 02:47:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054772330336256 [0;39m <==    Updates: 1
2023-05-13 02:47:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054772330336256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:47:39.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:40.040 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:44.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38054877196324864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:48:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054877196324864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:48:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054877196324864 [0;39m ==> Parameters: 
2023-05-13 02:48:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054877196324864 [0;39m <==    Updates: 0
2023-05-13 02:48:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38054877196324864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:48:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054898151067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:48:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054898151067648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:48:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054898151067648 [0;39m ==> Parameters: 
2023-05-13 02:48:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054898151067648 [0;39m <==    Updates: 1
2023-05-13 02:48:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054898151067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:48:08.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:09.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:10.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:14.303 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:32.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055023988576256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:48:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055023988576256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:48:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055023988576256 [0;39m ==> Parameters: 
2023-05-13 02:48:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055023988576256 [0;39m <==    Updates: 1
2023-05-13 02:48:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055023988576256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:48:37.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:39.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:42.047 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:56.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38055128846176256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:49:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055128846176256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:49:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055128846176256 [0;39m ==> Parameters: 
2023-05-13 02:49:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055128846176256 [0;39m <==    Updates: 0
2023-05-13 02:49:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38055128846176256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:49:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055149830279168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055149830279168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055149830279168 [0;39m ==> Parameters: 
2023-05-13 02:49:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055149830279168 [0;39m <==    Updates: 1
2023-05-13 02:49:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055149830279168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:49:07.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:10.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:12.041 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:20.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055275663593472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:49:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055275663593472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:49:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055275663593472 [0;39m ==> Parameters: 
2023-05-13 02:49:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055275663593472 [0;39m <==    Updates: 1
2023-05-13 02:49:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055275663593472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 02:49:39.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:40.010 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:46.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38055380508610560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:50:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055380508610560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:50:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055380508610560 [0;39m ==> Parameters: 
2023-05-13 02:50:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055380508610560 [0;39m <==    Updates: 0
2023-05-13 02:50:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38055380508610560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:50:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055401492713472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:50:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055401492713472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:50:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055401492713472 [0;39m ==> Parameters: 
2023-05-13 02:50:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055401492713472 [0;39m <==    Updates: 1
2023-05-13 02:50:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055401492713472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:50:09.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:14.096 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055527292473344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:50:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055527292473344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:50:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055527292473344 [0;39m ==> Parameters: 
2023-05-13 02:50:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055527292473344 [0;39m <==    Updates: 1
2023-05-13 02:50:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055527292473344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:50:36.132 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:38.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:40.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:42.244 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38055632154267648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:51:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055632154267648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:51:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055632154267648 [0;39m ==> Parameters: 
2023-05-13 02:51:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055632154267648 [0;39m <==    Updates: 0
2023-05-13 02:51:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38055632154267648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:51:00.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055653146759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:51:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055653146759168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:51:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055653146759168 [0;39m ==> Parameters: 
2023-05-13 02:51:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055653146759168 [0;39m <==    Updates: 1
2023-05-13 02:51:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055653146759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:51:07.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:09.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:12.045 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:24.314 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055778975879168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:51:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055778975879168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:51:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055778975879168 [0;39m ==> Parameters: 
2023-05-13 02:51:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055778975879168 [0;39m <==    Updates: 1
2023-05-13 02:51:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055778975879168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:51:39.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:40.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:42.056 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:48.406 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38055883862839296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:52:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055883862839296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:52:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055883862839296 [0;39m ==> Parameters: 
2023-05-13 02:52:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055883862839296 [0;39m <==    Updates: 0
2023-05-13 02:52:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38055883862839296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:52:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055904804999168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:52:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055904804999168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:52:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055904804999168 [0;39m ==> Parameters: 
2023-05-13 02:52:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055904804999168 [0;39m <==    Updates: 1
2023-05-13 02:52:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055904804999168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:52:07.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:09.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:10.014 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:12.045 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:14.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056030621536256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:52:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056030621536256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:52:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056030621536256 [0;39m ==> Parameters: 
2023-05-13 02:52:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056030621536256 [0;39m <==    Updates: 1
2023-05-13 02:52:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056030621536256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:52:38.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:40.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:44.296 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38056135521079296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:53:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056135521079296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:53:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056135521079296 [0;39m ==> Parameters: 
2023-05-13 02:53:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056135521079296 [0;39m <==    Updates: 0
2023-05-13 02:53:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38056135521079296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:53:02.361 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056156438073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:53:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056156438073344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:53:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056156438073344 [0;39m ==> Parameters: 
2023-05-13 02:53:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056156438073344 [0;39m <==    Updates: 1
2023-05-13 02:53:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056156438073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:53:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:10.020 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:12.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:26.437 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056282309136384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:53:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056282309136384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:53:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056282309136384 [0;39m ==> Parameters: 
2023-05-13 02:53:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056282309136384 [0;39m <==    Updates: 1
2023-05-13 02:53:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056282309136384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:53:37.974 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:42.042 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:50.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38056387179319296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:54:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056387179319296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:54:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056387179319296 [0;39m ==> Parameters: 
2023-05-13 02:54:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056387179319296 [0;39m <==    Updates: 0
2023-05-13 02:54:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38056387179319296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:54:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056408125673472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:54:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056408125673472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:54:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056408125673472 [0;39m ==> Parameters: 
2023-05-13 02:54:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056408125673472 [0;39m <==    Updates: 1
2023-05-13 02:54:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056408125673472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:54:07.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:12.512 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:14.564 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:16.616 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056533925433344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:54:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056533925433344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:54:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056533925433344 [0;39m ==> Parameters: 
2023-05-13 02:54:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056533925433344 [0;39m <==    Updates: 1
2023-05-13 02:54:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056533925433344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:54:37.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:42.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:44.096 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38056638804004864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:55:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056638804004864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:55:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056638804004864 [0;39m ==> Parameters: 
2023-05-13 02:55:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056638804004864 [0;39m <==    Updates: 0
2023-05-13 02:55:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38056638804004864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:55:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056659767136256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:55:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056659767136256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:55:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056659767136256 [0;39m ==> Parameters: 
2023-05-13 02:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056659767136256 [0;39m <==    Updates: 1
2023-05-13 02:55:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056659767136256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:55:08.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:09.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:10.229 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:14.304 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:32.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056785625616384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:55:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056785625616384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:55:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056785625616384 [0;39m ==> Parameters: 
2023-05-13 02:55:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056785625616384 [0;39m <==    Updates: 1
2023-05-13 02:55:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056785625616384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:55:39.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:42.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:54.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:56.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38056890499993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:56:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056890499993600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:56:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056890499993600 [0;39m ==> Parameters: 
2023-05-13 02:56:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056890499993600 [0;39m <==    Updates: 0
2023-05-13 02:56:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38056890499993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:56:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056911437959168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:56:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056911437959168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:56:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056911437959168 [0;39m ==> Parameters: 
2023-05-13 02:56:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056911437959168 [0;39m <==    Updates: 1
2023-05-13 02:56:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056911437959168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:56:07.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:09.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:10.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:12.053 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:20.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057037258690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:56:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057037258690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:56:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057037258690560 [0;39m ==> Parameters: 
2023-05-13 02:56:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057037258690560 [0;39m <==    Updates: 1
2023-05-13 02:56:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057037258690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:56:37.976 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:39.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:42.053 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:46.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38057142103707648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:57:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057142103707648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:57:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057142103707648 [0;39m ==> Parameters: 
2023-05-13 02:57:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057142103707648 [0;39m <==    Updates: 0
2023-05-13 02:57:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38057142103707648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:57:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057163092004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:57:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057163092004864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:57:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057163092004864 [0;39m ==> Parameters: 
2023-05-13 02:57:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057163092004864 [0;39m <==    Updates: 1
2023-05-13 02:57:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057163092004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:57:07.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:09.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:10.018 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:12.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:14.090 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057288958873600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:57:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057288958873600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:57:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057288958873600 [0;39m ==> Parameters: 
2023-05-13 02:57:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057288958873600 [0;39m <==    Updates: 1
2023-05-13 02:57:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057288958873600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:57:38.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:39.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:40.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:44.304 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38057393812279296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:58:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057393812279296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:58:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057393812279296 [0;39m ==> Parameters: 
2023-05-13 02:58:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057393812279296 [0;39m <==    Updates: 0
2023-05-13 02:58:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38057393812279296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:58:02.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057414737661952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:58:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057414737661952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:58:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057414737661952 [0;39m ==> Parameters: 
2023-05-13 02:58:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057414737661952 [0;39m <==    Updates: 1
2023-05-13 02:58:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057414737661952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:58:08.387 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:12.789 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:26.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057540575170560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:58:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057540575170560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:58:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057540575170560 [0;39m ==> Parameters: 
2023-05-13 02:58:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057540575170560 [0;39m <==    Updates: 1
2023-05-13 02:58:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057540575170560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:58:39.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:42.068 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:48.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:50.834 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38057645478907904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:59:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057645478907904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:59:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057645478907904 [0;39m ==> Parameters: 
2023-05-13 02:59:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057645478907904 [0;39m <==    Updates: 0
2023-05-13 02:59:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38057645478907904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:59:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057666395901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:59:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057666395901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:59:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057666395901952 [0;39m ==> Parameters: 
2023-05-13 02:59:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057666395901952 [0;39m <==    Updates: 1
2023-05-13 02:59:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057666395901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:59:07.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:10.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:12.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:16.488 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057792229216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:59:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057792229216256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:59:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057792229216256 [0;39m ==> Parameters: 
2023-05-13 02:59:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057792229216256 [0;39m <==    Updates: 1
2023-05-13 02:59:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057792229216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:59:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:40.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:42.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:44.097 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38057897082621952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:00:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057897082621952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:00:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057897082621952 [0;39m ==> Parameters: 
2023-05-13 03:00:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057897082621952 [0;39m <==    Updates: 0
2023-05-13 03:00:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38057897082621952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:00:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057918041559040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:00:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057918041559040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:00:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057918041559040 [0;39m ==> Parameters: 
2023-05-13 03:00:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057918041559040 [0;39m <==    Updates: 1
2023-05-13 03:00:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057918041559040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:00:08.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:12.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:14.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:30.226 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:32.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058043887456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:00:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058043887456256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:00:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058043887456256 [0;39m ==> Parameters: 
2023-05-13 03:00:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058043887456256 [0;39m <==    Updates: 1
2023-05-13 03:00:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058043887456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:00:37.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:39.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:40.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:42.060 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:54.308 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:56.351 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38058148774416384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:01:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058148774416384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:01:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058148774416384 [0;39m ==> Parameters: 
2023-05-13 03:01:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058148774416384 [0;39m <==    Updates: 0
2023-05-13 03:01:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38058148774416384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:01:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058169724964864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:01:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058169724964864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:01:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058169724964864 [0;39m ==> Parameters: 
2023-05-13 03:01:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058169724964864 [0;39m <==    Updates: 1
2023-05-13 03:01:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058169724964864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:01:09.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:10.026 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:12.063 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:18.401 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:20.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058295600222208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:01:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058295600222208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:01:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058295600222208 [0;39m ==> Parameters: 
2023-05-13 03:01:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058295600222208 [0;39m <==    Updates: 1
2023-05-13 03:01:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058295600222208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:01:39.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:42.073 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:44.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:46.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38058400420073472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058400420073472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:02:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058400420073472 [0;39m ==> Parameters: 
2023-05-13 03:02:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058400420073472 [0;39m <==    Updates: 0
2023-05-13 03:02:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38058400420073472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:02:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058421408370688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:02:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058421408370688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:02:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058421408370688 [0;39m ==> Parameters: 
2023-05-13 03:02:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058421408370688 [0;39m <==    Updates: 1
2023-05-13 03:02:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058421408370688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:02:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:10.016 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:12.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:14.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058547237490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:02:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058547237490688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:02:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058547237490688 [0;39m ==> Parameters: 
2023-05-13 03:02:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058547237490688 [0;39m <==    Updates: 1
2023-05-13 03:02:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058547237490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:02:36.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:38.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:42.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:44.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38058652053147648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:03:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058652053147648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:03:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058652053147648 [0;39m ==> Parameters: 
2023-05-13 03:03:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058652053147648 [0;39m <==    Updates: 0
2023-05-13 03:03:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38058652053147648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:03:02.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058673058222080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:03:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058673058222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:03:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058673058222080 [0;39m ==> Parameters: 
2023-05-13 03:03:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058673058222080 [0;39m <==    Updates: 1
2023-05-13 03:03:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058673058222080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:03:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:10.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:12.041 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:26.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058798849593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:03:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058798849593344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:03:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058798849593344 [0;39m ==> Parameters: 
2023-05-13 03:03:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058798849593344 [0;39m <==    Updates: 1
2023-05-13 03:03:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058798849593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:03:39.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:42.046 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:50.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38058903715581952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:04:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058903715581952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:04:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058903715581952 [0;39m ==> Parameters: 
2023-05-13 03:04:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058903715581952 [0;39m <==    Updates: 0
2023-05-13 03:04:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38058903715581952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:04:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058924682907648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:04:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058924682907648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:04:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058924682907648 [0;39m ==> Parameters: 
2023-05-13 03:04:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058924682907648 [0;39m <==    Updates: 1
2023-05-13 03:04:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058924682907648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:04:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:10.014 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:12.048 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:16.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059050524610560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:04:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059050524610560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:04:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059050524610560 [0;39m ==> Parameters: 
2023-05-13 03:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059050524610560 [0;39m <==    Updates: 1
2023-05-13 03:04:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059050524610560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:04:37.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:40.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:42.059 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:44.098 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38059155407376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:05:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059155407376384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:05:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059155407376384 [0;39m ==> Parameters: 
2023-05-13 03:05:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059155407376384 [0;39m <==    Updates: 0
2023-05-13 03:05:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38059155407376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 03:05:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059176366313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:05:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059176366313472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:05:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059176366313472 [0;39m ==> Parameters: 
2023-05-13 03:05:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059176366313472 [0;39m <==    Updates: 1
2023-05-13 03:05:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059176366313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:05:08.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:09.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:10.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:14.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:32.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059302203822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:05:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059302203822080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:05:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059302203822080 [0;39m ==> Parameters: 
2023-05-13 03:05:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059302203822080 [0;39m <==    Updates: 1
2023-05-13 03:05:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059302203822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:05:37.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:39.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:40.014 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:42.047 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:56.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38059407078199296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:06:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059407078199296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:06:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059407078199296 [0;39m ==> Parameters: 
2023-05-13 03:06:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059407078199296 [0;39m <==    Updates: 0
2023-05-13 03:06:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38059407078199296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 03:06:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059427999387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:06:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059427999387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:06:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059427999387648 [0;39m ==> Parameters: 
2023-05-13 03:06:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059427999387648 [0;39m <==    Updates: 1
2023-05-13 03:06:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059427999387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:06:07.989 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:12.104 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:21.464 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:35.145 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059554428293120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:06:35.209 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059554428293120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:06:35.209 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059554428293120 [0;39m ==> Parameters: 
2023-05-13 03:06:35.211 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059554428293120 [0;39m <==    Updates: 1
2023-05-13 03:06:35.211 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059554428293120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š65æ¯«ç§’
2023-05-13 03:06:39.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:40.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:42.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:44.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:46.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:07:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38059658715467776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:07:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059658715467776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:07:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059658715467776 [0;39m ==> Parameters: 
2023-05-13 03:07:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059658715467776 [0;39m <==    Updates: 0
2023-05-13 03:07:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38059658715467776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 03:07:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059679686987776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:07:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059679686987776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:07:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059679686987776 [0;39m ==> Parameters: 
2023-05-13 03:07:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059679686987776 [0;39m <==    Updates: 1
2023-05-13 03:07:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059679686987776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:07:07.987 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:07:09.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:07:14.375 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:07:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059805507719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059805507719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:07:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059805507719168 [0;39m ==> Parameters: 
2023-05-13 03:07:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059805507719168 [0;39m <==    Updates: 1
2023-05-13 03:07:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059805507719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:07:38.464 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:07:39.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:07:44.580 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38059910369513472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:08:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059910369513472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:08:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059910369513472 [0;39m ==> Parameters: 
2023-05-13 03:08:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059910369513472 [0;39m <==    Updates: 0
2023-05-13 03:08:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38059910369513472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:08:02.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059931311673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:08:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059931311673344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:08:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059931311673344 [0;39m ==> Parameters: 
2023-05-13 03:08:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059931311673344 [0;39m <==    Updates: 1
2023-05-13 03:08:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059931311673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:08:09.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:12.723 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:27.031 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060057199513600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:08:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060057199513600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:08:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060057199513600 [0;39m ==> Parameters: 
2023-05-13 03:08:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060057199513600 [0;39m <==    Updates: 1
2023-05-13 03:08:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060057199513600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:08:39.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:40.543 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:43.032 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:51.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38060162010976256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:09:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060162010976256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:09:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060162010976256 [0;39m ==> Parameters: 
2023-05-13 03:09:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060162010976256 [0;39m <==    Updates: 0
2023-05-13 03:09:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38060162010976256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:09:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060183028633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:09:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060183028633600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:09:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060183028633600 [0;39m ==> Parameters: 
2023-05-13 03:09:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060183028633600 [0;39m <==    Updates: 1
2023-05-13 03:09:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060183028633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 03:09:07.987 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:09.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:12.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:14.083 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:16.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:35.054 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060309021331456 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:09:35.058 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060309021331456 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:09:35.059 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060309021331456 [0;39m ==> Parameters: 
2023-05-13 03:09:35.087 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060309021331456 [0;39m <==    Updates: 1
2023-05-13 03:09:35.088 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060309021331456 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2023-05-13 03:09:39.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:42.389 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38060413665021952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:10:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060413665021952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:10:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060413665021952 [0;39m ==> Parameters: 
2023-05-13 03:10:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060413665021952 [0;39m <==    Updates: 0
2023-05-13 03:10:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38060413665021952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:10:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060434665902080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:10:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060434665902080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:10:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060434665902080 [0;39m ==> Parameters: 
2023-05-13 03:10:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060434665902080 [0;39m <==    Updates: 1
2023-05-13 03:10:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060434665902080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 03:10:06.887 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:09.694 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:13.795 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:31.493 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060560474050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:10:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060560474050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:10:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060560474050560 [0;39m ==> Parameters: 
2023-05-13 03:10:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060560474050560 [0;39m <==    Updates: 1
2023-05-13 03:10:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060560474050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:10:39.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:42.887 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:53.886 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:56.426 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38060665365204992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:11:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060665365204992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:11:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060665365204992 [0;39m ==> Parameters: 
2023-05-13 03:11:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060665365204992 [0;39m <==    Updates: 0
2023-05-13 03:11:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38060665365204992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 03:11:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060686345113600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:11:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060686345113600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:11:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060686345113600 [0;39m ==> Parameters: 
2023-05-13 03:11:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060686345113600 [0;39m <==    Updates: 1
2023-05-13 03:11:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060686345113600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:11:08.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:09.483 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:12.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:21.003 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060812161650688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:11:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060812161650688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:11:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060812161650688 [0;39m ==> Parameters: 
2023-05-13 03:11:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060812161650688 [0;39m <==    Updates: 1
2023-05-13 03:11:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060812161650688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:11:37.994 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:39.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:42.121 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:46.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38060916973113344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:12:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060916973113344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:12:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060916973113344 [0;39m ==> Parameters: 
2023-05-13 03:12:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060916973113344 [0;39m <==    Updates: 0
2023-05-13 03:12:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38060916973113344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:12:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060937965604864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:12:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060937965604864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:12:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060937965604864 [0;39m ==> Parameters: 
2023-05-13 03:12:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060937965604864 [0;39m <==    Updates: 1
2023-05-13 03:12:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060937965604864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 03:12:07.992 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:12.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:14.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061063782141952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:12:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061063782141952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:12:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061063782141952 [0;39m ==> Parameters: 
2023-05-13 03:12:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061063782141952 [0;39m <==    Updates: 1
2023-05-13 03:12:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061063782141952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:12:36.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:38.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:39.740 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:40.387 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:42.443 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:44.515 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38061168673296384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:13:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061168673296384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:13:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061168673296384 [0;39m ==> Parameters: 
2023-05-13 03:13:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061168673296384 [0;39m <==    Updates: 0
2023-05-13 03:13:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38061168673296384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:13:00.452 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:02.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061189653204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:13:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061189653204992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:13:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061189653204992 [0;39m ==> Parameters: 
2023-05-13 03:13:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061189653204992 [0;39m <==    Updates: 1
2023-05-13 03:13:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061189653204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:13:09.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:12.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:24.542 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:26.579 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061315440381952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:13:35.062 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061315440381952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:13:35.063 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061315440381952 [0;39m ==> Parameters: 
2023-05-13 03:13:35.072 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061315440381952 [0;39m <==    Updates: 1
2023-05-13 03:13:35.073 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061315440381952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š15æ¯«ç§’
2023-05-13 03:13:39.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:40.039 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:42.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:50.690 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38061420352507904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:14:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061420352507904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:14:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061420352507904 [0;39m ==> Parameters: 
2023-05-13 03:14:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061420352507904 [0;39m <==    Updates: 0
2023-05-13 03:14:00.030 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38061420352507904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š14æ¯«ç§’
2023-05-13 03:14:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061441294667776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:14:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061441294667776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:14:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061441294667776 [0;39m ==> Parameters: 
2023-05-13 03:14:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061441294667776 [0;39m <==    Updates: 1
2023-05-13 03:14:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061441294667776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 03:14:07.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:12.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:16.154 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061567140564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:14:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061567140564992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:14:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061567140564992 [0;39m ==> Parameters: 
2023-05-13 03:14:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061567140564992 [0;39m <==    Updates: 1
2023-05-13 03:14:35.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061567140564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 03:14:39.566 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:42.044 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:44.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38061671989776384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:15:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061671989776384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:15:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061671989776384 [0;39m ==> Parameters: 
2023-05-13 03:15:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061671989776384 [0;39m <==    Updates: 0
2023-05-13 03:15:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38061671989776384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 03:15:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061692961296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:15:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061692961296384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:15:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061692961296384 [0;39m ==> Parameters: 
2023-05-13 03:15:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061692961296384 [0;39m <==    Updates: 1
2023-05-13 03:15:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061692961296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 03:15:08.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:09.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:14.459 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:32.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061818794610688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:15:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061818794610688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:15:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061818794610688 [0;39m ==> Parameters: 
2023-05-13 03:15:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061818794610688 [0;39m <==    Updates: 1
2023-05-13 03:15:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061818794610688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:15:39.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:42.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:56.242 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38061923627044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:16:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061923627044864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:16:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061923627044864 [0;39m ==> Parameters: 
2023-05-13 03:16:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061923627044864 [0;39m <==    Updates: 0
2023-05-13 03:16:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38061923627044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:16:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061944632119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:16:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061944632119296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:16:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061944632119296 [0;39m ==> Parameters: 
2023-05-13 03:16:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061944632119296 [0;39m <==    Updates: 1
2023-05-13 03:16:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061944632119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:16:09.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:12.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:18.306 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:20.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062070465433600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:16:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062070465433600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:16:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062070465433600 [0;39m ==> Parameters: 
2023-05-13 03:16:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062070465433600 [0;39m <==    Updates: 1
2023-05-13 03:16:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062070465433600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:16:39.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:42.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:46.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:17:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38062175272701952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:17:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062175272701952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:17:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062175272701952 [0;39m ==> Parameters: 
2023-05-13 03:17:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062175272701952 [0;39m <==    Updates: 0
2023-05-13 03:17:00.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38062175272701952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2023-05-13 03:17:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062196286164992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062196286164992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062196286164992 [0;39m ==> Parameters: 
2023-05-13 03:17:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062196286164992 [0;39m <==    Updates: 1
2023-05-13 03:17:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062196286164992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:17:09.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:17:12.729 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:17:34.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:17:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062322123673600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:17:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062322123673600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:17:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062322123673600 [0;39m ==> Parameters: 
2023-05-13 03:17:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062322123673600 [0;39m <==    Updates: 1
2023-05-13 03:17:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062322123673600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 03:17:39.474 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:17:43.566 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:17:58.990 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38062426922553344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:18:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062426922553344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:18:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062426922553344 [0;39m ==> Parameters: 
2023-05-13 03:18:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062426922553344 [0;39m <==    Updates: 0
2023-05-13 03:18:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38062426922553344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 03:18:01.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062447944404992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:18:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062447944404992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:18:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062447944404992 [0;39m ==> Parameters: 
2023-05-13 03:18:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062447944404992 [0;39m <==    Updates: 1
2023-05-13 03:18:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062447944404992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:18:09.346 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:13.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:25.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062573748359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:18:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062573748359168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:18:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062573748359168 [0;39m ==> Parameters: 
2023-05-13 03:18:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062573748359168 [0;39m <==    Updates: 1
2023-05-13 03:18:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062573748359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:18:39.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:42.087 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:49.794 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:19:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38062678593376256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:19:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062678593376256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:19:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062678593376256 [0;39m ==> Parameters: 
2023-05-13 03:19:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062678593376256 [0;39m <==    Updates: 0
2023-05-13 03:19:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38062678593376256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:19:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062699556507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:19:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062699556507648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:19:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062699556507648 [0;39m ==> Parameters: 
2023-05-13 03:19:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062699556507648 [0;39m <==    Updates: 1
2023-05-13 03:19:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062699556507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:19:09.790 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:19:12.455 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:19:16.529 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:19:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062825414987776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:19:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062825414987776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:19:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062825414987776 [0;39m ==> Parameters: 
2023-05-13 03:19:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062825414987776 [0;39m <==    Updates: 1
2023-05-13 03:19:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062825414987776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:19:39.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:19:42.510 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:19:44.542 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38062930306142208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:20:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062930306142208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:20:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062930306142208 [0;39m ==> Parameters: 
2023-05-13 03:20:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062930306142208 [0;39m <==    Updates: 0
2023-05-13 03:20:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38062930306142208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:20:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062951223136256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:20:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062951223136256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:20:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062951223136256 [0;39m ==> Parameters: 
2023-05-13 03:20:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062951223136256 [0;39m <==    Updates: 1
2023-05-13 03:20:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062951223136256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:20:09.208 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:12.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:31.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:33.725 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38063077043867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:20:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063077043867648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:20:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063077043867648 [0;39m ==> Parameters: 
2023-05-13 03:20:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063077043867648 [0;39m <==    Updates: 1
2023-05-13 03:20:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38063077043867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:20:39.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:42.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:58.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:21:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38063181943410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:21:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063181943410688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:21:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063181943410688 [0;39m ==> Parameters: 
2023-05-13 03:21:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063181943410688 [0;39m <==    Updates: 0
2023-05-13 03:21:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38063181943410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 03:21:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38063202910736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063202910736384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:21:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063202910736384 [0;39m ==> Parameters: 
2023-05-13 03:21:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063202910736384 [0;39m <==    Updates: 1
2023-05-13 03:21:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38063202910736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:21:09.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:21:12.064 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:21:22.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:21:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38063328739856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:21:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063328739856384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:21:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063328739856384 [0;39m ==> Parameters: 
2023-05-13 03:21:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063328739856384 [0;39m <==    Updates: 1
2023-05-13 03:21:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38063328739856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:21:39.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:21:42.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:21:46.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:22:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38063433622622208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:22:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063433622622208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:22:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063433622622208 [0;39m ==> Parameters: 
2023-05-13 03:22:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063433622622208 [0;39m <==    Updates: 0
2023-05-13 03:22:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38063433622622208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:22:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38063454581559296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:22:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063454581559296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:22:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063454581559296 [0;39m ==> Parameters: 
2023-05-13 03:22:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063454581559296 [0;39m <==    Updates: 1
2023-05-13 03:22:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38063454581559296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:22:09.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:22:12.096 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:22:14.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:22:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38063580364541952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:22:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063580364541952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:22:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063580364541952 [0;39m ==> Parameters: 
2023-05-13 03:22:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063580364541952 [0;39m <==    Updates: 1
2023-05-13 03:22:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38063580364541952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:22:39.843 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:22:43.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:23:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38063685259890688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:23:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063685259890688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:23:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063685259890688 [0;39m ==> Parameters: 
2023-05-13 03:23:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063685259890688 [0;39m <==    Updates: 0
2023-05-13 03:23:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38063685259890688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:23:04.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:23:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38063706227216384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:23:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063706227216384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:23:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063706227216384 [0;39m ==> Parameters: 
2023-05-13 03:23:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063706227216384 [0;39m <==    Updates: 1
2023-05-13 03:23:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38063706227216384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:23:09.359 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:23:12.491 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:23:15.403 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š9LIS1wj8z0ï¼Œsession idï¼š4ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 03:23:15.591 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 03:23:15.627 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-13 03:23:15.639 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-13 03:23:15.657 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-13 03:23:15.950 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-13 03:23:16.243 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-13 03:23:16.244 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-13 03:23:52.136 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-13 03:23:52.176 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 17392 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-13 03:23:52.178 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-13 03:23:52.321 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-13 03:23:52.322 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-13 03:23:56.431 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-13 03:23:56.443 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-13 03:23:56.510 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 42 ms. Found 0 Redis repository interfaces.
2023-05-13 03:23:57.454 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$7f409db3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:23:57.480 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.004 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.006 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$217b12b4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.008 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.013 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.020 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.020 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.035 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.046 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.047 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.211 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.221 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.252 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.257 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.327 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:13.210 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:13.294 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:15.924 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-13 03:24:15.944 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-13 03:24:15.945 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-13 03:24:15.945 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-13 03:24:16.707 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-13 03:24:16.708 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 24385 ms
2023-05-13 03:24:19.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:24:19.772 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:24:23.376 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-13 03:24:25.177 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-13 03:24:25.691 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-13 03:24:33.548 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:24:33.760 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 03:24:33.760 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-13 03:24:33.777 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-13 03:24:33.796 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-13 03:24:33.955 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 42.702 seconds (JVM running for 45.9)
2023-05-13 03:24:33.959 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-13 03:24:33.963 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-13 03:24:35.038 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064083827822592 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:24:35.136 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38064083827822592 [0;39m HikariPool-1 - Starting...
2023-05-13 03:24:38.549 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38064083827822592 [0;39m HikariPool-1 - Start completed.
2023-05-13 03:24:38.570 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064083827822592 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:24:38.688 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064083827822592 [0;39m ==> Parameters: 
2023-05-13 03:24:38.695 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064083827822592 [0;39m <==    Updates: 1
2023-05-13 03:24:38.698 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064083827822592 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3659æ¯«ç§’
2023-05-13 03:24:40.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:24:45.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:24:46.066 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-13 03:24:46.066 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-13 03:24:46.068 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-13 03:24:46.247 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šVg1R9ApsDsï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 03:24:46.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064132020375552 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:46.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064132020375552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 03:24:46.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064132020375552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 03:24:46.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064132020375552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:46.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064132313976832 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:46.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064132313976832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 03:24:46.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064132313976832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 03:24:46.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064132313976832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:46.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064132330754048 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:46.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064132330754048 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 03:24:46.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064132330754048 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 03:24:46.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064132330754048 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:46.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064132020375552 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 03:24:46.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064132330754048 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 03:24:46.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064132313976832 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 03:24:46.804 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38064132313976832 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 03:24:46.805 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38064132313976832 [0;39m ==> Parameters: 
2023-05-13 03:24:46.816 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38064132020375552 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 03:24:47.178 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38064132020375552 [0;39m ==> Parameters: 
2023-05-13 03:24:47.199 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38064132020375552 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 03:24:47.200 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38064132020375552 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 03:24:47.203 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38064132313976832 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 03:24:47.204 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38064132313976832 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 03:24:47.204 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38064132020375552 [0;39m <==        Row: 2023-05-13, 114, 10, 46, 0
2023-05-13 03:24:47.219 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38064132330754048 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 03:24:47.337 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38064132313976832 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 03:24:47.337 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38064132020375552 [0;39m <==      Total: 2
2023-05-13 03:24:47.338 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38064132313976832 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 03:24:47.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38064132313976832 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 03:24:47.339 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38064132330754048 [0;39m ==> Parameters: 
2023-05-13 03:24:47.339 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38064132313976832 [0;39m <==      Total: 4
2023-05-13 03:24:47.346 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 03:24:47.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 03:24:47.349 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 03:24:47.349 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 03:24:47.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 03:24:47.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 03:24:47.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 03:24:47.351 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 03:24:47.352 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 03:24:47.352 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 03:24:47.352 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 03:24:47.353 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 03:24:47.353 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 03:24:47.354 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 03:24:47.354 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 03:24:47.354 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 03:24:47.355 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38064132330754048 [0;39m <==      Total: 15
2023-05-13 03:24:47.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064132330754048 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 03:24:47.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064132313976832 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 03:24:47.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064132330754048 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š770 ms -------------
2023-05-13 03:24:47.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064132313976832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š773 ms -------------
2023-05-13 03:24:47.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064132020375552 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":114,"viewIncrease":46,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 03:24:47.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064132020375552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š846 ms -------------
2023-05-13 03:24:50.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064147191173120 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:50.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064147191173120 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 03:24:50.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064147191173120 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 03:24:50.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064147191173120 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:50.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064147191173120 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-13 03:24:50.233 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38064147191173120 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 03:24:50.234 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38064147191173120 [0;39m ==> Parameters: 201(Long)
2023-05-13 03:24:50.236 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38064147191173120 [0;39m <==    Columns: count(0)
2023-05-13 03:24:50.237 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38064147191173120 [0;39m <==        Row: 0
2023-05-13 03:24:50.237 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38064147191173120 [0;39m <==      Total: 1
2023-05-13 03:24:50.240 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38064147191173120 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-13 03:24:50.241 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38064147191173120 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-13 03:24:50.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064147191173120 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-13 03:24:50.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064147191173120 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š99 ms -------------
2023-05-13 03:24:52.083 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 03:24:52.083 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 03:24:52.091 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 03:24:52.092 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/logout/38031679427842048
2023-05-13 03:24:52.092 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38031679427842048
2023-05-13 03:24:52.520 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38031679427842048"}
2023-05-13 03:24:52.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064157202976768 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:52.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064157202976768 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/logout/38031679427842048 GET
2023-05-13 03:24:52.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064157202976768 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.logout
2023-05-13 03:24:52.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064157202976768 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:52.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064157202976768 [0;39m è¯·æ±‚å‚æ•°: ["38031679427842048"]
2023-05-13 03:24:52.576 INFO  com.jiawa.wiki.controller.UserController          :97   [32m38064157202976768 [0;39m ä»Žredisä¸­åˆ é™¤token: 38031679427842048
2023-05-13 03:24:52.576 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064157202976768 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 03:24:52.576 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064157202976768 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š44 ms -------------
2023-05-13 03:24:52.580 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38064157202976768 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š488 ms -------------
2023-05-13 03:24:54.893 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064167101534208 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:54.893 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064167101534208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-13 03:24:54.893 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064167101534208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-13 03:24:54.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064167101534208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:54.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064167101534208 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2023-05-13 03:24:54.907 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38064167101534208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-13 03:24:54.908 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38064167101534208 [0;39m ==> Parameters: test(String)
2023-05-13 03:24:54.909 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38064167101534208 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 03:24:54.910 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38064167101534208 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 03:24:54.912 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38064167101534208 [0;39m <==      Total: 1
2023-05-13 03:24:54.918 INFO  com.jiawa.wiki.controller.UserController          :86   [32m38064167101534208 [0;39m ç”Ÿæˆå•ç‚¹ç™»å½•tokenï¼š38064167210586112ï¼Œå¹¶æ”¾å…¥redisä¸­
2023-05-13 03:24:55.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064167101534208 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38064167210586112"},"success":true}
2023-05-13 03:24:55.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064167101534208 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š153 ms -------------
2023-05-13 03:24:58.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064181278281728 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:58.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064181278281728 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 03:24:58.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064181278281728 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 03:24:58.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064181278281728 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:58.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064181278281728 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-13 03:24:58.279 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38064181278281728 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 03:24:58.280 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38064181278281728 [0;39m ==> Parameters: 202(Long)
2023-05-13 03:24:58.281 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38064181278281728 [0;39m <==    Columns: count(0)
2023-05-13 03:24:58.281 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38064181278281728 [0;39m <==        Row: 1
2023-05-13 03:24:58.282 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38064181278281728 [0;39m <==      Total: 1
2023-05-13 03:24:58.285 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38064181278281728 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 03:24:58.285 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38064181278281728 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-13 03:24:58.287 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38064181278281728 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 03:24:58.288 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38064181278281728 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 114, 10
2023-05-13 03:24:58.288 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38064181278281728 [0;39m <==      Total: 1
2023-05-13 03:24:58.289 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38064181278281728 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 03:24:58.289 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38064181278281728 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 03:24:58.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064181278281728 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":114,"voteCount":10}],"total":1},"success":true}
2023-05-13 03:24:58.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064181278281728 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š28 ms -------------
2023-05-13 03:24:59.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064184902160384 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:59.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064184902160384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:24:59.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064184902160384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:24:59.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064184902160384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:59.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064184902160384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:24:59.146 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064184902160384 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:24:59.146 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064184902160384 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:24:59.148 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:24:59.148 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 89, 5
2023-05-13 03:24:59.149 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:24:59.149 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:24:59.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:24:59.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:24:59.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:24:59.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:24:59.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:24:59.151 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064184902160384 [0;39m <==      Total: 8
2023-05-13 03:24:59.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064184902160384 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":89,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:24:59.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064184902160384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š26 ms -------------
2023-05-13 03:24:59.297 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064185577443328 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:59.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064185577443328 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:24:59.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064185577443328 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:24:59.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064185577443328 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:59.301 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064185577443328 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:24:59.302 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064185577443328 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:24:59.303 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064185577443328 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:24:59.305 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064185577443328 [0;39m <==    Columns: id, content
2023-05-13 03:24:59.306 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064185577443328 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:24:59.306 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064185577443328 [0;39m <==      Total: 1
2023-05-13 03:24:59.308 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064185577443328 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:24:59.309 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064185577443328 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:24:59.312 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064185577443328 [0;39m <==    Updates: 1
2023-05-13 03:24:59.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064185577443328 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:24:59.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064185577443328 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-13 03:25:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38064188542816256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:25:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064188542816256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:25:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064188542816256 [0;39m ==> Parameters: 
2023-05-13 03:25:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064188542816256 [0;39m <==    Updates: 0
2023-05-13 03:25:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38064188542816256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 03:25:02.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:04.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064209547890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:25:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064209547890688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:25:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064209547890688 [0;39m ==> Parameters: 
2023-05-13 03:25:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064209547890688 [0;39m <==    Updates: 1
2023-05-13 03:25:05.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064209547890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š14æ¯«ç§’
2023-05-13 03:25:08.449 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:10.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:15.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:26.508 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:28.549 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064335360233472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:25:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064335360233472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:25:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064335360233472 [0;39m ==> Parameters: 
2023-05-13 03:25:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064335360233472 [0;39m <==    Updates: 1
2023-05-13 03:25:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064335360233472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:25:35.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:39.406 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:45.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:50.604 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:52.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38064440242999296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:26:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064440242999296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:26:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064440242999296 [0;39m ==> Parameters: 
2023-05-13 03:26:00.113 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064440242999296 [0;39m <==    Updates: 0
2023-05-13 03:26:00.113 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38064440242999296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š98æ¯«ç§’
2023-05-13 03:26:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064461185159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:26:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064461185159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:26:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064461185159168 [0;39m ==> Parameters: 
2023-05-13 03:26:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064461185159168 [0;39m <==    Updates: 1
2023-05-13 03:26:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064461185159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 03:26:09.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:15.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:17.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:19.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064522619129856 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:26:19.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064522619129856 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:26:19.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064522619129856 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:26:19.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064522619129856 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:26:19.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064522619129856 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:26:19.658 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064522619129856 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:26:19.659 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064522619129856 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:26:19.660 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:26:19.660 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 90, 5
2023-05-13 03:26:19.661 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:26:19.661 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:26:19.662 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:26:19.662 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:26:19.663 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:26:19.663 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:26:19.664 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:26:19.667 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064522619129856 [0;39m <==      Total: 8
2023-05-13 03:26:19.672 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064522619129856 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":90,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:26:19.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064522619129856 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š19 ms -------------
2023-05-13 03:26:20.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064524582064128 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:26:20.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064524582064128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:26:20.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064524582064128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:26:20.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064524582064128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:26:20.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064524582064128 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:26:20.129 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064524582064128 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:26:20.130 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064524582064128 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:26:20.133 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064524582064128 [0;39m <==    Columns: id, content
2023-05-13 03:26:20.133 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064524582064128 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:26:20.134 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064524582064128 [0;39m <==      Total: 1
2023-05-13 03:26:20.134 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064524582064128 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:26:20.135 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064524582064128 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:26:20.156 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064524582064128 [0;39m <==    Updates: 1
2023-05-13 03:26:20.157 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064524582064128 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:26:20.157 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064524582064128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š35 ms -------------
2023-05-13 03:26:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064587018473472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:26:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064587018473472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:26:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064587018473472 [0;39m ==> Parameters: 
2023-05-13 03:26:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064587018473472 [0;39m <==    Updates: 1
2023-05-13 03:26:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064587018473472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 03:26:35.605 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:38.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064601962778624 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:26:38.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064601962778624 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:26:38.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064601962778624 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:26:38.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064601962778624 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:26:38.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064601962778624 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:26:38.580 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064601962778624 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:26:38.581 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064601962778624 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:26:38.583 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:26:38.583 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 91, 5
2023-05-13 03:26:38.583 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:26:38.584 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:26:38.584 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:26:38.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:26:38.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:26:38.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:26:38.586 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:26:38.587 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064601962778624 [0;39m <==      Total: 8
2023-05-13 03:26:38.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064601962778624 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":91,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:26:38.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064601962778624 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-13 03:26:38.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064603103629312 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:26:38.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064603103629312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:26:38.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064603103629312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:26:38.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064603103629312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:26:38.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064603103629312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:26:38.845 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064603103629312 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:26:38.845 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064603103629312 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:26:38.848 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064603103629312 [0;39m <==    Columns: id, content
2023-05-13 03:26:38.848 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064603103629312 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:26:38.849 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064603103629312 [0;39m <==      Total: 1
2023-05-13 03:26:38.849 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064603103629312 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:26:38.850 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064603103629312 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:26:38.852 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064603103629312 [0;39m <==    Updates: 1
2023-05-13 03:26:38.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064603103629312 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:26:38.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064603103629312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 03:26:40.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:42.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:44.085 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:45.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38064691871879168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:27:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064691871879168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:27:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064691871879168 [0;39m ==> Parameters: 
2023-05-13 03:27:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064691871879168 [0;39m <==    Updates: 0
2023-05-13 03:27:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38064691871879168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 03:27:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064712868564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:27:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064712868564992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:27:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064712868564992 [0;39m ==> Parameters: 
2023-05-13 03:27:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064712868564992 [0;39m <==    Updates: 1
2023-05-13 03:27:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064712868564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 03:27:07.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:09.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:11.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:15.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:33.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064838689296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:27:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064838689296384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:27:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064838689296384 [0;39m ==> Parameters: 
2023-05-13 03:27:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064838689296384 [0;39m <==    Updates: 1
2023-05-13 03:27:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064838689296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:27:35.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:38.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:42.513 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:45.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:53.700 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38064184902160384 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šVg1R9ApsDsï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 03:28:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38064943504953344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:28:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064943504953344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:28:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064943504953344 [0;39m ==> Parameters: 
2023-05-13 03:28:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064943504953344 [0;39m <==    Updates: 0
2023-05-13 03:28:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38064943504953344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š18æ¯«ç§’
2023-05-13 03:28:00.628 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:28:00.941 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38064185577443328 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š5u2XRef5Stï¼Œsession idï¼š1ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 03:28:01.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064949225984000 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:28:01.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064949225984000 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:28:01.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064949225984000 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:28:01.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064949225984000 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:28:01.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064949225984000 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:28:01.370 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064949225984000 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:28:01.370 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064949225984000 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:28:01.372 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:28:01.372 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 92, 5
2023-05-13 03:28:01.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:28:01.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:28:01.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:28:01.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:28:01.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:28:01.374 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:28:01.374 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:28:01.374 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064949225984000 [0;39m <==      Total: 8
2023-05-13 03:28:01.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064949225984000 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":92,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:28:01.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064949225984000 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 03:28:01.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064950165508096 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:28:01.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064950165508096 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:28:01.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064950165508096 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:28:01.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064950165508096 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:28:01.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064950165508096 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:28:01.590 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064950165508096 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:28:01.591 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064950165508096 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:28:01.592 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064950165508096 [0;39m <==    Columns: id, content
2023-05-13 03:28:01.592 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064950165508096 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:28:01.593 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064950165508096 [0;39m <==      Total: 1
2023-05-13 03:28:01.593 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064950165508096 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:28:01.595 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064950165508096 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:28:01.604 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064950165508096 [0;39m <==    Updates: 1
2023-05-13 03:28:01.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064950165508096 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:28:01.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064950165508096 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-13 03:28:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064964510027776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:28:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064964510027776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:28:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064964510027776 [0;39m ==> Parameters: 
2023-05-13 03:28:05.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064964510027776 [0;39m <==    Updates: 1
2023-05-13 03:28:05.032 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064964510027776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š22æ¯«ç§’
2023-05-13 03:28:09.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:28:11.898 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38064147191173120 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 03:28:11.899 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38064147191173120 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 03:28:11.972 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38064522619129856 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:250)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:417)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:364)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:123)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:66)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:491)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1255)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1037)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-13 03:28:11.978 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38064522619129856 [0;39m Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported]
2023-05-13 03:28:15.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:28:25.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:28:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065090360119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:28:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065090360119296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:28:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065090360119296 [0;39m ==> Parameters: 
2023-05-13 03:28:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065090360119296 [0;39m <==    Updates: 1
2023-05-13 03:28:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065090360119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:28:36.303 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š5u2XRef5Stï¼Œsession idï¼š1ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 03:28:36.417 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 03:28:36.421 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-13 03:28:36.422 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-13 03:28:36.423 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-13 03:28:36.447 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-13 03:28:36.599 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:28:36.602 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-13 03:28:36.603 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-13 03:28:57.509 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-13 03:28:57.527 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 19240 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-13 03:28:57.549 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-13 03:28:57.679 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-13 03:28:57.680 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-13 03:28:59.166 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-13 03:28:59.172 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-13 03:28:59.215 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2023-05-13 03:28:59.850 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$c94d8f5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:28:59.871 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.308 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.312 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$aecf4df6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.313 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.332 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.340 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.341 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.347 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.351 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.354 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.394 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.402 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.414 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.429 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.469 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:05.445 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:05.447 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:06.748 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-13 03:29:06.770 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-13 03:29:06.776 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-13 03:29:06.776 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-13 03:29:07.155 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-13 03:29:07.155 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 9474 ms
2023-05-13 03:29:07.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:07.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:09.346 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-13 03:29:10.476 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-13 03:29:10.641 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-13 03:29:14.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:16.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:16.268 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 03:29:16.281 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-13 03:29:16.295 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-13 03:29:16.309 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-13 03:29:16.334 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 19.878 seconds (JVM running for 22.677)
2023-05-13 03:29:16.343 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-13 03:29:16.343 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-13 03:29:18.308 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:20.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065341976416256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:29:35.032 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38065341976416256 [0;39m HikariPool-1 - Starting...
2023-05-13 03:29:36.500 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38065341976416256 [0;39m HikariPool-1 - Start completed.
2023-05-13 03:29:36.507 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065341976416256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:29:36.536 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065341976416256 [0;39m ==> Parameters: 
2023-05-13 03:29:36.546 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065341976416256 [0;39m <==    Updates: 1
2023-05-13 03:29:36.550 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065341976416256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1546æ¯«ç§’
2023-05-13 03:29:37.497 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:39.893 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:44.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38065446821433344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:30:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065446821433344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:30:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065446821433344 [0;39m ==> Parameters: 
2023-05-13 03:30:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065446821433344 [0;39m <==    Updates: 0
2023-05-13 03:30:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38065446821433344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š22æ¯«ç§’
2023-05-13 03:30:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065467847479296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:30:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065467847479296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:30:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065467847479296 [0;39m ==> Parameters: 
2023-05-13 03:30:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065467847479296 [0;39m <==    Updates: 1
2023-05-13 03:30:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065467847479296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 03:30:05.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:07.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:07.801 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:09.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:11.868 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065593684987904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:30:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065593684987904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:30:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065593684987904 [0;39m ==> Parameters: 
2023-05-13 03:30:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065593684987904 [0;39m <==    Updates: 1
2023-05-13 03:30:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065593684987904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 03:30:35.982 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:37.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:38.033 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:42.658 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:58.032 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38065698517422080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:31:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065698517422080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:31:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065698517422080 [0;39m ==> Parameters: 
2023-05-13 03:31:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065698517422080 [0;39m <==    Updates: 0
2023-05-13 03:31:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38065698517422080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 03:31:00.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065719472164864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:31:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065719472164864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:31:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065719472164864 [0;39m ==> Parameters: 
2023-05-13 03:31:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065719472164864 [0;39m <==    Updates: 1
2023-05-13 03:31:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065719472164864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:31:05.766 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:07.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:07.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:10.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:22.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:24.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065845301284864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:31:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065845301284864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:31:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065845301284864 [0;39m ==> Parameters: 
2023-05-13 03:31:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065845301284864 [0;39m <==    Updates: 1
2023-05-13 03:31:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065845301284864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:31:35.766 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:37.514 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:39.883 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:48.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38065950205022208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:32:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065950205022208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:32:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065950205022208 [0;39m ==> Parameters: 
2023-05-13 03:32:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065950205022208 [0;39m <==    Updates: 0
2023-05-13 03:32:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38065950205022208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 03:32:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065971147182080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:32:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065971147182080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:32:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065971147182080 [0;39m ==> Parameters: 
2023-05-13 03:32:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065971147182080 [0;39m <==    Updates: 1
2023-05-13 03:32:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065971147182080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:32:08.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:08.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:10.381 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-13 03:32:10.381 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-13 03:32:10.386 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 5 ms
2023-05-13 03:32:10.834 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:11.131 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼škZxDsL5qsgï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 03:32:11.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38065998070419456 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:32:11.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38065998070419456 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:32:11.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38065998070419456 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:32:11.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38065998070419456 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:32:11.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38065998070419456 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:32:12.204 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38065998070419456 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:32:12.222 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38065998070419456 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:32:12.244 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:32:12.244 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 93, 5
2023-05-13 03:32:12.246 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:32:12.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:32:12.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:32:12.248 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:32:12.248 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:32:12.249 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:32:12.249 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:32:12.250 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38065998070419456 [0;39m <==      Total: 8
2023-05-13 03:32:12.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38065998070419456 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":93,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:32:12.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38065998070419456 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š867 ms -------------
2023-05-13 03:32:12.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38066002612850688 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:32:12.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38066002612850688 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:32:12.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38066002612850688 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:32:12.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38066002612850688 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:32:12.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38066002612850688 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:32:12.514 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066002612850688 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:32:12.515 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066002612850688 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:32:12.525 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38066002612850688 [0;39m <==    Columns: id, content
2023-05-13 03:32:12.525 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38066002612850688 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:32:12.526 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066002612850688 [0;39m <==      Total: 1
2023-05-13 03:32:12.527 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066002612850688 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:32:12.528 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066002612850688 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:32:12.530 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066002612850688 [0;39m <==    Updates: 1
2023-05-13 03:32:12.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38066002612850688 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:32:12.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38066002612850688 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š19 ms -------------
2023-05-13 03:32:12.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:15.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:20.886 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m                  [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:250)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:417)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:364)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:123)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:66)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:491)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1255)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1037)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-13 03:32:20.889 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m                  [0;39m Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported]
2023-05-13 03:32:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38066096951136256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:32:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066096951136256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:32:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066096951136256 [0;39m ==> Parameters: 
2023-05-13 03:32:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066096951136256 [0;39m <==    Updates: 1
2023-05-13 03:32:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38066096951136256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 03:32:37.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:40.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:42.725 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:00.068 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38066202077171712 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:33:00.070 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38066202077171712 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:33:00.072 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38066202077171712 [0;39m ==> Parameters: 
2023-05-13 03:33:00.078 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38066202077171712 [0;39m <==    Updates: 0
2023-05-13 03:33:00.079 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38066202077171712 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 03:33:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38066222784450560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:33:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066222784450560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:33:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066222784450560 [0;39m ==> Parameters: 
2023-05-13 03:33:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066222784450560 [0;39m <==    Updates: 1
2023-05-13 03:33:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38066222784450560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:33:06.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38066227956027392 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:33:06.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38066227956027392 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:33:06.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38066227956027392 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:33:06.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38066227956027392 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:33:06.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38066227956027392 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:33:06.241 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38066227956027392 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:33:06.242 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38066227956027392 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:06.243 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:33:06.243 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 94, 5
2023-05-13 03:33:06.245 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:33:06.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:33:06.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:33:06.249 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:33:06.250 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:33:06.250 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:33:06.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:33:06.254 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38066227956027392 [0;39m <==      Total: 8
2023-05-13 03:33:06.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38066227956027392 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":94,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:33:06.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38066227956027392 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š20 ms -------------
2023-05-13 03:33:06.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38066230090928128 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:33:06.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38066230090928128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:33:06.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38066230090928128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:33:06.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38066230090928128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:33:06.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38066230090928128 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:33:06.751 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066230090928128 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:33:06.753 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066230090928128 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:06.756 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38066230090928128 [0;39m <==    Columns: id, content
2023-05-13 03:33:06.756 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38066230090928128 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:33:06.756 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066230090928128 [0;39m <==      Total: 1
2023-05-13 03:33:06.757 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066230090928128 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:33:06.757 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066230090928128 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:06.778 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066230090928128 [0;39m <==    Updates: 1
2023-05-13 03:33:06.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38066230090928128 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:33:06.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38066230090928128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š35 ms -------------
2023-05-13 03:33:07.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:10.896 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:14.791 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 03:33:14.792 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 03:33:14.817 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m                  [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:250)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:417)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:364)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:123)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:66)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:491)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1255)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1037)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-13 03:33:14.825 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m                  [0;39m Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported]
2023-05-13 03:33:32.562 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38066348638736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:33:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066348638736384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:33:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066348638736384 [0;39m ==> Parameters: 
2023-05-13 03:33:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066348638736384 [0;39m <==    Updates: 1
2023-05-13 03:33:35.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38066348638736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-13 03:33:37.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38066357610352640 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:33:37.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38066357610352640 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:33:37.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38066357610352640 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:33:37.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38066357610352640 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:33:37.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38066357610352640 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:33:37.156 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38066357610352640 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:33:37.157 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38066357610352640 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:37.158 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:33:37.159 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 95, 5
2023-05-13 03:33:37.161 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:33:37.161 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:33:37.162 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:33:37.162 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:33:37.162 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:33:37.163 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:33:37.163 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:33:37.164 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38066357610352640 [0;39m <==      Total: 8
2023-05-13 03:33:37.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38066357610352640 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":95,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:33:37.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38066357610352640 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-13 03:33:37.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:37.860 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38066360588308480 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:33:37.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38066360588308480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:33:37.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38066360588308480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:33:37.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38066360588308480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:33:37.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38066360588308480 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:33:37.864 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066360588308480 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:33:37.865 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066360588308480 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:37.865 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38066360588308480 [0;39m <==    Columns: id, content
2023-05-13 03:33:37.866 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38066360588308480 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:33:37.866 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066360588308480 [0;39m <==      Total: 1
2023-05-13 03:33:37.867 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066360588308480 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:33:37.868 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066360588308480 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:37.877 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066360588308480 [0;39m <==    Updates: 1
2023-05-13 03:33:37.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38066360588308480 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:33:37.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38066360588308480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-13 03:33:38.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:40.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:44.180 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38065998070419456 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 03:33:44.180 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38065998070419456 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 03:33:44.180 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38065998070419456 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38064167210586112
2023-05-13 03:33:44.553 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38065998070419456 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38064167210586112"}
2023-05-13 03:33:44.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38066389130547200 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:33:44.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38066389130547200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 03:33:44.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38066389130547200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 03:33:44.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38066389130547200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:33:44.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38066389130547200 [0;39m è¯·æ±‚å‚æ•°: [{"content":"good","ebookId":1,"userId":1}]
2023-05-13 03:33:44.673 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38066389130547200 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 03:33:44.673 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38066389130547200 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:44.676 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38066389130547200 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 03:33:44.676 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38066389130547200 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 03:33:44.677 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38066389130547200 [0;39m <==      Total: 1
2023-05-13 03:33:44.677 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38066389130547200 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 03:33:44.678 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38066389130547200 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:44.679 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38066389130547200 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 03:33:44.679 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38066389130547200 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 120, 10
2023-05-13 03:33:44.679 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38066389130547200 [0;39m <==      Total: 1
2023-05-13 03:33:44.680 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38066389130547200 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 03:33:44.682 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38066389130547200 [0;39m ==> Parameters: null, 1(Long), 1(Long), good(String), 2023-05-13 03:33:44.68(Timestamp), null
2023-05-13 03:33:44.685 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38066389130547200 [0;39m <==    Updates: 1
2023-05-13 03:33:44.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38066389130547200 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 03:33:44.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38066389130547200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-13 03:33:44.687 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38066389130547200 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š507 ms -------------
2023-05-13 03:33:56.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:34:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38066453462781952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:34:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38066453462781952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:34:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38066453462781952 [0;39m ==> Parameters: 
2023-05-13 03:34:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38066453462781952 [0;39m <==    Updates: 0
2023-05-13 03:34:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38066453462781952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 03:34:05.055 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38066474652405760 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:34:05.056 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066474652405760 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:34:05.057 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066474652405760 [0;39m ==> Parameters: 
2023-05-13 03:34:05.063 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066474652405760 [0;39m <==    Updates: 1
2023-05-13 03:34:05.063 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38066474652405760 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 03:34:05.737 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:58:25.607 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-13 16:58:25.610 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 12268 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-13 16:58:25.611 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-13 16:58:25.685 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-13 16:58:25.686 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-13 16:58:27.065 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-13 16:58:27.070 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-13 16:58:27.109 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2023-05-13 16:58:27.542 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$a3ab26a2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:27.582 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.101 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.103 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$45e59ba3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.105 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.106 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.111 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.112 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.114 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.117 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.118 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.145 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.147 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.152 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.156 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:29.181 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:33.447 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:33.449 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 16:58:34.489 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-13 16:58:34.499 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-13 16:58:34.499 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-13 16:58:34.499 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-13 16:58:34.669 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-13 16:58:34.669 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 8981 ms
2023-05-13 16:58:35.927 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:58:35.926 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:58:36.942 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-13 16:58:38.125 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-13 16:58:38.213 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-13 16:58:40.866 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:58:42.919 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 16:58:42.919 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-13 16:58:42.950 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:58:42.951 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-13 16:58:43.003 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-13 16:58:43.063 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 18.07 seconds (JVM running for 21.626)
2023-05-13 16:58:43.128 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-13 16:58:43.134 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-13 16:58:45.041 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:58:47.067 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:59:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38269038417285120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 16:59:00.037 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38269038417285120 [0;39m HikariPool-1 - Starting...
2023-05-13 16:59:00.832 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38269038417285120 [0;39m HikariPool-1 - Start completed.
2023-05-13 16:59:00.838 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38269038417285120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 16:59:00.879 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38269038417285120 [0;39m ==> Parameters: 
2023-05-13 16:59:00.898 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38269038417285120 [0;39m <==    Updates: 0
2023-05-13 16:59:00.901 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38269038417285120 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š881æ¯«ç§’
2023-05-13 16:59:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38269059334279168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 16:59:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269059334279168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 16:59:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269059334279168 [0;39m ==> Parameters: 
2023-05-13 16:59:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269059334279168 [0;39m <==    Updates: 1
2023-05-13 16:59:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38269059334279168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 16:59:05.507 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:59:08.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:59:10.796 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:59:12.844 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:59:34.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:59:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38269185142427648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 16:59:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269185142427648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 16:59:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269185142427648 [0;39m ==> Parameters: 
2023-05-13 16:59:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269185142427648 [0;39m <==    Updates: 1
2023-05-13 16:59:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38269185142427648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 16:59:35.511 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:59:36.784 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 16:59:38.927 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:00:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38269290050359296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:00:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38269290050359296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:00:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38269290050359296 [0;39m ==> Parameters: 
2023-05-13 17:00:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38269290050359296 [0;39m <==    Updates: 0
2023-05-13 17:00:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38269290050359296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:00:00.905 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:00:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38269311013490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:00:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269311013490688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:00:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269311013490688 [0;39m ==> Parameters: 
2023-05-13 17:00:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269311013490688 [0;39m <==    Updates: 1
2023-05-13 17:00:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38269311013490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:00:05.496 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:00:09.068 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:00:24.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:00:27.020 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:00:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38269436821639168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:00:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269436821639168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:00:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269436821639168 [0;39m ==> Parameters: 
2023-05-13 17:00:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269436821639168 [0;39m <==    Updates: 1
2023-05-13 17:00:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38269436821639168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:00:35.508 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:00:38.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:00:49.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:00:51.142 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:01:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38269541675044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:01:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38269541675044864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:01:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38269541675044864 [0;39m ==> Parameters: 
2023-05-13 17:01:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38269541675044864 [0;39m <==    Updates: 0
2023-05-13 17:01:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38269541675044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:01:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38269562633981952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:01:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269562633981952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:01:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269562633981952 [0;39m ==> Parameters: 
2023-05-13 17:01:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269562633981952 [0;39m <==    Updates: 1
2023-05-13 17:01:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38269562633981952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:01:05.505 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:01:08.705 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:01:15.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:01:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38269688505044992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:01:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269688505044992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:01:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269688505044992 [0;39m ==> Parameters: 
2023-05-13 17:01:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269688505044992 [0;39m <==    Updates: 1
2023-05-13 17:01:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38269688505044992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:01:35.514 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:01:36.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:01:38.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:01:40.783 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:02:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38269793337479168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38269793337479168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:02:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38269793337479168 [0;39m ==> Parameters: 
2023-05-13 17:02:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38269793337479168 [0;39m <==    Updates: 0
2023-05-13 17:02:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38269793337479168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:02:03.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:02:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38269814338359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:02:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269814338359296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:02:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269814338359296 [0;39m ==> Parameters: 
2023-05-13 17:02:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269814338359296 [0;39m <==    Updates: 1
2023-05-13 17:02:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38269814338359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:02:05.390 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:02:06.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:02:10.071 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:02:30.794 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:02:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38269940112953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:02:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269940112953344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:02:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269940112953344 [0;39m ==> Parameters: 
2023-05-13 17:02:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38269940112953344 [0;39m <==    Updates: 1
2023-05-13 17:02:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38269940112953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:02:35.784 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:02:39.498 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:02:53.090 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:02:55.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:03:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38270044970553344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:03:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38270044970553344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:03:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38270044970553344 [0;39m ==> Parameters: 
2023-05-13 17:03:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38270044970553344 [0;39m <==    Updates: 0
2023-05-13 17:03:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38270044970553344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:03:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38270066004987904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:03:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270066004987904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:03:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270066004987904 [0;39m ==> Parameters: 
2023-05-13 17:03:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270066004987904 [0;39m <==    Updates: 1
2023-05-13 17:03:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38270066004987904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:03:05.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:03:09.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:03:19.584 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:03:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38270191796359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:03:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270191796359168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:03:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270191796359168 [0;39m ==> Parameters: 
2023-05-13 17:03:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270191796359168 [0;39m <==    Updates: 1
2023-05-13 17:03:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38270191796359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 17:03:35.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:03:36.659 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:03:38.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:03:43.798 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:04:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38270296737845248 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:04:00.034 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38270296737845248 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:04:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38270296737845248 [0;39m ==> Parameters: 
2023-05-13 17:04:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38270296737845248 [0;39m <==    Updates: 0
2023-05-13 17:04:00.045 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38270296737845248 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-13 17:04:04.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:04:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38270317642256384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:04:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270317642256384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:04:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270317642256384 [0;39m ==> Parameters: 
2023-05-13 17:04:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270317642256384 [0;39m <==    Updates: 1
2023-05-13 17:04:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38270317642256384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:04:05.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:04:10.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:04:33.002 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:04:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38270443437821952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:04:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270443437821952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:04:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270443437821952 [0;39m ==> Parameters: 
2023-05-13 17:04:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270443437821952 [0;39m <==    Updates: 1
2023-05-13 17:04:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38270443437821952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:04:35.500 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:04:39.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:04:58.063 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:05:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38270548295421952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:05:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38270548295421952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:05:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38270548295421952 [0;39m ==> Parameters: 
2023-05-13 17:05:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38270548295421952 [0;39m <==    Updates: 0
2023-05-13 17:05:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38270548295421952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:05:00.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:05:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38270569292107776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:05:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270569292107776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:05:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270569292107776 [0;39m ==> Parameters: 
2023-05-13 17:05:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270569292107776 [0;39m <==    Updates: 1
2023-05-13 17:05:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38270569292107776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:05:05.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:05:08.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:05:22.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:05:24.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:05:35.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38270695179948032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:05:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270695179948032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:05:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270695179948032 [0;39m ==> Parameters: 
2023-05-13 17:05:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270695179948032 [0;39m <==    Updates: 1
2023-05-13 17:05:35.027 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38270695179948032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:05:35.500 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:05:38.894 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:05:46.641 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:05:49.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:06:00.034 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38270800083685376 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:06:00.034 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38270800083685376 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:06:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38270800083685376 [0;39m ==> Parameters: 
2023-05-13 17:06:00.038 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38270800083685376 [0;39m <==    Updates: 0
2023-05-13 17:06:00.039 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38270800083685376 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:06:04.877 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:06:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38270820971319296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:06:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270820971319296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:06:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270820971319296 [0;39m ==> Parameters: 
2023-05-13 17:06:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270820971319296 [0;39m <==    Updates: 1
2023-05-13 17:06:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38270820971319296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:06:05.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:06:09.758 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:06:12.081 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:06:14.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:06:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38270946771079168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:06:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270946771079168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:06:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270946771079168 [0;39m ==> Parameters: 
2023-05-13 17:06:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38270946771079168 [0;39m <==    Updates: 1
2023-05-13 17:06:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38270946771079168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:06:35.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:06:38.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:06:41.107 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:07:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38271051649650688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:07:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38271051649650688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:07:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38271051649650688 [0;39m ==> Parameters: 
2023-05-13 17:07:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38271051649650688 [0;39m <==    Updates: 0
2023-05-13 17:07:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38271051649650688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:07:03.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:07:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38271072625364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:07:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271072625364992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:07:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271072625364992 [0;39m ==> Parameters: 
2023-05-13 17:07:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271072625364992 [0;39m <==    Updates: 1
2023-05-13 17:07:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38271072625364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:07:05.495 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:07:09.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:07:28.236 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:07:30.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:07:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38271198475456512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:07:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271198475456512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:07:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271198475456512 [0;39m ==> Parameters: 
2023-05-13 17:07:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271198475456512 [0;39m <==    Updates: 1
2023-05-13 17:07:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38271198475456512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:07:35.514 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:07:36.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:07:38.716 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:07:52.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:07:54.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:08:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38271303278530560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:08:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38271303278530560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:08:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38271303278530560 [0;39m ==> Parameters: 
2023-05-13 17:08:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38271303278530560 [0;39m <==    Updates: 0
2023-05-13 17:08:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38271303278530560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:08:04.656 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:08:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38271324287799296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:08:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271324287799296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:08:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271324287799296 [0;39m ==> Parameters: 
2023-05-13 17:08:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271324287799296 [0;39m <==    Updates: 1
2023-05-13 17:08:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38271324287799296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:08:05.526 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:08:06.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:08:08.734 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:08:18.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:08:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38271450100142080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:08:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271450100142080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:08:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271450100142080 [0;39m ==> Parameters: 
2023-05-13 17:08:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271450100142080 [0;39m <==    Updates: 1
2023-05-13 17:08:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38271450100142080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:08:35.505 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:08:38.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:08:40.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:08:42.808 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:09:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38271554915799040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:09:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38271554915799040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:09:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38271554915799040 [0;39m ==> Parameters: 
2023-05-13 17:09:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38271554915799040 [0;39m <==    Updates: 0
2023-05-13 17:09:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38271554915799040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:09:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38271575899901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:09:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271575899901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:09:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271575899901952 [0;39m ==> Parameters: 
2023-05-13 17:09:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271575899901952 [0;39m <==    Updates: 1
2023-05-13 17:09:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38271575899901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:09:05.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:09:09.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:09:33.598 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:09:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38271701775159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:09:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271701775159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:09:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271701775159296 [0;39m ==> Parameters: 
2023-05-13 17:09:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271701775159296 [0;39m <==    Updates: 1
2023-05-13 17:09:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38271701775159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:09:35.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:09:38.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:09:40.437 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:09:58.577 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:10:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38271806636953600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:10:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38271806636953600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:10:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38271806636953600 [0;39m ==> Parameters: 
2023-05-13 17:10:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38271806636953600 [0;39m <==    Updates: 0
2023-05-13 17:10:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38271806636953600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:10:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38271827608473600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:10:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271827608473600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:10:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271827608473600 [0;39m ==> Parameters: 
2023-05-13 17:10:05.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271827608473600 [0;39m <==    Updates: 1
2023-05-13 17:10:05.030 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38271827608473600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-13 17:10:05.037 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:10:05.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:10:09.933 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:10:22.930 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:10:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38271953433399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:10:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271953433399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:10:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271953433399296 [0;39m ==> Parameters: 
2023-05-13 17:10:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38271953433399296 [0;39m <==    Updates: 1
2023-05-13 17:10:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38271953433399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:10:35.967 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:10:39.537 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:10:45.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:10:47.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:11:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38272058265833472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38272058265833472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:11:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38272058265833472 [0;39m ==> Parameters: 
2023-05-13 17:11:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38272058265833472 [0;39m <==    Updates: 0
2023-05-13 17:11:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38272058265833472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 17:11:04.778 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:11:05.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38272079300268032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:11:05.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38272079300268032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:11:05.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38272079300268032 [0;39m ==> Parameters: 
2023-05-13 17:11:05.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38272079300268032 [0;39m <==    Updates: 1
2023-05-13 17:11:05.030 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38272079300268032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 17:11:05.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:11:09.922 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:11:14.738 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:11:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38272205053890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:11:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38272205053890560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38272205053890560 [0;39m ==> Parameters: 
2023-05-13 17:11:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38272205053890560 [0;39m <==    Updates: 1
2023-05-13 17:11:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38272205053890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:11:35.887 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:11:37.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:11:40.176 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 17:11:40.179 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-13 17:11:40.181 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-13 17:11:40.182 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-13 17:11:40.265 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-13 17:11:40.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:11:40.325 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-13 17:11:40.326 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-13 17:14:03.861 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-13 17:14:03.907 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 18700 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-13 17:14:03.908 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-13 17:14:04.160 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-13 17:14:04.161 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-13 17:14:06.281 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-13 17:14:06.285 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-13 17:14:06.369 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 48 ms. Found 0 Redis repository interfaces.
2023-05-13 17:14:07.063 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$b1900682] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:07.101 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:08.847 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:08.850 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$53ca7b83] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:08.851 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:08.855 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:08.860 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:08.862 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:08.865 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:08.871 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:08.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:08.941 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:08.943 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:08.947 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:08.959 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:09.021 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:13.629 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:13.631 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:14:15.085 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-13 17:14:15.117 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-13 17:14:15.119 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-13 17:14:15.120 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-13 17:14:15.407 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-13 17:14:15.408 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 11246 ms
2023-05-13 17:14:16.663 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:14:16.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:14:17.913 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-13 17:14:19.383 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-13 17:14:19.636 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-13 17:14:23.936 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:14:26.306 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:14:26.312 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 17:14:26.312 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-13 17:14:26.344 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-13 17:14:26.368 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-13 17:14:26.413 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 23.582 seconds (JVM running for 26.958)
2023-05-13 17:14:26.419 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-13 17:14:26.419 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-13 17:14:31.106 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:14:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38272960078942208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:14:35.056 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38272960078942208 [0;39m HikariPool-1 - Starting...
2023-05-13 17:14:36.786 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38272960078942208 [0;39m HikariPool-1 - Start completed.
2023-05-13 17:14:36.795 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38272960078942208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:14:36.833 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38272960078942208 [0;39m ==> Parameters: 
2023-05-13 17:14:36.838 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38272960078942208 [0;39m <==    Updates: 1
2023-05-13 17:14:36.840 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38272960078942208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1819æ¯«ç§’
2023-05-13 17:14:44.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:14:46.026 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:14:46.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:14:49.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:14:53.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:14:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:15:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38273064919764992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:15:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38273064919764992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:15:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38273064919764992 [0;39m ==> Parameters: 
2023-05-13 17:15:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38273064919764992 [0;39m <==    Updates: 0
2023-05-13 17:15:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38273064919764992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:15:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38273085878702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:15:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273085878702080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:15:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273085878702080 [0;39m ==> Parameters: 
2023-05-13 17:15:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273085878702080 [0;39m <==    Updates: 1
2023-05-13 17:15:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38273085878702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:15:16.053 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:15:16.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:15:18.427 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:15:23.136 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:15:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38273211724599296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:15:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273211724599296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:15:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273211724599296 [0;39m ==> Parameters: 
2023-05-13 17:15:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273211724599296 [0;39m <==    Updates: 1
2023-05-13 17:15:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38273211724599296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:15:43.878 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:15:45.716 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:15:47.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:15:50.004 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:16:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38273316573810688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:16:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38273316573810688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:16:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38273316573810688 [0;39m ==> Parameters: 
2023-05-13 17:16:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38273316573810688 [0;39m <==    Updates: 0
2023-05-13 17:16:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38273316573810688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:16:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38273337566302208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:16:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273337566302208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:16:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273337566302208 [0;39m ==> Parameters: 
2023-05-13 17:16:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273337566302208 [0;39m <==    Updates: 1
2023-05-13 17:16:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38273337566302208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:16:15.848 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:16:15.948 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:16:20.431 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:16:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38273463374450688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:16:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273463374450688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:16:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273463374450688 [0;39m ==> Parameters: 
2023-05-13 17:16:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273463374450688 [0;39m <==    Updates: 1
2023-05-13 17:16:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38273463374450688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 17:16:40.099 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:16:41.172 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-13 17:16:41.173 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-13 17:16:41.175 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-13 17:16:41.292 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šuWGxssiDUqï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 17:16:41.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38273490259939328 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:16:41.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38273490259939328 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 17:16:41.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38273490264133633 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:16:41.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38273490264133632 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:16:41.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38273490259939328 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 17:16:41.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38273490259939328 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:16:41.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38273490264133632 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 17:16:41.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38273490264133632 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 17:16:41.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38273490264133632 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:16:41.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38273490264133633 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 17:16:41.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38273490264133633 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 17:16:41.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38273490264133633 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:16:41.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38273490264133633 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 17:16:41.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38273490259939328 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 17:16:41.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38273490264133632 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 17:16:41.546 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38273490259939328 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 17:16:41.546 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38273490264133633 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 17:16:41.547 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38273490264133633 [0;39m ==> Parameters: 
2023-05-13 17:16:41.547 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38273490259939328 [0;39m ==> Parameters: 
2023-05-13 17:16:41.773 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38273490264133632 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 17:16:41.774 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38273490264133632 [0;39m ==> Parameters: 
2023-05-13 17:16:41.776 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38273490259939328 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 17:16:41.776 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38273490264133633 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 17:16:41.777 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38273490259939328 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 17:16:41.778 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38273490264133633 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 17:16:41.780 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38273490264133633 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 17:16:41.780 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38273490259939328 [0;39m <==        Row: 2023-05-13, 121, 10, 53, 0
2023-05-13 17:16:41.780 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 17:16:41.780 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38273490259939328 [0;39m <==      Total: 2
2023-05-13 17:16:41.780 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 17:16:41.780 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38273490264133633 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 17:16:41.781 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38273490264133633 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 17:16:41.781 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 17:16:41.781 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38273490264133633 [0;39m <==      Total: 4
2023-05-13 17:16:41.781 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 17:16:41.781 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 17:16:41.782 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 17:16:41.782 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 17:16:41.783 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 17:16:41.783 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 17:16:41.785 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 17:16:41.785 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 17:16:41.785 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 17:16:41.786 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 17:16:41.786 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 17:16:41.786 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 17:16:41.787 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38273490264133632 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 17:16:41.787 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38273490264133632 [0;39m <==      Total: 15
2023-05-13 17:16:41.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38273490264133632 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 17:16:41.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38273490264133632 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š413 ms -------------
2023-05-13 17:16:41.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38273490264133633 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 17:16:41.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38273490264133633 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š425 ms -------------
2023-05-13 17:16:41.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38273490259939328 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":121,"viewIncrease":53,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 17:16:41.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38273490259939328 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š426 ms -------------
2023-05-13 17:16:45.875 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:16:46.432 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:16:48.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38273519666204672 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:16:48.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38273519666204672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-13 17:16:48.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38273519666204672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-13 17:16:48.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38273519666204672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:16:48.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38273519666204672 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2023-05-13 17:16:48.499 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38273519666204672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-13 17:16:48.500 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38273519666204672 [0;39m ==> Parameters: test(String)
2023-05-13 17:16:48.507 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38273519666204672 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 17:16:48.508 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38273519666204672 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 17:16:48.509 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38273519666204672 [0;39m <==      Total: 1
2023-05-13 17:16:48.516 INFO  com.jiawa.wiki.controller.UserController          :86   [32m38273519666204672 [0;39m ç”Ÿæˆå•ç‚¹ç™»å½•tokenï¼š38273520014331904ï¼Œå¹¶æ”¾å…¥redisä¸­
2023-05-13 17:16:48.788 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:16:48.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38273519666204672 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38273520014331904"},"success":true}
2023-05-13 17:16:48.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38273519666204672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š552 ms -------------
2023-05-13 17:16:51.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38273532823736320 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:16:51.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38273532823736320 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 17:16:51.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38273532823736320 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 17:16:51.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38273532823736320 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:16:51.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38273532823736320 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-13 17:16:51.630 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38273532823736320 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 17:16:51.633 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38273532823736320 [0;39m ==> Parameters: 201(Long)
2023-05-13 17:16:51.635 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38273532823736320 [0;39m <==    Columns: count(0)
2023-05-13 17:16:51.636 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38273532823736320 [0;39m <==        Row: 0
2023-05-13 17:16:51.637 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38273532823736320 [0;39m <==      Total: 1
2023-05-13 17:16:51.639 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38273532823736320 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-13 17:16:51.639 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38273532823736320 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-13 17:16:51.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38273532823736320 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-13 17:16:51.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38273532823736320 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š73 ms -------------
2023-05-13 17:16:52.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38273534761504768 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:16:52.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38273534761504768 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 17:16:52.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38273534761504768 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 17:16:52.035 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38273534761504768 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:16:52.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38273534761504768 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-13 17:16:52.038 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38273534761504768 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 17:16:52.038 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38273534761504768 [0;39m ==> Parameters: 202(Long)
2023-05-13 17:16:52.039 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38273534761504768 [0;39m <==    Columns: count(0)
2023-05-13 17:16:52.040 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38273534761504768 [0;39m <==        Row: 1
2023-05-13 17:16:52.040 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38273534761504768 [0;39m <==      Total: 1
2023-05-13 17:16:52.042 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38273534761504768 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 17:16:52.043 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38273534761504768 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-13 17:16:52.044 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38273534761504768 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 17:16:52.044 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38273534761504768 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 121, 10
2023-05-13 17:16:52.045 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38273534761504768 [0;39m <==      Total: 1
2023-05-13 17:16:52.045 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38273534761504768 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 17:16:52.045 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38273534761504768 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 17:16:52.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38273534761504768 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":121,"voteCount":10}],"total":1},"success":true}
2023-05-13 17:16:52.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38273534761504768 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š24 ms -------------
2023-05-13 17:16:52.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38273538767065088 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:16:52.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38273538767065088 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:16:52.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38273538767065088 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:16:52.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38273538767065088 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:16:52.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38273538767065088 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:16:52.997 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38273538767065088 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:16:52.997 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38273538767065088 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:16:53.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273538767065088 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:16:53.001 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273538767065088 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 96, 5
2023-05-13 17:16:53.001 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273538767065088 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:16:53.002 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273538767065088 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:16:53.002 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273538767065088 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:16:53.002 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273538767065088 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:16:53.003 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273538767065088 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:16:53.003 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273538767065088 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:16:53.003 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273538767065088 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:16:53.004 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38273538767065088 [0;39m <==      Total: 8
2023-05-13 17:16:53.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38273538767065088 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":96,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:16:53.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38273538767065088 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š26 ms -------------
2023-05-13 17:16:53.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38273539782086656 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:16:53.230 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38273539782086656 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:16:53.231 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38273539782086656 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:16:53.231 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38273539782086656 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:16:53.231 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38273539782086656 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:16:53.234 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38273539782086656 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:16:53.235 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38273539782086656 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:16:53.252 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38273539782086656 [0;39m <==    Columns: id, content
2023-05-13 17:16:53.252 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38273539782086656 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:16:53.253 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38273539782086656 [0;39m <==      Total: 1
2023-05-13 17:16:53.255 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38273539782086656 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:16:53.256 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38273539782086656 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:16:53.259 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38273539782086656 [0;39m <==    Updates: 1
2023-05-13 17:16:53.260 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38273539782086656 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:16:53.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38273539782086656 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š32 ms -------------
2023-05-13 17:16:54.931 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 17:16:54.931 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 17:16:54.963 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38273519666204672 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 17:16:54.963 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38273519666204672 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/comments
2023-05-13 17:16:54.963 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38273519666204672 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38273520014331904
2023-05-13 17:16:55.084 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38273519666204672 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38273520014331904"}
2023-05-13 17:16:55.092 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38273519666204672 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š129 ms -------------
2023-05-13 17:16:55.098 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38273519666204672 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 17:16:55.098 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38273519666204672 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/error
2023-05-13 17:16:55.098 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38273519666204672 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38273520014331904
2023-05-13 17:16:55.119 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38273519666204672 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38273520014331904"}
2023-05-13 17:16:55.133 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38273519666204672 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š35 ms -------------
2023-05-13 17:17:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38273568206884864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:17:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38273568206884864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:17:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38273568206884864 [0;39m ==> Parameters: 
2023-05-13 17:17:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38273568206884864 [0;39m <==    Updates: 0
2023-05-13 17:17:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38273568206884864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:17:02.152 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:17:04.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:17:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38273589216153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:17:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273589216153600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:17:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273589216153600 [0;39m ==> Parameters: 
2023-05-13 17:17:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273589216153600 [0;39m <==    Updates: 1
2023-05-13 17:17:05.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38273589216153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 17:17:14.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:17:15.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:17:16.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:17:18.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:17:28.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38273688986062848 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:17:28.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38273688986062848 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:17:28.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38273688986062848 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:17:28.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38273688986062848 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:17:28.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38273688986062848 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:17:28.807 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38273688986062848 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:17:28.807 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38273688986062848 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:17:28.808 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273688986062848 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:17:28.809 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273688986062848 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 97, 5
2023-05-13 17:17:28.809 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273688986062848 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:17:28.809 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273688986062848 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:17:28.810 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273688986062848 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:17:28.810 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273688986062848 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:17:28.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273688986062848 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:17:28.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273688986062848 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:17:28.812 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38273688986062848 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:17:28.814 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38273688986062848 [0;39m <==      Total: 8
2023-05-13 17:17:28.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38273688986062848 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":97,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:17:28.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38273688986062848 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-13 17:17:28.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38273689401298944 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:17:28.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38273689401298944 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:17:28.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38273689401298944 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:17:28.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38273689401298944 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:17:28.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38273689401298944 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:17:28.903 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38273689401298944 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:17:28.903 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38273689401298944 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:17:28.907 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38273689401298944 [0;39m <==    Columns: id, content
2023-05-13 17:17:28.907 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38273689401298944 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:17:28.908 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38273689401298944 [0;39m <==      Total: 1
2023-05-13 17:17:28.909 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38273689401298944 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:17:28.909 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38273689401298944 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:17:28.912 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38273689401298944 [0;39m <==    Updates: 1
2023-05-13 17:17:28.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38273689401298944 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:17:28.913 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38273689401298944 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 17:17:29.112 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:17:31.944 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 17:17:31.945 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š1 ms -------------
2023-05-13 17:17:31.986 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38273534761504768 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 17:17:31.987 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38273534761504768 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/comments
2023-05-13 17:17:31.987 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38273534761504768 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38273520014331904
2023-05-13 17:17:32.037 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38273534761504768 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38273520014331904"}
2023-05-13 17:17:32.045 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38273534761504768 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š58 ms -------------
2023-05-13 17:17:32.046 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38273534761504768 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 17:17:32.046 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38273534761504768 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/error
2023-05-13 17:17:32.046 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38273534761504768 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38273520014331904
2023-05-13 17:17:32.052 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38273534761504768 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38273520014331904"}
2023-05-13 17:17:32.054 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38273534761504768 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 17:17:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38273715041079296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:17:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273715041079296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:17:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273715041079296 [0;39m ==> Parameters: 
2023-05-13 17:17:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273715041079296 [0;39m <==    Updates: 1
2023-05-13 17:17:35.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38273715041079296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 17:17:45.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:17:46.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:17:48.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:17:51.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:17:53.186 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:18:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38273819890290688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:18:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38273819890290688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:18:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38273819890290688 [0;39m ==> Parameters: 
2023-05-13 17:18:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38273819890290688 [0;39m <==    Updates: 0
2023-05-13 17:18:00.026 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38273819890290688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-13 17:18:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38273840878587904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:18:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273840878587904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:18:05.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273840878587904 [0;39m ==> Parameters: 
2023-05-13 17:18:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273840878587904 [0;39m <==    Updates: 1
2023-05-13 17:18:05.056 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38273840878587904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š39æ¯«ç§’
2023-05-13 17:18:13.863 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:18:15.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:18:18.398 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:18:20.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:18:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38273966678347776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:18:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273966678347776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273966678347776 [0;39m ==> Parameters: 
2023-05-13 17:18:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38273966678347776 [0;39m <==    Updates: 1
2023-05-13 17:18:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38273966678347776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:18:42.483 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:18:44.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:18:45.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:18:46.567 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:18:48.612 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:18:50.632 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:19:00.052 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38274071707914240 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:19:00.057 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38274071707914240 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:19:00.059 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38274071707914240 [0;39m ==> Parameters: 
2023-05-13 17:19:00.062 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38274071707914240 [0;39m <==    Updates: 0
2023-05-13 17:19:00.062 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38274071707914240 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 17:19:02.593 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38274082374029312 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:19:02.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38274082374029312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:19:02.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38274082374029312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:19:02.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38274082374029312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:19:02.600 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38274082374029312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:19:02.605 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38274082374029312 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:19:02.607 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38274082374029312 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:19:02.609 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274082374029312 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:19:02.611 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274082374029312 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 98, 5
2023-05-13 17:19:02.612 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274082374029312 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:19:02.613 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274082374029312 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:19:02.613 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274082374029312 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:19:02.614 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274082374029312 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:19:02.615 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274082374029312 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:19:02.615 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274082374029312 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:19:02.616 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274082374029312 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:19:02.616 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38274082374029312 [0;39m <==      Total: 8
2023-05-13 17:19:02.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38274082374029312 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":98,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:19:02.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38274082374029312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š24 ms -------------
2023-05-13 17:19:02.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38274083158364160 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:19:02.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38274083158364160 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:19:02.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38274083158364160 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:19:02.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38274083158364160 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:19:02.781 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38274083158364160 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:19:02.781 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38274083158364160 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:19:02.782 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38274083158364160 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:19:02.783 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38274083158364160 [0;39m <==    Columns: id, content
2023-05-13 17:19:02.783 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38274083158364160 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:19:02.784 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38274083158364160 [0;39m <==      Total: 1
2023-05-13 17:19:02.785 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38274083158364160 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:19:02.785 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38274083158364160 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:19:02.843 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38274083158364160 [0;39m <==    Updates: 1
2023-05-13 17:19:02.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38274083158364160 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:19:02.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38274083158364160 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š64 ms -------------
2023-05-13 17:19:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38274092520050688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:19:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274092520050688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:19:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274092520050688 [0;39m ==> Parameters: 
2023-05-13 17:19:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274092520050688 [0;39m <==    Updates: 1
2023-05-13 17:19:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38274092520050688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:19:06.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:19:08.730 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:19:10.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38274113789366272 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:19:10.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38274113789366272 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:19:10.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38274113789366272 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:19:10.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38274113789366272 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:19:10.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38274113789366272 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:19:10.088 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38274113789366272 [0;39m ==>  Preparing: SELECT * FROM comments WHERE ebook_id = ?
2023-05-13 17:19:10.089 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38274113789366272 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:19:10.645 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38274113789366272 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'wiki.comments' doesn't exist
### The error may exist in file [D:\work\jiawawiki\target\classes\mapper\CommentMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM comments WHERE ebook_id = ?
### Cause: java.sql.SQLSyntaxErrorException: Table 'wiki.comments' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'wiki.comments' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy96.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy107.selectListByEbookId(Unknown Source)
	at com.jiawa.wiki.service.CommentService.selectByEbookId(CommentService.java:49)
	at com.jiawa.wiki.controller.DocController.comments(DocController.java:39)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$52b3fa80.comments(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: Table 'wiki.comments' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor79.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy133.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
2023-05-13 17:19:10.647 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38274113789366272 [0;39m Resolved [org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'wiki.comments' doesn't exist
### The error may exist in file [D:\work\jiawawiki\target\classes\mapper\CommentMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM comments WHERE ebook_id = ?
### Cause: java.sql.SQLSyntaxErrorException: Table 'wiki.comments' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'wiki.comments' doesn't exist]
2023-05-13 17:19:16.044 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:19:18.380 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:19:30.594 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šuWGxssiDUqï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 17:19:30.658 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 17:19:30.660 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-13 17:19:30.661 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-13 17:19:30.662 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-13 17:19:30.692 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-13 17:19:30.826 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:19:30.934 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-13 17:19:30.934 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-13 17:19:36.862 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 11668 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-13 17:19:36.865 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-13 17:19:36.890 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-13 17:19:36.977 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-13 17:19:36.978 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-13 17:19:37.967 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-13 17:19:37.970 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-13 17:19:38.003 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2023-05-13 17:19:38.397 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$5ee101a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:38.411 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.136 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.139 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$11b76a6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.140 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.141 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.145 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.146 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.149 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.156 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.157 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.185 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.192 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.197 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.201 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:39.225 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:42.217 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:42.218 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 17:19:43.130 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-13 17:19:43.147 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-13 17:19:43.149 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-13 17:19:43.149 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-13 17:19:43.318 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-13 17:19:43.318 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 6339 ms
2023-05-13 17:19:44.622 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:19:44.827 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:19:44.904 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-13 17:19:45.746 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-13 17:19:45.917 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-13 17:19:49.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:19:51.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:19:51.171 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 17:19:51.172 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-13 17:19:51.204 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-13 17:19:51.218 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-13 17:19:51.244 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 15.091 seconds (JVM running for 16.952)
2023-05-13 17:19:51.250 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-13 17:19:51.250 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-13 17:19:55.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:19:56.396 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-13 17:19:56.396 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-13 17:19:56.400 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2023-05-13 17:19:56.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38274308484763648 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:19:56.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38274308484763648 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:19:56.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38274308484763648 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:19:56.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38274308484763648 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:19:56.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38274308484763648 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:19:56.666 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38274308484763648 [0;39m HikariPool-1 - Starting...
2023-05-13 17:19:57.628 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38274308484763648 [0;39m HikariPool-1 - Start completed.
2023-05-13 17:19:57.634 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38274308484763648 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:19:57.663 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38274308484763648 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:19:57.684 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38274308484763648 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:19:57.685 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38274308484763648 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:19:57.688 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38274308484763648 [0;39m <==      Total: 1
2023-05-13 17:19:57.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38274308484763648 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1}],"success":true}
2023-05-13 17:19:57.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38274308484763648 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š1400 ms -------------
2023-05-13 17:20:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38274323164827648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:20:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38274323164827648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:20:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38274323164827648 [0;39m ==> Parameters: 
2023-05-13 17:20:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38274323164827648 [0;39m <==    Updates: 0
2023-05-13 17:20:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38274323164827648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š14æ¯«ç§’
2023-05-13 17:20:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38274344165707776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:20:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274344165707776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:20:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274344165707776 [0;39m ==> Parameters: 
2023-05-13 17:20:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274344165707776 [0;39m <==    Updates: 1
2023-05-13 17:20:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38274344165707776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 17:20:13.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:20:14.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:20:17.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:20:21.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:20:26.722 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 17:20:26.724 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 17:20:26.741 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 17:20:26.742 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 17:20:26.742 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38273520014331904
2023-05-13 17:20:27.203 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38273520014331904"}
2023-05-13 17:20:27.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38274437887430656 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:20:27.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38274437887430656 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 17:20:27.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38274437887430656 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 17:20:27.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38274437887430656 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:20:27.356 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38274437887430656 [0;39m è¯·æ±‚å‚æ•°: [{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","ebookId":1,"userId":1}]
2023-05-13 17:20:27.358 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38274437887430656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 17:20:27.359 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38274437887430656 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:20:27.360 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38274437887430656 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 17:20:27.361 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38274437887430656 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 17:20:27.361 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38274437887430656 [0;39m <==      Total: 1
2023-05-13 17:20:27.362 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38274437887430656 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 17:20:27.362 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38274437887430656 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:20:27.363 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38274437887430656 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 17:20:27.364 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38274437887430656 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 124, 10
2023-05-13 17:20:27.364 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38274437887430656 [0;39m <==      Total: 1
2023-05-13 17:20:27.365 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38274437887430656 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 17:20:27.367 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38274437887430656 [0;39m ==> Parameters: null, 1(Long), 1(Long), Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼(String), 2023-05-13 17:20:27.365(Timestamp), null
2023-05-13 17:20:27.377 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38274437887430656 [0;39m <==    Updates: 1
2023-05-13 17:20:27.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38274437887430656 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 17:20:27.379 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38274437887430656 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2023-05-13 17:20:27.380 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38274437887430656 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š638 ms -------------
2023-05-13 17:20:27.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38274438084562944 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:20:27.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38274438084562944 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:20:27.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38274438084562944 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:20:27.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38274438084562944 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:20:27.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38274438084562944 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:20:27.403 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38274438084562944 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:20:27.403 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38274438084562944 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:20:27.405 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38274438084562944 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:20:27.406 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38274438084562944 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:20:27.406 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38274438084562944 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:20:27.407 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38274438084562944 [0;39m <==      Total: 2
2023-05-13 17:20:27.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38274438084562944 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:20:27.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38274438084562944 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:20:34.298 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šqPUIgrQ0OKï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 17:20:34.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38274467436302336 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:20:34.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38274467436302336 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:20:34.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38274467436302336 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:20:34.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38274467436302336 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:20:34.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38274467436302336 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:20:34.511 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38274467436302336 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:20:34.512 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38274467436302336 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:20:34.513 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274467436302336 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:20:34.514 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274467436302336 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 99, 5
2023-05-13 17:20:34.515 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274467436302336 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:20:34.516 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274467436302336 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:20:34.516 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274467436302336 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:20:34.516 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274467436302336 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:20:34.518 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274467436302336 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:20:34.518 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274467436302336 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:20:34.519 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38274467436302336 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:20:34.519 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38274467436302336 [0;39m <==      Total: 8
2023-05-13 17:20:34.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38274467436302336 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":99,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:20:34.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38274467436302336 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š134 ms -------------
2023-05-13 17:20:34.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38274468707176448 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:20:34.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38274468707176448 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:20:34.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38274468707176448 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:20:34.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38274468707176448 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:20:34.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38274468707176448 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:20:34.704 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38274468707176448 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:20:34.705 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38274468707176448 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:20:34.708 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38274468707176448 [0;39m <==    Columns: id, content
2023-05-13 17:20:34.709 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38274468707176448 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:20:34.710 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38274468707176448 [0;39m <==      Total: 1
2023-05-13 17:20:34.711 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38274468707176448 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:20:34.711 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38274468707176448 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:20:34.715 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38274468707176448 [0;39m <==    Updates: 1
2023-05-13 17:20:34.716 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38274468707176448 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:20:34.716 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38274468707176448 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 17:20:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38274469961273344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:20:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274469961273344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:20:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274469961273344 [0;39m ==> Parameters: 
2023-05-13 17:20:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274469961273344 [0;39m <==    Updates: 1
2023-05-13 17:20:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38274469961273344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 17:20:38.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38274482716151808 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:20:38.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38274482716151808 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:20:38.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38274482716151808 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:20:38.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38274482716151808 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:20:38.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38274482716151808 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:20:38.044 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38274482716151808 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:20:38.046 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38274482716151808 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:20:38.050 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38274482716151808 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:20:38.052 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38274482716151808 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:20:38.053 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38274482716151808 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:20:38.054 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38274482716151808 [0;39m <==      Total: 2
2023-05-13 17:20:38.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38274482716151808 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:20:38.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38274482716151808 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 17:20:44.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:20:47.718 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:21:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38274574856622080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38274574856622080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:21:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38274574856622080 [0;39m ==> Parameters: 
2023-05-13 17:21:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38274574856622080 [0;39m <==    Updates: 0
2023-05-13 17:21:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38274574856622080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 17:21:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38274595815559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:21:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274595815559168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:21:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274595815559168 [0;39m ==> Parameters: 
2023-05-13 17:21:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274595815559168 [0;39m <==    Updates: 1
2023-05-13 17:21:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38274595815559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:21:09.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:21:11.383 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:21:14.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:21:17.498 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:21:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38274721653067776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:21:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274721653067776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:21:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274721653067776 [0;39m ==> Parameters: 
2023-05-13 17:21:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274721653067776 [0;39m <==    Updates: 1
2023-05-13 17:21:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38274721653067776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:21:35.825 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:21:44.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:21:45.417 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:21:47.457 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:21:57.893 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:21:59.930 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:22:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38274826489696256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:22:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38274826489696256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:22:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38274826489696256 [0;39m ==> Parameters: 
2023-05-13 17:22:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38274826489696256 [0;39m <==    Updates: 0
2023-05-13 17:22:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38274826489696256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 17:22:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38274847461216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:22:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274847461216256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:22:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274847461216256 [0;39m ==> Parameters: 
2023-05-13 17:22:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274847461216256 [0;39m <==    Updates: 1
2023-05-13 17:22:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38274847461216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:22:14.521 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:22:15.504 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:22:17.550 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:22:21.951 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:22:23.999 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:22:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38274973302919168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:22:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274973302919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:22:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274973302919168 [0;39m ==> Parameters: 
2023-05-13 17:22:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38274973302919168 [0;39m <==    Updates: 1
2023-05-13 17:22:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38274973302919168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:22:44.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:22:45.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:22:47.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:22:49.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:23:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38275078143741952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:23:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38275078143741952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:23:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38275078143741952 [0;39m ==> Parameters: 
2023-05-13 17:23:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38275078143741952 [0;39m <==    Updates: 0
2023-05-13 17:23:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38275078143741952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:23:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38275099144622080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:23:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275099144622080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:23:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275099144622080 [0;39m ==> Parameters: 
2023-05-13 17:23:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275099144622080 [0;39m <==    Updates: 1
2023-05-13 17:23:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38275099144622080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:23:11.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:23:13.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:23:14.302 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:23:15.361 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:23:17.401 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:23:19.432 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:23:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38275224977936384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:23:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275224977936384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:23:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275224977936384 [0;39m ==> Parameters: 
2023-05-13 17:23:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275224977936384 [0;39m <==    Updates: 1
2023-05-13 17:23:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38275224977936384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:23:37.418 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:23:44.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:23:47.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:24:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38275329818759168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38275329818759168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38275329818759168 [0;39m ==> Parameters: 
2023-05-13 17:24:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38275329818759168 [0;39m <==    Updates: 0
2023-05-13 17:24:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38275329818759168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:24:01.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:24:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38275350815444992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:24:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275350815444992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:24:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275350815444992 [0;39m ==> Parameters: 
2023-05-13 17:24:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275350815444992 [0;39m <==    Updates: 1
2023-05-13 17:24:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38275350815444992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:24:14.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:24:17.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:24:23.549 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:24:25.577 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:24:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38275476602621952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:24:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275476602621952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:24:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275476602621952 [0;39m ==> Parameters: 
2023-05-13 17:24:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275476602621952 [0;39m <==    Updates: 1
2023-05-13 17:24:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38275476602621952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:24:43.146 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:24:44.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:24:47.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:24:49.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:24:51.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:25:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38275581451833344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:25:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38275581451833344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:25:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38275581451833344 [0;39m ==> Parameters: 
2023-05-13 17:25:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38275581451833344 [0;39m <==    Updates: 0
2023-05-13 17:25:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38275581451833344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š18æ¯«ç§’
2023-05-13 17:25:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38275602473684992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:25:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275602473684992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:25:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275602473684992 [0;39m ==> Parameters: 
2023-05-13 17:25:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275602473684992 [0;39m <==    Updates: 1
2023-05-13 17:25:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38275602473684992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:25:13.487 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:25:14.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:25:18.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:25:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38275728273444864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:25:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275728273444864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:25:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275728273444864 [0;39m ==> Parameters: 
2023-05-13 17:25:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275728273444864 [0;39m <==    Updates: 1
2023-05-13 17:25:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38275728273444864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:25:39.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:25:41.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:25:43.498 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:25:44.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:25:47.607 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:26:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38275833114267648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:26:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38275833114267648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:26:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38275833114267648 [0;39m ==> Parameters: 
2023-05-13 17:26:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38275833114267648 [0;39m <==    Updates: 0
2023-05-13 17:26:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38275833114267648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:26:03.523 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:26:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38275854115147776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:26:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275854115147776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:26:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275854115147776 [0;39m ==> Parameters: 
2023-05-13 17:26:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275854115147776 [0;39m <==    Updates: 1
2023-05-13 17:26:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38275854115147776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:26:05.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:26:13.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:26:14.244 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:26:17.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:26:27.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:26:29.658 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:26:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38275979952656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:26:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275979952656384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:26:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275979952656384 [0;39m ==> Parameters: 
2023-05-13 17:26:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38275979952656384 [0;39m <==    Updates: 1
2023-05-13 17:26:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38275979952656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:26:43.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:26:44.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:26:45.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:26:47.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:26:53.758 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:27:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38276084797673472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:27:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38276084797673472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:27:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38276084797673472 [0;39m ==> Parameters: 
2023-05-13 17:27:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38276084797673472 [0;39m <==    Updates: 0
2023-05-13 17:27:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38276084797673472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:27:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38276105756610560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:27:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276105756610560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:27:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276105756610560 [0;39m ==> Parameters: 
2023-05-13 17:27:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276105756610560 [0;39m <==    Updates: 1
2023-05-13 17:27:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38276105756610560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:27:14.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:27:15.162 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:27:17.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:27:19.245 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:27:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38276231585730560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:27:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276231585730560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:27:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276231585730560 [0;39m ==> Parameters: 
2023-05-13 17:27:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276231585730560 [0;39m <==    Updates: 1
2023-05-13 17:27:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38276231585730560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:27:41.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:27:43.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:27:44.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:27:47.446 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:27:49.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:28:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38276336434941952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:28:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38276336434941952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:28:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38276336434941952 [0;39m ==> Parameters: 
2023-05-13 17:28:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38276336434941952 [0;39m <==    Updates: 0
2023-05-13 17:28:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38276336434941952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:28:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38276357440016384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:28:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276357440016384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:28:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276357440016384 [0;39m ==> Parameters: 
2023-05-13 17:28:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276357440016384 [0;39m <==    Updates: 1
2023-05-13 17:28:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38276357440016384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:28:07.451 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:28:14.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:28:17.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:28:29.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:28:31.515 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:28:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38276483227193344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:28:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276483227193344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:28:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276483227193344 [0;39m ==> Parameters: 
2023-05-13 17:28:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276483227193344 [0;39m <==    Updates: 1
2023-05-13 17:28:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38276483227193344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:28:44.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:28:45.168 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:28:47.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:28:55.590 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:29:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38276588109959168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:29:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38276588109959168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:29:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38276588109959168 [0;39m ==> Parameters: 
2023-05-13 17:29:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38276588109959168 [0;39m <==    Updates: 0
2023-05-13 17:29:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38276588109959168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:29:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38276609119227904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:29:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276609119227904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:29:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276609119227904 [0;39m ==> Parameters: 
2023-05-13 17:29:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276609119227904 [0;39m <==    Updates: 1
2023-05-13 17:29:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38276609119227904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:29:13.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:29:14.299 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:29:17.474 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:29:19.732 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:29:22.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:29:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38276734931570688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:29:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276734931570688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:29:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276734931570688 [0;39m ==> Parameters: 
2023-05-13 17:29:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276734931570688 [0;39m <==    Updates: 1
2023-05-13 17:29:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38276734931570688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:29:43.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:29:44.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:29:45.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:29:47.394 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:29:49.437 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:30:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38276839747227648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:30:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38276839747227648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:30:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38276839747227648 [0;39m ==> Parameters: 
2023-05-13 17:30:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38276839747227648 [0;39m <==    Updates: 0
2023-05-13 17:30:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38276839747227648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:30:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38276860739719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:30:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276860739719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:30:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276860739719168 [0;39m ==> Parameters: 
2023-05-13 17:30:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276860739719168 [0;39m <==    Updates: 1
2023-05-13 17:30:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38276860739719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:30:14.443 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:30:19.014 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:30:20.633 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šqPUIgrQ0OKï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 17:30:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38276986589810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:30:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276986589810688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:30:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276986589810688 [0;39m ==> Parameters: 
2023-05-13 17:30:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38276986589810688 [0;39m <==    Updates: 1
2023-05-13 17:30:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38276986589810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 17:30:39.243 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:30:44.504 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:30:47.949 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:31:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38277091451604992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:31:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38277091451604992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:31:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38277091451604992 [0;39m ==> Parameters: 
2023-05-13 17:31:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38277091451604992 [0;39m <==    Updates: 0
2023-05-13 17:31:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38277091451604992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:31:03.642 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:31:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38277112435707904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:31:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277112435707904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:31:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277112435707904 [0;39m ==> Parameters: 
2023-05-13 17:31:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277112435707904 [0;39m <==    Updates: 1
2023-05-13 17:31:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38277112435707904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 17:31:09.971 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šnxn1ygfioiï¼Œsession idï¼š1ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 17:31:10.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277135294664704 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:31:10.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277135294664704 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:31:10.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277135294664704 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:31:10.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277135294664704 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:31:10.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277135294664704 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:31:10.471 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277135294664704 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:31:10.471 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277135294664704 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:31:10.472 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277135294664704 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:31:10.472 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277135294664704 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 100, 5
2023-05-13 17:31:10.473 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277135294664704 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:31:10.473 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277135294664704 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:31:10.473 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277135294664704 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:31:10.474 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277135294664704 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:31:10.474 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277135294664704 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:31:10.475 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277135294664704 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:31:10.475 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277135294664704 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:31:10.477 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277135294664704 [0;39m <==      Total: 8
2023-05-13 17:31:10.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277135294664704 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":100,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:31:10.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277135294664704 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-13 17:31:10.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277136636841984 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:31:10.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277136636841984 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:31:10.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277136636841984 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:31:10.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277136636841984 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:31:10.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277136636841984 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:31:10.787 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277136636841984 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:31:10.788 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277136636841984 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:31:10.790 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277136636841984 [0;39m <==    Columns: id, content
2023-05-13 17:31:10.790 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277136636841984 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:31:10.790 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277136636841984 [0;39m <==      Total: 1
2023-05-13 17:31:10.791 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277136636841984 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:31:10.791 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277136636841984 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:31:10.801 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277136636841984 [0;39m <==    Updates: 1
2023-05-13 17:31:10.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277136636841984 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:31:11.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277136636841984 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š553 ms -------------
2023-05-13 17:31:12.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277144136257536 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:31:12.575 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277144136257536 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:31:12.575 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277144136257536 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:31:12.575 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277144136257536 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:31:12.575 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277144136257536 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:31:12.576 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38277144136257536 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:31:12.577 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38277144136257536 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:31:12.578 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38277144136257536 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:31:12.578 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38277144136257536 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:31:12.579 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38277144136257536 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:31:12.579 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38277144136257536 [0;39m <==      Total: 2
2023-05-13 17:31:12.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277144136257536 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:31:12.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277144136257536 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 17:31:14.642 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:31:17.611 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:31:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:31:27.722 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:31:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38277238222884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:31:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277238222884864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:31:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277238222884864 [0;39m ==> Parameters: 
2023-05-13 17:31:35.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277238222884864 [0;39m <==    Updates: 1
2023-05-13 17:31:35.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38277238222884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š15æ¯«ç§’
2023-05-13 17:31:44.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:31:47.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:31:49.778 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:31:51.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:32:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38277343088873472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:32:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38277343088873472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:32:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38277343088873472 [0;39m ==> Parameters: 
2023-05-13 17:32:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38277343088873472 [0;39m <==    Updates: 0
2023-05-13 17:32:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38277343088873472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 17:32:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38277364072976384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:32:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277364072976384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:32:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277364072976384 [0;39m ==> Parameters: 
2023-05-13 17:32:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277364072976384 [0;39m <==    Updates: 1
2023-05-13 17:32:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38277364072976384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:32:14.460 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:32:20.106 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:32:23.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277440702910464 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:32:23.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277440702910464 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:32:23.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277440702910464 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:32:23.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277440702910464 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:32:23.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277440702910464 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:32:23.284 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277440702910464 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:32:23.285 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277440702910464 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:23.286 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277440702910464 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:32:23.286 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277440702910464 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 101, 5
2023-05-13 17:32:23.287 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277440702910464 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:32:23.288 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277440702910464 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:32:23.288 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277440702910464 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:32:23.289 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277440702910464 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:32:23.289 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277440702910464 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:32:23.292 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277440702910464 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:32:23.293 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277440702910464 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:32:23.293 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277440702910464 [0;39m <==      Total: 8
2023-05-13 17:32:23.295 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277440702910464 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":101,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:32:23.295 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277440702910464 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 17:32:23.708 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277442493878272 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:32:23.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277442493878272 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:32:23.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277442816839680 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:32:24.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277442816839680 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:32:24.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277442493878272 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:32:24.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277442816839680 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:32:24.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277442493878272 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:32:24.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277442816839680 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:32:24.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277442493878272 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:32:24.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277442816839680 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:32:24.167 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277442493878272 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:32:24.167 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277442493878272 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:24.169 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277442493878272 [0;39m <==    Columns: id, content
2023-05-13 17:32:24.170 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277442493878272 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:32:24.170 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277442493878272 [0;39m <==      Total: 1
2023-05-13 17:32:24.171 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277442493878272 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:32:24.171 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277442816839680 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:32:24.172 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277442493878272 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:24.172 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277442816839680 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:24.173 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277442816839680 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:32:24.173 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277442816839680 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 101, 5
2023-05-13 17:32:24.174 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277442816839680 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:32:24.174 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277442493878272 [0;39m <==    Updates: 1
2023-05-13 17:32:24.174 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277442816839680 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:32:24.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277442493878272 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:32:24.175 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277442816839680 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:32:24.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277442493878272 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š467 ms -------------
2023-05-13 17:32:24.176 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277442816839680 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:32:24.176 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277442816839680 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:32:24.176 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277442816839680 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:32:24.177 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277442816839680 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:32:24.177 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277442816839680 [0;39m <==      Total: 8
2023-05-13 17:32:24.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277442816839680 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":101,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:32:24.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277442816839680 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š394 ms -------------
2023-05-13 17:32:24.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277444695887872 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:32:24.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277444695887872 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:32:24.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277444695887872 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:32:24.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277444695887872 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:32:24.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277444695887872 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:32:24.234 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277444695887872 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:32:24.234 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277444695887872 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:24.235 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277444695887872 [0;39m <==    Columns: id, content
2023-05-13 17:32:24.236 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277444695887872 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:32:24.237 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277444695887872 [0;39m <==      Total: 1
2023-05-13 17:32:24.237 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277444695887872 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:32:24.238 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277444695887872 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:24.240 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277444695887872 [0;39m <==    Updates: 1
2023-05-13 17:32:24.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277444695887872 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:32:24.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277444695887872 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š333 ms -------------
2023-05-13 17:32:26.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277453294211072 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:32:26.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277453294211072 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:32:26.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277453294211072 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:32:26.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277453294211072 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:32:26.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277453294211072 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:32:26.286 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38277453294211072 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:32:26.287 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38277453294211072 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:26.288 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38277453294211072 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:32:26.288 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38277453294211072 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:32:26.289 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38277453294211072 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:32:26.289 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38277453294211072 [0;39m <==      Total: 2
2023-05-13 17:32:26.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277453294211072 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:32:26.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277453294211072 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 17:32:26.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277454833520640 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:32:26.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277454833520640 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:32:26.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277454833520640 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:32:26.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277454833520640 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:32:26.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277454833520640 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:32:26.652 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277454833520640 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:32:26.652 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277454833520640 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:26.655 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277454833520640 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:32:26.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277454833520640 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 103, 5
2023-05-13 17:32:26.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277454833520640 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:32:26.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277454833520640 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:32:26.657 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277454833520640 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:32:26.657 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277454833520640 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:32:26.657 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277454833520640 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:32:26.658 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277454833520640 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:32:26.658 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277454833520640 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:32:26.658 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277454833520640 [0;39m <==      Total: 8
2023-05-13 17:32:26.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277454833520640 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":103,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:32:26.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277454833520640 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 17:32:26.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277455160676352 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:32:26.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277455160676352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:32:26.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277455475249152 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:32:26.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277455475249152 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:32:26.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277455160676352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:32:26.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277455475249152 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:32:26.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277455160676352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:32:26.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277455475249152 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:32:26.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277455160676352 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:32:26.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277455475249152 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:32:26.955 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277455160676352 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:32:26.956 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277455160676352 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:26.956 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277455475249152 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:32:26.957 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277455475249152 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:26.957 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277455160676352 [0;39m <==    Columns: id, content
2023-05-13 17:32:26.957 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277455160676352 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:32:26.958 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277455160676352 [0;39m <==      Total: 1
2023-05-13 17:32:26.958 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277455475249152 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:32:26.958 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277455160676352 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:32:26.958 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277455475249152 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 103, 5
2023-05-13 17:32:26.958 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277455160676352 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:26.959 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277455475249152 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:32:26.959 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277455475249152 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:32:26.959 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277455475249152 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:32:26.959 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277455475249152 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:32:26.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277455475249152 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:32:26.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277455475249152 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:32:26.961 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277455475249152 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:32:26.961 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277455160676352 [0;39m <==    Updates: 1
2023-05-13 17:32:26.961 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277455475249152 [0;39m <==      Total: 8
2023-05-13 17:32:26.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277455160676352 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:32:26.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277455160676352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š233 ms -------------
2023-05-13 17:32:26.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277455475249152 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":103,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:32:26.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277455475249152 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š160 ms -------------
2023-05-13 17:32:26.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277456272166912 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:32:26.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277456272166912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:32:26.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277456272166912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:32:26.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277456272166912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:32:26.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277456272166912 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:32:26.996 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277456272166912 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:32:26.997 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277456272166912 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:26.998 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277456272166912 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:32:26.998 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277456272166912 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 104, 5
2023-05-13 17:32:26.998 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277456272166912 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:32:26.999 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277456272166912 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:32:26.999 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277456272166912 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:32:26.999 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277456272166912 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:32:27.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277456272166912 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:32:27.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277456272166912 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:32:27.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277456272166912 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:32:27.000 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277456272166912 [0;39m <==      Total: 8
2023-05-13 17:32:27.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277456272166912 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":104,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:32:27.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277456272166912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 17:32:27.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277456347664384 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:32:27.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277456347664384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:32:27.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277456347664384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:32:27.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277456347664384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:32:27.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277456347664384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:32:27.012 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277456347664384 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:32:27.013 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277456347664384 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:27.014 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277456347664384 [0;39m <==    Columns: id, content
2023-05-13 17:32:27.014 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277456347664384 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:32:27.014 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277456347664384 [0;39m <==      Total: 1
2023-05-13 17:32:27.014 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277456347664384 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:32:27.016 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277456347664384 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:27.018 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277456347664384 [0;39m <==    Updates: 1
2023-05-13 17:32:27.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277456347664384 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:32:27.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277456347664384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:32:27.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277456586739712 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:32:27.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277456586739712 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:32:27.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277456586739712 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:32:27.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277456586739712 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:32:27.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277456586739712 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:32:27.070 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277456586739712 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:32:27.071 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277456586739712 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:27.072 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277456586739712 [0;39m <==    Columns: id, content
2023-05-13 17:32:27.072 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277456586739712 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:32:27.073 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277456586739712 [0;39m <==      Total: 1
2023-05-13 17:32:27.073 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277456586739712 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:32:27.074 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277456586739712 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:27.076 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277456586739712 [0;39m <==    Updates: 1
2023-05-13 17:32:27.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277456586739712 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:32:27.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277456586739712 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 17:32:29.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277465151508480 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:32:29.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277465151508480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:32:29.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277465151508480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:32:29.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277465151508480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:32:29.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277465151508480 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:32:29.112 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38277465151508480 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:32:29.112 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38277465151508480 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:32:29.113 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38277465151508480 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:32:29.114 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38277465151508480 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:32:29.114 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38277465151508480 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:32:29.115 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38277465151508480 [0;39m <==      Total: 2
2023-05-13 17:32:29.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277465151508480 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:32:29.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277465151508480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 17:32:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38277489897902080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:32:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277489897902080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:32:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277489897902080 [0;39m ==> Parameters: 
2023-05-13 17:32:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277489897902080 [0;39m <==    Updates: 1
2023-05-13 17:32:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38277489897902080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:32:44.609 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:32:49.405 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:33:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38277594717753344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:33:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38277594717753344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:33:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38277594717753344 [0;39m ==> Parameters: 
2023-05-13 17:33:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38277594717753344 [0;39m <==    Updates: 0
2023-05-13 17:33:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38277594717753344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 17:33:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38277615706050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:33:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277615706050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:33:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277615706050560 [0;39m ==> Parameters: 
2023-05-13 17:33:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277615706050560 [0;39m <==    Updates: 1
2023-05-13 17:33:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38277615706050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:33:07.732 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:33:09.772 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:33:14.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:33:18.098 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:33:28.911 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38277444695887872 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šnxn1ygfioiï¼Œsession idï¼š1ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 17:33:30.377 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38277454833520640 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šlVsgguEGo6ï¼Œsession idï¼š2ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 17:33:30.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277722430115840 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:33:30.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277722430115840 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:33:30.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277722430115840 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:33:30.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277722430115840 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:33:30.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277722430115840 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:33:30.453 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277722430115840 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:33:30.453 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277722430115840 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:33:30.454 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277722430115840 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:33:30.454 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277722430115840 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 106, 5
2023-05-13 17:33:30.454 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277722430115840 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:33:30.455 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277722430115840 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:33:30.455 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277722430115840 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:33:30.456 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277722430115840 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:33:30.456 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277722430115840 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:33:30.456 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277722430115840 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:33:30.457 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38277722430115840 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:33:30.458 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38277722430115840 [0;39m <==      Total: 8
2023-05-13 17:33:30.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277722430115840 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":106,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:33:30.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277722430115840 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 17:33:30.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38277722690162688 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:33:30.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38277722690162688 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:33:30.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38277722690162688 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:33:30.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38277722690162688 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:33:30.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38277722690162688 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:33:30.514 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277722690162688 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:33:30.515 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277722690162688 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:33:30.517 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277722690162688 [0;39m <==    Columns: id, content
2023-05-13 17:33:30.517 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38277722690162688 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:33:30.518 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38277722690162688 [0;39m <==      Total: 1
2023-05-13 17:33:30.519 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277722690162688 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:33:30.519 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277722690162688 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:33:30.533 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38277722690162688 [0;39m <==    Updates: 1
2023-05-13 17:33:30.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38277722690162688 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:33:30.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38277722690162688 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-05-13 17:33:31.830 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:33:33.868 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:33:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38277741564530688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:33:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277741564530688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:33:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277741564530688 [0;39m ==> Parameters: 
2023-05-13 17:33:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277741564530688 [0;39m <==    Updates: 1
2023-05-13 17:33:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38277741564530688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 17:33:43.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:33:44.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:33:47.208 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:33:55.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:33:57.958 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:34:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38277846392770560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:34:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38277846392770560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:34:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38277846392770560 [0;39m ==> Parameters: 
2023-05-13 17:34:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38277846392770560 [0;39m <==    Updates: 0
2023-05-13 17:34:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38277846392770560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:34:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38277867372679168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:34:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277867372679168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:34:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277867372679168 [0;39m ==> Parameters: 
2023-05-13 17:34:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277867372679168 [0;39m <==    Updates: 1
2023-05-13 17:34:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38277867372679168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 17:34:14.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:34:17.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:34:20.019 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:34:22.057 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:34:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38277993201799168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:34:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277993201799168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:34:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277993201799168 [0;39m ==> Parameters: 
2023-05-13 17:34:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38277993201799168 [0;39m <==    Updates: 1
2023-05-13 17:34:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38277993201799168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:34:44.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:34:48.105 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:34:50.443 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:35:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38278098092953600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:35:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38278098092953600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:35:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38278098092953600 [0;39m ==> Parameters: 
2023-05-13 17:35:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38278098092953600 [0;39m <==    Updates: 0
2023-05-13 17:35:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38278098092953600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:35:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38278119056084992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:35:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278119056084992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:35:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278119056084992 [0;39m ==> Parameters: 
2023-05-13 17:35:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278119056084992 [0;39m <==    Updates: 1
2023-05-13 17:35:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38278119056084992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:35:14.462 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:35:19.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:35:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38278244906176512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:35:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278244906176512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:35:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278244906176512 [0;39m ==> Parameters: 
2023-05-13 17:35:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278244906176512 [0;39m <==    Updates: 1
2023-05-13 17:35:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38278244906176512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:35:39.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:35:44.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:35:47.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:36:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38278349726027776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:36:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38278349726027776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:36:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38278349726027776 [0;39m ==> Parameters: 
2023-05-13 17:36:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38278349726027776 [0;39m <==    Updates: 0
2023-05-13 17:36:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38278349726027776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:36:04.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:36:05.024 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38278370760462336 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:36:05.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278370760462336 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:36:05.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278370760462336 [0;39m ==> Parameters: 
2023-05-13 17:36:05.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278370760462336 [0;39m <==    Updates: 1
2023-05-13 17:36:05.030 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38278370760462336 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 17:36:14.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:36:17.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:36:28.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:36:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38278496547639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:36:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278496547639296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:36:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278496547639296 [0;39m ==> Parameters: 
2023-05-13 17:36:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278496547639296 [0;39m <==    Updates: 1
2023-05-13 17:36:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38278496547639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:36:44.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:36:47.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:36:52.406 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:37:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38278601371684864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:37:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38278601371684864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:37:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38278601371684864 [0;39m ==> Parameters: 
2023-05-13 17:37:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38278601371684864 [0;39m <==    Updates: 0
2023-05-13 17:37:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38278601371684864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:37:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38278622359982080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:37:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278622359982080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:37:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278622359982080 [0;39m ==> Parameters: 
2023-05-13 17:37:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278622359982080 [0;39m <==    Updates: 1
2023-05-13 17:37:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38278622359982080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:37:14.433 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:37:18.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:37:20.058 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:37:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38278748184907776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:37:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278748184907776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:37:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278748184907776 [0;39m ==> Parameters: 
2023-05-13 17:37:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278748184907776 [0;39m <==    Updates: 1
2023-05-13 17:37:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38278748184907776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:37:40.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38278769282256896 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:37:40.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38278769282256896 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:37:40.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38278769282256896 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:37:40.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38278769282256896 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:37:40.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38278769282256896 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:37:40.041 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38278769282256896 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:37:40.041 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38278769282256896 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:37:40.042 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38278769282256896 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:37:40.045 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38278769282256896 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:37:40.046 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38278769282256896 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:37:40.047 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38278769282256896 [0;39m <==      Total: 2
2023-05-13 17:37:40.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38278769282256896 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:37:40.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38278769282256896 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 17:37:42.109 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:37:44.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:37:46.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:37:48.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:38:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38278853042507776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:38:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38278853042507776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:38:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38278853042507776 [0;39m ==> Parameters: 
2023-05-13 17:38:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38278853042507776 [0;39m <==    Updates: 0
2023-05-13 17:38:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38278853042507776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:38:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38278873984667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:38:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278873984667648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:38:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278873984667648 [0;39m ==> Parameters: 
2023-05-13 17:38:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278873984667648 [0;39m <==    Updates: 1
2023-05-13 17:38:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38278873984667648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:38:06.970 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38278882239057920 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:38:06.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38278882239057920 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:38:06.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38278882239057920 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:38:06.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38278882239057920 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:38:06.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38278882239057920 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:38:06.973 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38278882239057920 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:38:06.973 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38278882239057920 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:38:06.974 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38278882239057920 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:38:06.974 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38278882239057920 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 107, 5
2023-05-13 17:38:06.974 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38278882239057920 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:38:06.975 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38278882239057920 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:38:06.975 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38278882239057920 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:38:06.975 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38278882239057920 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:38:06.975 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38278882239057920 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:38:06.975 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38278882239057920 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:38:06.975 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38278882239057920 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:38:06.976 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38278882239057920 [0;39m <==      Total: 8
2023-05-13 17:38:06.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38278882239057920 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":107,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:38:06.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38278882239057920 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:38:07.073 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38278882671071232 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:38:07.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38278882671071232 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:38:07.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38278882671071232 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:38:07.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38278882671071232 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:38:07.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38278882671071232 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:38:07.074 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38278882671071232 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:38:07.075 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38278882671071232 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:38:07.076 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38278882671071232 [0;39m <==    Columns: id, content
2023-05-13 17:38:07.076 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38278882671071232 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:38:07.077 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38278882671071232 [0;39m <==      Total: 1
2023-05-13 17:38:07.077 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38278882671071232 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:38:07.078 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38278882671071232 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:38:07.086 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38278882671071232 [0;39m <==    Updates: 1
2023-05-13 17:38:07.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38278882671071232 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:38:07.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38278882671071232 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 17:38:09.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38278891181314048 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:38:09.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38278891181314048 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:38:09.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38278891181314048 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:38:09.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38278891181314048 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:38:09.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38278891181314048 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:38:09.105 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38278891181314048 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:38:09.105 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38278891181314048 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:38:09.106 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38278891181314048 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:38:09.107 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38278891181314048 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:38:09.107 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38278891181314048 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:38:09.108 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38278891181314048 [0;39m <==      Total: 2
2023-05-13 17:38:09.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38278891181314048 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:38:09.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38278891181314048 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 17:38:09.649 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:38:14.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:38:18.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:38:33.717 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:38:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38278999855730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:38:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278999855730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:38:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278999855730688 [0;39m ==> Parameters: 
2023-05-13 17:38:35.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38278999855730688 [0;39m <==    Updates: 1
2023-05-13 17:38:35.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38278999855730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 17:38:44.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:38:47.571 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:38:55.765 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:38:57.807 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:39:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38279104700747776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:39:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38279104700747776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:39:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38279104700747776 [0;39m ==> Parameters: 
2023-05-13 17:39:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38279104700747776 [0;39m <==    Updates: 0
2023-05-13 17:39:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38279104700747776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 17:39:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38279125693239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:39:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279125693239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:39:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279125693239296 [0;39m ==> Parameters: 
2023-05-13 17:39:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279125693239296 [0;39m <==    Updates: 1
2023-05-13 17:39:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38279125693239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:39:13.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:39:14.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:39:17.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:39:19.870 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:39:21.906 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:39:34.999 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38279251459444736 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:39:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279251459444736 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:39:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279251459444736 [0;39m ==> Parameters: 
2023-05-13 17:39:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279251459444736 [0;39m <==    Updates: 1
2023-05-13 17:39:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38279251459444736 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:39:43.136 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:39:44.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:39:45.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:39:47.234 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:39:49.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:40:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38279356367376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:40:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38279356367376384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:40:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38279356367376384 [0;39m ==> Parameters: 
2023-05-13 17:40:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38279356367376384 [0;39m <==    Updates: 0
2023-05-13 17:40:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38279356367376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:40:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38279377301147648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:40:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279377301147648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:40:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279377301147648 [0;39m ==> Parameters: 
2023-05-13 17:40:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279377301147648 [0;39m <==    Updates: 1
2023-05-13 17:40:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38279377301147648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:40:11.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:40:13.387 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:40:14.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:40:17.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:40:19.516 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:40:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38279503142850560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:40:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279503142850560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:40:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279503142850560 [0;39m ==> Parameters: 
2023-05-13 17:40:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279503142850560 [0;39m <==    Updates: 1
2023-05-13 17:40:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38279503142850560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:40:35.601 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:40:36.940 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38277453294211072 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šlVsgguEGo6ï¼Œsession idï¼š2ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 17:40:37.663 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:40:39.274 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38277454833520640 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šcXZtBiFYcLï¼Œsession idï¼š3ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 17:40:39.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38279522541506560 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:40:39.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38279522541506560 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:40:39.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38279522541506560 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:40:39.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38279522541506560 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:40:39.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38279522541506560 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:40:39.632 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38279522541506560 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:40:39.633 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38279522541506560 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:40:39.633 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279522541506560 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:40:39.633 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279522541506560 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 108, 5
2023-05-13 17:40:39.634 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279522541506560 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:40:39.634 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279522541506560 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:40:39.635 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279522541506560 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:40:39.635 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279522541506560 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:40:39.635 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279522541506560 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:40:39.636 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279522541506560 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:40:39.636 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279522541506560 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:40:39.637 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38279522541506560 [0;39m <==      Total: 8
2023-05-13 17:40:39.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38279522541506560 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":108,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:40:39.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38279522541506560 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:40:39.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38279523841740800 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:40:39.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38279523841740800 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:40:39.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38279523841740800 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:40:39.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38279523841740800 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:40:39.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38279523841740800 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:40:39.941 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38279523841740800 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:40:39.941 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38279523841740800 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:40:39.943 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38279523841740800 [0;39m <==    Columns: id, content
2023-05-13 17:40:39.943 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38279523841740800 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:40:39.944 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38279523841740800 [0;39m <==      Total: 1
2023-05-13 17:40:39.944 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38279523841740800 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:40:39.945 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38279523841740800 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:40:39.947 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38279523841740800 [0;39m <==    Updates: 1
2023-05-13 17:40:39.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38279523841740800 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:40:39.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38279523841740800 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 17:40:43.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:40:44.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:40:44.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38279542086963200 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:40:44.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38279542086963200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:40:44.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38279542086963200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:40:44.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38279542086963200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:40:44.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38279542086963200 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:40:44.292 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38279542086963200 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:40:44.293 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38279542086963200 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:40:44.293 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38279542086963200 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:40:44.294 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38279542086963200 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:40:44.296 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38279542086963200 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:40:44.296 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38279542086963200 [0;39m <==      Total: 2
2023-05-13 17:40:44.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38279542086963200 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:40:44.297 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38279542086963200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:40:47.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:40:56.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38279594553511936 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:40:56.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38279594553511936 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:40:56.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38279594553511936 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:40:56.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38279594553511936 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:40:56.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38279594553511936 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:40:56.801 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38279594553511936 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:40:56.801 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38279594553511936 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:40:56.802 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279594553511936 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:40:56.803 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279594553511936 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 109, 5
2023-05-13 17:40:56.803 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279594553511936 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:40:56.804 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279594553511936 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:40:56.804 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279594553511936 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:40:56.804 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279594553511936 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:40:56.804 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279594553511936 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:40:56.805 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279594553511936 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:40:56.806 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38279594553511936 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:40:56.806 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38279594553511936 [0;39m <==      Total: 8
2023-05-13 17:40:56.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38279594553511936 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":109,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:40:56.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38279594553511936 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 17:40:56.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38279594708701184 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:40:56.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38279594708701184 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:40:56.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38279594708701184 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:40:56.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38279594708701184 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:40:56.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38279594708701184 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:40:56.839 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38279594708701184 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:40:56.840 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38279594708701184 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:40:56.841 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38279594708701184 [0;39m <==    Columns: id, content
2023-05-13 17:40:56.841 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38279594708701184 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:40:56.841 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38279594708701184 [0;39m <==      Total: 1
2023-05-13 17:40:56.843 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38279594708701184 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:40:56.844 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38279594708701184 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:40:56.847 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38279594708701184 [0;39m <==    Updates: 1
2023-05-13 17:40:56.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38279594708701184 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:40:56.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38279594708701184 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 17:40:58.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38279601310535680 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:40:58.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38279601310535680 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:40:58.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38279601310535680 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:40:58.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38279601310535680 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:40:58.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38279601310535680 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:40:58.412 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38279601310535680 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:40:58.412 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38279601310535680 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:40:58.413 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38279601310535680 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:40:58.414 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38279601310535680 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:40:58.414 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38279601310535680 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:40:58.414 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38279601310535680 [0;39m <==      Total: 2
2023-05-13 17:40:58.415 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38279601310535680 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:40:58.415 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38279601310535680 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 17:40:59.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:41:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38279608034004992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:41:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38279608034004992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:41:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38279608034004992 [0;39m ==> Parameters: 
2023-05-13 17:41:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38279608034004992 [0;39m <==    Updates: 0
2023-05-13 17:41:00.033 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38279608034004992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 17:41:02.106 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:41:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38279629005524992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:41:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279629005524992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:41:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279629005524992 [0;39m ==> Parameters: 
2023-05-13 17:41:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279629005524992 [0;39m <==    Updates: 1
2023-05-13 17:41:05.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38279629005524992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 17:41:13.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:41:14.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:41:15.345 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:41:17.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:41:24.156 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:41:26.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:41:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38279754838839296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:41:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279754838839296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:41:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279754838839296 [0;39m ==> Parameters: 
2023-05-13 17:41:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279754838839296 [0;39m <==    Updates: 1
2023-05-13 17:41:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38279754838839296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:41:43.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:41:44.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:41:47.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:41:49.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:41:51.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:42:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38279859662884864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:42:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38279859662884864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:42:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38279859662884864 [0;39m ==> Parameters: 
2023-05-13 17:42:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38279859662884864 [0;39m <==    Updates: 0
2023-05-13 17:42:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38279859662884864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 17:42:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38279880638599168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:42:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279880638599168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:42:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279880638599168 [0;39m ==> Parameters: 
2023-05-13 17:42:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38279880638599168 [0;39m <==    Updates: 1
2023-05-13 17:42:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38279880638599168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:42:14.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:42:15.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:42:17.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:42:19.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:42:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38280006476107776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:42:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280006476107776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:42:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280006476107776 [0;39m ==> Parameters: 
2023-05-13 17:42:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280006476107776 [0;39m <==    Updates: 1
2023-05-13 17:42:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38280006476107776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 17:42:41.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:42:43.437 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:42:44.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:42:45.482 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:42:47.649 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:42:49.693 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:43:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38280111325319168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:43:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38280111325319168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:43:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38280111325319168 [0;39m ==> Parameters: 
2023-05-13 17:43:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38280111325319168 [0;39m <==    Updates: 0
2023-05-13 17:43:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38280111325319168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:43:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38280132317810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:43:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280132317810688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:43:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280132317810688 [0;39m ==> Parameters: 
2023-05-13 17:43:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280132317810688 [0;39m <==    Updates: 1
2023-05-13 17:43:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38280132317810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:43:07.554 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:43:13.845 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38277444695887872 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šcXZtBiFYcLï¼Œsession idï¼š3ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 17:43:14.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:43:15.162 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:43:17.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:43:18.570 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38277453294211072 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šwAjUD6K4D1ï¼Œsession idï¼š4ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 17:43:18.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38280190383755264 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:43:18.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38280190383755264 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:43:18.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38280190383755264 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:43:18.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38280190383755264 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:43:18.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38280190383755264 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:43:18.858 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38280190383755264 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:43:18.858 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38280190383755264 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:43:18.859 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280190383755264 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:43:18.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280190383755264 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 110, 5
2023-05-13 17:43:18.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280190383755264 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:43:18.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280190383755264 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:43:18.861 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280190383755264 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:43:18.861 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280190383755264 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:43:18.861 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280190383755264 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:43:18.861 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280190383755264 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:43:18.862 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280190383755264 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:43:18.862 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38280190383755264 [0;39m <==      Total: 8
2023-05-13 17:43:18.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38280190383755264 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":110,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:43:18.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38280190383755264 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:43:19.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38280191453302784 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:43:19.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38280191453302784 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:43:19.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38280191453302784 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:43:19.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38280191453302784 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:43:19.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38280191453302784 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:43:19.113 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38280191453302784 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:43:19.113 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38280191453302784 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:43:19.114 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38280191453302784 [0;39m <==    Columns: id, content
2023-05-13 17:43:19.115 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38280191453302784 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:43:19.115 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38280191453302784 [0;39m <==      Total: 1
2023-05-13 17:43:19.116 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38280191453302784 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:43:19.116 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38280191453302784 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:43:19.124 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38280191453302784 [0;39m <==    Updates: 1
2023-05-13 17:43:19.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38280191453302784 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:43:19.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38280191453302784 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 17:43:22.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38280205978177536 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:43:22.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38280205978177536 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:43:22.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38280205978177536 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:43:22.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38280205978177536 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:43:22.576 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38280205978177536 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:43:22.577 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38280205978177536 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:43:22.577 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38280205978177536 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:43:22.578 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38280205978177536 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:43:22.578 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38280205978177536 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:43:22.579 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38280205978177536 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:43:22.579 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38280205978177536 [0;39m <==      Total: 2
2023-05-13 17:43:22.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38280205978177536 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:43:22.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38280205978177536 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 17:43:31.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:43:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38280258130153472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:43:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280258130153472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:43:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280258130153472 [0;39m ==> Parameters: 
2023-05-13 17:43:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280258130153472 [0;39m <==    Updates: 1
2023-05-13 17:43:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38280258130153472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:43:44.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:43:47.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:43:55.722 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:44:00.043 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38280363134554112 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:44:00.045 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38280363134554112 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:44:00.053 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38280363134554112 [0;39m ==> Parameters: 
2023-05-13 17:44:00.060 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38280363134554112 [0;39m <==    Updates: 0
2023-05-13 17:44:00.061 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38280363134554112 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š18æ¯«ç§’
2023-05-13 17:44:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38280383946690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:44:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280383946690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:44:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280383946690560 [0;39m ==> Parameters: 
2023-05-13 17:44:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280383946690560 [0;39m <==    Updates: 1
2023-05-13 17:44:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38280383946690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:44:13.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:44:14.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:44:15.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:44:15.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38280427986882560 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:44:15.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38280427986882560 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:44:15.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38280427986882560 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:44:15.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38280427986882560 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:44:15.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38280427986882560 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:44:15.508 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38280427986882560 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:44:15.508 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38280427986882560 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:44:15.509 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280427986882560 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:44:15.509 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280427986882560 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 111, 5
2023-05-13 17:44:15.510 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280427986882560 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:44:15.510 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280427986882560 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:44:15.510 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280427986882560 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:44:15.510 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280427986882560 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:44:15.511 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280427986882560 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:44:15.511 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280427986882560 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:44:15.511 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38280427986882560 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:44:15.511 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38280427986882560 [0;39m <==      Total: 8
2023-05-13 17:44:15.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38280427986882560 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":111,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:44:15.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38280427986882560 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 17:44:16.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38280431254245376 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:44:16.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38280431254245376 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:44:16.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38280431254245376 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:44:16.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38280431254245376 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:44:16.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38280431254245376 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:44:16.286 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38280431254245376 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:44:16.287 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38280431254245376 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:44:16.289 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38280431254245376 [0;39m <==    Columns: id, content
2023-05-13 17:44:16.289 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38280431254245376 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:44:16.290 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38280431254245376 [0;39m <==      Total: 1
2023-05-13 17:44:16.290 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38280431254245376 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:44:16.290 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38280431254245376 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:44:16.292 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38280431254245376 [0;39m <==    Updates: 1
2023-05-13 17:44:16.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38280431254245376 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:44:16.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38280431254245376 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 17:44:17.705 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:44:19.737 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:44:21.786 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:44:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38280509809364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:44:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280509809364992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:44:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280509809364992 [0;39m ==> Parameters: 
2023-05-13 17:44:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280509809364992 [0;39m <==    Updates: 1
2023-05-13 17:44:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38280509809364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 17:44:44.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:44:45.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:44:47.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:44:49.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:45:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38280614637604864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:45:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38280614637604864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:45:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38280614637604864 [0;39m ==> Parameters: 
2023-05-13 17:45:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38280614637604864 [0;39m <==    Updates: 0
2023-05-13 17:45:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38280614637604864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š14æ¯«ç§’
2023-05-13 17:45:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38280635642679296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:45:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280635642679296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:45:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280635642679296 [0;39m ==> Parameters: 
2023-05-13 17:45:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280635642679296 [0;39m <==    Updates: 1
2023-05-13 17:45:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38280635642679296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:45:11.302 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:45:13.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:45:14.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:45:15.392 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:45:17.441 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:45:19.496 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:45:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38280761455022080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:45:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280761455022080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:45:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280761455022080 [0;39m ==> Parameters: 
2023-05-13 17:45:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280761455022080 [0;39m <==    Updates: 1
2023-05-13 17:45:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38280761455022080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:45:35.380 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:45:37.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:45:43.132 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:45:44.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:45:45.186 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:45:47.233 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:46:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38280866337787904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:46:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38280866337787904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:46:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38280866337787904 [0;39m ==> Parameters: 
2023-05-13 17:46:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38280866337787904 [0;39m <==    Updates: 0
2023-05-13 17:46:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38280866337787904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:46:01.543 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:46:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38280887317696512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:46:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280887317696512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:46:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280887317696512 [0;39m ==> Parameters: 
2023-05-13 17:46:05.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38280887317696512 [0;39m <==    Updates: 1
2023-05-13 17:46:05.039 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38280887317696512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š21æ¯«ç§’
2023-05-13 17:46:13.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:46:14.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:46:15.167 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:46:17.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:46:25.649 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:46:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38281013104873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:46:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281013104873472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:46:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281013104873472 [0;39m ==> Parameters: 
2023-05-13 17:46:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281013104873472 [0;39m <==    Updates: 1
2023-05-13 17:46:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38281013104873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:46:43.152 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:46:44.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:46:45.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:46:47.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:46:49.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:46:51.297 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:47:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38281117979250688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:47:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38281117979250688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:47:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38281117979250688 [0;39m ==> Parameters: 
2023-05-13 17:47:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38281117979250688 [0;39m <==    Updates: 0
2023-05-13 17:47:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38281117979250688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:47:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38281138971742208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:47:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281138971742208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:47:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281138971742208 [0;39m ==> Parameters: 
2023-05-13 17:47:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281138971742208 [0;39m <==    Updates: 1
2023-05-13 17:47:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38281138971742208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:47:13.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:47:14.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:47:17.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:47:19.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:47:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38281264729559040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:47:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281264729559040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:47:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281264729559040 [0;39m ==> Parameters: 
2023-05-13 17:47:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281264729559040 [0;39m <==    Updates: 1
2023-05-13 17:47:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38281264729559040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 17:47:41.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:47:44.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:47:47.398 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:48:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38281369633296384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:48:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38281369633296384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:48:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38281369633296384 [0;39m ==> Parameters: 
2023-05-13 17:48:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38281369633296384 [0;39m <==    Updates: 0
2023-05-13 17:48:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38281369633296384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:48:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38281390604816384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:48:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281390604816384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:48:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281390604816384 [0;39m ==> Parameters: 
2023-05-13 17:48:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281390604816384 [0;39m <==    Updates: 1
2023-05-13 17:48:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38281390604816384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:48:06.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:48:08.784 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:48:13.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:48:14.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:48:15.183 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:48:17.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:48:30.830 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:48:32.868 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:48:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38281516417159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:48:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281516417159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:48:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281516417159168 [0;39m ==> Parameters: 
2023-05-13 17:48:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281516417159168 [0;39m <==    Updates: 1
2023-05-13 17:48:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38281516417159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:48:43.104 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:48:44.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:48:47.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:48:54.926 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:48:56.962 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:49:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38281621295730688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:49:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38281621295730688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:49:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38281621295730688 [0;39m ==> Parameters: 
2023-05-13 17:49:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38281621295730688 [0;39m <==    Updates: 0
2023-05-13 17:49:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38281621295730688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:49:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38281642250473472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281642250473472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281642250473472 [0;39m ==> Parameters: 
2023-05-13 17:49:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281642250473472 [0;39m <==    Updates: 1
2023-05-13 17:49:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38281642250473472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:49:13.147 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:49:14.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:49:15.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:49:17.243 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:49:21.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:49:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38281768071204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:49:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281768071204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:49:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281768071204864 [0;39m ==> Parameters: 
2023-05-13 17:49:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281768071204864 [0;39m <==    Updates: 1
2023-05-13 17:49:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38281768071204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:49:43.119 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:49:44.308 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:49:45.380 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:49:47.419 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:50:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38281872953970688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:50:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38281872953970688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:50:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38281872953970688 [0;39m ==> Parameters: 
2023-05-13 17:50:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38281872953970688 [0;39m <==    Updates: 0
2023-05-13 17:50:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38281872953970688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:50:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38281893908713472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:50:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281893908713472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:50:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281893908713472 [0;39m ==> Parameters: 
2023-05-13 17:50:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38281893908713472 [0;39m <==    Updates: 1
2023-05-13 17:50:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38281893908713472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:50:11.504 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:50:14.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:50:17.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:50:33.839 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:50:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38282019733639168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:50:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282019733639168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:50:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282019733639168 [0;39m ==> Parameters: 
2023-05-13 17:50:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282019733639168 [0;39m <==    Updates: 1
2023-05-13 17:50:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38282019733639168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:50:35.895 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:50:43.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:50:44.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:50:47.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:50:59.992 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:51:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38282124616404992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:51:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38282124616404992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:51:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38282124616404992 [0;39m ==> Parameters: 
2023-05-13 17:51:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38282124616404992 [0;39m <==    Updates: 0
2023-05-13 17:51:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38282124616404992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 17:51:01.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282130270326784 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:51:01.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282130270326784 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:51:01.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282130270326784 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:51:01.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282130270326784 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:51:01.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282130270326784 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:51:01.362 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282130270326784 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:51:01.363 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282130270326784 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:51:01.364 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282130270326784 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:51:01.364 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282130270326784 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 112, 5
2023-05-13 17:51:01.364 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282130270326784 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:51:01.364 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282130270326784 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:51:01.365 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282130270326784 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:51:01.365 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282130270326784 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:51:01.365 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282130270326784 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:51:01.365 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282130270326784 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:51:01.366 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282130270326784 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:51:01.366 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282130270326784 [0;39m <==      Total: 8
2023-05-13 17:51:01.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282130270326784 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":112,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:51:01.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282130270326784 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 17:51:01.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282131893522432 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:51:01.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282131893522432 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:51:01.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282131893522432 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:51:01.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282131893522432 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:51:01.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282131893522432 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:51:01.751 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282131893522432 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:51:01.752 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282131893522432 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:51:01.753 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282131893522432 [0;39m <==    Columns: id, content
2023-05-13 17:51:01.753 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282131893522432 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:51:01.753 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282131893522432 [0;39m <==      Total: 1
2023-05-13 17:51:01.754 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282131893522432 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:51:01.754 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282131893522432 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:51:01.758 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282131893522432 [0;39m <==    Updates: 1
2023-05-13 17:51:01.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282131893522432 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:51:01.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282131893522432 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 17:51:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38282145592119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:51:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282145592119296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:51:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282145592119296 [0;39m ==> Parameters: 
2023-05-13 17:51:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282145592119296 [0;39m <==    Updates: 1
2023-05-13 17:51:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38282145592119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:51:13.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:51:14.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:51:15.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:51:17.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:51:22.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:51:24.093 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:51:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38282271383490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:51:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282271383490560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:51:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282271383490560 [0;39m ==> Parameters: 
2023-05-13 17:51:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282271383490560 [0;39m <==    Updates: 1
2023-05-13 17:51:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38282271383490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:51:44.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:51:47.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:51:49.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:52:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38282376249479168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:52:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38282376249479168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:52:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38282376249479168 [0;39m ==> Parameters: 
2023-05-13 17:52:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38282376249479168 [0;39m <==    Updates: 0
2023-05-13 17:52:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38282376249479168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 17:52:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38282397233582080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:52:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282397233582080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:52:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282397233582080 [0;39m ==> Parameters: 
2023-05-13 17:52:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282397233582080 [0;39m <==    Updates: 1
2023-05-13 17:52:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38282397233582080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:52:11.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:52:13.879 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:52:14.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:52:15.907 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:52:18.009 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:52:20.032 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:52:20.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282463243538432 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:52:20.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282463243538432 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:52:20.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282463243538432 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:52:20.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282463243538432 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:52:20.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282463243538432 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:52:20.750 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282463243538432 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:52:20.750 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282463243538432 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:52:20.751 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282463243538432 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:52:20.751 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282463243538432 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 113, 5
2023-05-13 17:52:20.752 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282463243538432 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:52:20.752 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282463243538432 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:52:20.752 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282463243538432 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:52:20.752 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282463243538432 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:52:20.752 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282463243538432 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:52:20.752 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282463243538432 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:52:20.753 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282463243538432 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:52:20.753 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282463243538432 [0;39m <==      Total: 8
2023-05-13 17:52:20.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282463243538432 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":113,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:52:20.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282463243538432 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:52:20.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282463595859968 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:52:20.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282463595859968 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:52:20.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282463595859968 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:52:20.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282463595859968 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:52:20.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282463595859968 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:52:20.835 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282463595859968 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:52:20.836 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282463595859968 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:52:20.837 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282463595859968 [0;39m <==    Columns: id, content
2023-05-13 17:52:20.838 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282463595859968 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:52:20.838 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282463595859968 [0;39m <==      Total: 1
2023-05-13 17:52:20.838 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282463595859968 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:52:20.839 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282463595859968 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:52:20.847 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282463595859968 [0;39m <==    Updates: 1
2023-05-13 17:52:20.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282463595859968 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:52:20.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282463595859968 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-13 17:52:28.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282494017146880 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:52:28.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282494017146880 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:52:28.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282494017146880 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:52:28.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282494017146880 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:52:28.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282494017146880 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:52:28.089 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282494017146880 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:52:28.090 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282494017146880 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:52:28.091 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282494017146880 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:52:28.091 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282494017146880 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 114, 5
2023-05-13 17:52:28.092 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282494017146880 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:52:28.092 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282494017146880 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:52:28.093 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282494017146880 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:52:28.093 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282494017146880 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:52:28.093 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282494017146880 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:52:28.093 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282494017146880 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:52:28.094 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282494017146880 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:52:28.094 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282494017146880 [0;39m <==      Total: 8
2023-05-13 17:52:28.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282494017146880 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":114,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:52:28.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282494017146880 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 17:52:28.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282494201696256 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:52:28.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282494201696256 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:52:28.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282494201696256 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:52:28.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282494201696256 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:52:28.130 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282494201696256 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:52:28.130 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282494201696256 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:52:28.130 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282494201696256 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:52:28.131 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282494201696256 [0;39m <==    Columns: id, content
2023-05-13 17:52:28.131 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282494201696256 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:52:28.132 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282494201696256 [0;39m <==      Total: 1
2023-05-13 17:52:28.133 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282494201696256 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:52:28.133 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282494201696256 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:52:28.151 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282494201696256 [0;39m <==    Updates: 1
2023-05-13 17:52:28.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282494201696256 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:52:28.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282494201696256 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š23 ms -------------
2023-05-13 17:52:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38282523054313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:52:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282523054313472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:52:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282523054313472 [0;39m ==> Parameters: 
2023-05-13 17:52:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282523054313472 [0;39m <==    Updates: 1
2023-05-13 17:52:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38282523054313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 17:52:36.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282530620837888 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:52:36.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282530620837888 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:52:36.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282530620837888 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:52:36.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282530620837888 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:52:36.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282530620837888 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:52:36.814 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282530620837888 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:52:36.815 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282530620837888 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:52:36.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282530620837888 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:52:36.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282530620837888 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 115, 5
2023-05-13 17:52:36.817 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282530620837888 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:52:36.817 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282530620837888 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:52:36.817 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282530620837888 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:52:36.817 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282530620837888 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:52:36.818 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282530620837888 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:52:36.818 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282530620837888 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:52:36.818 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282530620837888 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:52:36.818 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282530620837888 [0;39m <==      Total: 8
2023-05-13 17:52:36.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282530620837888 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":115,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:52:36.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282530620837888 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:52:36.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282530985742336 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:52:36.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282530985742336 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:52:36.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282530985742336 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:52:36.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282530985742336 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:52:36.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282530985742336 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:52:36.901 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282530985742336 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:52:36.901 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282530985742336 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:52:36.903 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282530985742336 [0;39m <==    Columns: id, content
2023-05-13 17:52:36.903 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282530985742336 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:52:36.904 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282530985742336 [0;39m <==      Total: 1
2023-05-13 17:52:36.905 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282530985742336 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:52:36.905 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282530985742336 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:52:36.908 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282530985742336 [0;39m <==    Updates: 1
2023-05-13 17:52:36.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282530985742336 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:52:36.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282530985742336 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 17:52:37.041 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:52:39.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:52:40.656 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38279594708701184 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šwAjUD6K4D1ï¼Œsession idï¼š4ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 17:52:43.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:52:44.077 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38282130270326784 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šuQ3jOThbVYï¼Œsession idï¼š5ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 17:52:44.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282562635960320 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:52:44.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282562635960320 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:52:44.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282562635960320 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:52:44.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282562635960320 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:52:44.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282562635960320 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:52:44.447 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282562635960320 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:52:44.448 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282562635960320 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:52:44.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282562635960320 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:52:44.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282562635960320 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 116, 5
2023-05-13 17:52:44.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282562635960320 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:52:44.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282562635960320 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:52:44.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282562635960320 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:52:44.450 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282562635960320 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:52:44.450 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282562635960320 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:52:44.450 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:52:44.451 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282562635960320 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:52:44.451 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282562635960320 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:52:44.451 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282562635960320 [0;39m <==      Total: 8
2023-05-13 17:52:44.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282562635960320 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":116,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:52:44.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282562635960320 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:52:44.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282563244134400 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:52:44.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282563244134400 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:52:44.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282563244134400 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:52:44.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282563244134400 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:52:44.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282563244134400 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:52:44.592 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282563244134400 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:52:44.592 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282563244134400 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:52:44.594 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282563244134400 [0;39m <==    Columns: id, content
2023-05-13 17:52:44.594 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282563244134400 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:52:44.594 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282563244134400 [0;39m <==      Total: 1
2023-05-13 17:52:44.595 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282563244134400 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:52:44.595 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282563244134400 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:52:44.597 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282563244134400 [0;39m <==    Updates: 1
2023-05-13 17:52:44.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282563244134400 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:52:44.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282563244134400 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 17:52:45.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:52:47.448 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:53:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38282627882553344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:53:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38282627882553344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:53:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38282627882553344 [0;39m ==> Parameters: 
2023-05-13 17:53:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38282627882553344 [0;39m <==    Updates: 0
2023-05-13 17:53:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38282627882553344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:53:01.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:53:03.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:53:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38282648858267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:53:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282648858267648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:53:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282648858267648 [0;39m ==> Parameters: 
2023-05-13 17:53:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282648858267648 [0;39m <==    Updates: 1
2023-05-13 17:53:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38282648858267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:53:13.093 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:53:13.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282686485368832 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:53:13.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282686485368832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:53:13.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282686485368832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:53:13.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282686485368832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:53:13.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282686485368832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:53:13.978 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38282686485368832 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:53:13.979 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38282686485368832 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:53:13.981 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38282686485368832 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:53:13.981 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38282686485368832 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:53:13.982 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38282686485368832 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:53:13.983 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38282686485368832 [0;39m <==      Total: 2
2023-05-13 17:53:13.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282686485368832 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:53:13.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282686485368832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 17:53:14.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:53:15.146 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:53:17.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:53:27.297 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:53:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38282774699970560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:53:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282774699970560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:53:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282774699970560 [0;39m ==> Parameters: 
2023-05-13 17:53:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282774699970560 [0;39m <==    Updates: 1
2023-05-13 17:53:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38282774699970560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 17:53:35.373 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38282463595859968 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šuQ3jOThbVYï¼Œsession idï¼š5ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 17:53:42.194 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38282494017146880 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š7WxtH9jRCHï¼Œsession idï¼š6ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 17:53:42.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282805934952448 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:53:42.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282805934952448 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:53:42.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282805934952448 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:53:42.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282805934952448 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:53:42.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282805934952448 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:53:42.455 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282805934952448 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:53:42.455 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282805934952448 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:53:42.456 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282805934952448 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:53:42.456 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282805934952448 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 117, 5
2023-05-13 17:53:42.457 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282805934952448 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:53:42.457 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282805934952448 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:53:42.457 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282805934952448 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:53:42.458 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282805934952448 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:53:42.458 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282805934952448 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:53:42.458 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282805934952448 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:53:42.458 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282805934952448 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:53:42.458 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282805934952448 [0;39m <==      Total: 8
2023-05-13 17:53:42.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282805934952448 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":117,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:53:42.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282805934952448 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:53:42.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282806991917056 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:53:42.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282806991917056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:53:42.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282806991917056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:53:42.708 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282806991917056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:53:42.708 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282806991917056 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:53:42.709 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282806991917056 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:53:42.709 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282806991917056 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:53:42.711 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282806991917056 [0;39m <==    Columns: id, content
2023-05-13 17:53:42.712 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282806991917056 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:53:42.712 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282806991917056 [0;39m <==      Total: 1
2023-05-13 17:53:42.713 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282806991917056 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:53:42.714 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282806991917056 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:53:42.733 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282806991917056 [0;39m <==    Updates: 1
2023-05-13 17:53:42.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282806991917056 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:53:42.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282806991917056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š30 ms -------------
2023-05-13 17:53:44.599 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:53:48.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:53:51.023 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282841884332032 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:53:51.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282841884332032 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:53:51.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282841884332032 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:53:51.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282841884332032 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:53:51.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282841884332032 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:53:51.026 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282841884332032 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:53:51.027 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282841884332032 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:53:51.028 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282841884332032 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:53:51.028 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282841884332032 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 118, 5
2023-05-13 17:53:51.029 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282841884332032 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:53:51.029 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282841884332032 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:53:51.029 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282841884332032 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:53:51.029 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282841884332032 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:53:51.029 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282841884332032 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:53:51.030 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282841884332032 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:53:51.030 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38282841884332032 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:53:51.030 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38282841884332032 [0;39m <==      Total: 8
2023-05-13 17:53:51.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282841884332032 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":118,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:53:51.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282841884332032 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 17:53:51.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282842597363712 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:53:51.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282842597363712 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:53:51.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282842597363712 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:53:51.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282842597363712 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:53:51.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282842597363712 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:53:51.195 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282842597363712 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:53:51.195 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282842597363712 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:53:51.196 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282842597363712 [0;39m <==    Columns: id, content
2023-05-13 17:53:51.196 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38282842597363712 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:53:51.196 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38282842597363712 [0;39m <==      Total: 1
2023-05-13 17:53:51.196 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282842597363712 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:53:51.197 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282842597363712 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:53:51.200 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38282842597363712 [0;39m <==    Updates: 1
2023-05-13 17:53:51.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282842597363712 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:53:51.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282842597363712 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:53:52.413 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:53:52.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38282848075124736 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:53:52.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38282848075124736 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:53:52.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38282848075124736 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:53:52.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38282848075124736 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:53:52.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38282848075124736 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:53:52.501 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38282848075124736 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:53:52.502 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38282848075124736 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:53:52.502 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38282848075124736 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:53:52.503 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38282848075124736 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:53:52.503 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38282848075124736 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:53:52.503 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38282848075124736 [0;39m <==      Total: 2
2023-05-13 17:53:52.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38282848075124736 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:53:52.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38282848075124736 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 17:54:00.039 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38282879700176896 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:54:00.040 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38282879700176896 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:54:00.050 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38282879700176896 [0;39m ==> Parameters: 
2023-05-13 17:54:00.069 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38282879700176896 [0;39m <==    Updates: 0
2023-05-13 17:54:00.069 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38282879700176896 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2023-05-13 17:54:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38282900520701952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:54:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282900520701952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:54:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282900520701952 [0;39m ==> Parameters: 
2023-05-13 17:54:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38282900520701952 [0;39m <==    Updates: 1
2023-05-13 17:54:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38282900520701952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 17:54:13.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:54:14.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:54:15.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:54:17.249 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:54:19.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:54:30.331 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38282562635960320 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š7WxtH9jRCHï¼Œsession idï¼š6ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 17:54:33.508 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38282563244134400 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šZMAhUf6UiPï¼Œsession idï¼š7ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 17:54:33.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38283021127913472 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:54:33.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38283021127913472 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:54:33.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38283021127913472 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:54:33.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38283021127913472 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:54:33.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38283021127913472 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:54:33.760 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283021127913472 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:54:33.760 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283021127913472 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:54:33.762 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283021127913472 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:54:33.762 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283021127913472 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 119, 5
2023-05-13 17:54:33.762 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283021127913472 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:54:33.762 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283021127913472 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:54:33.763 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283021127913472 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:54:33.763 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283021127913472 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:54:33.763 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283021127913472 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:54:33.763 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283021127913472 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:54:33.764 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283021127913472 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:54:33.764 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283021127913472 [0;39m <==      Total: 8
2023-05-13 17:54:33.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38283021127913472 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":119,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:54:33.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38283021127913472 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:54:34.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38283022704971776 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:54:34.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38283022704971776 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:54:34.135 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38283022704971776 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:54:34.135 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38283022704971776 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:54:34.135 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38283022704971776 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:54:34.135 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283022704971776 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:54:34.136 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283022704971776 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:54:34.138 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38283022704971776 [0;39m <==    Columns: id, content
2023-05-13 17:54:34.139 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38283022704971776 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:54:34.139 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283022704971776 [0;39m <==      Total: 1
2023-05-13 17:54:34.139 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283022704971776 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:54:34.140 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283022704971776 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:54:34.147 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283022704971776 [0;39m <==    Updates: 1
2023-05-13 17:54:34.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38283022704971776 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:54:34.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38283022704971776 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 17:54:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38283026383376384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:54:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283026383376384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:54:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283026383376384 [0;39m ==> Parameters: 
2023-05-13 17:54:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283026383376384 [0;39m <==    Updates: 1
2023-05-13 17:54:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38283026383376384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:54:37.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38283034763595776 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:54:37.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38283034763595776 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:54:37.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38283034763595776 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:54:37.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38283034763595776 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:54:37.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38283034763595776 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:54:37.012 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38283034763595776 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:54:37.012 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38283034763595776 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:54:37.013 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38283034763595776 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:54:37.013 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38283034763595776 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:54:37.014 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38283034763595776 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:54:37.014 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38283034763595776 [0;39m <==      Total: 2
2023-05-13 17:54:37.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38283034763595776 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:54:37.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38283034763595776 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 17:54:41.752 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:54:43.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:54:44.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:54:45.822 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:54:47.864 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:54:49.905 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:55:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38283131249364992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:55:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38283131249364992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:55:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38283131249364992 [0;39m ==> Parameters: 
2023-05-13 17:55:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38283131249364992 [0;39m <==    Updates: 0
2023-05-13 17:55:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38283131249364992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 17:55:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38283152187330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:55:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283152187330560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:55:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283152187330560 [0;39m ==> Parameters: 
2023-05-13 17:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283152187330560 [0;39m <==    Updates: 1
2023-05-13 17:55:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38283152187330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:55:07.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:55:14.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:55:15.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:55:17.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:55:20.910 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38282805934952448 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šZMAhUf6UiPï¼Œsession idï¼š7ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 17:55:26.613 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38282806991917056 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šHqcgTE0342ï¼Œsession idï¼š8ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 17:55:27.099 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38283244856283136 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:55:27.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38283244856283136 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:55:27.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38283244856283136 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:55:27.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38283244856283136 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:55:27.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38283244856283136 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:55:27.101 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283244856283136 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:55:27.101 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283244856283136 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:55:27.102 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283244856283136 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:55:27.102 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283244856283136 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 120, 5
2023-05-13 17:55:27.102 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283244856283136 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:55:27.102 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283244856283136 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:55:27.102 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283244856283136 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:55:27.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283244856283136 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:55:27.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283244856283136 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:55:27.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283244856283136 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:55:27.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283244856283136 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:55:27.103 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283244856283136 [0;39m <==      Total: 8
2023-05-13 17:55:27.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38283244856283136 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":120,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:55:27.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38283244856283136 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 17:55:27.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38283245825167360 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:55:27.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38283245825167360 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:55:27.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38283245825167360 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:55:27.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38283245825167360 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:55:27.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38283245825167360 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:55:27.331 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283245825167360 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:55:27.331 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283245825167360 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:55:27.332 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38283245825167360 [0;39m <==    Columns: id, content
2023-05-13 17:55:27.332 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38283245825167360 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:55:27.333 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283245825167360 [0;39m <==      Total: 1
2023-05-13 17:55:27.333 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283245825167360 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:55:27.334 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283245825167360 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:55:27.338 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283245825167360 [0;39m <==    Updates: 1
2023-05-13 17:55:27.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38283245825167360 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:55:27.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38283245825167360 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 17:55:30.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:55:31.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38283263957143552 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:55:31.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38283263957143552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:55:31.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38283263957143552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:55:31.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38283263957143552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:55:31.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38283263957143552 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:55:31.655 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38283263957143552 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:55:31.656 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38283263957143552 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:55:31.657 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38283263957143552 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:55:31.658 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38283263957143552 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:55:31.659 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38283263957143552 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:55:31.659 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38283263957143552 [0;39m <==      Total: 2
2023-05-13 17:55:31.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38283263957143552 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:55:31.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38283263957143552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 17:55:32.794 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:55:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38283278029033472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:55:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283278029033472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:55:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283278029033472 [0;39m ==> Parameters: 
2023-05-13 17:55:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283278029033472 [0;39m <==    Updates: 1
2023-05-13 17:55:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38283278029033472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 17:55:43.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:55:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:55:45.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:55:47.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:55:56.890 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:56:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38283382882439168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:56:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38283382882439168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:56:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38283382882439168 [0;39m ==> Parameters: 
2023-05-13 17:56:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38283382882439168 [0;39m <==    Updates: 0
2023-05-13 17:56:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38283382882439168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 17:56:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38283403853959168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:56:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283403853959168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:56:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283403853959168 [0;39m ==> Parameters: 
2023-05-13 17:56:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283403853959168 [0;39m <==    Updates: 1
2023-05-13 17:56:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38283403853959168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:56:14.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:56:15.168 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:56:17.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:56:19.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:56:21.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:56:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38283529708244992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:56:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283529708244992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:56:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283529708244992 [0;39m ==> Parameters: 
2023-05-13 17:56:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283529708244992 [0;39m <==    Updates: 1
2023-05-13 17:56:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38283529708244992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 17:56:44.360 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:56:45.147 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:56:47.388 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:56:50.020 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:56:52.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38283604891144192 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:56:52.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38283604891144192 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:56:52.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38283604891144192 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:56:52.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38283604891144192 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:56:52.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38283604891144192 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:56:52.945 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283604891144192 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:56:52.945 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283604891144192 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:56:52.946 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283604891144192 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:56:52.946 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283604891144192 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 121, 5
2023-05-13 17:56:52.947 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283604891144192 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:56:52.947 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283604891144192 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:56:52.947 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283604891144192 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:56:52.947 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283604891144192 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:56:52.947 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283604891144192 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:56:52.947 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283604891144192 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:56:52.948 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283604891144192 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:56:52.948 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283604891144192 [0;39m <==      Total: 8
2023-05-13 17:56:52.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38283604891144192 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":121,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:56:52.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38283604891144192 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 17:56:54.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38283610721226752 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:56:54.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38283610721226752 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:56:54.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38283610721226752 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:56:54.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38283610721226752 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:56:54.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38283610721226752 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:56:54.329 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283610721226752 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:56:54.329 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283610721226752 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:56:54.331 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38283610721226752 [0;39m <==    Columns: id, content
2023-05-13 17:56:54.331 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38283610721226752 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:56:54.331 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283610721226752 [0;39m <==      Total: 1
2023-05-13 17:56:54.332 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283610721226752 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:56:54.332 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283610721226752 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:56:54.341 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283610721226752 [0;39m <==    Updates: 1
2023-05-13 17:56:54.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38283610721226752 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:56:54.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38283610721226752 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 17:57:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38283634549067776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:57:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38283634549067776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:57:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38283634549067776 [0;39m ==> Parameters: 
2023-05-13 17:57:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38283634549067776 [0;39m <==    Updates: 0
2023-05-13 17:57:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38283634549067776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:57:02.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38283644254687232 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:57:02.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38283644254687232 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:57:02.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38283644254687232 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:57:02.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38283644254687232 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:57:02.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38283644254687232 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:57:02.325 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283644254687232 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:57:02.326 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283644254687232 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:57:02.326 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283644254687232 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:57:02.327 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283644254687232 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 122, 5
2023-05-13 17:57:02.327 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283644254687232 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:57:02.327 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283644254687232 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:57:02.327 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283644254687232 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:57:02.328 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283644254687232 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:57:02.328 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283644254687232 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:57:02.328 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283644254687232 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:57:02.328 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283644254687232 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:57:02.329 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283644254687232 [0;39m <==      Total: 8
2023-05-13 17:57:02.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38283644254687232 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":122,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:57:02.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38283644254687232 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:57:02.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38283644917387264 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:57:02.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38283644917387264 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:57:02.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38283644917387264 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:57:02.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38283644917387264 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:57:02.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38283644917387264 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:57:02.483 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283644917387264 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:57:02.484 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283644917387264 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:57:02.484 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38283644917387264 [0;39m <==    Columns: id, content
2023-05-13 17:57:02.485 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38283644917387264 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:57:02.485 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283644917387264 [0;39m <==      Total: 1
2023-05-13 17:57:02.486 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283644917387264 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:57:02.487 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283644917387264 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:57:02.495 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283644917387264 [0;39m <==    Updates: 1
2023-05-13 17:57:02.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38283644917387264 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:57:02.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38283644917387264 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-13 17:57:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38283655528976384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:57:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283655528976384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:57:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283655528976384 [0;39m ==> Parameters: 
2023-05-13 17:57:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283655528976384 [0;39m <==    Updates: 1
2023-05-13 17:57:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38283655528976384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:57:07.212 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38282805934952448 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šHqcgTE0342ï¼Œsession idï¼š8ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 17:57:10.592 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38282806991917056 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šYkua7nQwl9ï¼Œsession idï¼š9ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 17:57:10.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38283680145346560 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:57:10.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38283680145346560 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 17:57:10.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38283680145346560 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 17:57:10.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38283680145346560 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:57:10.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38283680145346560 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:57:10.883 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283680145346560 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 17:57:10.884 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283680145346560 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:57:10.885 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283680145346560 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 17:57:10.885 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283680145346560 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 123, 5
2023-05-13 17:57:10.885 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283680145346560 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 17:57:10.886 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283680145346560 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 17:57:10.886 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283680145346560 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 17:57:10.886 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283680145346560 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 17:57:10.886 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283680145346560 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 17:57:10.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283680145346560 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 17:57:10.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38283680145346560 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 17:57:10.887 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38283680145346560 [0;39m <==      Total: 8
2023-05-13 17:57:10.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38283680145346560 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":123,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 17:57:10.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38283680145346560 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 17:57:11.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38283681135202304 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:57:11.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38283681135202304 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 17:57:11.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38283681135202304 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 17:57:11.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38283681135202304 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:57:11.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38283681135202304 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:57:11.118 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283681135202304 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 17:57:11.119 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283681135202304 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:57:11.120 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38283681135202304 [0;39m <==    Columns: id, content
2023-05-13 17:57:11.120 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38283681135202304 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 17:57:11.120 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38283681135202304 [0;39m <==      Total: 1
2023-05-13 17:57:11.121 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283681135202304 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 17:57:11.121 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283681135202304 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:57:11.123 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38283681135202304 [0;39m <==    Updates: 1
2023-05-13 17:57:11.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38283681135202304 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 17:57:11.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38283681135202304 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 17:57:14.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:57:14.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:57:16.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:57:18.229 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:57:28.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38283755458269184 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 17:57:28.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38283755458269184 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 17:57:28.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38283755458269184 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 17:57:28.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38283755458269184 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 17:57:28.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38283755458269184 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 17:57:28.838 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38283755458269184 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 17:57:28.839 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38283755458269184 [0;39m ==> Parameters: 1(Long)
2023-05-13 17:57:28.839 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38283755458269184 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 17:57:28.840 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38283755458269184 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 17:57:28.841 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38283755458269184 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 17:57:28.841 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38283755458269184 [0;39m <==      Total: 2
2023-05-13 17:57:28.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38283755458269184 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 17:57:28.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38283755458269184 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 17:57:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38283781349707776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:57:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283781349707776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:57:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283781349707776 [0;39m ==> Parameters: 
2023-05-13 17:57:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283781349707776 [0;39m <==    Updates: 1
2023-05-13 17:57:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38283781349707776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:57:36.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:57:38.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:57:44.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:57:45.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:57:47.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38283886224084992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:58:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38283886224084992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:58:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38283886224084992 [0;39m ==> Parameters: 
2023-05-13 17:58:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38283886224084992 [0;39m <==    Updates: 0
2023-05-13 17:58:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38283886224084992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š14æ¯«ç§’
2023-05-13 17:58:00.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:02.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38283907141079040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:58:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283907141079040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:58:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283907141079040 [0;39m ==> Parameters: 
2023-05-13 17:58:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38283907141079040 [0;39m <==    Updates: 1
2023-05-13 17:58:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38283907141079040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 17:58:13.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:14.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:15.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:17.229 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:24.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:26.383 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38284033028919296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:58:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284033028919296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:58:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284033028919296 [0;39m ==> Parameters: 
2023-05-13 17:58:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284033028919296 [0;39m <==    Updates: 1
2023-05-13 17:58:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38284033028919296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 17:58:43.119 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:44.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:45.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:47.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:49.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:58:51.293 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:59:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38284137848770560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 17:59:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38284137848770560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 17:59:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38284137848770560 [0;39m ==> Parameters: 
2023-05-13 17:59:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38284137848770560 [0;39m <==    Updates: 0
2023-05-13 17:59:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38284137848770560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 17:59:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38284158811901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:59:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284158811901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:59:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284158811901952 [0;39m ==> Parameters: 
2023-05-13 17:59:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284158811901952 [0;39m <==    Updates: 1
2023-05-13 17:59:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38284158811901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 17:59:14.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:59:15.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:59:17.214 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:59:19.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:59:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38284284682964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 17:59:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284284682964992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 17:59:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284284682964992 [0;39m ==> Parameters: 
2023-05-13 17:59:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284284682964992 [0;39m <==    Updates: 1
2023-05-13 17:59:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38284284682964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 17:59:43.378 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:59:44.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:59:45.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:59:47.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 17:59:49.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:00:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38284389532176384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:00:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38284389532176384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:00:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38284389532176384 [0;39m ==> Parameters: 
2023-05-13 18:00:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38284389532176384 [0;39m <==    Updates: 0
2023-05-13 18:00:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38284389532176384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 18:00:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38284410478530560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:00:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284410478530560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:00:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284410478530560 [0;39m ==> Parameters: 
2023-05-13 18:00:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284410478530560 [0;39m <==    Updates: 1
2023-05-13 18:00:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38284410478530560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:00:05.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:00:07.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:00:14.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:00:15.151 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:00:17.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:00:31.578 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:00:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38284536349593600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:00:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284536349593600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:00:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284536349593600 [0;39m ==> Parameters: 
2023-05-13 18:00:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284536349593600 [0;39m <==    Updates: 1
2023-05-13 18:00:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38284536349593600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 18:00:38.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38284549196746752 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:00:38.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38284549196746752 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:00:38.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38284549196746752 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:00:38.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38284549196746752 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:00:38.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38284549196746752 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:00:38.081 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38284549196746752 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:00:38.082 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38284549196746752 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:00:38.083 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284549196746752 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:00:38.083 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284549196746752 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 124, 5
2023-05-13 18:00:38.083 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284549196746752 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 18:00:38.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284549196746752 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:00:38.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284549196746752 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:00:38.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284549196746752 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:00:38.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284549196746752 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 18:00:38.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284549196746752 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:00:38.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284549196746752 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:00:38.085 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38284549196746752 [0;39m <==      Total: 8
2023-05-13 18:00:38.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38284549196746752 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":124,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:00:38.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38284549196746752 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 18:00:38.351 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38284550341791744 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:00:38.351 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38284550341791744 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:00:38.352 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38284550341791744 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:00:38.352 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38284550341791744 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:00:38.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38284550341791744 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:00:38.353 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38284550341791744 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:00:38.353 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38284550341791744 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:00:38.355 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38284550341791744 [0;39m <==    Columns: id, content
2023-05-13 18:00:38.356 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38284550341791744 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:00:38.356 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38284550341791744 [0;39m <==      Total: 1
2023-05-13 18:00:38.356 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38284550341791744 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:00:38.357 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38284550341791744 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:00:38.420 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38284550341791744 [0;39m <==    Updates: 1
2023-05-13 18:00:38.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38284550341791744 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:00:38.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38284550341791744 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š70 ms -------------
2023-05-13 18:00:38.593 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38283644254687232 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šYkua7nQwl9ï¼Œsession idï¼š9ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 18:00:41.386 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38283644917387264 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šw4jLpu3YgZï¼Œsession idï¼šaï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 18:00:41.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38284564111691776 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:00:41.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38284564111691776 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:00:41.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38284564111691776 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:00:41.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38284564111691776 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:00:41.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38284564111691776 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:00:41.636 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38284564111691776 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:00:41.636 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38284564111691776 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:00:41.637 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284564111691776 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:00:41.638 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284564111691776 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 125, 5
2023-05-13 18:00:41.638 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284564111691776 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 18:00:41.638 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284564111691776 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:00:41.638 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284564111691776 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:00:41.639 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284564111691776 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:00:41.639 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284564111691776 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 18:00:41.639 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284564111691776 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:00:41.639 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38284564111691776 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:00:41.640 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38284564111691776 [0;39m <==      Total: 8
2023-05-13 18:00:41.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38284564111691776 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":125,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:00:41.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38284564111691776 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 18:00:41.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38284564665339904 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:00:41.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38284564665339904 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:00:41.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38284564665339904 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:00:41.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38284564665339904 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:00:41.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38284564665339904 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:00:41.767 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38284564665339904 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:00:41.768 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38284564665339904 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:00:41.769 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38284564665339904 [0;39m <==    Columns: id, content
2023-05-13 18:00:41.769 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38284564665339904 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:00:41.769 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38284564665339904 [0;39m <==      Total: 1
2023-05-13 18:00:41.769 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38284564665339904 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:00:41.771 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38284564665339904 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:00:41.790 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38284564665339904 [0;39m <==    Updates: 1
2023-05-13 18:00:41.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38284564665339904 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:00:41.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38284564665339904 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2023-05-13 18:00:42.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38284569727864832 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:00:42.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38284569727864832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 18:00:42.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38284569727864832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 18:00:42.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38284569727864832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:00:42.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38284569727864832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:00:42.974 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38284569727864832 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 18:00:42.975 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38284569727864832 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:00:42.975 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38284569727864832 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 18:00:42.976 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38284569727864832 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 18:00:42.976 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38284569727864832 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 18:00:42.977 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38284569727864832 [0;39m <==      Total: 2
2023-05-13 18:00:42.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38284569727864832 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 18:00:42.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38284569727864832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 18:00:44.450 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:00:47.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:00:53.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:00:55.703 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:01:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38284641190416384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:01:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38284641190416384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:01:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38284641190416384 [0;39m ==> Parameters: 
2023-05-13 18:01:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38284641190416384 [0;39m <==    Updates: 0
2023-05-13 18:01:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38284641190416384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:01:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38284662178713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:01:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284662178713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:01:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284662178713600 [0;39m ==> Parameters: 
2023-05-13 18:01:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284662178713600 [0;39m <==    Updates: 1
2023-05-13 18:01:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38284662178713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 18:01:13.136 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:01:14.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:01:15.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:01:17.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:01:19.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:01:21.296 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:01:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38284787965890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:01:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284787965890560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:01:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284787965890560 [0;39m ==> Parameters: 
2023-05-13 18:01:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284787965890560 [0;39m <==    Updates: 1
2023-05-13 18:01:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38284787965890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:01:44.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:01:45.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:01:47.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:01:49.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:02:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38284892840267776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:02:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38284892840267776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:02:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38284892840267776 [0;39m ==> Parameters: 
2023-05-13 18:02:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38284892840267776 [0;39m <==    Updates: 0
2023-05-13 18:02:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38284892840267776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 18:02:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38284913815982080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:02:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284913815982080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:02:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284913815982080 [0;39m ==> Parameters: 
2023-05-13 18:02:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38284913815982080 [0;39m <==    Updates: 1
2023-05-13 18:02:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38284913815982080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:02:11.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:02:13.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:02:14.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:02:15.392 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:02:17.447 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:02:19.496 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:02:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38285039640907776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:02:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285039640907776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:02:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285039640907776 [0;39m ==> Parameters: 
2023-05-13 18:02:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285039640907776 [0;39m <==    Updates: 1
2023-05-13 18:02:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38285039640907776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:02:37.447 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:02:43.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:02:44.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:02:47.241 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:02:57.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38285132465049600 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:02:57.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38285132465049600 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/2 GET
2023-05-13 18:02:57.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38285132465049600 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:02:57.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38285132465049600 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:02:57.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38285132465049600 [0;39m è¯·æ±‚å‚æ•°: [2]
2023-05-13 18:02:57.144 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285132465049600 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:02:57.145 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285132465049600 [0;39m ==> Parameters: 2(Long)
2023-05-13 18:02:57.145 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285132465049600 [0;39m <==      Total: 0
2023-05-13 18:02:57.146 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285132465049600 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:02:57.146 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285132465049600 [0;39m ==> Parameters: 2(Long)
2023-05-13 18:02:57.158 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285132465049600 [0;39m <==    Updates: 1
2023-05-13 18:02:57.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38285132465049600 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-13 18:02:57.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38285132465049600 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š19 ms -------------
2023-05-13 18:02:58.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38285139113021440 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:02:58.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38285139113021440 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 18:02:58.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38285139113021440 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 18:02:58.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38285139113021440 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:02:58.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38285139113021440 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:02:58.727 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38285139113021440 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 18:02:58.727 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38285139113021440 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:02:58.729 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38285139113021440 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 18:02:58.729 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38285139113021440 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 18:02:58.730 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38285139113021440 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 18:02:58.730 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38285139113021440 [0;39m <==      Total: 2
2023-05-13 18:02:58.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38285139113021440 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 18:02:58.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38285139113021440 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 18:02:59.497 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:03:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38285144519479296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:03:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38285144519479296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:03:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38285144519479296 [0;39m ==> Parameters: 
2023-05-13 18:03:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38285144519479296 [0;39m <==    Updates: 0
2023-05-13 18:03:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38285144519479296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:03:01.521 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:03:01.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38285151234560000 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:03:01.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38285151234560000 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:03:01.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38285151234560000 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:03:01.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38285151234560000 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:03:01.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38285151234560000 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:03:01.617 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285151234560000 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:03:01.617 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285151234560000 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:03:01.617 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38285151234560000 [0;39m <==    Columns: id, content
2023-05-13 18:03:01.617 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38285151234560000 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:03:01.617 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285151234560000 [0;39m <==      Total: 1
2023-05-13 18:03:01.618 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285151234560000 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:03:01.618 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285151234560000 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:03:01.626 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285151234560000 [0;39m <==    Updates: 1
2023-05-13 18:03:01.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38285151234560000 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:03:01.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38285151234560000 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 18:03:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38285165495193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:03:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285165495193600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:03:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285165495193600 [0;39m ==> Parameters: 
2023-05-13 18:03:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285165495193600 [0;39m <==    Updates: 1
2023-05-13 18:03:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38285165495193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 18:03:07.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38285175993536512 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:03:07.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38285175993536512 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/vote/1 GET
2023-05-13 18:03:07.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38285175993536512 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.vote
2023-05-13 18:03:07.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38285175993536512 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:03:07.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38285175993536512 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:03:07.564 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m38285175993536512 [0;39m keyä¸å­˜åœ¨ï¼Œæ”¾å…¥ï¼šDOC_VOTE_1_127.0.0.1ï¼Œè¿‡æœŸ 5000 ç§’
2023-05-13 18:03:07.600 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m38285175993536512 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-13 18:03:07.601 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m38285175993536512 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:03:07.604 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m38285175993536512 [0;39m <==    Updates: 1
2023-05-13 18:03:07.605 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m38285175993536512 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-13 18:03:07.605 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m38285175993536512 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:03:07.607 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m38285175993536512 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:03:07.608 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m38285175993536512 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 127, 6
2023-05-13 18:03:07.608 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m38285175993536512 [0;39m <==      Total: 1
2023-05-13 18:03:09.660 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:03:10.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38285187158773760 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:03:10.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38285187158773760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 18:03:10.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38285187158773760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 18:03:10.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38285187158773760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:03:10.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38285187158773760 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:03:10.181 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38285187158773760 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 18:03:10.182 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38285187158773760 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:03:10.182 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38285187158773760 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 18:03:10.183 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38285187158773760 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 18:03:10.183 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38285187158773760 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 18:03:10.183 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38285187158773760 [0;39m <==      Total: 2
2023-05-13 18:03:10.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38285187158773760 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 18:03:10.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38285187158773760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-13 18:03:11.708 ERROR org.apache.rocketmq.spring.core.RocketMQTemplate  :153  [32m38285175993536512 [0;39m syncSend failed. destination:VOTE_TOPIC, message:GenericMessage [payload=ã€æ–‡æ¡£1ã€‘è¢«ç‚¹èµžï¼, headers={contentType=text/plain, id=47d8a4b0-0cbe-f380-04f5-f4e0846714c6, timestamp=1683972187618}] 
2023-05-13 18:03:11.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:03:11.718 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38285175993536512 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:154)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:123)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:111)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:459)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:50)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at com.jiawa.wiki.service.DocService.vote(DocService.java:167)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$3c5d1cc4.vote(<generated>)
	at com.jiawa.wiki.controller.DocController.vote(DocController.java:86)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor125.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$dd4ce976.vote(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:656)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1279)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:301)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:148)
	... 87 common frames omitted
2023-05-13 18:03:11.723 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38285175993536512 [0;39m Resolved [org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.]
2023-05-13 18:03:13.732 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:03:14.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:03:14.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38285206171553792 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:03:14.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38285206171553792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/37841746528440320 GET
2023-05-13 18:03:14.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38285206171553792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:03:14.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38285206171553792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:03:14.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38285206171553792 [0;39m è¯·æ±‚å‚æ•°: [37841746528440320]
2023-05-13 18:03:14.715 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285206171553792 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:03:14.715 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285206171553792 [0;39m ==> Parameters: 37841746528440320(Long)
2023-05-13 18:03:14.716 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38285206171553792 [0;39m <==    Columns: id, content
2023-05-13 18:03:14.716 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38285206171553792 [0;39m <==        Row: 37841746528440320, <<BLOB>>
2023-05-13 18:03:14.716 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285206171553792 [0;39m <==      Total: 1
2023-05-13 18:03:14.717 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285206171553792 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:03:14.718 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285206171553792 [0;39m ==> Parameters: 37841746528440320(Long)
2023-05-13 18:03:14.726 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285206171553792 [0;39m <==    Updates: 1
2023-05-13 18:03:14.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38285206171553792 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-13 18:03:14.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38285206171553792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 18:03:16.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38285214446915584 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:03:16.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38285214446915584 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:03:16.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38285214446915584 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:03:16.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38285214446915584 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:03:16.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38285214446915584 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:03:16.688 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285214446915584 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:03:16.688 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285214446915584 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:03:16.689 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38285214446915584 [0;39m <==    Columns: id, content
2023-05-13 18:03:16.689 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38285214446915584 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:03:16.690 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285214446915584 [0;39m <==      Total: 1
2023-05-13 18:03:16.690 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285214446915584 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:03:16.690 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285214446915584 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:03:16.707 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285214446915584 [0;39m <==    Updates: 1
2023-05-13 18:03:16.708 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38285214446915584 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:03:16.708 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38285214446915584 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-05-13 18:03:17.816 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:03:23.587 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:03:25.639 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:03:30.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38285272823238656 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:03:30.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38285272823238656 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:03:30.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38285272823238656 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:03:30.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38285272823238656 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:03:30.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38285272823238656 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:03:30.605 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38285272823238656 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:03:30.606 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38285272823238656 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:03:30.607 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38285272823238656 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:03:30.607 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38285272823238656 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 128, 6
2023-05-13 18:03:30.607 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38285272823238656 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:03:30.607 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38285272823238656 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:03:30.608 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38285272823238656 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:03:30.608 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38285272823238656 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:03:30.608 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38285272823238656 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:03:30.609 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38285272823238656 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:03:30.609 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38285272823238656 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:03:30.609 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38285272823238656 [0;39m <==      Total: 8
2023-05-13 18:03:30.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38285272823238656 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":128,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:03:30.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38285272823238656 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 18:03:31.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38285275797000192 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:03:31.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38285275797000192 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:03:31.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38285275797000192 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:03:31.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38285275797000192 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:03:31.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38285275797000192 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:03:31.315 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285275797000192 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:03:31.315 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285275797000192 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:03:31.316 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38285275797000192 [0;39m <==    Columns: id, content
2023-05-13 18:03:31.316 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38285275797000192 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:03:31.317 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38285275797000192 [0;39m <==      Total: 1
2023-05-13 18:03:31.318 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285275797000192 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:03:31.318 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285275797000192 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:03:31.325 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38285275797000192 [0;39m <==    Updates: 1
2023-05-13 18:03:31.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38285275797000192 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:03:31.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38285275797000192 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 18:03:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38285291315924992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:03:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285291315924992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:03:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285291315924992 [0;39m ==> Parameters: 
2023-05-13 18:03:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285291315924992 [0;39m <==    Updates: 1
2023-05-13 18:03:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38285291315924992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 18:03:44.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:03:45.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:03:47.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:03:49.241 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:03:51.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:04:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38285396144164864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:04:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38285396144164864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:04:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38285396144164864 [0;39m ==> Parameters: 
2023-05-13 18:04:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38285396144164864 [0;39m <==    Updates: 0
2023-05-13 18:04:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38285396144164864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 18:04:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38285417140850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:04:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285417140850688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:04:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285417140850688 [0;39m ==> Parameters: 
2023-05-13 18:04:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285417140850688 [0;39m <==    Updates: 1
2023-05-13 18:04:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38285417140850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:04:14.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:04:17.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:04:19.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:04:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38285542965776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:04:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285542965776384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:04:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285542965776384 [0;39m ==> Parameters: 
2023-05-13 18:04:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285542965776384 [0;39m <==    Updates: 1
2023-05-13 18:04:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38285542965776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:04:41.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:04:43.374 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:04:44.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:04:45.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:04:47.455 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:05:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38285647831764992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:05:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38285647831764992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:05:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38285647831764992 [0;39m ==> Parameters: 
2023-05-13 18:05:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38285647831764992 [0;39m <==    Updates: 0
2023-05-13 18:05:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38285647831764992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:05:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38285668778119168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285668778119168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285668778119168 [0;39m ==> Parameters: 
2023-05-13 18:05:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285668778119168 [0;39m <==    Updates: 1
2023-05-13 18:05:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38285668778119168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:05:06.412 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:05:08.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:05:13.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:05:14.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:05:15.148 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:05:17.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:05:32.549 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:05:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38285794607239168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:05:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285794607239168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:05:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285794607239168 [0;39m ==> Parameters: 
2023-05-13 18:05:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285794607239168 [0;39m <==    Updates: 1
2023-05-13 18:05:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38285794607239168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:05:43.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:05:44.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:05:47.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:05:54.608 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:05:56.648 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:06:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38285899481616384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:06:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38285899481616384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:06:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38285899481616384 [0;39m ==> Parameters: 
2023-05-13 18:06:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38285899481616384 [0;39m <==    Updates: 0
2023-05-13 18:06:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38285899481616384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:06:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38285920478302208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:06:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285920478302208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:06:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285920478302208 [0;39m ==> Parameters: 
2023-05-13 18:06:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38285920478302208 [0;39m <==    Updates: 1
2023-05-13 18:06:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38285920478302208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 18:06:14.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:06:15.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38285962408759296 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:06:15.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38285962408759296 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 18:06:15.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38285962408759296 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 18:06:15.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38285962408759296 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:06:15.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38285962408759296 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:06:15.017 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38285962408759296 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 18:06:15.017 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38285962408759296 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:06:15.018 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38285962408759296 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 18:06:15.019 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38285962408759296 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 18:06:15.019 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38285962408759296 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 18:06:15.021 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38285962408759296 [0;39m <==      Total: 2
2023-05-13 18:06:15.022 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38285962408759296 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 18:06:15.022 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38285962408759296 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 18:06:17.231 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:06:21.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:06:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38286046282256384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:06:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286046282256384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:06:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286046282256384 [0;39m ==> Parameters: 
2023-05-13 18:06:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286046282256384 [0;39m <==    Updates: 1
2023-05-13 18:06:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38286046282256384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:06:37.441 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38285187158773760 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šw4jLpu3YgZï¼Œsession idï¼šaï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 18:06:41.072 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38285175993536512 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šOlwYorRukrï¼Œsession idï¼šbï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 18:06:41.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38286072697982976 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:06:41.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38286072697982976 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:06:41.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38286072697982976 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:06:41.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38286072697982976 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:06:41.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38286072697982976 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:06:41.311 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286072697982976 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:06:41.311 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286072697982976 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:06:41.312 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286072697982976 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:06:41.312 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286072697982976 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 129, 6
2023-05-13 18:06:41.312 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286072697982976 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:06:41.314 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286072697982976 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:06:41.314 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286072697982976 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:06:41.314 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286072697982976 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:06:41.314 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286072697982976 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:06:41.315 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286072697982976 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:06:41.315 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286072697982976 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:06:41.315 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286072697982976 [0;39m <==      Total: 8
2023-05-13 18:06:41.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38286072697982976 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":129,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:06:41.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38286072697982976 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 18:06:41.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38286073729781760 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:06:41.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38286073729781760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:06:41.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38286073729781760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:06:41.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38286073729781760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:06:41.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38286073729781760 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:06:41.557 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286073729781760 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:06:41.557 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286073729781760 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:06:41.558 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38286073729781760 [0;39m <==    Columns: id, content
2023-05-13 18:06:41.558 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38286073729781760 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:06:41.558 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286073729781760 [0;39m <==      Total: 1
2023-05-13 18:06:41.559 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286073729781760 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:06:41.560 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286073729781760 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:06:41.567 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286073729781760 [0;39m <==    Updates: 1
2023-05-13 18:06:41.568 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38286073729781760 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:06:41.568 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38286073729781760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 18:06:44.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:06:48.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:07:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38286151135662080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:07:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38286151135662080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:07:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38286151135662080 [0;39m ==> Parameters: 
2023-05-13 18:07:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38286151135662080 [0;39m <==    Updates: 0
2023-05-13 18:07:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38286151135662080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:07:02.157 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38285214446915584 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šOlwYorRukrï¼Œsession idï¼šbï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 18:07:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38286172082016256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:07:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286172082016256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:07:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286172082016256 [0;39m ==> Parameters: 
2023-05-13 18:07:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286172082016256 [0;39m <==    Updates: 1
2023-05-13 18:07:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38286172082016256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 18:07:05.903 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38285272823238656 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šGEFy6PNu9Bï¼Œsession idï¼šcï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 18:07:06.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38286176834162688 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:07:06.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38286176834162688 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:07:06.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38286176834162688 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:07:06.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38286176834162688 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:07:06.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38286176834162688 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:07:06.139 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286176834162688 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:07:06.139 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286176834162688 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:07:06.140 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286176834162688 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:07:06.140 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286176834162688 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 130, 6
2023-05-13 18:07:06.141 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286176834162688 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:07:06.141 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286176834162688 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:07:06.141 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286176834162688 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:07:06.141 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286176834162688 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:07:06.142 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286176834162688 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:07:06.142 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286176834162688 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:07:06.142 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286176834162688 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:07:06.142 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286176834162688 [0;39m <==      Total: 8
2023-05-13 18:07:06.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38286176834162688 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":130,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:07:06.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38286176834162688 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 18:07:06.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38286177383616512 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:07:06.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38286177383616512 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:07:06.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38286177383616512 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:07:06.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38286177383616512 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:07:06.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38286177383616512 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:07:06.269 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286177383616512 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:07:06.269 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286177383616512 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:07:06.270 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38286177383616512 [0;39m <==    Columns: id, content
2023-05-13 18:07:06.271 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38286177383616512 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:07:06.271 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286177383616512 [0;39m <==      Total: 1
2023-05-13 18:07:06.271 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286177383616512 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:07:06.272 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286177383616512 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:07:06.323 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286177383616512 [0;39m <==    Updates: 1
2023-05-13 18:07:06.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38286177383616512 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:07:06.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38286177383616512 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š56 ms -------------
2023-05-13 18:07:09.394 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:07:11.449 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:07:13.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:07:14.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:07:15.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:07:17.587 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:07:33.495 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:07:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38286297919524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286297919524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286297919524864 [0;39m ==> Parameters: 
2023-05-13 18:07:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286297919524864 [0;39m <==    Updates: 1
2023-05-13 18:07:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38286297919524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 18:07:35.532 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:07:44.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:07:45.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:07:47.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:07:59.616 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:08:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38286402768736256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:08:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38286402768736256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:08:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38286402768736256 [0;39m ==> Parameters: 
2023-05-13 18:08:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38286402768736256 [0;39m <==    Updates: 0
2023-05-13 18:08:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38286402768736256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 18:08:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38286423765422080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:08:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286423765422080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:08:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286423765422080 [0;39m ==> Parameters: 
2023-05-13 18:08:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286423765422080 [0;39m <==    Updates: 1
2023-05-13 18:08:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38286423765422080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:08:13.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:08:14.293 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:08:15.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:08:17.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:08:21.662 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:08:23.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:08:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38286549556793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:08:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286549556793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:08:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286549556793344 [0;39m ==> Parameters: 
2023-05-13 18:08:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286549556793344 [0;39m <==    Updates: 1
2023-05-13 18:08:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38286549556793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:08:44.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:08:45.148 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:08:47.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:08:49.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:09:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38286654460530688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:09:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38286654460530688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:09:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38286654460530688 [0;39m ==> Parameters: 
2023-05-13 18:09:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38286654460530688 [0;39m <==    Updates: 0
2023-05-13 18:09:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38286654460530688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:09:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38286675453022208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:09:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286675453022208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:09:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286675453022208 [0;39m ==> Parameters: 
2023-05-13 18:09:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286675453022208 [0;39m <==    Updates: 1
2023-05-13 18:09:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38286675453022208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 18:09:13.413 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:09:14.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:09:15.441 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:09:19.528 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:09:29.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38286777026482176 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:09:29.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38286777026482176 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:09:29.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38286777026482176 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:09:29.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38286777026482176 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:09:29.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38286777026482176 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:09:29.235 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286777026482176 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:09:29.236 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286777026482176 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:09:29.237 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286777026482176 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:09:29.237 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286777026482176 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 131, 6
2023-05-13 18:09:29.237 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286777026482176 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:09:29.238 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286777026482176 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:09:29.238 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286777026482176 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:09:29.238 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286777026482176 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:09:29.238 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286777026482176 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:09:29.238 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286777026482176 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:09:29.239 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286777026482176 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:09:29.239 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286777026482176 [0;39m <==      Total: 8
2023-05-13 18:09:29.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38286777026482176 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":131,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:09:29.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38286777026482176 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 18:09:29.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38286778700009472 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:09:29.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38286778700009472 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:09:29.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38286778700009472 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:09:29.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38286778700009472 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:09:29.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38286778700009472 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:09:29.634 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286778700009472 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:09:29.634 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286778700009472 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:09:29.635 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38286778700009472 [0;39m <==    Columns: id, content
2023-05-13 18:09:29.635 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38286778700009472 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:09:29.635 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286778700009472 [0;39m <==      Total: 1
2023-05-13 18:09:29.635 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286778700009472 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:09:29.637 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286778700009472 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:09:29.639 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286778700009472 [0;39m <==    Updates: 1
2023-05-13 18:09:29.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38286778700009472 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:09:29.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38286778700009472 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 18:09:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38286801290530816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:09:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286801290530816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:09:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286801290530816 [0;39m ==> Parameters: 
2023-05-13 18:09:35.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286801290530816 [0;39m <==    Updates: 1
2023-05-13 18:09:35.050 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38286801290530816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2023-05-13 18:09:38.044 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:09:38.710 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38285175993536512 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šGEFy6PNu9Bï¼Œsession idï¼šcï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 18:09:43.270 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38286072697982976 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼švn81e47XQeï¼Œsession idï¼šdï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 18:09:43.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38286838061993984 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:09:43.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38286838061993984 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:09:43.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38286838061993984 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:09:43.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38286838061993984 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:09:43.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38286838061993984 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:09:43.792 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286838061993984 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:09:43.792 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286838061993984 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:09:43.793 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286838061993984 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:09:43.794 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286838061993984 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 132, 6
2023-05-13 18:09:43.794 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286838061993984 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:09:43.794 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286838061993984 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:09:43.794 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286838061993984 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:09:43.795 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286838061993984 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:09:43.795 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286838061993984 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:09:43.795 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286838061993984 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:09:43.795 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286838061993984 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:09:43.796 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286838061993984 [0;39m <==      Total: 8
2023-05-13 18:09:43.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38286838061993984 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":132,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:09:43.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38286838061993984 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 18:09:43.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38286838754054144 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:09:43.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38286838754054144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:09:43.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38286838754054144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:09:43.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38286838754054144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:09:43.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38286838754054144 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:09:43.954 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286838754054144 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:09:43.954 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286838754054144 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:09:43.955 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38286838754054144 [0;39m <==    Columns: id, content
2023-05-13 18:09:43.956 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38286838754054144 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:09:43.956 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286838754054144 [0;39m <==      Total: 1
2023-05-13 18:09:43.956 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286838754054144 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:09:43.957 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286838754054144 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:09:43.965 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286838754054144 [0;39m <==    Updates: 1
2023-05-13 18:09:43.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38286838754054144 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:09:43.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38286838754054144 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-13 18:09:44.627 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:09:48.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:10:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38286906089410560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:10:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38286906089410560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:10:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38286906089410560 [0;39m ==> Parameters: 
2023-05-13 18:10:00.083 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38286906089410560 [0;39m <==    Updates: 0
2023-05-13 18:10:00.083 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38286906089410560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š78æ¯«ç§’
2023-05-13 18:10:00.099 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:10:02.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:10:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38286927052541952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:10:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286927052541952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:10:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286927052541952 [0;39m ==> Parameters: 
2023-05-13 18:10:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38286927052541952 [0;39m <==    Updates: 1
2023-05-13 18:10:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38286927052541952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-13 18:10:12.147 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38285272823238656 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼švn81e47XQeï¼Œsession idï¼šdï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 18:10:14.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:10:15.236 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:10:15.370 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38286176834162688 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šHt9JjgKIC1ï¼Œsession idï¼šeï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 18:10:15.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38286971755433984 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:10:15.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38286971755433984 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:10:15.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38286971755433984 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:10:15.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38286971755433984 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:10:15.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38286971755433984 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:10:15.663 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286971755433984 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:10:15.663 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286971755433984 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:10:15.664 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286971755433984 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:10:15.664 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286971755433984 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 133, 6
2023-05-13 18:10:15.665 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286971755433984 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:10:15.665 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286971755433984 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:10:15.665 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286971755433984 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:10:15.665 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286971755433984 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:10:15.666 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286971755433984 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:10:15.666 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286971755433984 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:10:15.666 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38286971755433984 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:10:15.666 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38286971755433984 [0;39m <==      Total: 8
2023-05-13 18:10:15.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38286971755433984 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":133,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:10:15.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38286971755433984 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 18:10:15.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38286972481048576 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:10:15.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38286972481048576 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:10:15.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38286972481048576 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:10:15.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38286972481048576 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:10:15.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38286972481048576 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:10:15.836 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286972481048576 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:10:15.836 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286972481048576 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:10:15.838 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38286972481048576 [0;39m <==    Columns: id, content
2023-05-13 18:10:15.838 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38286972481048576 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:10:15.838 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38286972481048576 [0;39m <==      Total: 1
2023-05-13 18:10:15.839 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286972481048576 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:10:15.840 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286972481048576 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:10:15.841 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38286972481048576 [0;39m <==    Updates: 1
2023-05-13 18:10:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38286972481048576 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:10:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38286972481048576 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 18:10:17.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:10:24.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:10:26.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:10:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38287052936187904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:10:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287052936187904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:10:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287052936187904 [0;39m ==> Parameters: 
2023-05-13 18:10:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287052936187904 [0;39m <==    Updates: 1
2023-05-13 18:10:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38287052936187904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 18:10:43.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:10:44.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:10:47.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:10:51.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:11:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38287157768622080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38287157768622080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38287157768622080 [0;39m ==> Parameters: 
2023-05-13 18:11:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38287157768622080 [0;39m <==    Updates: 0
2023-05-13 18:11:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38287157768622080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 18:11:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38287178752724992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:11:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287178752724992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:11:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287178752724992 [0;39m ==> Parameters: 
2023-05-13 18:11:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287178752724992 [0;39m <==    Updates: 1
2023-05-13 18:11:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38287178752724992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:11:14.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:11:17.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:11:18.983 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38286778700009472 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šHt9JjgKIC1ï¼Œsession idï¼šeï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 18:11:19.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:11:21.945 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38285175993536512 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šJsmj2okE8eï¼Œsession idï¼šfï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 18:11:22.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287250596958208 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:11:22.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287250596958208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:11:22.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287250596958208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:11:22.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287250596958208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:11:22.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287250596958208 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:11:22.145 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287250596958208 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:11:22.145 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287250596958208 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:11:22.146 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287250596958208 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:11:22.146 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287250596958208 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 134, 6
2023-05-13 18:11:22.146 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287250596958208 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:11:22.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287250596958208 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:11:22.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287250596958208 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:11:22.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287250596958208 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:11:22.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287250596958208 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:11:22.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287250596958208 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:11:22.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287250596958208 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:11:22.147 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287250596958208 [0;39m <==      Total: 8
2023-05-13 18:11:22.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287250596958208 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":134,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:11:22.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287250596958208 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 18:11:22.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287251184160768 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:11:22.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287251184160768 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:11:22.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287251184160768 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:11:22.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287251184160768 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:11:22.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287251184160768 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:11:22.283 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287251184160768 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:11:22.283 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287251184160768 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:11:22.284 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287251184160768 [0;39m <==    Columns: id, content
2023-05-13 18:11:22.286 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287251184160768 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:11:22.286 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287251184160768 [0;39m <==      Total: 1
2023-05-13 18:11:22.287 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287251184160768 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:11:22.288 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287251184160768 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:11:22.295 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287251184160768 [0;39m <==    Updates: 1
2023-05-13 18:11:22.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287251184160768 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:11:22.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287251184160768 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 18:11:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38287304527319040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:11:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287304527319040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:11:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287304527319040 [0;39m ==> Parameters: 
2023-05-13 18:11:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287304527319040 [0;39m <==    Updates: 1
2023-05-13 18:11:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38287304527319040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:11:41.347 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:11:43.582 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:11:44.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:11:44.978 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38286838754054144 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šJsmj2okE8eï¼Œsession idï¼šfï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 18:11:45.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:11:47.584 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38285272823238656 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š2ZnFsAv5EQï¼Œsession idï¼š10ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 18:11:49.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:11:57.375 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38286176834162688 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š2ZnFsAv5EQï¼Œsession idï¼š10ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 18:12:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38287409439444992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:12:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38287409439444992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:12:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38287409439444992 [0;39m ==> Parameters: 
2023-05-13 18:12:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38287409439444992 [0;39m <==    Updates: 0
2023-05-13 18:12:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38287409439444992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 18:12:04.304 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38286971755433984 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šZTRM4ReSXqï¼Œsession idï¼š11ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 18:12:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38287430410964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:12:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287430410964992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:12:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287430410964992 [0;39m ==> Parameters: 
2023-05-13 18:12:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287430410964992 [0;39m <==    Updates: 1
2023-05-13 18:12:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38287430410964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:12:05.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287430675206144 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:12:05.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287430675206144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:12:05.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287430675206144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:12:05.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287430675206144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:12:05.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287430675206144 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:12:05.078 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287430675206144 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:12:05.078 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287430675206144 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:12:05.079 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287430675206144 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:12:05.079 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287430675206144 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 135, 6
2023-05-13 18:12:05.080 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287430675206144 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:12:05.080 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287430675206144 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:12:05.080 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287430675206144 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:12:05.080 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287430675206144 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:12:05.081 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287430675206144 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:12:05.081 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287430675206144 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:12:05.081 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287430675206144 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:12:05.081 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287430675206144 [0;39m <==      Total: 8
2023-05-13 18:12:05.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287430675206144 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":135,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:12:05.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287430675206144 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 18:12:05.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287433879654400 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:12:05.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287433879654400 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:12:05.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287433879654400 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:12:05.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287433879654400 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:12:05.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287433879654400 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:12:05.843 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287433879654400 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:12:05.844 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287433879654400 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:12:05.845 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287433879654400 [0;39m <==    Columns: id, content
2023-05-13 18:12:05.845 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287433879654400 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:12:05.845 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287433879654400 [0;39m <==      Total: 1
2023-05-13 18:12:05.846 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287433879654400 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:12:05.846 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287433879654400 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:12:05.848 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287433879654400 [0;39m <==    Updates: 1
2023-05-13 18:12:05.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287433879654400 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:12:05.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287433879654400 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 18:12:07.903 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:12:13.136 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:12:14.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:12:15.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:12:17.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:12:29.943 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:12:31.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:12:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38287556198141952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:12:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287556198141952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:12:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287556198141952 [0;39m ==> Parameters: 
2023-05-13 18:12:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287556198141952 [0;39m <==    Updates: 1
2023-05-13 18:12:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38287556198141952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 18:12:43.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:12:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:12:47.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:12:54.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:12:56.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:13:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38287661068324864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:13:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38287661068324864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:13:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38287661068324864 [0;39m ==> Parameters: 
2023-05-13 18:13:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38287661068324864 [0;39m <==    Updates: 0
2023-05-13 18:13:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38287661068324864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 18:13:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38287682014679040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:13:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287682014679040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:13:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287682014679040 [0;39m ==> Parameters: 
2023-05-13 18:13:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287682014679040 [0;39m <==    Updates: 1
2023-05-13 18:13:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38287682014679040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:13:14.361 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:13:15.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:13:17.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:13:20.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287745206063104 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:13:20.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287745206063104 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:13:20.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287745206063104 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:13:20.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287745206063104 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:13:20.067 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287745206063104 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:13:20.067 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287745206063104 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:13:20.067 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287745206063104 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:13:20.069 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287745206063104 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:13:20.070 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287745206063104 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 136, 6
2023-05-13 18:13:20.070 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287745206063104 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:13:20.070 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287745206063104 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:13:20.070 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287745206063104 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:13:20.070 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287745206063104 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:13:20.071 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287745206063104 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:13:20.071 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287745206063104 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:13:20.071 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287745206063104 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:13:20.071 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287745206063104 [0;39m <==      Total: 8
2023-05-13 18:13:20.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287745206063104 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":136,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:13:20.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287745206063104 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 18:13:20.320 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287746271416320 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:13:20.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287746271416320 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:13:20.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287746271416320 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:13:20.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287746271416320 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:13:20.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287746271416320 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:13:20.323 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287746271416320 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:13:20.323 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287746271416320 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:13:20.324 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287746271416320 [0;39m <==    Columns: id, content
2023-05-13 18:13:20.325 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287746271416320 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:13:20.325 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287746271416320 [0;39m <==      Total: 1
2023-05-13 18:13:20.325 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287746271416320 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:13:20.325 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287746271416320 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:13:20.332 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287746271416320 [0;39m <==    Updates: 1
2023-05-13 18:13:20.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287746271416320 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:13:20.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287746271416320 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 18:13:21.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287752290242560 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:13:21.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287752290242560 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 18:13:21.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287752290242560 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 18:13:21.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287752290242560 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:13:21.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287752290242560 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:13:21.757 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38287752290242560 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 18:13:21.758 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38287752290242560 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:13:21.758 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38287752290242560 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 18:13:21.759 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38287752290242560 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 18:13:21.760 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38287752290242560 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 18:13:21.760 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38287752290242560 [0;39m <==      Total: 2
2023-05-13 18:13:21.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287752290242560 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 18:13:21.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287752290242560 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 18:13:21.965 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:13:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38287807915102208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:13:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287807915102208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:13:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287807915102208 [0;39m ==> Parameters: 
2023-05-13 18:13:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287807915102208 [0;39m <==    Updates: 1
2023-05-13 18:13:35.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38287807915102208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 18:13:44.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:13:44.301 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287846855020544 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:13:44.302 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287846855020544 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:13:44.302 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287846855020544 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:13:44.302 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287846855020544 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:13:44.302 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287846855020544 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:13:44.304 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287846855020544 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:13:44.305 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287846855020544 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:13:44.306 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287846855020544 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:13:44.306 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287846855020544 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 137, 6
2023-05-13 18:13:44.307 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287846855020544 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:13:44.307 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287846855020544 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:13:44.307 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287846855020544 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:13:44.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287846855020544 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:13:44.308 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287846855020544 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:13:44.309 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287846855020544 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:13:44.309 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287846855020544 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:13:44.309 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287846855020544 [0;39m <==      Total: 8
2023-05-13 18:13:44.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287846855020544 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":137,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:13:44.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287846855020544 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š52 ms -------------
2023-05-13 18:13:45.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287850516647936 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:13:45.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287850516647936 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:13:45.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287850516647936 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:13:45.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287850516647936 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:13:45.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287850516647936 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:13:45.175 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287850516647936 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:13:45.175 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287850516647936 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:13:45.176 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287850516647936 [0;39m <==    Columns: id, content
2023-05-13 18:13:45.176 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287850516647936 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:13:45.177 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287850516647936 [0;39m <==      Total: 1
2023-05-13 18:13:45.177 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287850516647936 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:13:45.177 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287850516647936 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:13:45.185 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287850516647936 [0;39m <==    Updates: 1
2023-05-13 18:13:45.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287850516647936 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:13:45.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287850516647936 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 18:13:46.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287857760210944 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:13:46.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287857760210944 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:13:46.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287857760210944 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:13:46.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287857760210944 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:13:46.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287857760210944 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:13:46.904 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287857760210944 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:13:46.904 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287857760210944 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:13:46.905 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287857760210944 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:13:46.905 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287857760210944 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 138, 6
2023-05-13 18:13:46.906 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287857760210944 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:13:46.907 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287857760210944 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:13:46.907 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287857760210944 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:13:46.907 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287857760210944 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:13:46.908 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287857760210944 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:13:46.908 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287857760210944 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:13:46.908 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287857760210944 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:13:46.909 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287857760210944 [0;39m <==      Total: 8
2023-05-13 18:13:46.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287857760210944 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":138,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:13:46.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287857760210944 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 18:13:47.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287858510991360 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:13:47.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287858510991360 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:13:47.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287858510991360 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:13:47.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287858510991360 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:13:47.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287858510991360 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:13:47.082 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287858510991360 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:13:47.083 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287858510991360 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:13:47.084 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287858510991360 [0;39m <==    Columns: id, content
2023-05-13 18:13:47.084 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287858510991360 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:13:47.084 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287858510991360 [0;39m <==      Total: 1
2023-05-13 18:13:47.085 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287858510991360 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:13:47.085 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287858510991360 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:13:47.092 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287858510991360 [0;39m <==    Updates: 1
2023-05-13 18:13:47.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287858510991360 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:13:47.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287858510991360 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 18:13:47.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:13:49.717 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:13:54.328 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38287430675206144 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šZTRM4ReSXqï¼Œsession idï¼š11ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 18:13:57.370 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38287433879654400 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šQtJNudgE7Bï¼Œsession idï¼š12ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 18:13:57.593 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287902605709312 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:13:57.593 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287902605709312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:13:57.593 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287902605709312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:13:57.593 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287902605709312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:13:57.593 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287902605709312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:13:57.594 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287902605709312 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:13:57.595 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287902605709312 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:13:57.596 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287902605709312 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:13:57.596 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287902605709312 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 139, 6
2023-05-13 18:13:57.596 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287902605709312 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:13:57.596 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287902605709312 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:13:57.597 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287902605709312 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:13:57.597 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287902605709312 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:13:57.597 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287902605709312 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:13:57.597 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287902605709312 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:13:57.597 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287902605709312 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:13:57.598 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287902605709312 [0;39m <==      Total: 8
2023-05-13 18:13:57.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287902605709312 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":139,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:13:57.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287902605709312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 18:13:57.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287903331323904 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:13:57.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287903331323904 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:13:57.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287903331323904 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:13:57.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287903331323904 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:13:57.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287903331323904 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:13:57.767 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287903331323904 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:13:57.767 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287903331323904 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:13:57.768 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287903331323904 [0;39m <==    Columns: id, content
2023-05-13 18:13:57.768 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287903331323904 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:13:57.769 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287903331323904 [0;39m <==      Total: 1
2023-05-13 18:13:57.769 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287903331323904 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:13:57.770 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287903331323904 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:13:57.778 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287903331323904 [0;39m <==    Updates: 1
2023-05-13 18:13:57.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287903331323904 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:13:57.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287903331323904 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 18:14:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38287912776896512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:14:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38287912776896512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:14:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38287912776896512 [0;39m ==> Parameters: 
2023-05-13 18:14:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38287912776896512 [0;39m <==    Updates: 0
2023-05-13 18:14:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38287912776896512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 18:14:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38287933698084864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:14:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287933698084864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:14:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287933698084864 [0;39m ==> Parameters: 
2023-05-13 18:14:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38287933698084864 [0;39m <==    Updates: 1
2023-05-13 18:14:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38287933698084864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 18:14:11.729 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38287746271416320 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šQtJNudgE7Bï¼Œsession idï¼š12ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 18:14:11.891 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:14:14.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:14:14.612 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:14:14.666 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38287752290242560 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šTXhVMqL6N0ï¼Œsession idï¼š13ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 18:14:14.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287975238471680 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:14:14.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287975238471680 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:14:14.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287975238471680 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:14:14.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287975238471680 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:14:14.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287975238471680 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:14:14.914 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287975238471680 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:14:14.917 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287975238471680 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:14:14.918 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287975238471680 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:14:14.918 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287975238471680 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 140, 6
2023-05-13 18:14:14.919 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287975238471680 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:14:14.919 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287975238471680 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:14:14.919 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287975238471680 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:14:14.919 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287975238471680 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:14:14.920 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287975238471680 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:14:14.920 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287975238471680 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:14:14.920 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38287975238471680 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:14:14.920 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38287975238471680 [0;39m <==      Total: 8
2023-05-13 18:14:14.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287975238471680 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":140,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:14:14.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287975238471680 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 18:14:15.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287975905366016 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:14:15.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287975905366016 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:14:15.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287975905366016 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:14:15.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287975905366016 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:14:15.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287975905366016 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:14:15.070 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287975905366016 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:14:15.070 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287975905366016 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:14:15.071 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287975905366016 [0;39m <==    Columns: id, content
2023-05-13 18:14:15.071 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38287975905366016 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:14:15.072 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38287975905366016 [0;39m <==      Total: 1
2023-05-13 18:14:15.072 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287975905366016 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:14:15.073 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287975905366016 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:14:15.074 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38287975905366016 [0;39m <==    Updates: 1
2023-05-13 18:14:15.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287975905366016 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:14:15.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287975905366016 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 18:14:16.586 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:14:17.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287985602596864 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:14:17.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287985602596864 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 18:14:17.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287985602596864 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 18:14:17.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287985602596864 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:14:17.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287985602596864 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:14:17.383 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38287985602596864 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 18:14:17.384 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38287985602596864 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:14:17.384 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38287985602596864 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 18:14:17.385 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38287985602596864 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 18:14:17.386 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38287985602596864 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 18:14:17.386 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38287985602596864 [0;39m <==      Total: 2
2023-05-13 18:14:17.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287985602596864 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 18:14:17.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287985602596864 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 18:14:18.632 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:14:19.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38287993601134592 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:14:19.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38287993601134592 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 18:14:19.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38287993601134592 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 18:14:19.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38287993601134592 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:14:19.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38287993601134592 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:14:19.292 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38287993601134592 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 18:14:19.293 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38287993601134592 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:14:19.294 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38287993601134592 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 18:14:19.294 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38287993601134592 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 18:14:19.295 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38287993601134592 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 18:14:19.295 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38287993601134592 [0;39m <==      Total: 2
2023-05-13 18:14:19.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38287993601134592 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 18:14:19.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38287993601134592 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 18:14:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38288059569147904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288059569147904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288059569147904 [0;39m ==> Parameters: 
2023-05-13 18:14:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288059569147904 [0;39m <==    Updates: 1
2023-05-13 18:14:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38288059569147904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:14:35.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288062807150592 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:14:35.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288062807150592 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:14:35.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288062807150592 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:14:35.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288062807150592 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:14:35.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288062807150592 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:14:35.790 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288062807150592 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:14:35.791 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288062807150592 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:14:35.792 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288062807150592 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:14:35.792 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288062807150592 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 141, 6
2023-05-13 18:14:35.792 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288062807150592 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:14:35.792 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288062807150592 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:14:35.793 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288062807150592 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:14:35.793 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288062807150592 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:14:35.793 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288062807150592 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:14:35.793 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288062807150592 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:14:35.794 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288062807150592 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:14:35.794 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288062807150592 [0;39m <==      Total: 8
2023-05-13 18:14:35.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288062807150592 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":141,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:14:35.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288062807150592 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 18:14:38.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288075377479680 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:14:38.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288075377479680 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:14:38.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288075377479680 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:14:38.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288075377479680 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:14:38.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288075377479680 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:14:38.786 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288075377479680 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:14:38.786 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288075377479680 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:14:38.787 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38288075377479680 [0;39m <==    Columns: id, content
2023-05-13 18:14:38.787 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38288075377479680 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:14:38.787 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288075377479680 [0;39m <==      Total: 1
2023-05-13 18:14:38.788 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288075377479680 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:14:38.788 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288075377479680 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:14:38.795 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288075377479680 [0;39m <==    Updates: 1
2023-05-13 18:14:38.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288075377479680 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:14:38.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288075377479680 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 18:14:39.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:14:44.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:14:47.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:15:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38288164380610560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:15:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38288164380610560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:15:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38288164380610560 [0;39m ==> Parameters: 
2023-05-13 18:15:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38288164380610560 [0;39m <==    Updates: 0
2023-05-13 18:15:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38288164380610560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 18:15:03.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:15:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38288185360519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:15:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288185360519168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:15:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288185360519168 [0;39m ==> Parameters: 
2023-05-13 18:15:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288185360519168 [0;39m <==    Updates: 1
2023-05-13 18:15:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38288185360519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 18:15:14.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:15:15.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:15:17.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:15:25.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:15:27.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:15:28.723 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288284832632832 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:28.723 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288284832632832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:15:28.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288284832632832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:15:28.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288284832632832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:28.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288284832632832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:15:28.725 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288284832632832 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:15:28.726 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288284832632832 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:28.727 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288284832632832 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:15:28.727 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288284832632832 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 142, 6
2023-05-13 18:15:28.727 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288284832632832 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:15:28.727 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288284832632832 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:15:28.728 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288284832632832 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:15:28.728 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288284832632832 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:15:28.728 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288284832632832 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:15:28.728 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288284832632832 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:15:28.728 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288284832632832 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:15:28.729 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288284832632832 [0;39m <==      Total: 8
2023-05-13 18:15:28.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288284832632832 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":142,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:15:28.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288284832632832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 18:15:29.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288287835754496 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:29.440 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288287835754496 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:15:29.440 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288287835754496 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:15:29.440 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288287835754496 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:29.440 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288287835754496 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:15:29.441 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288287835754496 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:15:29.441 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288287835754496 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:29.442 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38288287835754496 [0;39m <==    Columns: id, content
2023-05-13 18:15:29.442 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38288287835754496 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:15:29.442 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288287835754496 [0;39m <==      Total: 1
2023-05-13 18:15:29.443 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288287835754496 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:15:29.443 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288287835754496 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:29.450 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288287835754496 [0;39m <==    Updates: 1
2023-05-13 18:15:29.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288287835754496 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:15:29.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288287835754496 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 18:15:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38288311202222080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:15:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288311202222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:15:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288311202222080 [0;39m ==> Parameters: 
2023-05-13 18:15:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288311202222080 [0;39m <==    Updates: 1
2023-05-13 18:15:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38288311202222080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 18:15:38.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288327908134912 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:38.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288327908134912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:15:38.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288327908134912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:15:38.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288327908134912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:38.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288327908134912 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:15:39.000 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288327908134912 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:15:39.000 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288327908134912 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:39.006 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288327908134912 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:15:39.007 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288327908134912 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 143, 6
2023-05-13 18:15:39.007 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288327908134912 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:15:39.007 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288327908134912 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:15:39.008 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288327908134912 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:15:39.008 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288327908134912 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:15:39.009 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288327908134912 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:15:39.009 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288327908134912 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:15:39.010 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288327908134912 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:15:39.010 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288327908134912 [0;39m <==      Total: 8
2023-05-13 18:15:39.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288327908134912 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":143,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:15:39.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288327908134912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-13 18:15:39.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288329229340672 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:39.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288329229340672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:15:39.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288329229340672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:15:39.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288329229340672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:39.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288329229340672 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:15:39.633 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288329229340672 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:15:39.634 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288329229340672 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:39.635 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38288329229340672 [0;39m <==    Columns: id, content
2023-05-13 18:15:39.635 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38288329229340672 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:15:39.636 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288329229340672 [0;39m <==      Total: 1
2023-05-13 18:15:39.636 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288329229340672 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:15:39.636 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288329229340672 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:39.638 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288329229340672 [0;39m <==    Updates: 1
2023-05-13 18:15:39.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288329229340672 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:15:39.639 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288329229340672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š331 ms -------------
2023-05-13 18:15:41.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288336821030912 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:41.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288336821030912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:15:41.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288336821030912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:15:41.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288336821030912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:41.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288336821030912 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:15:41.120 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288336821030912 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:15:41.120 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288336821030912 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:41.121 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288336821030912 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:15:41.121 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288336821030912 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 144, 6
2023-05-13 18:15:41.122 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288336821030912 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:15:41.122 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288336821030912 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:15:41.122 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288336821030912 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:15:41.122 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288336821030912 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:15:41.122 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288336821030912 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:15:41.122 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288336821030912 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:15:41.123 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288336821030912 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:15:41.123 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288336821030912 [0;39m <==      Total: 8
2023-05-13 18:15:41.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288336821030912 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":144,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:15:41.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288336821030912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 18:15:41.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288336854585344 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:41.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288336854585344 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 18:15:41.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288336854585344 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 18:15:41.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288336854585344 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:41.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288336854585344 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:15:41.142 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38288336854585344 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 18:15:41.143 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38288336854585344 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:41.144 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38288336854585344 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 18:15:41.144 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38288336854585344 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 18:15:41.144 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38288336854585344 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 18:15:41.145 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38288336854585344 [0;39m <==      Total: 2
2023-05-13 18:15:41.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288336854585344 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 18:15:41.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288336854585344 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š19 ms -------------
2023-05-13 18:15:41.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288337240461312 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:41.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288337240461312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:15:41.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288337240461312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:15:41.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288337240461312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:41.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288337240461312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:15:41.220 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288337240461312 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:15:41.220 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288337240461312 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:41.221 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38288337240461312 [0;39m <==    Columns: id, content
2023-05-13 18:15:41.222 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38288337240461312 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:15:41.222 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288337240461312 [0;39m <==      Total: 1
2023-05-13 18:15:41.222 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288337240461312 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:15:41.222 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288337240461312 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:41.229 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288337240461312 [0;39m <==    Updates: 1
2023-05-13 18:15:41.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288337240461312 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:15:41.230 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288337240461312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 18:15:43.487 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:15:44.458 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:15:44.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288351035527168 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:44.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288351035527170 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:44.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288351035527169 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:44.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288351035527168 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 18:15:44.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288351035527169 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 18:15:44.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288351035527170 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 18:15:44.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288351035527169 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 18:15:44.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288351035527170 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 18:15:44.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288351035527168 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 18:15:44.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288351035527169 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:44.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288351035527170 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:44.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288351035527168 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:44.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288351035527169 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 18:15:44.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288351035527170 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 18:15:44.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288351035527168 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 18:15:44.513 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38288351035527170 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 18:15:44.513 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38288351035527169 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 18:15:44.514 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38288351035527170 [0;39m ==> Parameters: 
2023-05-13 18:15:44.514 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38288351035527169 [0;39m ==> Parameters: 
2023-05-13 18:15:44.521 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38288351035527170 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 18:15:44.521 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38288351035527170 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 18:15:44.524 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38288351035527169 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 18:15:44.524 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38288351035527169 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 18:15:44.524 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38288351035527170 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 18:15:44.524 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38288351035527169 [0;39m <==        Row: 2023-05-13, 168, 11, 100, 1
2023-05-13 18:15:44.525 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38288351035527170 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 18:15:44.525 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38288351035527169 [0;39m <==      Total: 2
2023-05-13 18:15:44.525 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38288351035527170 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 18:15:44.525 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38288351035527170 [0;39m <==      Total: 4
2023-05-13 18:15:44.527 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38288351035527168 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 18:15:44.528 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38288351035527168 [0;39m ==> Parameters: 
2023-05-13 18:15:44.530 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 18:15:44.531 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 18:15:44.531 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 18:15:44.531 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 18:15:44.532 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 18:15:44.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288351035527169 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":168,"viewIncrease":100,"voteCount":11,"voteIncrease":1}],"success":true}
2023-05-13 18:15:44.532 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 18:15:44.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288351035527169 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2023-05-13 18:15:44.532 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 18:15:44.532 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 18:15:44.532 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 18:15:44.533 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 18:15:44.533 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 18:15:44.533 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 18:15:44.533 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 18:15:44.533 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 18:15:44.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 18:15:44.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38288351035527168 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 18:15:44.534 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38288351035527168 [0;39m <==      Total: 15
2023-05-13 18:15:44.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288351035527170 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 18:15:44.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288351035527170 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š33 ms -------------
2023-05-13 18:15:44.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288351035527168 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 18:15:44.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288351035527168 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š38 ms -------------
2023-05-13 18:15:46.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288357360537600 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:46.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288357360537600 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 18:15:46.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288357360537600 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 18:15:46.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288357360537600 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:46.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288357360537600 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-13 18:15:46.070 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38288357360537600 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 18:15:46.071 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38288357360537600 [0;39m ==> Parameters: 201(Long)
2023-05-13 18:15:46.072 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38288357360537600 [0;39m <==    Columns: count(0)
2023-05-13 18:15:46.072 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38288357360537600 [0;39m <==        Row: 0
2023-05-13 18:15:46.074 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38288357360537600 [0;39m <==      Total: 1
2023-05-13 18:15:46.076 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38288357360537600 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-13 18:15:46.076 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38288357360537600 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-13 18:15:46.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288357360537600 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-13 18:15:46.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288357360537600 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š64 ms -------------
2023-05-13 18:15:47.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288363568107520 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:47.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288363568107520 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 18:15:47.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288363568107520 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 18:15:47.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288363568107520 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:47.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288363568107520 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-13 18:15:47.503 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38288363568107520 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 18:15:47.504 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38288363568107520 [0;39m ==> Parameters: 202(Long)
2023-05-13 18:15:47.504 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38288363568107520 [0;39m <==    Columns: count(0)
2023-05-13 18:15:47.505 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38288363568107520 [0;39m <==        Row: 1
2023-05-13 18:15:47.505 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38288363568107520 [0;39m <==      Total: 1
2023-05-13 18:15:47.509 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38288363568107520 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 18:15:47.509 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38288363568107520 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-13 18:15:47.512 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38288363568107520 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 18:15:47.512 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38288363568107520 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 170, 11
2023-05-13 18:15:47.513 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38288363568107520 [0;39m <==      Total: 1
2023-05-13 18:15:47.513 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38288363568107520 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 18:15:47.513 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38288363568107520 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 18:15:47.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288363568107520 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":170,"voteCount":11}],"total":1},"success":true}
2023-05-13 18:15:47.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288363568107520 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š28 ms -------------
2023-05-13 18:15:47.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:15:48.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288368118927360 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:48.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288368118927360 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:15:48.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288368118927360 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:15:48.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288368118927360 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:48.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288368118927360 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:15:48.581 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288368118927360 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:15:48.582 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288368118927360 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:48.582 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288368118927360 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:15:48.582 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288368118927360 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 145, 6
2023-05-13 18:15:48.582 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288368118927360 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:15:48.584 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288368118927360 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:15:48.584 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288368118927360 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:15:48.584 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288368118927360 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:15:48.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288368118927360 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:15:48.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288368118927360 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:15:48.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38288368118927360 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:15:48.585 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38288368118927360 [0;39m <==      Total: 8
2023-05-13 18:15:48.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288368118927360 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":145,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:15:48.587 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288368118927360 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 18:15:48.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288368269922304 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:48.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288368269922304 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 18:15:48.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288368269922304 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 18:15:48.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288368269922304 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:48.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288368269922304 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:15:48.617 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38288368269922304 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 18:15:48.617 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38288368269922304 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:48.618 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38288368269922304 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 18:15:48.619 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38288368269922304 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 18:15:48.619 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38288368269922304 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 18:15:48.619 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38288368269922304 [0;39m <==      Total: 2
2023-05-13 18:15:48.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288368269922304 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 18:15:48.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288368269922304 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 18:15:48.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38288368815181824 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:15:48.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38288368815181824 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:15:48.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38288368815181824 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:15:48.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38288368815181824 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:15:48.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38288368815181824 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:15:48.748 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288368815181824 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:15:48.748 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288368815181824 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:48.749 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38288368815181824 [0;39m <==    Columns: id, content
2023-05-13 18:15:48.749 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38288368815181824 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:15:48.750 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38288368815181824 [0;39m <==      Total: 1
2023-05-13 18:15:48.750 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288368815181824 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:15:48.750 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288368815181824 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:15:48.758 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38288368815181824 [0;39m <==    Updates: 1
2023-05-13 18:15:48.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38288368815181824 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:15:48.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38288368815181824 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 18:15:51.638 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:16:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38288416080793600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:16:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38288416080793600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:16:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38288416080793600 [0;39m ==> Parameters: 
2023-05-13 18:16:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38288416080793600 [0;39m <==    Updates: 0
2023-05-13 18:16:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38288416080793600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 18:16:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38288437043924992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:16:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288437043924992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:16:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288437043924992 [0;39m ==> Parameters: 
2023-05-13 18:16:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288437043924992 [0;39m <==    Updates: 1
2023-05-13 18:16:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38288437043924992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 18:16:14.297 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:16:17.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:16:19.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:16:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38288562864656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:16:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288562864656384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:16:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288562864656384 [0;39m ==> Parameters: 
2023-05-13 18:16:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288562864656384 [0;39m <==    Updates: 1
2023-05-13 18:16:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38288562864656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:16:41.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:16:43.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:16:44.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:16:47.469 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:17:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38288667697090560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:17:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38288667697090560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:17:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38288667697090560 [0;39m ==> Parameters: 
2023-05-13 18:17:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38288667697090560 [0;39m <==    Updates: 0
2023-05-13 18:17:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38288667697090560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 18:17:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38288688647639040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:17:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288688647639040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:17:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288688647639040 [0;39m ==> Parameters: 
2023-05-13 18:17:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288688647639040 [0;39m <==    Updates: 1
2023-05-13 18:17:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38288688647639040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:17:08.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:17:13.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:17:14.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:17:17.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:17:32.536 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:17:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38288814531284992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288814531284992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288814531284992 [0;39m ==> Parameters: 
2023-05-13 18:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288814531284992 [0;39m <==    Updates: 1
2023-05-13 18:17:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38288814531284992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:17:44.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:17:47.224 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:17:54.577 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:17:56.621 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:18:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38288919367913472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:18:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38288919367913472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:18:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38288919367913472 [0;39m ==> Parameters: 
2023-05-13 18:18:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38288919367913472 [0;39m <==    Updates: 0
2023-05-13 18:18:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38288919367913472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:18:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38288940347822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:18:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288940347822080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:18:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288940347822080 [0;39m ==> Parameters: 
2023-05-13 18:18:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38288940347822080 [0;39m <==    Updates: 1
2023-05-13 18:18:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38288940347822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:18:14.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:18:15.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:18:17.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:18:21.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:18:21.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38289009612558336 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:18:21.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38289009612558336 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 18:18:21.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38289009612558336 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 18:18:21.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38289009612558336 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:18:21.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38289009612558336 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:18:21.526 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38289009612558336 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 18:18:21.531 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38289009612558336 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:18:21.532 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38289009612558336 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 18:18:21.533 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38289009612558336 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 18:18:21.533 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38289009612558336 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 18:18:21.533 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38289009612558336 [0;39m <==      Total: 2
2023-05-13 18:18:21.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38289009612558336 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 18:18:21.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38289009612558336 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 18:18:21.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38289009679667200 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:18:21.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38289009679667200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:18:21.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38289009679667200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:18:21.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38289009679667200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:18:21.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38289009679667200 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:18:21.541 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38289009679667200 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:18:21.542 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38289009679667200 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:18:21.542 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289009679667200 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:18:21.542 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289009679667200 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 146, 6
2023-05-13 18:18:21.542 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289009679667200 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:18:21.544 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289009679667200 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:18:21.544 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289009679667200 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:18:21.544 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289009679667200 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:18:21.544 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289009679667200 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:18:21.545 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289009679667200 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:18:21.545 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289009679667200 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:18:21.545 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38289009679667200 [0;39m <==      Total: 8
2023-05-13 18:18:21.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38289009679667200 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":146,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:18:21.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38289009679667200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 18:18:21.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38289009948102656 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:18:21.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38289009948102656 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:18:21.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38289009948102656 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:18:21.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38289009948102656 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:18:21.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38289009948102656 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:18:21.605 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38289009948102656 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:18:21.606 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38289009948102656 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:18:21.606 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38289009948102656 [0;39m <==    Columns: id, content
2023-05-13 18:18:21.607 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38289009948102656 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:18:21.607 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38289009948102656 [0;39m <==      Total: 1
2023-05-13 18:18:21.607 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38289009948102656 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:18:21.608 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38289009948102656 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:18:21.609 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38289009948102656 [0;39m <==    Updates: 1
2023-05-13 18:18:21.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38289009948102656 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:18:21.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38289009948102656 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 18:18:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38289066143387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:18:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289066143387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:18:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289066143387648 [0;39m ==> Parameters: 
2023-05-13 18:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289066143387648 [0;39m <==    Updates: 1
2023-05-13 18:18:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38289066143387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 18:18:43.110 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:18:44.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:18:47.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:18:49.234 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:19:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38289171013570560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:19:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38289171013570560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:19:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38289171013570560 [0;39m ==> Parameters: 
2023-05-13 18:19:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38289171013570560 [0;39m <==    Updates: 0
2023-05-13 18:19:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38289171013570560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 18:19:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38289192018644992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:19:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289192018644992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:19:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289192018644992 [0;39m ==> Parameters: 
2023-05-13 18:19:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289192018644992 [0;39m <==    Updates: 1
2023-05-13 18:19:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38289192018644992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:19:11.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:19:13.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:19:14.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:19:17.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:19:19.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:19:34.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38289316979544064 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:19:34.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38289316979544064 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 18:19:34.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38289316979544064 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 18:19:34.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38289316979544064 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:19:34.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38289316979544064 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:19:34.811 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38289316979544064 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 18:19:34.811 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38289316979544064 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:19:34.814 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289316979544064 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 18:19:34.814 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289316979544064 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 147, 6
2023-05-13 18:19:34.814 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289316979544064 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 18:19:34.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289316979544064 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 18:19:34.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289316979544064 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 18:19:34.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289316979544064 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 18:19:34.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289316979544064 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 18:19:34.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289316979544064 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 18:19:34.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38289316979544064 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 18:19:34.816 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38289316979544064 [0;39m <==      Total: 8
2023-05-13 18:19:34.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38289316979544064 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":147,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 18:19:34.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38289316979544064 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 18:19:34.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38289317415751680 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:19:34.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38289317415751680 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 18:19:34.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38289317415751680 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 18:19:34.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38289317415751680 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:19:34.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38289317415751680 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:19:34.912 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38289317415751680 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 18:19:34.912 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38289317415751680 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:19:34.914 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38289317415751680 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 18:19:34.914 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38289317415751680 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 18:19:34.915 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38289317415751680 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 18:19:34.915 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38289317415751680 [0;39m <==      Total: 2
2023-05-13 18:19:34.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38289317415751680 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 18:19:34.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38289317415751680 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 18:19:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38289317826793472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:19:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289317826793472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:19:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289317826793472 [0;39m ==> Parameters: 
2023-05-13 18:19:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289317826793472 [0;39m <==    Updates: 1
2023-05-13 18:19:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38289317826793472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 18:19:35.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38289319324160000 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 18:19:35.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38289319324160000 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 18:19:35.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38289319324160000 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 18:19:35.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38289319324160000 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 18:19:35.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38289319324160000 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 18:19:35.366 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38289319324160000 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 18:19:35.366 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38289319324160000 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:19:35.369 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38289319324160000 [0;39m <==    Columns: id, content
2023-05-13 18:19:35.370 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38289319324160000 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 18:19:35.370 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38289319324160000 [0;39m <==      Total: 1
2023-05-13 18:19:35.370 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38289319324160000 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 18:19:35.370 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38289319324160000 [0;39m ==> Parameters: 1(Long)
2023-05-13 18:19:35.373 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38289319324160000 [0;39m <==    Updates: 1
2023-05-13 18:19:35.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38289319324160000 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 18:19:35.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38289319324160000 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 18:19:37.931 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:19:44.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:19:45.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:19:47.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:20:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38289422684393472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:20:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38289422684393472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:20:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38289422684393472 [0;39m ==> Parameters: 
2023-05-13 18:20:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38289422684393472 [0;39m <==    Updates: 0
2023-05-13 18:20:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38289422684393472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 18:20:02.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:20:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38289443660107776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:20:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289443660107776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:20:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289443660107776 [0;39m ==> Parameters: 
2023-05-13 18:20:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289443660107776 [0;39m <==    Updates: 1
2023-05-13 18:20:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38289443660107776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 18:20:14.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:20:15.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:20:17.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:20:24.092 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:20:26.137 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:20:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38289569468256256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:20:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289569468256256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:20:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289569468256256 [0;39m ==> Parameters: 
2023-05-13 18:20:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289569468256256 [0;39m <==    Updates: 1
2023-05-13 18:20:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38289569468256256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 18:20:44.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:20:45.356 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:20:47.412 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:20:51.829 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:21:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38289674351022080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 18:21:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38289674351022080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 18:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38289674351022080 [0;39m ==> Parameters: 
2023-05-13 18:21:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38289674351022080 [0;39m <==    Updates: 0
2023-05-13 18:21:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38289674351022080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 18:21:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38289695318347776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:21:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289695318347776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:21:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289695318347776 [0;39m ==> Parameters: 
2023-05-13 18:21:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289695318347776 [0;39m <==    Updates: 1
2023-05-13 18:21:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38289695318347776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 18:21:14.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:21:15.143 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:21:16.181 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38289009679667200 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šTXhVMqL6N0ï¼Œsession idï¼š13ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 18:21:17.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:21:19.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 18:21:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38289821147467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 18:21:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289821147467776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 18:21:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289821147467776 [0;39m ==> Parameters: 
2023-05-13 18:21:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38289821147467776 [0;39m <==    Updates: 1
2023-05-13 18:21:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38289821147467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 19:55:35.465 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:55:36.596 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:55:38.650 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:55:43.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:55:45.617 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:55:46.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:55:48.045 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:55:48.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:55:50.632 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:55:55.393 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:55:57.334 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38313570655670272 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 19:55:57.335 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38313570655670272 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 19:55:57.335 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38313570655670272 [0;39m ==> Parameters: 
2023-05-13 19:55:57.337 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38313570655670272 [0;39m <==    Updates: 0
2023-05-13 19:55:57.337 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38313570655670272 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 19:55:57.337 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38313570672447488 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 19:55:57.337 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313570672447488 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 19:55:57.337 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313570672447488 [0;39m ==> Parameters: 
2023-05-13 19:55:57.338 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313570672447488 [0;39m <==    Updates: 1
2023-05-13 19:55:57.338 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38313570672447488 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 19:55:57.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:55:58.140 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h34m27s349ms174Âµs800ns).
2023-05-13 19:55:59.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38313581888016384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 19:56:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38313581888016384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 19:56:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38313581888016384 [0;39m ==> Parameters: 
2023-05-13 19:56:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38313581888016384 [0;39m <==    Updates: 0
2023-05-13 19:56:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38313581888016384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 19:56:01.612 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:02.422 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38288363568107520 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼špj6u7ligNIï¼Œsession idï¼š14ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 19:56:02.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38313592935813120 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:56:02.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38313592935813120 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 19:56:02.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38313592935813120 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 19:56:02.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38313592931618816 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:56:02.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38313592935813120 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:56:02.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38313592931618816 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 19:56:02.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38313592931618816 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 19:56:02.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38313592931618816 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:56:02.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38313592931618816 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 19:56:02.648 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38313592931618816 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 19:56:02.649 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38313592931618816 [0;39m ==> Parameters: 
2023-05-13 19:56:02.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38313592935813120 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 19:56:02.650 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38313592931618816 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 19:56:02.651 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38313592931618816 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 19:56:02.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38313592960978944 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:56:02.652 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38313592935813120 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 19:56:02.652 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38313592931618816 [0;39m <==        Row: 2023-05-13, 175, 11, 107, 1
2023-05-13 19:56:02.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38313592960978944 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 19:56:02.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38313592960978944 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 19:56:02.652 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38313592931618816 [0;39m <==      Total: 2
2023-05-13 19:56:02.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38313592960978944 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:56:02.652 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38313592935813120 [0;39m ==> Parameters: 
2023-05-13 19:56:02.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38313592960978944 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 19:56:02.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38313592931618816 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":175,"viewIncrease":107,"voteCount":11,"voteIncrease":1}],"success":true}
2023-05-13 19:56:02.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38313592931618816 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 19:56:02.653 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38313592960978944 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 19:56:02.653 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38313592960978944 [0;39m ==> Parameters: 
2023-05-13 19:56:02.653 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38313592935813120 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 19:56:02.653 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38313592935813120 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 19:56:02.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 19:56:02.654 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38313592935813120 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 19:56:02.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 19:56:02.654 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38313592935813120 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 19:56:02.654 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38313592935813120 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 19:56:02.655 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38313592935813120 [0;39m <==      Total: 4
2023-05-13 19:56:02.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38313592935813120 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 19:56:02.655 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 19:56:02.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38313592935813120 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 19:56:02.655 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 19:56:02.656 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 19:56:02.656 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 19:56:02.656 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 19:56:02.656 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 19:56:02.656 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 19:56:02.656 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 19:56:02.657 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 19:56:02.657 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 19:56:02.657 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 19:56:02.657 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 19:56:02.657 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 19:56:02.657 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38313592960978944 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 19:56:02.658 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38313592960978944 [0;39m <==      Total: 15
2023-05-13 19:56:02.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38313592960978944 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 19:56:02.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38313592960978944 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 19:56:04.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38313602838564864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 19:56:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313602838564864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 19:56:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313602838564864 [0;39m ==> Parameters: 
2023-05-13 19:56:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313602838564864 [0;39m <==    Updates: 1
2023-05-13 19:56:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38313602838564864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 19:56:06.482 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:10.632 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:12.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:12.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:14.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:15.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:16.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:17.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:18.790 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:19.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38313662175383552 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:56:19.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38313662175383552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 19:56:19.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38313662175383552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 19:56:19.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38313662175383552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:56:19.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38313662175383552 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-13 19:56:19.153 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38313662175383552 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 19:56:19.153 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38313662175383552 [0;39m ==> Parameters: 201(Long)
2023-05-13 19:56:19.153 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38313662175383552 [0;39m <==    Columns: count(0)
2023-05-13 19:56:19.153 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38313662175383552 [0;39m <==        Row: 0
2023-05-13 19:56:19.153 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38313662175383552 [0;39m <==      Total: 1
2023-05-13 19:56:19.153 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38313662175383552 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-13 19:56:19.153 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38313662175383552 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-13 19:56:19.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38313662175383552 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-13 19:56:19.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38313662175383552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 19:56:19.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38313663970545664 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:56:19.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38313663970545664 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 19:56:19.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38313663970545664 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 19:56:19.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38313663970545664 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:56:19.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38313663970545664 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-13 19:56:19.581 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38313663970545664 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 19:56:19.581 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38313663970545664 [0;39m ==> Parameters: 202(Long)
2023-05-13 19:56:19.581 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38313663970545664 [0;39m <==    Columns: count(0)
2023-05-13 19:56:19.581 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38313663970545664 [0;39m <==        Row: 1
2023-05-13 19:56:19.581 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38313663970545664 [0;39m <==      Total: 1
2023-05-13 19:56:19.581 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38313663970545664 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 19:56:19.581 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38313663970545664 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-13 19:56:19.581 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38313663970545664 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 19:56:19.581 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38313663970545664 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 175, 11
2023-05-13 19:56:19.581 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38313663970545664 [0;39m <==      Total: 1
2023-05-13 19:56:19.581 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38313663970545664 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 19:56:19.581 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38313663970545664 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 19:56:19.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38313663970545664 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":175,"voteCount":11}],"total":1},"success":true}
2023-05-13 19:56:19.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38313663970545664 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 19:56:20.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38313667019804672 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:56:20.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38313667019804672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 19:56:20.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38313667019804672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 19:56:20.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38313667019804672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:56:20.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38313667019804672 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-13 19:56:20.311 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38313667019804672 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 19:56:20.311 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38313667019804672 [0;39m ==> Parameters: 202(Long)
2023-05-13 19:56:20.312 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38313667019804672 [0;39m <==    Columns: count(0)
2023-05-13 19:56:20.312 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38313667019804672 [0;39m <==        Row: 1
2023-05-13 19:56:20.312 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38313667019804672 [0;39m <==      Total: 1
2023-05-13 19:56:20.313 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38313667019804672 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 19:56:20.313 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38313667019804672 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-13 19:56:20.314 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38313667019804672 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 19:56:20.314 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38313667019804672 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 175, 11
2023-05-13 19:56:20.314 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38313667019804672 [0;39m <==      Total: 1
2023-05-13 19:56:20.315 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38313667019804672 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 19:56:20.315 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38313667019804672 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 19:56:20.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38313667019804672 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":175,"voteCount":11}],"total":1},"success":true}
2023-05-13 19:56:20.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38313667019804672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 19:56:20.844 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:21.355 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:21.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38313671847448576 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:56:21.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38313671847448577 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:56:21.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38313671847448577 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 19:56:21.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38313671847448577 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 19:56:21.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38313671847448577 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:56:21.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38313671847448577 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 19:56:21.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38313671847448576 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 19:56:21.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38313671847448576 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 19:56:21.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38313671847448576 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:56:21.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38313671847448576 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 19:56:21.461 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38313671847448576 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 19:56:21.461 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38313671847448576 [0;39m ==> Parameters: 1(Long)
2023-05-13 19:56:21.462 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38313671847448576 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 19:56:21.462 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38313671847448576 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 19:56:21.463 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38313671847448576 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 19:56:21.463 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38313671847448576 [0;39m <==      Total: 2
2023-05-13 19:56:21.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38313671847448576 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 19:56:21.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38313671847448576 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 19:56:21.465 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38313671847448577 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 19:56:21.465 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38313671847448577 [0;39m ==> Parameters: 1(Long)
2023-05-13 19:56:21.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38313671847448577 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 19:56:21.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38313671847448577 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 148, 6
2023-05-13 19:56:21.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38313671847448577 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 19:56:21.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38313671847448577 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 19:56:21.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38313671847448577 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 19:56:21.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38313671847448577 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 19:56:21.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38313671847448577 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 19:56:21.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38313671847448577 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 19:56:21.467 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38313671847448577 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 19:56:21.467 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38313671847448577 [0;39m <==      Total: 8
2023-05-13 19:56:21.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38313671847448577 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":148,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 19:56:21.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38313671847448577 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 19:56:21.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38313672027803648 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:56:21.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38313672027803648 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 19:56:21.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38313672027803648 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 19:56:21.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38313672027803648 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:56:21.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38313672027803648 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 19:56:21.503 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38313672027803648 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 19:56:21.504 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38313672027803648 [0;39m ==> Parameters: 1(Long)
2023-05-13 19:56:21.504 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38313672027803648 [0;39m <==    Columns: id, content
2023-05-13 19:56:21.504 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38313672027803648 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 19:56:21.504 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38313672027803648 [0;39m <==      Total: 1
2023-05-13 19:56:21.506 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38313672027803648 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 19:56:21.506 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38313672027803648 [0;39m ==> Parameters: 1(Long)
2023-05-13 19:56:21.508 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38313672027803648 [0;39m <==    Updates: 1
2023-05-13 19:56:21.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38313672027803648 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 19:56:21.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38313672027803648 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 19:56:22.869 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:23.389 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:23.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38313680592572416 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:56:23.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38313680592572416 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 19:56:23.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38313680592572416 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 19:56:23.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38313680592572416 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:56:23.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38313680592572416 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 19:56:23.545 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38313680592572416 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 19:56:23.546 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38313680592572416 [0;39m ==> Parameters: 1(Long)
2023-05-13 19:56:23.546 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38313680592572416 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 19:56:23.546 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38313680592572416 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 19:56:23.547 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38313680592572416 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 19:56:23.547 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38313680592572416 [0;39m <==      Total: 2
2023-05-13 19:56:23.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38313680592572416 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 19:56:23.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38313680592572416 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 19:56:24.899 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:26.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:28.955 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:29.840 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:31.009 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:31.877 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38313728692850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 19:56:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313728692850688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 19:56:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313728692850688 [0;39m ==> Parameters: 
2023-05-13 19:56:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313728692850688 [0;39m <==    Updates: 1
2023-05-13 19:56:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38313728692850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 19:56:35.461 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:37.772 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:38.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:40.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:44.961 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:46.369 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:48.894 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:49.488 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:51.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:53.667 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:56.868 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:56:58.475 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38313833521090560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 19:57:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38313833521090560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 19:57:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38313833521090560 [0;39m ==> Parameters: 
2023-05-13 19:57:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38313833521090560 [0;39m <==    Updates: 0
2023-05-13 19:57:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38313833521090560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 19:57:01.852 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38313854500999168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 19:57:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313854500999168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 19:57:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313854500999168 [0;39m ==> Parameters: 
2023-05-13 19:57:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313854500999168 [0;39m <==    Updates: 1
2023-05-13 19:57:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38313854500999168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 19:57:05.395 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:06.564 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:10.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:12.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:14.967 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:16.424 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:16.989 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:18.766 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:21.467 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:22.845 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:23.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:25.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:26.903 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:28.944 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:29.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:31.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:33.038 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38313980321730560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 19:57:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313980321730560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 19:57:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313980321730560 [0;39m ==> Parameters: 
2023-05-13 19:57:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38313980321730560 [0;39m <==    Updates: 1
2023-05-13 19:57:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38313980321730560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 19:57:40.112 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:43.099 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:47.065 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:49.583 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:50.879 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:53.369 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:54.409 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:55.715 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:57:58.055 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38314085183524864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 19:58:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38314085183524864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 19:58:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38314085183524864 [0;39m ==> Parameters: 
2023-05-13 19:58:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38314085183524864 [0;39m <==    Updates: 0
2023-05-13 19:58:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38314085183524864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 19:58:00.363 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:02.073 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:02.801 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38314106155044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 19:58:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314106155044864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 19:58:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314106155044864 [0;39m ==> Parameters: 
2023-05-13 19:58:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314106155044864 [0;39m <==    Updates: 1
2023-05-13 19:58:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38314106155044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 19:58:05.083 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:07.566 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:09.513 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:12.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:14.985 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:16.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:19.073 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:21.112 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:23.143 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:25.166 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:27.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:27.242 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:29.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:29.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:31.717 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38314232005136384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 19:58:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314232005136384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 19:58:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314232005136384 [0;39m ==> Parameters: 
2023-05-13 19:58:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314232005136384 [0;39m <==    Updates: 1
2023-05-13 19:58:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38314232005136384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 19:58:36.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:36.468 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:41.068 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:42.433 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:43.234 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:44.678 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:45.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:46.922 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:49.142 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:49.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:52.474 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:53.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:54.739 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:56.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:58:58.574 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38314336841764864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 19:59:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38314336841764864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 19:59:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38314336841764864 [0;39m ==> Parameters: 
2023-05-13 19:59:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38314336841764864 [0;39m <==    Updates: 0
2023-05-13 19:59:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38314336841764864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 19:59:02.906 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38314357834256384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 19:59:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314357834256384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 19:59:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314357834256384 [0;39m ==> Parameters: 
2023-05-13 19:59:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314357834256384 [0;39m <==    Updates: 1
2023-05-13 19:59:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38314357834256384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 19:59:06.509 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:08.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:09.525 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:11.087 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:11.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:15.557 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:16.512 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:17.956 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:19.053 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:21.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:22.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38314430186000384 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:59:22.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38314430186000384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 19:59:22.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38314430186000384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 19:59:22.262 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38314430186000384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:59:22.262 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38314430186000384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 19:59:22.263 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38314430186000384 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 19:59:22.263 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38314430186000384 [0;39m ==> Parameters: 1(Long)
2023-05-13 19:59:22.264 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314430186000384 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 19:59:22.264 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314430186000384 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 149, 6
2023-05-13 19:59:22.265 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314430186000384 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 19:59:22.265 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314430186000384 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 19:59:22.265 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314430186000384 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 19:59:22.266 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314430186000384 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 19:59:22.266 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314430186000384 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 19:59:22.266 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314430186000384 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 19:59:22.266 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314430186000384 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 19:59:22.267 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38314430186000384 [0;39m <==      Total: 8
2023-05-13 19:59:22.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38314430211166208 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:59:22.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38314430186000384 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":149,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 19:59:22.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38314430186000384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 19:59:22.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38314430211166208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 19:59:22.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38314430211166208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 19:59:22.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38314430211166208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:59:22.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38314430211166208 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 19:59:22.268 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314430211166208 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 19:59:22.269 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314430211166208 [0;39m ==> Parameters: 1(Long)
2023-05-13 19:59:22.270 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314430211166208 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 19:59:22.270 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314430211166208 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 19:59:22.271 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314430211166208 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 19:59:22.271 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314430211166208 [0;39m <==      Total: 2
2023-05-13 19:59:22.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38314430211166208 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 19:59:22.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38314430211166208 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 19:59:22.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38314433193316352 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:59:22.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38314433193316352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 19:59:22.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38314433193316352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 19:59:22.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38314433193316352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:59:22.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38314433193316352 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 19:59:22.981 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38314433193316352 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 19:59:22.981 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38314433193316352 [0;39m ==> Parameters: 1(Long)
2023-05-13 19:59:22.982 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38314433193316352 [0;39m <==    Columns: id, content
2023-05-13 19:59:22.982 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38314433193316352 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 19:59:22.982 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38314433193316352 [0;39m <==      Total: 1
2023-05-13 19:59:22.983 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38314433193316352 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 19:59:22.983 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38314433193316352 [0;39m ==> Parameters: 1(Long)
2023-05-13 19:59:22.985 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38314433193316352 [0;39m <==    Updates: 1
2023-05-13 19:59:22.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38314433193316352 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 19:59:22.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38314433193316352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 19:59:23.616 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:25.130 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:25.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38314445600067584 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 19:59:25.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38314445600067584 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 19:59:25.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38314445600067584 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 19:59:25.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38314445600067584 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 19:59:25.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38314445600067584 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 19:59:25.938 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314445600067584 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 19:59:25.939 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314445600067584 [0;39m ==> Parameters: 1(Long)
2023-05-13 19:59:25.940 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314445600067584 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 19:59:25.940 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314445600067584 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 19:59:25.940 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314445600067584 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 19:59:25.941 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314445600067584 [0;39m <==      Total: 2
2023-05-13 19:59:25.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38314445600067584 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 19:59:25.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38314445600067584 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 19:59:27.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:27.704 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:29.214 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:29.761 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:31.655 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:33.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:35.042 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38314483793399808 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 19:59:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314483793399808 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 19:59:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314483793399808 [0;39m ==> Parameters: 
2023-05-13 19:59:35.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314483793399808 [0;39m <==    Updates: 1
2023-05-13 19:59:35.054 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38314483793399808 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 19:59:35.850 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:38.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:42.754 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:45.109 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:47.356 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:49.608 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:54.473 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:56.762 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 19:59:58.974 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38314588512587776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:00:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38314588512587776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:00:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38314588512587776 [0;39m ==> Parameters: 
2023-05-13 20:00:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38314588512587776 [0;39m <==    Updates: 0
2023-05-13 20:00:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38314588512587776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 20:00:03.512 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:03.512 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38314609458941952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:00:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314609458941952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:00:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314609458941952 [0;39m ==> Parameters: 
2023-05-13 20:00:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314609458941952 [0;39m <==    Updates: 1
2023-05-13 20:00:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38314609458941952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:00:05.654 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:05.654 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:10.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:10.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:12.165 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:14.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:14.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:16.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:18.489 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:24.565 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:24.566 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:28.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:28.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:30.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:30.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38314735309033472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:00:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314735309033472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:00:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314735309033472 [0;39m ==> Parameters: 
2023-05-13 20:00:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314735309033472 [0;39m <==    Updates: 1
2023-05-13 20:00:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38314735309033472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:00:35.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:37.151 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:43.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:47.881 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:52.743 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:54.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:00:59.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38314840246325248 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:01:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38314840246325248 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:01:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38314840246325248 [0;39m ==> Parameters: 
2023-05-13 20:01:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38314840246325248 [0;39m <==    Updates: 0
2023-05-13 20:01:00.034 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38314840246325248 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 20:01:03.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38314861167513600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:01:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314861167513600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:01:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314861167513600 [0;39m ==> Parameters: 
2023-05-13 20:01:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314861167513600 [0;39m <==    Updates: 1
2023-05-13 20:01:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38314861167513600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:01:06.147 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:18.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:18.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38314917887086592 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:01:18.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38314917887086592 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 20:01:18.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38314917887086592 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 20:01:18.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38314917887086592 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:01:18.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38314917887086592 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:01:18.544 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38314917887086592 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 20:01:18.545 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38314917887086592 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:01:18.546 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314917887086592 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 20:01:18.547 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314917887086592 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 150, 6
2023-05-13 20:01:18.547 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314917887086592 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 20:01:18.547 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314917887086592 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 20:01:18.547 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314917887086592 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 20:01:18.548 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314917887086592 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 20:01:18.548 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314917887086592 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 20:01:18.548 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314917887086592 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 20:01:18.548 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38314917887086592 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 20:01:18.549 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38314917887086592 [0;39m <==      Total: 8
2023-05-13 20:01:18.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38314917887086592 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":150,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 20:01:18.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38314917887086592 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 20:01:18.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38314917983555584 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:01:18.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38314917983555584 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:01:18.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38314917983555584 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:01:18.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38314917983555584 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:01:18.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38314917983555584 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:01:18.562 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314917983555584 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:01:18.563 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314917983555584 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:01:18.564 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314917983555584 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:01:18.564 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314917983555584 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:01:18.564 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314917983555584 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:01:18.564 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314917983555584 [0;39m <==      Total: 2
2023-05-13 20:01:18.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38314917983555584 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 20:01:18.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38314917983555584 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 20:01:18.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38314918965022720 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:01:18.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38314918965022720 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 20:01:18.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38314918965022720 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:01:18.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38314918965022720 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:01:18.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38314918965022720 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:01:18.798 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38314918965022720 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:01:18.798 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38314918965022720 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:01:18.799 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38314918965022720 [0;39m <==    Columns: id, content
2023-05-13 20:01:18.800 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38314918965022720 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 20:01:18.800 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38314918965022720 [0;39m <==      Total: 1
2023-05-13 20:01:18.800 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38314918965022720 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:01:18.801 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38314918965022720 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:01:18.802 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38314918965022720 [0;39m <==    Updates: 1
2023-05-13 20:01:18.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38314918965022720 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 20:01:18.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38314918965022720 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 20:01:20.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38314926187614208 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:01:20.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38314926187614208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:01:20.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38314926187614208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:01:20.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38314926187614208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:01:20.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38314926187614208 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:01:20.520 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314926187614208 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:01:20.520 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314926187614208 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:01:20.521 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314926187614208 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:01:20.522 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314926187614208 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:01:20.522 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314926187614208 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:01:20.523 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314926187614208 [0;39m <==      Total: 2
2023-05-13 20:01:20.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38314926187614208 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 20:01:20.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38314926187614208 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 20:01:21.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38314929064906752 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:01:21.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38314929064906752 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:01:21.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38314929064906752 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:01:21.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38314929064906752 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:01:21.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38314929064906752 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:01:21.206 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314929064906752 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:01:21.206 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314929064906752 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:01:21.207 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314929064906752 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:01:21.208 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314929064906752 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:01:21.208 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314929064906752 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:01:21.208 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314929064906752 [0;39m <==      Total: 2
2023-05-13 20:01:21.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38314929064906752 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 20:01:21.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38314929064906752 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 20:01:21.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38314932357435392 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:01:21.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38314932357435392 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:01:21.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38314932357435392 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:01:21.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38314932357435392 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:01:21.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38314932357435392 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:01:21.993 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314932357435392 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:01:21.993 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314932357435392 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:01:21.994 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314932357435392 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:01:21.995 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314932357435392 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:01:21.996 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38314932357435392 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:01:21.997 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38314932357435392 [0;39m <==      Total: 2
2023-05-13 20:01:21.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38314932357435392 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 20:01:21.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38314932357435392 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 20:01:27.379 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:32.132 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:34.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:34.542 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38314986954690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:01:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314986954690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:01:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314986954690560 [0;39m ==> Parameters: 
2023-05-13 20:01:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38314986954690560 [0;39m <==    Updates: 1
2023-05-13 20:01:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38314986954690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 20:01:36.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:38.940 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:43.787 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:43.787 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:46.372 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:51.571 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:53.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:01:53.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38315091803901952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:02:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38315091803901952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:02:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38315091803901952 [0;39m ==> Parameters: 
2023-05-13 20:02:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38315091803901952 [0;39m <==    Updates: 0
2023-05-13 20:02:00.044 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38315091803901952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š40æ¯«ç§’
2023-05-13 20:02:03.668 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38315112825753600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:02:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315112825753600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:02:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315112825753600 [0;39m ==> Parameters: 
2023-05-13 20:02:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315112825753600 [0;39m <==    Updates: 1
2023-05-13 20:02:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38315112825753600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:02:08.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:08.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:10.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:12.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:18.933 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:23.018 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:23.018 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:27.135 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:31.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:33.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38315238642290688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:02:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315238642290688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:02:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315238642290688 [0;39m ==> Parameters: 
2023-05-13 20:02:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315238642290688 [0;39m <==    Updates: 1
2023-05-13 20:02:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38315238642290688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:02:35.291 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:39.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:42.086 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:44.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:44.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:48.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:50.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:50.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:56.480 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:02:58.627 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38315343495696384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:03:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38315343495696384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:03:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38315343495696384 [0;39m ==> Parameters: 
2023-05-13 20:03:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38315343495696384 [0;39m <==    Updates: 0
2023-05-13 20:03:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38315343495696384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 20:03:02.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:02.704 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:04.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38315364458827776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315364458827776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:03:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315364458827776 [0;39m ==> Parameters: 
2023-05-13 20:03:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315364458827776 [0;39m <==    Updates: 1
2023-05-13 20:03:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38315364458827776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:03:06.768 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:08.824 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:10.863 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:14.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38315490254393344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:03:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315490254393344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:03:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315490254393344 [0;39m ==> Parameters: 
2023-05-13 20:03:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315490254393344 [0;39m <==    Updates: 1
2023-05-13 20:03:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38315490254393344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:03:35.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:39.546 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:43.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:44.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:45.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:47.717 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:51.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:53.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:55.909 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:03:57.953 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38315595149742080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:04:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38315595149742080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:04:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38315595149742080 [0;39m ==> Parameters: 
2023-05-13 20:04:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38315595149742080 [0;39m <==    Updates: 0
2023-05-13 20:04:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38315595149742080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 20:04:04.071 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38315616083513344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:04:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315616083513344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:04:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315616083513344 [0;39m ==> Parameters: 
2023-05-13 20:04:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315616083513344 [0;39m <==    Updates: 1
2023-05-13 20:04:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38315616083513344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:04:12.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:14.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:16.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:28.594 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:30.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:34.723 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38315741933604864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315741933604864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315741933604864 [0;39m ==> Parameters: 
2023-05-13 20:04:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315741933604864 [0;39m <==    Updates: 1
2023-05-13 20:04:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38315741933604864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:04:36.765 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:38.811 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:44.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:46.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:49.067 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:51.104 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:57.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:04:59.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38315846774427648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:05:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38315846774427648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:05:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38315846774427648 [0;39m ==> Parameters: 
2023-05-13 20:05:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38315846774427648 [0;39m <==    Updates: 0
2023-05-13 20:05:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38315846774427648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:05:01.345 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38315867813056512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:05:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315867813056512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:05:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315867813056512 [0;39m ==> Parameters: 
2023-05-13 20:05:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315867813056512 [0;39m <==    Updates: 1
2023-05-13 20:05:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38315867813056512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:05:05.418 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:09.534 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:13.607 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:14.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:17.716 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:21.818 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:23.857 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:25.883 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:27.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:31.997 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38315993629593600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:05:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315993629593600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:05:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315993629593600 [0;39m ==> Parameters: 
2023-05-13 20:05:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38315993629593600 [0;39m <==    Updates: 1
2023-05-13 20:05:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38315993629593600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:05:36.088 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:38.130 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:42.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:44.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:44.291 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:46.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:48.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:50.389 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:52.432 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:56.526 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:05:58.553 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38316098449444864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:06:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38316098449444864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:06:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38316098449444864 [0;39m ==> Parameters: 
2023-05-13 20:06:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38316098449444864 [0;39m <==    Updates: 0
2023-05-13 20:06:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38316098449444864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 20:06:02.643 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:04.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38316119441936384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:06:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316119441936384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:06:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316119441936384 [0;39m ==> Parameters: 
2023-05-13 20:06:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316119441936384 [0;39m <==    Updates: 1
2023-05-13 20:06:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38316119441936384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:06:06.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:14.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:14.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:16.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:21.065 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:23.109 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:27.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38316245271056384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:06:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316245271056384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:06:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316245271056384 [0;39m ==> Parameters: 
2023-05-13 20:06:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316245271056384 [0;39m <==    Updates: 1
2023-05-13 20:06:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38316245271056384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:06:35.372 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:39.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:44.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:45.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:47.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:49.729 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:51.767 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:57.903 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:06:59.947 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38316350120267776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:07:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38316350120267776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:07:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38316350120267776 [0;39m ==> Parameters: 
2023-05-13 20:07:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38316350120267776 [0;39m <==    Updates: 0
2023-05-13 20:07:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38316350120267776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:07:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38316371058233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:07:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316371058233344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:07:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316371058233344 [0;39m ==> Parameters: 
2023-05-13 20:07:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316371058233344 [0;39m <==    Updates: 1
2023-05-13 20:07:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38316371058233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:07:06.079 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:08.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:10.154 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:12.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:14.291 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:16.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:24.451 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:32.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38316496904130560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:07:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316496904130560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:07:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316496904130560 [0;39m ==> Parameters: 
2023-05-13 20:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316496904130560 [0;39m <==    Updates: 1
2023-05-13 20:07:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38316496904130560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:07:36.816 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:38.856 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:40.889 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:42.937 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:44.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:44.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:49.053 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:51.093 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:53.130 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:07:57.596 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:08:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38316601786896384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:08:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38316601786896384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:08:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38316601786896384 [0;39m ==> Parameters: 
2023-05-13 20:08:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38316601786896384 [0;39m <==    Updates: 0
2023-05-13 20:08:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38316601786896384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:08:04.363 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:08:05.148 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38316623333036032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:08:05.149 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316623333036032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:08:05.149 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316623333036032 [0;39m ==> Parameters: 
2023-05-13 20:08:05.150 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316623333036032 [0;39m <==    Updates: 1
2023-05-13 20:08:05.151 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38316623333036032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:08:14.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:08:14.763 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:08:23.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:08:25.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:08:29.451 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:08:35.024 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38316748642062336 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:08:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316748642062336 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:08:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316748642062336 [0;39m ==> Parameters: 
2023-05-13 20:08:35.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316748642062336 [0;39m <==    Updates: 1
2023-05-13 20:08:35.027 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38316748642062336 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:08:41.450 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:08:44.459 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:08:45.884 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:08:47.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:08:49.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:08:53.982 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:08:56.233 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38316853432553472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:09:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38316853432553472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:09:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38316853432553472 [0;39m ==> Parameters: 
2023-05-13 20:09:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38316853432553472 [0;39m <==    Updates: 0
2023-05-13 20:09:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38316853432553472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:09:00.293 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:04.606 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38316874412462080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:09:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316874412462080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:09:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316874412462080 [0;39m ==> Parameters: 
2023-05-13 20:09:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38316874412462080 [0;39m <==    Updates: 1
2023-05-13 20:09:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38316874412462080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:09:07.135 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:11.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38316900551364608 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:09:11.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38316900551364608 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:09:11.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38316900551364608 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:09:11.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38316900551364608 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:09:11.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38316900551364608 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:09:11.246 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38316900551364608 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:09:11.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38316900551364608 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:09:11.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38316900551364608 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:09:11.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38316900551364608 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:09:11.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38316900551364608 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:09:11.249 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38316900551364608 [0;39m <==      Total: 2
2023-05-13 20:09:11.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38316900551364608 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 20:09:11.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38316900551364608 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 20:09:11.531 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:12.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38316905416757248 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:09:12.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38316905416757248 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:09:12.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38316905416757248 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:09:12.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38316905416757248 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:09:12.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38316905416757248 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:09:12.404 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38316905416757248 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:09:12.404 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38316905416757248 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:09:12.405 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38316905416757248 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:09:12.405 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38316905416757248 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:09:12.406 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38316905416757248 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:09:12.406 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38316905416757248 [0;39m <==      Total: 2
2023-05-13 20:09:12.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38316905416757248 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 20:09:12.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38316905416757248 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 20:09:13.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38316911272005632 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:09:13.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38316911272005632 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:09:13.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38316911272005632 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:09:13.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38316911272005632 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:09:13.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38316911272005632 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:09:13.800 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38316911272005632 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:09:13.800 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38316911272005632 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:09:13.801 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38316911272005632 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:09:13.801 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38316911272005632 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:09:13.801 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38316911272005632 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:09:13.802 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38316911272005632 [0;39m <==      Total: 2
2023-05-13 20:09:13.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38316911272005632 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 20:09:13.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38316911272005632 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 20:09:13.936 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:14.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:15.961 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:20.933 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:22.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:32.435 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:34.780 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38317000208027648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:09:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317000208027648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:09:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317000208027648 [0;39m ==> Parameters: 
2023-05-13 20:09:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317000208027648 [0;39m <==    Updates: 1
2023-05-13 20:09:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38317000208027648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:09:35.621 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38314917983555584 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼špj6u7ligNIï¼Œsession idï¼š14ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 20:09:37.031 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:39.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:41.501 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:43.478 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38314918965022720 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šymC3VoMd2Oï¼Œsession idï¼š15ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 20:09:43.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38317037453447168 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:09:43.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38317037453447168 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 20:09:43.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38317037453447168 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 20:09:43.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38317037453447168 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:09:43.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38317037453447168 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:09:43.885 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38317037453447168 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 20:09:43.885 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38317037453447168 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:09:43.886 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38317037453447168 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 20:09:43.886 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38317037453447168 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 151, 6
2023-05-13 20:09:43.886 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38317037453447168 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 20:09:43.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38317037453447168 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 20:09:43.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38317037453447168 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 20:09:43.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38317037453447168 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 20:09:43.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38317037453447168 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 20:09:43.888 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38317037453447168 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 20:09:43.888 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38317037453447168 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 20:09:43.889 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38317037453447168 [0;39m <==      Total: 8
2023-05-13 20:09:43.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38317037453447168 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":151,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 20:09:43.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38317037453447168 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 20:09:43.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38317037487001600 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:09:43.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38317037487001600 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:09:43.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38317037487001600 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:09:43.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38317037487001600 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:09:43.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38317037487001600 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:09:43.892 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38317037487001600 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:09:43.892 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38317037487001600 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:09:43.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38317037487001600 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:09:43.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38317037487001600 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:09:43.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38317037487001600 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:09:43.894 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38317037487001600 [0;39m <==      Total: 2
2023-05-13 20:09:43.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38317037487001600 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 20:09:43.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38317037487001600 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 20:09:44.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38317038518800384 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:09:44.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38317038518800384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 20:09:44.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38317038518800384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:09:44.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38317038518800384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:09:44.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38317038518800384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:09:44.140 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38317038518800384 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:09:44.140 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38317038518800384 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:09:44.141 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38317038518800384 [0;39m <==    Columns: id, content
2023-05-13 20:09:44.142 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38317038518800384 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 20:09:44.142 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38317038518800384 [0;39m <==      Total: 1
2023-05-13 20:09:44.142 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38317038518800384 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:09:44.143 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38317038518800384 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:09:44.151 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38317038518800384 [0;39m <==    Updates: 1
2023-05-13 20:09:44.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38317038518800384 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 20:09:44.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38317038518800384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-13 20:09:44.601 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:47.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38317051554697216 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:09:47.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38317051554697216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:09:47.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38317051554697216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:09:47.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38317051554697216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:09:47.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38317051554697216 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:09:47.246 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38317051554697216 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:09:47.246 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38317051554697216 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:09:47.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38317051554697216 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:09:47.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38317051554697216 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:09:47.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38317051554697216 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:09:47.248 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38317051554697216 [0;39m <==      Total: 2
2023-05-13 20:09:47.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38317051554697216 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 20:09:47.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38317051554697216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 20:09:48.482 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:50.802 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:57.038 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:09:59.166 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38317105103376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:10:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38317105103376384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:10:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38317105103376384 [0;39m ==> Parameters: 
2023-05-13 20:10:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38317105103376384 [0;39m <==    Updates: 0
2023-05-13 20:10:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38317105103376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 20:10:01.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38317126053924864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:10:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317126053924864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:10:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317126053924864 [0;39m ==> Parameters: 
2023-05-13 20:10:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317126053924864 [0;39m <==    Updates: 1
2023-05-13 20:10:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38317126053924864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š16æ¯«ç§’
2023-05-13 20:10:08.831 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:10.892 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:14.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:17.452 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:19.528 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:21.578 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:23.615 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:25.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:27.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:30.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:34.997 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:35.042 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38317252034039808 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:10:35.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317252034039808 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:10:35.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317252034039808 [0;39m ==> Parameters: 
2023-05-13 20:10:35.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317252034039808 [0;39m <==    Updates: 1
2023-05-13 20:10:35.048 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38317252034039808 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:10:44.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:44.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:46.386 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:10:53.077 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38317356778393600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:11:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38317356778393600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:11:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38317356778393600 [0;39m ==> Parameters: 
2023-05-13 20:11:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38317356778393600 [0;39m <==    Updates: 0
2023-05-13 20:11:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38317356778393600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 20:11:01.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:03.653 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38317377741524992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:11:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317377741524992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:11:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317377741524992 [0;39m ==> Parameters: 
2023-05-13 20:11:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317377741524992 [0;39m <==    Updates: 1
2023-05-13 20:11:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38317377741524992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:11:05.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:07.742 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:09.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:14.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:14.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:16.379 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:18.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:20.477 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:26.612 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:28.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:30.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:34.789 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38317503545479168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317503545479168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317503545479168 [0;39m ==> Parameters: 
2023-05-13 20:11:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317503545479168 [0;39m <==    Updates: 1
2023-05-13 20:11:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38317503545479168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:11:38.853 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:40.901 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:42.937 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:44.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:51.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:55.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:57.238 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:11:59.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38317608407273472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:12:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38317608407273472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:12:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38317608407273472 [0;39m ==> Parameters: 
2023-05-13 20:12:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38317608407273472 [0;39m <==    Updates: 0
2023-05-13 20:12:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38317608407273472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:12:03.373 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38317629387182080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:12:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317629387182080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:12:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317629387182080 [0;39m ==> Parameters: 
2023-05-13 20:12:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317629387182080 [0;39m <==    Updates: 1
2023-05-13 20:12:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38317629387182080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:12:07.455 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:13.581 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:14.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:15.613 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:19.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:21.739 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:23.785 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:31.939 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:33.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38317755207913472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:12:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317755207913472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:12:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317755207913472 [0;39m ==> Parameters: 
2023-05-13 20:12:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317755207913472 [0;39m <==    Updates: 1
2023-05-13 20:12:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38317755207913472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:12:40.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:42.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:44.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:48.312 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:52.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:54.455 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:12:56.498 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38317860090679296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:13:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38317860090679296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:13:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38317860090679296 [0;39m ==> Parameters: 
2023-05-13 20:13:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38317860090679296 [0;39m <==    Updates: 0
2023-05-13 20:13:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38317860090679296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:13:00.565 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:02.611 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:04.651 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38317881037033472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:13:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317881037033472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:13:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317881037033472 [0;39m ==> Parameters: 
2023-05-13 20:13:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38317881037033472 [0;39m <==    Updates: 1
2023-05-13 20:13:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38317881037033472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:13:06.689 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:08.729 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:10.783 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:12.822 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:14.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:14.859 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:16.883 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:18.925 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:20.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:25.068 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:29.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:31.168 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38318006887124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:13:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318006887124992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:13:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318006887124992 [0;39m ==> Parameters: 
2023-05-13 20:13:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318006887124992 [0;39m <==    Updates: 1
2023-05-13 20:13:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38318006887124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:13:35.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:37.302 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:43.433 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:44.291 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:45.478 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:51.598 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:53.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:13:55.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38318111694393344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:14:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38318111694393344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:14:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38318111694393344 [0;39m ==> Parameters: 
2023-05-13 20:14:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38318111694393344 [0;39m <==    Updates: 0
2023-05-13 20:14:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38318111694393344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:14:01.779 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38318132670107648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:14:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318132670107648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:14:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318132670107648 [0;39m ==> Parameters: 
2023-05-13 20:14:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318132670107648 [0;39m <==    Updates: 1
2023-05-13 20:14:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38318132670107648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:14:07.870 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:09.927 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:14.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:18.093 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:22.181 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:24.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:26.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:34.482 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38318258541170688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:14:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318258541170688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:14:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318258541170688 [0;39m ==> Parameters: 
2023-05-13 20:14:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318258541170688 [0;39m <==    Updates: 1
2023-05-13 20:14:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38318258541170688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:14:40.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:42.692 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:44.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:50.868 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:56.999 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:14:59.039 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38318363390382080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:15:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38318363390382080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:15:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38318363390382080 [0;39m ==> Parameters: 
2023-05-13 20:15:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38318363390382080 [0;39m <==    Updates: 0
2023-05-13 20:15:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38318363390382080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 20:15:01.058 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:03.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38318384353513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:15:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318384353513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:15:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318384353513472 [0;39m ==> Parameters: 
2023-05-13 20:15:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318384353513472 [0;39m <==    Updates: 1
2023-05-13 20:15:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38318384353513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:15:07.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:09.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:13.311 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:14.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:15.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:19.435 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:21.474 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:23.523 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:27.887 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:29.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:31.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:33.998 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38318510199410688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:15:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318510199410688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:15:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318510199410688 [0;39m ==> Parameters: 
2023-05-13 20:15:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318510199410688 [0;39m <==    Updates: 1
2023-05-13 20:15:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38318510199410688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:15:36.040 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:38.077 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:40.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:44.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:44.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:46.224 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:48.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:50.315 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:15:56.445 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38318615040233472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:16:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38318615040233472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:16:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38318615040233472 [0;39m ==> Parameters: 
2023-05-13 20:16:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38318615040233472 [0;39m <==    Updates: 0
2023-05-13 20:16:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38318615040233472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:16:02.608 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:04.645 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38318636020142080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:16:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318636020142080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:16:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318636020142080 [0;39m ==> Parameters: 
2023-05-13 20:16:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318636020142080 [0;39m <==    Updates: 1
2023-05-13 20:16:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38318636020142080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:16:08.738 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:10.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:12.846 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:14.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:16.908 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:18.961 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:21.007 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:23.055 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:27.149 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:29.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:31.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:33.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38318761845067776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:16:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318761845067776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:16:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318761845067776 [0;39m ==> Parameters: 
2023-05-13 20:16:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318761845067776 [0;39m <==    Updates: 1
2023-05-13 20:16:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38318761845067776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:16:37.363 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:39.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:41.459 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:44.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:45.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:47.607 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:53.745 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:55.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:16:59.881 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38318866677501952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:17:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38318866677501952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:17:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38318866677501952 [0;39m ==> Parameters: 
2023-05-13 20:17:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38318866677501952 [0;39m <==    Updates: 0
2023-05-13 20:17:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38318866677501952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 20:17:01.908 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38318887690964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:17:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318887690964992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:17:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318887690964992 [0;39m ==> Parameters: 
2023-05-13 20:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38318887690964992 [0;39m <==    Updates: 1
2023-05-13 20:17:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38318887690964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:17:06.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:10.093 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:14.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:16.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:18.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:20.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:24.379 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:26.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:28.468 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:30.519 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:32.573 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:34.616 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38319013482336256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:17:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319013482336256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:17:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319013482336256 [0;39m ==> Parameters: 
2023-05-13 20:17:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319013482336256 [0;39m <==    Updates: 1
2023-05-13 20:17:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38319013482336256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:17:38.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:42.824 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:44.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:48.965 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:50.996 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:17:59.208 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38319118335741952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:18:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38319118335741952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:18:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38319118335741952 [0;39m ==> Parameters: 
2023-05-13 20:18:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38319118335741952 [0;39m <==    Updates: 0
2023-05-13 20:18:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38319118335741952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:18:01.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38319139328233472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:18:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319139328233472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:18:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319139328233472 [0;39m ==> Parameters: 
2023-05-13 20:18:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319139328233472 [0;39m <==    Updates: 1
2023-05-13 20:18:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38319139328233472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:18:05.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:07.361 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:13.504 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:14.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:15.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:19.627 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:21.653 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:23.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:25.769 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:27.834 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:29.876 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:31.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:33.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38319265123799040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:18:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319265123799040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:18:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319265123799040 [0;39m ==> Parameters: 
2023-05-13 20:18:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319265123799040 [0;39m <==    Updates: 1
2023-05-13 20:18:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38319265123799040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:18:36.014 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:40.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:44.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:44.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:46.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:48.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:50.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:52.375 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:18:56.477 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38319370031730688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:19:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38319370031730688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:19:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38319370031730688 [0;39m ==> Parameters: 
2023-05-13 20:19:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38319370031730688 [0;39m <==    Updates: 0
2023-05-13 20:19:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38319370031730688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:19:00.543 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:02.584 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:04.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38319391007444992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:19:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319391007444992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:19:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319391007444992 [0;39m ==> Parameters: 
2023-05-13 20:19:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319391007444992 [0;39m <==    Updates: 1
2023-05-13 20:19:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38319391007444992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:19:10.750 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:12.794 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:14.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:14.835 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:16.886 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:20.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:25.063 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:29.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:33.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38319516844953600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:19:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319516844953600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:19:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319516844953600 [0;39m ==> Parameters: 
2023-05-13 20:19:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319516844953600 [0;39m <==    Updates: 1
2023-05-13 20:19:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38319516844953600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:19:37.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:39.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:44.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:45.506 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:49.607 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:53.703 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:55.740 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:57.780 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:19:59.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38319621673193472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:20:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38319621673193472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:20:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38319621673193472 [0;39m ==> Parameters: 
2023-05-13 20:20:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38319621673193472 [0;39m <==    Updates: 0
2023-05-13 20:20:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38319621673193472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:20:01.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38319642623741952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:20:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319642623741952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:20:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319642623741952 [0;39m ==> Parameters: 
2023-05-13 20:20:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319642623741952 [0;39m <==    Updates: 1
2023-05-13 20:20:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38319642623741952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:20:05.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:08.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:10.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:14.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:16.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:18.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:20.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:22.595 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:26.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:28.870 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:30.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:32.969 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:35.003 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38319768465444864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:20:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319768465444864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:20:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319768465444864 [0;39m ==> Parameters: 
2023-05-13 20:20:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319768465444864 [0;39m <==    Updates: 1
2023-05-13 20:20:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38319768465444864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:20:37.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:39.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:41.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:43.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:45.231 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:49.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:51.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:55.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:57.483 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:20:59.517 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:21:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38319873364987904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:21:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38319873364987904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:21:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38319873364987904 [0;39m ==> Parameters: 
2023-05-13 20:21:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38319873364987904 [0;39m <==    Updates: 0
2023-05-13 20:21:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38319873364987904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:21:01.564 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:21:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38319894290370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:21:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319894290370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:21:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319894290370560 [0;39m ==> Parameters: 
2023-05-13 20:21:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38319894290370560 [0;39m <==    Updates: 1
2023-05-13 20:21:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38319894290370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:21:14.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:21:17.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:21:19.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:21:21.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:21:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38320020123684864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:21:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320020123684864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:21:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320020123684864 [0;39m ==> Parameters: 
2023-05-13 20:21:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320020123684864 [0;39m <==    Updates: 1
2023-05-13 20:21:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38320020123684864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:21:44.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:21:45.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:21:47.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:21:49.238 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:22:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38320124972896256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:22:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38320124972896256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:22:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38320124972896256 [0;39m ==> Parameters: 
2023-05-13 20:22:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38320124972896256 [0;39m <==    Updates: 0
2023-05-13 20:22:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38320124972896256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:22:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38320145961193472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:22:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320145961193472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:22:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320145961193472 [0;39m ==> Parameters: 
2023-05-13 20:22:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320145961193472 [0;39m <==    Updates: 1
2023-05-13 20:22:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38320145961193472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:22:11.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:22:13.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:22:14.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:22:19.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:22:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38320271802896384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:22:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320271802896384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:22:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320271802896384 [0;39m ==> Parameters: 
2023-05-13 20:22:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320271802896384 [0;39m <==    Updates: 1
2023-05-13 20:22:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38320271802896384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:22:35.397 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:22:37.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:22:43.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:22:44.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:22:45.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:22:47.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:22:59.486 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:23:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38320376673079296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:23:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38320376673079296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:23:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38320376673079296 [0;39m ==> Parameters: 
2023-05-13 20:23:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38320376673079296 [0;39m <==    Updates: 0
2023-05-13 20:23:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38320376673079296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:23:01.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:23:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38320397611044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:23:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320397611044864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:23:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320397611044864 [0;39m ==> Parameters: 
2023-05-13 20:23:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320397611044864 [0;39m <==    Updates: 1
2023-05-13 20:23:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38320397611044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:23:14.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:23:15.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:23:17.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:23:25.627 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:23:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38320523423387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:23:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320523423387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:23:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320523423387648 [0;39m ==> Parameters: 
2023-05-13 20:23:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320523423387648 [0;39m <==    Updates: 1
2023-05-13 20:23:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38320523423387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:23:43.501 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:23:44.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:23:47.595 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:23:49.622 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:23:51.664 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:24:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38320628289376256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:24:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38320628289376256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:24:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38320628289376256 [0;39m ==> Parameters: 
2023-05-13 20:24:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38320628289376256 [0;39m <==    Updates: 0
2023-05-13 20:24:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38320628289376256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 20:24:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38320649307033600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:24:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320649307033600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:24:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320649307033600 [0;39m ==> Parameters: 
2023-05-13 20:24:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320649307033600 [0;39m <==    Updates: 1
2023-05-13 20:24:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38320649307033600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:24:13.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:24:14.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:24:17.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:24:19.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:24:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38320775098404864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:24:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320775098404864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:24:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320775098404864 [0;39m ==> Parameters: 
2023-05-13 20:24:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320775098404864 [0;39m <==    Updates: 1
2023-05-13 20:24:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38320775098404864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:24:41.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:24:43.608 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:24:44.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:24:47.690 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:24:49.750 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:25:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38320879947616256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:25:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38320879947616256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:25:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38320879947616256 [0;39m ==> Parameters: 
2023-05-13 20:25:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38320879947616256 [0;39m <==    Updates: 0
2023-05-13 20:25:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38320879947616256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 20:25:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38320900961079296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:25:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320900961079296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:25:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320900961079296 [0;39m ==> Parameters: 
2023-05-13 20:25:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38320900961079296 [0;39m <==    Updates: 1
2023-05-13 20:25:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38320900961079296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:25:07.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:25:13.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:25:14.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:25:15.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:25:17.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:25:29.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:25:32.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:25:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38321026760839168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:25:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321026760839168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:25:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321026760839168 [0;39m ==> Parameters: 
2023-05-13 20:25:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321026760839168 [0;39m <==    Updates: 1
2023-05-13 20:25:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38321026760839168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:25:43.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:25:44.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:25:45.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:25:47.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:25:54.075 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:25:56.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:26:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38321131651993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:26:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38321131651993600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:26:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38321131651993600 [0;39m ==> Parameters: 
2023-05-13 20:26:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38321131651993600 [0;39m <==    Updates: 0
2023-05-13 20:26:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38321131651993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 20:26:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38321152581570560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:26:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321152581570560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:26:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321152581570560 [0;39m ==> Parameters: 
2023-05-13 20:26:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321152581570560 [0;39m <==    Updates: 1
2023-05-13 20:26:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38321152581570560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:26:14.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:26:17.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:26:21.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:26:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38321278414884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:26:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321278414884864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:26:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321278414884864 [0;39m ==> Parameters: 
2023-05-13 20:26:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321278414884864 [0;39m <==    Updates: 1
2023-05-13 20:26:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38321278414884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:26:43.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:26:44.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:26:45.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:26:47.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:26:49.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:27:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38321383259901952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:27:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38321383259901952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:27:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38321383259901952 [0;39m ==> Parameters: 
2023-05-13 20:27:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38321383259901952 [0;39m <==    Updates: 0
2023-05-13 20:27:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38321383259901952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:27:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38321404252393472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:27:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321404252393472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:27:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321404252393472 [0;39m ==> Parameters: 
2023-05-13 20:27:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321404252393472 [0;39m <==    Updates: 1
2023-05-13 20:27:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38321404252393472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:27:11.310 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:27:13.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:27:14.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:27:17.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:27:19.497 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:27:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38321530085707776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:27:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321530085707776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:27:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321530085707776 [0;39m ==> Parameters: 
2023-05-13 20:27:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321530085707776 [0;39m <==    Updates: 1
2023-05-13 20:27:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38321530085707776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:27:35.414 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:27:37.473 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:27:43.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:27:44.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:27:45.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:27:47.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:27:59.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:28:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38321634985250816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:28:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38321634985250816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:28:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38321634985250816 [0;39m ==> Parameters: 
2023-05-13 20:28:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38321634985250816 [0;39m <==    Updates: 0
2023-05-13 20:28:00.026 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38321634985250816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 20:28:01.562 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:28:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38321655885467648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:28:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321655885467648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:28:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321655885467648 [0;39m ==> Parameters: 
2023-05-13 20:28:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321655885467648 [0;39m <==    Updates: 1
2023-05-13 20:28:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38321655885467648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:28:14.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:28:15.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:28:17.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:28:25.655 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:28:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38321781731364864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:28:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321781731364864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:28:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321781731364864 [0;39m ==> Parameters: 
2023-05-13 20:28:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321781731364864 [0;39m <==    Updates: 1
2023-05-13 20:28:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38321781731364864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:28:43.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:28:44.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:28:47.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:28:49.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:28:51.293 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:29:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38321886597353472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:29:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38321886597353472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:29:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38321886597353472 [0;39m ==> Parameters: 
2023-05-13 20:29:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38321886597353472 [0;39m <==    Updates: 0
2023-05-13 20:29:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38321886597353472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:29:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38321907547901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:29:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321907547901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:29:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321907547901952 [0;39m ==> Parameters: 
2023-05-13 20:29:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38321907547901952 [0;39m <==    Updates: 1
2023-05-13 20:29:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38321907547901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:29:13.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:29:14.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:29:15.141 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:29:17.186 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:29:19.241 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:29:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38322033406382080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:29:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322033406382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:29:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322033406382080 [0;39m ==> Parameters: 
2023-05-13 20:29:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322033406382080 [0;39m <==    Updates: 1
2023-05-13 20:29:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38322033406382080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:29:41.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:29:43.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:29:44.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:29:47.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:29:49.544 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:30:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38322138243010560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:30:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38322138243010560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:30:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38322138243010560 [0;39m ==> Parameters: 
2023-05-13 20:30:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38322138243010560 [0;39m <==    Updates: 0
2023-05-13 20:30:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38322138243010560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 20:30:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38322159231307776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:30:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322159231307776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:30:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322159231307776 [0;39m ==> Parameters: 
2023-05-13 20:30:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322159231307776 [0;39m <==    Updates: 1
2023-05-13 20:30:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38322159231307776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 20:30:08.033 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:30:13.244 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:30:14.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:30:17.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:30:32.784 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:30:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38322285081399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:30:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322285081399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:30:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322285081399296 [0;39m ==> Parameters: 
2023-05-13 20:30:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322285081399296 [0;39m <==    Updates: 1
2023-05-13 20:30:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38322285081399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:30:43.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:30:44.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:30:47.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:30:54.835 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:30:56.878 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:31:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38322389934804992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:31:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38322389934804992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:31:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38322389934804992 [0;39m ==> Parameters: 
2023-05-13 20:31:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38322389934804992 [0;39m <==    Updates: 0
2023-05-13 20:31:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38322389934804992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 20:31:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38322410868576256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:31:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322410868576256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:31:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322410868576256 [0;39m ==> Parameters: 
2023-05-13 20:31:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322410868576256 [0;39m <==    Updates: 1
2023-05-13 20:31:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38322410868576256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 20:31:13.112 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:31:14.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:31:17.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:31:19.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:31:21.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:31:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38322536697696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:31:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322536697696256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:31:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322536697696256 [0;39m ==> Parameters: 
2023-05-13 20:31:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322536697696256 [0;39m <==    Updates: 1
2023-05-13 20:31:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38322536697696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:31:44.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:31:45.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:31:47.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:32:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38322641601433600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:32:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38322641601433600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:32:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38322641601433600 [0;39m ==> Parameters: 
2023-05-13 20:32:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38322641601433600 [0;39m <==    Updates: 0
2023-05-13 20:32:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38322641601433600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:32:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38322662556176384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:32:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322662556176384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:32:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322662556176384 [0;39m ==> Parameters: 
2023-05-13 20:32:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322662556176384 [0;39m <==    Updates: 1
2023-05-13 20:32:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38322662556176384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:32:11.892 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:32:13.945 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:32:14.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:32:18.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:32:34.009 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:32:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38322788381102080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:32:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322788381102080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:32:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322788381102080 [0;39m ==> Parameters: 
2023-05-13 20:32:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322788381102080 [0;39m <==    Updates: 1
2023-05-13 20:32:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38322788381102080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:32:36.040 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:32:43.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:32:44.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:32:45.163 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:32:47.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:32:58.078 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:33:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38322893247090688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:33:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38322893247090688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:33:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38322893247090688 [0;39m ==> Parameters: 
2023-05-13 20:33:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38322893247090688 [0;39m <==    Updates: 0
2023-05-13 20:33:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38322893247090688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:33:00.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:33:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38322914226999296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:33:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322914226999296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:33:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322914226999296 [0;39m ==> Parameters: 
2023-05-13 20:33:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38322914226999296 [0;39m <==    Updates: 1
2023-05-13 20:33:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38322914226999296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:33:13.109 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:33:14.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:33:15.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:33:17.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:33:24.568 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:33:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38323040051924992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:33:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323040051924992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:33:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323040051924992 [0;39m ==> Parameters: 
2023-05-13 20:33:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323040051924992 [0;39m <==    Updates: 1
2023-05-13 20:33:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38323040051924992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:33:43.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:33:44.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:33:45.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:33:47.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:33:51.293 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:34:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38323144888553472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:34:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38323144888553472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:34:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38323144888553472 [0;39m ==> Parameters: 
2023-05-13 20:34:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38323144888553472 [0;39m <==    Updates: 0
2023-05-13 20:34:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38323144888553472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:34:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38323165881044992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:34:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323165881044992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:34:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323165881044992 [0;39m ==> Parameters: 
2023-05-13 20:34:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323165881044992 [0;39m <==    Updates: 1
2023-05-13 20:34:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38323165881044992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:34:13.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:34:14.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:34:17.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:34:19.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:34:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38323291680804864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:34:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323291680804864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:34:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323291680804864 [0;39m ==> Parameters: 
2023-05-13 20:34:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323291680804864 [0;39m <==    Updates: 1
2023-05-13 20:34:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38323291680804864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:34:41.311 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:34:43.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:34:44.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:34:45.383 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:34:47.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:34:49.455 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:35:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38323396542599168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:35:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38323396542599168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:35:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38323396542599168 [0;39m ==> Parameters: 
2023-05-13 20:35:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38323396542599168 [0;39m <==    Updates: 0
2023-05-13 20:35:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38323396542599168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:35:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38323417543479296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:35:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323417543479296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:35:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323417543479296 [0;39m ==> Parameters: 
2023-05-13 20:35:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323417543479296 [0;39m <==    Updates: 1
2023-05-13 20:35:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38323417543479296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:35:07.395 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:35:14.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:35:15.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:35:17.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:35:31.483 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:35:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38323543372599296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:35:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323543372599296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:35:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323543372599296 [0;39m ==> Parameters: 
2023-05-13 20:35:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323543372599296 [0;39m <==    Updates: 1
2023-05-13 20:35:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38323543372599296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:35:43.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:35:44.304 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:35:45.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:35:47.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:35:53.532 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:35:55.585 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:36:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38323648230199296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:36:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38323648230199296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:36:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38323648230199296 [0;39m ==> Parameters: 
2023-05-13 20:36:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38323648230199296 [0;39m <==    Updates: 0
2023-05-13 20:36:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38323648230199296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 20:36:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38323669151387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:36:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323669151387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:36:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323669151387648 [0;39m ==> Parameters: 
2023-05-13 20:36:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323669151387648 [0;39m <==    Updates: 1
2023-05-13 20:36:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38323669151387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:36:13.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:36:14.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:36:16.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323718329602049 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:16.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323718329602048 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:16.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323718329602049 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 20:36:16.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323718329602049 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 20:36:16.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323718329602049 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:16.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323718333796352 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:16.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323718329602049 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 20:36:16.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323718333796352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 20:36:16.729 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38323718329602049 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 20:36:16.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323718333796352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 20:36:16.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323718333796352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:16.729 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38323718329602049 [0;39m ==> Parameters: 
2023-05-13 20:36:16.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323718333796352 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 20:36:16.731 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323718329602049 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 20:36:16.732 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323718329602049 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 20:36:16.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323718329602048 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 20:36:16.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323718329602048 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 20:36:16.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323718329602048 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:16.732 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323718329602049 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 20:36:16.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323718329602048 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 20:36:16.733 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323718329602049 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 20:36:16.735 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38323718333796352 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 20:36:16.735 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323718329602049 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 20:36:16.735 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38323718333796352 [0;39m ==> Parameters: 
2023-05-13 20:36:16.735 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38323718329602048 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 20:36:16.735 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38323718329602048 [0;39m ==> Parameters: 
2023-05-13 20:36:16.736 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38323718329602049 [0;39m <==      Total: 4
2023-05-13 20:36:16.737 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323718329602049 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 20:36:16.737 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323718329602049 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 20:36:16.743 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38323718329602048 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 20:36:16.743 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 20:36:16.744 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 20:36:16.744 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 20:36:16.744 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38323718329602048 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 20:36:16.744 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 20:36:16.745 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 20:36:16.745 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 20:36:16.745 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 20:36:16.745 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38323718329602048 [0;39m <==        Row: 2023-05-13, 179, 11, 111, 1
2023-05-13 20:36:16.745 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 20:36:16.745 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38323718329602048 [0;39m <==      Total: 2
2023-05-13 20:36:16.745 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 20:36:16.746 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 20:36:16.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323718329602048 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":179,"viewIncrease":111,"voteCount":11,"voteIncrease":1}],"success":true}
2023-05-13 20:36:16.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323718329602048 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š19 ms -------------
2023-05-13 20:36:16.746 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 20:36:16.746 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 20:36:16.746 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 20:36:16.746 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 20:36:16.747 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 20:36:16.747 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323718333796352 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 20:36:16.747 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38323718333796352 [0;39m <==      Total: 15
2023-05-13 20:36:16.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323718333796352 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 20:36:16.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323718333796352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š29 ms -------------
2023-05-13 20:36:17.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:36:19.609 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:36:21.906 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:36:22.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323741851258880 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:22.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323741851258880 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-13 20:36:22.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323741851258880 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-13 20:36:22.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323741851258880 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:22.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323741851258880 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2023-05-13 20:36:22.351 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323741851258880 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-13 20:36:22.352 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323741851258880 [0;39m ==> Parameters: test(String)
2023-05-13 20:36:22.353 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323741851258880 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:36:22.354 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323741851258880 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 20:36:22.354 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323741851258880 [0;39m <==      Total: 1
2023-05-13 20:36:22.363 INFO  com.jiawa.wiki.controller.UserController          :86   [32m38323741851258880 [0;39m ç”Ÿæˆå•ç‚¹ç™»å½•tokenï¼š38323741968699392ï¼Œå¹¶æ”¾å…¥redisä¸­
2023-05-13 20:36:22.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323741851258880 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38323741968699392"},"success":true}
2023-05-13 20:36:22.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323741851258880 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š34 ms -------------
2023-05-13 20:36:23.435 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38317037487001600 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:36:23.436 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38317037487001600 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 20:36:23.440 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38317038518800384 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:36:23.440 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38317038518800384 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-13 20:36:23.441 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38317038518800384 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323741968699392
2023-05-13 20:36:23.441 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38317038518800384 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38323741968699392"}
2023-05-13 20:36:23.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323746553073664 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:23.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323746553073664 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-13 20:36:23.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323746553073664 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-13 20:36:23.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323746553073664 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:23.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323746553073664 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-13 20:36:23.462 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38323746553073664 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-13 20:36:23.462 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38323746553073664 [0;39m ==> Parameters: 
2023-05-13 20:36:23.474 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38323746553073664 [0;39m <==    Columns: count(0)
2023-05-13 20:36:23.475 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38323746553073664 [0;39m <==        Row: 6
2023-05-13 20:36:23.475 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38323746553073664 [0;39m <==      Total: 1
2023-05-13 20:36:23.475 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323746553073664 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-13 20:36:23.476 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323746553073664 [0;39m ==> Parameters: 10(Integer)
2023-05-13 20:36:23.476 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323746553073664 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:36:23.477 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323746553073664 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 20:36:23.477 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323746553073664 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-13 20:36:23.477 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323746553073664 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-13 20:36:23.477 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323746553073664 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-13 20:36:23.477 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323746553073664 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-13 20:36:23.478 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323746553073664 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-13 20:36:23.478 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323746553073664 [0;39m <==      Total: 6
2023-05-13 20:36:23.478 INFO  com.jiawa.wiki.service.UserService                :50   [32m38323746553073664 [0;39m æ€»è¡Œæ•°ï¼š6
2023-05-13 20:36:23.479 INFO  com.jiawa.wiki.service.UserService                :51   [32m38323746553073664 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 20:36:23.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323746553073664 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-13 20:36:23.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323746553073664 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š28 ms -------------
2023-05-13 20:36:23.485 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38323746553073664 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š45 ms -------------
2023-05-13 20:36:26.595 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38317051554697216 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:36:26.595 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38317051554697216 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 20:36:26.601 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38314445600067584 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:36:26.601 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38314445600067584 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/logout/38323741968699392
2023-05-13 20:36:26.601 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38314445600067584 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323741968699392
2023-05-13 20:36:26.602 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38314445600067584 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38323741968699392"}
2023-05-13 20:36:26.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323759849017344 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:26.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323759849017344 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/logout/38323741968699392 GET
2023-05-13 20:36:26.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323759849017344 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.logout
2023-05-13 20:36:26.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323759849017344 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:26.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323759849017344 [0;39m è¯·æ±‚å‚æ•°: ["38323741968699392"]
2023-05-13 20:36:26.630 INFO  com.jiawa.wiki.controller.UserController          :97   [32m38323759849017344 [0;39m ä»Žredisä¸­åˆ é™¤token: 38323741968699392
2023-05-13 20:36:26.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323759849017344 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 20:36:26.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323759849017344 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 20:36:26.630 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38323759849017344 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š29 ms -------------
2023-05-13 20:36:29.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323771106529280 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:29.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323771106529280 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-13 20:36:29.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323771106529280 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-13 20:36:29.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323771106529280 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:29.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323771106529280 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"1"}]
2023-05-13 20:36:29.313 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323771106529280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-13 20:36:29.313 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323771106529280 [0;39m ==> Parameters: 1(String)
2023-05-13 20:36:29.314 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323771106529280 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:36:29.315 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323771106529280 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-13 20:36:29.315 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323771106529280 [0;39m <==      Total: 1
2023-05-13 20:36:29.315 INFO  com.jiawa.wiki.service.UserService                :128  [32m38323771106529280 [0;39m å¯†ç ä¸å¯¹, è¾“å…¥å¯†ç ï¼šb9b237df8bd22c295180ea0109cb7e67, æ•°æ®åº“å¯†ç ï¼šc4ca4238a0b923820dcc509a6f75849b
2023-05-13 20:36:29.324 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38323771106529280 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2023-05-13 20:36:29.324 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38323771106529280 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2023-05-13 20:36:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38323795035033600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:36:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323795035033600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:36:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323795035033600 [0;39m ==> Parameters: 
2023-05-13 20:36:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323795035033600 [0;39m <==    Updates: 1
2023-05-13 20:36:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38323795035033600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:36:36.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323803079708672 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:36.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323803079708672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/regirster POST
2023-05-13 20:36:36.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323803079708672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.regirster
2023-05-13 20:36:36.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323803079708672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:36.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323803079708672 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"1","name":"1"}]
2023-05-13 20:36:36.938 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323803079708672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-13 20:36:36.939 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323803079708672 [0;39m ==> Parameters: 1(String)
2023-05-13 20:36:36.940 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323803079708672 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:36:36.940 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323803079708672 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-13 20:36:36.940 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323803079708672 [0;39m <==      Total: 1
2023-05-13 20:36:36.941 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38323803079708672 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç™»å½•åå·²å­˜åœ¨
2023-05-13 20:36:36.941 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38323803079708672 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: ç™»å½•åå·²å­˜åœ¨]
2023-05-13 20:36:40.795 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38323718333796352 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:36:40.795 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38323718333796352 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 20:36:40.800 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38314918965022720 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:36:40.800 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38314918965022720 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/reset-password
2023-05-13 20:36:40.800 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38314918965022720 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼šnull
2023-05-13 20:36:40.800 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m38314918965022720 [0;39m tokenä¸ºç©ºï¼Œè¯·æ±‚è¢«æ‹¦æˆª
2023-05-13 20:36:40.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323819672375296 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:40.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323819672375296 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 20:36:40.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323819672375296 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 20:36:40.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323819672375296 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:40.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323819672375296 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 20:36:40.890 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38323819672375296 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 20:36:40.890 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38323819672375296 [0;39m ==> Parameters: 
2023-05-13 20:36:40.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323819680763904 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:40.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323819680763904 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 20:36:40.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323819680763904 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 20:36:40.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323819680763904 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:40.891 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38323819672375296 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 20:36:40.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323819680763904 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 20:36:40.892 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38323819672375296 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 20:36:40.892 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38323819680763904 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 20:36:40.892 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38323819672375296 [0;39m <==        Row: 2023-05-13, 179, 11, 111, 1
2023-05-13 20:36:40.892 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38323819680763904 [0;39m ==> Parameters: 
2023-05-13 20:36:40.892 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38323819672375296 [0;39m <==      Total: 2
2023-05-13 20:36:40.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323819672375296 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":179,"viewIncrease":111,"voteCount":11,"voteIncrease":1}],"success":true}
2023-05-13 20:36:40.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323819672375296 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-13 20:36:40.899 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323819680763904 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 20:36:40.900 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323819680763904 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 20:36:40.900 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323819680763904 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 20:36:40.900 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323819680763904 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 20:36:40.901 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323819680763904 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 20:36:40.901 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38323819680763904 [0;39m <==      Total: 4
2023-05-13 20:36:40.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323819680763904 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 20:36:40.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323819680763904 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 20:36:40.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323819731095552 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:40.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323819731095552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 20:36:40.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323819731095552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 20:36:40.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323819731095552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:40.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323819731095552 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 20:36:40.904 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38323819731095552 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 20:36:40.905 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38323819731095552 [0;39m ==> Parameters: 
2023-05-13 20:36:40.905 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 20:36:40.906 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 20:36:40.906 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 20:36:40.906 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 20:36:40.906 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 20:36:40.906 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 20:36:40.907 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 20:36:40.907 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 20:36:40.907 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 20:36:40.907 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 20:36:40.908 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 20:36:40.908 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 20:36:40.908 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 20:36:40.908 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 20:36:40.909 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 20:36:40.909 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323819731095552 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 20:36:40.909 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38323819731095552 [0;39m <==      Total: 15
2023-05-13 20:36:40.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323819731095552 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 20:36:40.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323819731095552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 20:36:43.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:36:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:36:45.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323838328639488 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:45.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323838328639488 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-13 20:36:45.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323838328639488 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-13 20:36:45.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323838328639488 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:45.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323838328639488 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"1"}]
2023-05-13 20:36:45.340 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323838328639488 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-13 20:36:45.341 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323838328639488 [0;39m ==> Parameters: 1(String)
2023-05-13 20:36:45.342 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323838328639488 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:36:45.342 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323838328639488 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-13 20:36:45.343 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323838328639488 [0;39m <==      Total: 1
2023-05-13 20:36:45.343 INFO  com.jiawa.wiki.service.UserService                :128  [32m38323838328639488 [0;39m å¯†ç ä¸å¯¹, è¾“å…¥å¯†ç ï¼šb9b237df8bd22c295180ea0109cb7e67, æ•°æ®åº“å¯†ç ï¼šc4ca4238a0b923820dcc509a6f75849b
2023-05-13 20:36:45.343 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38323838328639488 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯
2023-05-13 20:36:45.344 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38323838328639488 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: ç”¨æˆ·åä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯]
2023-05-13 20:36:47.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:36:49.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:36:52.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323870100492288 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:52.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323870100492288 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/regirster POST
2023-05-13 20:36:52.913 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323870100492288 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.regirster
2023-05-13 20:36:52.913 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323870100492288 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:52.913 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323870100492288 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"12","name":"12"}]
2023-05-13 20:36:52.914 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323870100492288 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-13 20:36:52.914 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323870100492288 [0;39m ==> Parameters: 12(String)
2023-05-13 20:36:52.915 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323870100492288 [0;39m <==      Total: 0
2023-05-13 20:36:52.915 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m38323870100492288 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-13 20:36:52.916 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m38323870100492288 [0;39m ==> Parameters: null, 12(String), 12(String), aa6f5f0aa265fe54cc0cf5e288ee0918(String)
2023-05-13 20:36:52.918 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m38323870100492288 [0;39m <==    Updates: 1
2023-05-13 20:36:52.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323870100492288 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 20:36:52.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323870100492288 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 20:36:57.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323888601567232 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:57.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323888601567232 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-13 20:36:57.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323888601567232 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-13 20:36:57.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323888601567232 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:57.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323888601567232 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"12"}]
2023-05-13 20:36:57.325 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323888601567232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-13 20:36:57.326 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323888601567232 [0;39m ==> Parameters: 12(String)
2023-05-13 20:36:57.327 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323888601567232 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:36:57.327 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323888601567232 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 20:36:57.327 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323888601567232 [0;39m <==      Total: 1
2023-05-13 20:36:57.328 INFO  com.jiawa.wiki.controller.UserController          :86   [32m38323888601567232 [0;39m ç”Ÿæˆå•ç‚¹ç™»å½•tokenï¼š38323888622538752ï¼Œå¹¶æ”¾å…¥redisä¸­
2023-05-13 20:36:57.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323888601567232 [0;39m è¿”å›žç»“æžœ: {"content":{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"},"success":true}
2023-05-13 20:36:57.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323888601567232 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 20:36:58.836 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38323718329602049 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:36:58.837 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38323718329602049 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-13 20:36:58.837 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38323718329602049 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:36:58.839 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38323718329602049 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:36:58.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323894968520704 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:36:58.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323894968520704 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-13 20:36:58.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323894968520704 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-13 20:36:58.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323894968520704 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:36:58.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323894968520704 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-13 20:36:58.843 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38323894968520704 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-13 20:36:58.844 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38323894968520704 [0;39m ==> Parameters: 
2023-05-13 20:36:58.975 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38323894968520704 [0;39m <==    Columns: count(0)
2023-05-13 20:36:58.976 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38323894968520704 [0;39m <==        Row: 7
2023-05-13 20:36:58.976 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38323894968520704 [0;39m <==      Total: 1
2023-05-13 20:36:58.977 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323894968520704 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-13 20:36:58.977 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323894968520704 [0;39m ==> Parameters: 10(Integer)
2023-05-13 20:36:58.978 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323894968520704 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:36:58.979 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323894968520704 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 20:36:58.979 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323894968520704 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-13 20:36:58.980 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323894968520704 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-13 20:36:58.980 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323894968520704 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-13 20:36:58.981 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323894968520704 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-13 20:36:58.981 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323894968520704 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-13 20:36:58.981 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38323894968520704 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 20:36:58.982 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38323894968520704 [0;39m <==      Total: 7
2023-05-13 20:36:58.982 INFO  com.jiawa.wiki.service.UserService                :50   [32m38323894968520704 [0;39m æ€»è¡Œæ•°ï¼š7
2023-05-13 20:36:58.982 INFO  com.jiawa.wiki.service.UserService                :51   [32m38323894968520704 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 20:36:58.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323894968520704 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"},{"id":37814121005191174,"loginName":"12","name":"12"}],"total":7},"success":true}
2023-05-13 20:36:58.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323894968520704 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š142 ms -------------
2023-05-13 20:36:58.983 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38323894968520704 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š146 ms -------------
2023-05-13 20:37:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38323899846496256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:37:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38323899846496256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:37:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38323899846496256 [0;39m ==> Parameters: 
2023-05-13 20:37:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38323899846496256 [0;39m <==    Updates: 0
2023-05-13 20:37:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38323899846496256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 20:37:00.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323900307869697 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:37:00.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323900307869696 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:37:00.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323900307869697 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 20:37:00.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323900307869696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 20:37:00.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323900307869697 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 20:37:00.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323900307869696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 20:37:00.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323900307869697 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:37:00.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323900307869696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:37:00.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323900307869697 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 20:37:00.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323900307869696 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 20:37:00.115 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38323900307869696 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 20:37:00.115 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38323900307869697 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 20:37:00.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323900307869698 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:37:00.115 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38323900307869696 [0;39m ==> Parameters: 
2023-05-13 20:37:00.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323900307869698 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 20:37:00.115 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38323900307869697 [0;39m ==> Parameters: 
2023-05-13 20:37:00.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323900307869698 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 20:37:00.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323900307869698 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:37:00.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323900307869698 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 20:37:00.116 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38323900307869697 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 20:37:00.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323900307869696 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 20:37:00.117 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38323900307869697 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 20:37:00.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323900307869696 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 20:37:00.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323900307869696 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 20:37:00.117 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38323900307869697 [0;39m <==        Row: 2023-05-13, 179, 11, 111, 1
2023-05-13 20:37:00.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323900307869696 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 20:37:00.118 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38323900307869697 [0;39m <==      Total: 2
2023-05-13 20:37:00.118 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38323900307869696 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 20:37:00.118 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38323900307869696 [0;39m <==      Total: 4
2023-05-13 20:37:00.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323900307869697 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":179,"viewIncrease":111,"voteCount":11,"voteIncrease":1}],"success":true}
2023-05-13 20:37:00.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323900307869697 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 20:37:00.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323900307869696 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 20:37:00.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323900307869696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 20:37:00.117 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38323900307869698 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 20:37:00.120 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38323900307869698 [0;39m ==> Parameters: 
2023-05-13 20:37:00.121 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 20:37:00.121 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 20:37:00.121 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 20:37:00.122 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 20:37:00.122 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 20:37:00.122 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 20:37:00.122 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 20:37:00.122 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 20:37:00.122 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 20:37:00.123 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 20:37:00.123 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 20:37:00.124 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 20:37:00.124 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 20:37:00.124 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 20:37:00.124 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 20:37:00.124 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38323900307869698 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 20:37:00.125 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38323900307869698 [0;39m <==      Total: 15
2023-05-13 20:37:00.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323900307869698 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 20:37:00.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323900307869698 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 20:37:01.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323905819185152 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:37:01.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323905819185152 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 20:37:01.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323905819185152 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 20:37:01.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323905819185152 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:37:01.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323905819185152 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-13 20:37:01.437 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38323905819185152 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 20:37:01.437 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38323905819185152 [0;39m ==> Parameters: 202(Long)
2023-05-13 20:37:01.438 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38323905819185152 [0;39m <==    Columns: count(0)
2023-05-13 20:37:01.439 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38323905819185152 [0;39m <==        Row: 1
2023-05-13 20:37:01.439 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38323905819185152 [0;39m <==      Total: 1
2023-05-13 20:37:01.439 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38323905819185152 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 20:37:01.441 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38323905819185152 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-13 20:37:01.443 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38323905819185152 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 20:37:01.443 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38323905819185152 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 179, 11
2023-05-13 20:37:01.444 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38323905819185152 [0;39m <==      Total: 1
2023-05-13 20:37:01.444 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38323905819185152 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 20:37:01.444 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38323905819185152 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 20:37:01.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323905819185152 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":179,"voteCount":11}],"total":1},"success":true}
2023-05-13 20:37:01.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323905819185152 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-05-13 20:37:02.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323909975740416 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:37:02.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323909975740417 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:37:02.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323909975740416 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 20:37:02.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323909975740417 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:37:02.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323909975740417 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:37:02.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323909975740416 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 20:37:02.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323909975740417 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:37:02.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323909975740416 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:37:02.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323909975740416 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:37:02.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323909975740417 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:37:02.420 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38323909975740417 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:37:02.421 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38323909975740416 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 20:37:02.421 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38323909975740416 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:37:02.421 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38323909975740417 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:37:02.422 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38323909975740417 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:37:02.423 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38323909975740417 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:37:02.423 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38323909975740416 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 20:37:02.423 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38323909975740416 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 152, 6
2023-05-13 20:37:02.423 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38323909975740417 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:37:02.423 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38323909975740416 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 7, 2
2023-05-13 20:37:02.423 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38323909975740417 [0;39m <==      Total: 2
2023-05-13 20:37:02.424 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38323909975740416 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 20:37:02.424 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38323909975740416 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 20:37:02.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323909975740417 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 20:37:02.424 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38323909975740416 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 20:37:02.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323909975740417 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 20:37:02.424 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38323909975740416 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 20:37:02.425 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38323909975740416 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 20:37:02.425 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38323909975740416 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 20:37:02.425 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38323909975740416 [0;39m <==      Total: 8
2023-05-13 20:37:02.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323909975740416 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":152,"voteCount":6},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 20:37:02.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323909975740416 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 20:37:02.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323910307090432 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:37:02.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323910307090432 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 20:37:02.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323910307090432 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:37:02.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323910307090432 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:37:02.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323910307090432 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:37:02.502 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38323910307090432 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:37:02.502 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38323910307090432 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:37:02.503 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38323910307090432 [0;39m <==    Columns: id, content
2023-05-13 20:37:02.503 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38323910307090432 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 20:37:02.504 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38323910307090432 [0;39m <==      Total: 1
2023-05-13 20:37:02.504 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38323910307090432 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:37:02.504 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38323910307090432 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:37:02.510 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38323910307090432 [0;39m <==    Updates: 1
2023-05-13 20:37:02.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323910307090432 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 20:37:02.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323910307090432 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 20:37:03.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323915365421056 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:37:03.705 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323915365421056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:37:03.705 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323915365421056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:37:03.705 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323915365421056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:37:03.705 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323915365421056 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:37:03.706 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38323915365421056 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:37:03.706 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38323915365421056 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:37:03.707 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38323915365421056 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:37:03.708 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38323915365421056 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:37:03.708 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38323915365421056 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:37:03.708 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38323915365421056 [0;39m <==      Total: 2
2023-05-13 20:37:03.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323915365421056 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1}],"success":true}
2023-05-13 20:37:03.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323915365421056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 20:37:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38323920868347904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:37:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323920868347904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:37:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323920868347904 [0;39m ==> Parameters: 
2023-05-13 20:37:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38323920868347904 [0;39m <==    Updates: 1
2023-05-13 20:37:05.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38323920868347904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 20:37:11.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:37:11.406 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38323900307869698 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:37:11.407 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38323900307869698 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 20:37:11.412 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38323838328639488 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:37:11.412 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38323838328639488 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:37:11.412 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38323838328639488 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:37:11.414 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38323838328639488 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:37:11.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323947711893504 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:37:11.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323947711893504 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:37:11.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323947711893504 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:37:11.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323947711893504 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:37:11.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323947711893504 [0;39m è¯·æ±‚å‚æ•°: [{"content":"Spring","ebookId":1,"userId":37814121005191174}]
2023-05-13 20:37:11.417 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38323947711893504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 20:37:11.417 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38323947711893504 [0;39m ==> Parameters: 37814121005191174(Long)
2023-05-13 20:37:11.418 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38323947711893504 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:37:11.418 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38323947711893504 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 20:37:11.419 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38323947711893504 [0;39m <==      Total: 1
2023-05-13 20:37:11.419 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38323947711893504 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 20:37:11.419 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38323947711893504 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:37:11.420 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38323947711893504 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 20:37:11.420 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38323947711893504 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 180, 11
2023-05-13 20:37:11.420 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38323947711893504 [0;39m <==      Total: 1
2023-05-13 20:37:11.421 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38323947711893504 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 20:37:11.422 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38323947711893504 [0;39m ==> Parameters: null, 37814121005191174(Long), 1(Long), Spring(String), 2023-05-13 20:37:11.421(Timestamp), null
2023-05-13 20:37:11.425 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38323947711893504 [0;39m <==    Updates: 1
2023-05-13 20:37:11.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323947711893504 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 20:37:11.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323947711893504 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 20:37:11.427 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38323947711893504 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-13 20:37:11.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38323947787390976 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:37:11.435 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38323947787390976 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:37:11.435 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38323947787390976 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:37:11.435 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38323947787390976 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:37:11.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38323947787390976 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:37:11.437 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38323947787390976 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:37:11.438 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38323947787390976 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:37:11.439 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38323947787390976 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:37:11.439 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38323947787390976 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:37:11.439 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38323947787390976 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:37:11.439 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38323947787390976 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:37:11.439 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38323947787390976 [0;39m <==      Total: 3
2023-05-13 20:37:11.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38323947787390976 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174}],"success":true}
2023-05-13 20:37:11.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38323947787390976 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 20:37:13.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:37:14.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:37:15.356 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:37:17.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:37:19.445 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:37:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38324046659719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:37:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324046659719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:37:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324046659719168 [0;39m ==> Parameters: 
2023-05-13 20:37:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324046659719168 [0;39m <==    Updates: 1
2023-05-13 20:37:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38324046659719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:37:35.351 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:37:37.379 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:37:43.106 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:37:44.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:37:45.149 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:37:47.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:37:57.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38324142281461760 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:37:57.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38324142281461760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:37:57.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38324142281461760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:37:57.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38324142281461760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:37:57.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38324142281461760 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:37:57.807 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38324142281461760 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:37:57.807 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38324142281461760 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:37:57.808 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38324142281461760 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:37:57.808 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38324142281461760 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:37:57.809 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38324142281461760 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:37:57.809 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38324142281461760 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:37:57.809 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38324142281461760 [0;39m <==      Total: 3
2023-05-13 20:37:57.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38324142281461760 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174}],"success":true}
2023-05-13 20:37:57.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38324142281461760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 20:37:59.413 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:38:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38324151508930560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:38:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38324151508930560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:38:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38324151508930560 [0;39m ==> Parameters: 
2023-05-13 20:38:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38324151508930560 [0;39m <==    Updates: 0
2023-05-13 20:38:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38324151508930560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š14æ¯«ç§’
2023-05-13 20:38:01.431 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:38:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38324172476256256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:38:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324172476256256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:38:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324172476256256 [0;39m ==> Parameters: 
2023-05-13 20:38:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324172476256256 [0;39m <==    Updates: 1
2023-05-13 20:38:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38324172476256256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:38:14.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:38:15.147 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:38:17.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:38:25.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:38:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38324298351513600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:38:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324298351513600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:38:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324298351513600 [0;39m ==> Parameters: 
2023-05-13 20:38:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324298351513600 [0;39m <==    Updates: 1
2023-05-13 20:38:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38324298351513600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:38:43.109 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:38:44.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:38:45.149 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:38:47.166 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:38:51.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:39:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38324403196530688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:39:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38324403196530688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:39:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38324403196530688 [0;39m ==> Parameters: 
2023-05-13 20:39:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38324403196530688 [0;39m <==    Updates: 0
2023-05-13 20:39:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38324403196530688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:39:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38324424159662080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:39:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324424159662080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:39:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324424159662080 [0;39m ==> Parameters: 
2023-05-13 20:39:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324424159662080 [0;39m <==    Updates: 1
2023-05-13 20:39:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38324424159662080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:39:13.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:39:14.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:39:17.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:39:19.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:39:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38324550013947904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:39:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324550013947904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:39:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324550013947904 [0;39m ==> Parameters: 
2023-05-13 20:39:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324550013947904 [0;39m <==    Updates: 1
2023-05-13 20:39:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38324550013947904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:39:41.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:39:43.395 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:39:44.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:39:45.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:39:49.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:40:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38324654817021952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:40:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38324654817021952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:40:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38324654817021952 [0;39m ==> Parameters: 
2023-05-13 20:40:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38324654817021952 [0;39m <==    Updates: 0
2023-05-13 20:40:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38324654817021952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 20:40:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38324675809513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:40:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324675809513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:40:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324675809513472 [0;39m ==> Parameters: 
2023-05-13 20:40:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324675809513472 [0;39m <==    Updates: 1
2023-05-13 20:40:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38324675809513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:40:07.469 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:40:14.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:40:15.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:40:17.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:40:29.545 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:40:31.592 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:40:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38324801621856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:40:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324801621856256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:40:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324801621856256 [0;39m ==> Parameters: 
2023-05-13 20:40:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324801621856256 [0;39m <==    Updates: 1
2023-05-13 20:40:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38324801621856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:40:43.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:40:44.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:40:47.162 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:40:52.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38324875458383872 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:40:52.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38324875458383872 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:40:52.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38324875458383872 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:40:52.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38324875458383872 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:40:52.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38324875458383872 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:40:52.610 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38324875458383872 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:40:52.611 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38324875458383872 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:40:52.612 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38324875458383872 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:40:52.612 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38324875458383872 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:40:52.613 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38324875458383872 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:40:52.613 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38324875458383872 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:40:52.613 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38324875458383872 [0;39m <==      Total: 3
2023-05-13 20:40:52.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38324875458383872 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174}],"success":true}
2023-05-13 20:40:52.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38324875458383872 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 20:40:53.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38324880256667648 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:40:53.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38324880256667648 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/vote/1 GET
2023-05-13 20:40:53.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38324880256667648 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.vote
2023-05-13 20:40:53.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38324880256667648 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:40:53.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38324880256667648 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:40:53.754 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m38324880256667648 [0;39m keyä¸å­˜åœ¨ï¼Œæ”¾å…¥ï¼šDOC_VOTE_1_127.0.0.1ï¼Œè¿‡æœŸ 5000 ç§’
2023-05-13 20:40:53.756 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m38324880256667648 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-13 20:40:53.756 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m38324880256667648 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:40:53.760 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m38324880256667648 [0;39m <==    Updates: 1
2023-05-13 20:40:53.760 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m38324880256667648 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-13 20:40:53.761 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m38324880256667648 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:40:53.762 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m38324880256667648 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 20:40:53.762 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m38324880256667648 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 153, 7
2023-05-13 20:40:53.763 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m38324880256667648 [0;39m <==      Total: 1
2023-05-13 20:40:55.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:40:55.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38324889672880128 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:40:55.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38324889672880128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/2 GET
2023-05-13 20:40:55.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38324889672880128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:40:55.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38324889672880128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:40:55.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38324889672880128 [0;39m è¯·æ±‚å‚æ•°: [2]
2023-05-13 20:40:56.000 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324889672880128 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:40:56.001 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324889672880128 [0;39m ==> Parameters: 2(Long)
2023-05-13 20:40:56.002 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324889672880128 [0;39m <==      Total: 0
2023-05-13 20:40:56.002 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324889672880128 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:40:56.002 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324889672880128 [0;39m ==> Parameters: 2(Long)
2023-05-13 20:40:56.010 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324889672880128 [0;39m <==    Updates: 1
2023-05-13 20:40:56.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38324889672880128 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-13 20:40:56.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38324889672880128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 20:40:57.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38324896488624128 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:40:57.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38324896488624128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 20:40:57.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38324896488624128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:40:57.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38324896488624128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:40:57.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38324896488624128 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:40:57.626 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324896488624128 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:40:57.626 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324896488624128 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:40:57.627 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38324896488624128 [0;39m <==    Columns: id, content
2023-05-13 20:40:57.627 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38324896488624128 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 20:40:57.627 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324896488624128 [0;39m <==      Total: 1
2023-05-13 20:40:57.628 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324896488624128 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:40:57.628 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324896488624128 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:40:57.646 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324896488624128 [0;39m <==    Updates: 1
2023-05-13 20:40:57.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38324896488624128 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 20:40:57.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38324896488624128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2023-05-13 20:40:57.736 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:40:58.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38324899646935040 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:40:58.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38324899646935040 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/2 GET
2023-05-13 20:40:58.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38324899646935040 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:40:58.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38324899646935040 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:40:58.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38324899646935040 [0;39m è¯·æ±‚å‚æ•°: [2]
2023-05-13 20:40:58.378 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324899646935040 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:40:58.379 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324899646935040 [0;39m ==> Parameters: 2(Long)
2023-05-13 20:40:58.379 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324899646935040 [0;39m <==      Total: 0
2023-05-13 20:40:58.379 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324899646935040 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:40:58.380 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324899646935040 [0;39m ==> Parameters: 2(Long)
2023-05-13 20:40:58.383 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324899646935040 [0;39m <==    Updates: 1
2023-05-13 20:40:58.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38324899646935040 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-13 20:40:58.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38324899646935040 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 20:40:58.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38324902201266176 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:40:58.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38324902201266176 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/3 GET
2023-05-13 20:40:58.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38324902201266176 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:40:58.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38324902201266176 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:40:58.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38324902201266176 [0;39m è¯·æ±‚å‚æ•°: [3]
2023-05-13 20:40:58.988 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324902201266176 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:40:58.989 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324902201266176 [0;39m ==> Parameters: 3(Long)
2023-05-13 20:40:58.989 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324902201266176 [0;39m <==      Total: 0
2023-05-13 20:40:58.990 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324902201266176 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:40:58.990 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324902201266176 [0;39m ==> Parameters: 3(Long)
2023-05-13 20:40:58.997 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324902201266176 [0;39m <==    Updates: 1
2023-05-13 20:40:58.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38324902201266176 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-13 20:40:58.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38324902201266176 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 20:40:59.770 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:40:59.770 ERROR org.apache.rocketmq.spring.core.RocketMQTemplate  :153  [32m38324880256667648 [0;39m syncSend failed. destination:VOTE_TOPIC, message:GenericMessage [payload=ã€æ–‡æ¡£1ã€‘è¢«ç‚¹èµžï¼, headers={contentType=text/plain, id=32aa6e1b-ac2b-55e4-6b4a-77edc95a61d8, timestamp=1683981653764}] 
2023-05-13 20:40:59.773 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38324880256667648 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:154)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:123)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:111)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:459)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:50)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at com.jiawa.wiki.service.DocService.vote(DocService.java:167)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$3c5d1cc4.vote(<generated>)
	at com.jiawa.wiki.controller.DocController.vote(DocController.java:86)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor125.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$dd4ce976.vote(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:656)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1279)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:301)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:148)
	... 87 common frames omitted
2023-05-13 20:40:59.774 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38324880256667648 [0;39m Resolved [org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.]
2023-05-13 20:41:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38324906475261952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:41:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38324906475261952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:41:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38324906475261952 [0;39m ==> Parameters: 
2023-05-13 20:41:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38324906475261952 [0;39m <==    Updates: 0
2023-05-13 20:41:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38324906475261952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:41:00.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38324908744380416 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:41:00.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38324908744380416 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/4 GET
2023-05-13 20:41:00.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38324908744380416 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:41:00.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38324908744380416 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:41:00.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38324908744380416 [0;39m è¯·æ±‚å‚æ•°: [4]
2023-05-13 20:41:00.545 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324908744380416 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:41:00.546 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324908744380416 [0;39m ==> Parameters: 4(Long)
2023-05-13 20:41:00.546 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324908744380416 [0;39m <==      Total: 0
2023-05-13 20:41:00.547 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324908744380416 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:41:00.547 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324908744380416 [0;39m ==> Parameters: 4(Long)
2023-05-13 20:41:00.557 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324908744380416 [0;39m <==    Updates: 1
2023-05-13 20:41:00.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38324908744380416 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-13 20:41:00.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38324908744380416 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 20:41:01.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38324910975750144 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:41:01.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38324910975750144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/5 GET
2023-05-13 20:41:01.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38324910975750144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:41:01.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38324910975750144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:41:01.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38324910975750144 [0;39m è¯·æ±‚å‚æ•°: [5]
2023-05-13 20:41:01.078 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324910975750144 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:41:01.078 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324910975750144 [0;39m ==> Parameters: 5(Long)
2023-05-13 20:41:01.079 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324910975750144 [0;39m <==      Total: 0
2023-05-13 20:41:01.079 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324910975750144 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:41:01.080 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324910975750144 [0;39m ==> Parameters: 5(Long)
2023-05-13 20:41:01.082 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324910975750144 [0;39m <==    Updates: 1
2023-05-13 20:41:01.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38324910975750144 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-13 20:41:01.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38324910975750144 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 20:41:01.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38324912536031232 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:41:01.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38324912536031232 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/6 GET
2023-05-13 20:41:01.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38324912536031232 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:41:01.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38324912536031232 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:41:01.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38324912536031232 [0;39m è¯·æ±‚å‚æ•°: [6]
2023-05-13 20:41:01.450 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324912536031232 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:41:01.451 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324912536031232 [0;39m ==> Parameters: 6(Long)
2023-05-13 20:41:01.452 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324912536031232 [0;39m <==      Total: 0
2023-05-13 20:41:01.453 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324912536031232 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:41:01.453 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324912536031232 [0;39m ==> Parameters: 6(Long)
2023-05-13 20:41:01.461 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324912536031232 [0;39m <==    Updates: 1
2023-05-13 20:41:01.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38324912536031232 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-13 20:41:01.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38324912536031232 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 20:41:02.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38324915627233280 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:41:02.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38324915627233280 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/37841703666847744 GET
2023-05-13 20:41:02.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38324915627233280 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:41:02.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38324915627233280 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:41:02.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38324915627233280 [0;39m è¯·æ±‚å‚æ•°: [37841703666847744]
2023-05-13 20:41:02.190 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324915627233280 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:41:02.190 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324915627233280 [0;39m ==> Parameters: 37841703666847744(Long)
2023-05-13 20:41:02.191 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38324915627233280 [0;39m <==    Columns: id, content
2023-05-13 20:41:02.191 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38324915627233280 [0;39m <==        Row: 37841703666847744, <<BLOB>>
2023-05-13 20:41:02.191 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324915627233280 [0;39m <==      Total: 1
2023-05-13 20:41:02.192 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324915627233280 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:41:02.192 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324915627233280 [0;39m ==> Parameters: 37841703666847744(Long)
2023-05-13 20:41:02.199 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324915627233280 [0;39m <==    Updates: 1
2023-05-13 20:41:02.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38324915627233280 [0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2023-05-13 20:41:02.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38324915627233280 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-13 20:41:03.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38324920366796800 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:41:03.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38324920366796800 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 20:41:03.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38324920366796800 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:41:03.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38324920366796800 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:41:03.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38324920366796800 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:41:03.317 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324920366796800 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:41:03.317 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324920366796800 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:41:03.319 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38324920366796800 [0;39m <==    Columns: id, content
2023-05-13 20:41:03.319 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38324920366796800 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 20:41:03.319 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38324920366796800 [0;39m <==      Total: 1
2023-05-13 20:41:03.320 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324920366796800 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:41:03.320 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324920366796800 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:41:03.328 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38324920366796800 [0;39m <==    Updates: 1
2023-05-13 20:41:03.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38324920366796800 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 20:41:03.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38324920366796800 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 20:41:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38324927463559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:41:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324927463559168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:41:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324927463559168 [0;39m ==> Parameters: 
2023-05-13 20:41:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38324927463559168 [0;39m <==    Updates: 1
2023-05-13 20:41:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38324927463559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 20:41:08.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38324942093291520 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:41:08.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38324942093291520 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:41:08.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38324942093291520 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:41:08.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38324942093291520 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:41:08.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38324942093291520 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:41:08.497 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38324942093291520 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:41:08.498 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38324942093291520 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:41:08.498 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38324942093291520 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:41:08.498 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38324942093291520 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:41:08.499 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38324942093291520 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:41:08.499 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38324942093291520 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:41:08.499 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38324942093291520 [0;39m <==      Total: 3
2023-05-13 20:41:08.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38324942093291520 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174}],"success":true}
2023-05-13 20:41:08.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38324942093291520 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 20:41:13.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:41:14.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:41:15.142 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:41:17.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:41:21.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:41:27.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325023622172672 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:41:27.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325023622172672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:41:27.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325023622172672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:41:27.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325023622172672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:41:27.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325023622172672 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:41:27.934 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325023622172672 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:41:27.934 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325023622172672 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:41:27.943 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325023622172672 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:41:27.944 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325023622172672 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:41:27.944 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325023622172672 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:41:27.944 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325023622172672 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:41:27.945 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325023622172672 [0;39m <==      Total: 3
2023-05-13 20:41:27.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325023622172672 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174}],"success":true}
2023-05-13 20:41:27.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325023622172672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 20:41:29.276 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38324908744380416 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:41:29.277 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38324908744380416 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:41:29.278 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38324908744380416 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:41:29.279 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38324908744380416 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:41:29.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325029271900160 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:41:29.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325029271900160 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:41:29.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325029271900160 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:41:29.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325029271900160 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:41:29.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325029271900160 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 20:41:29.281 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38325029271900160 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 20:41:29.283 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38325029271900160 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 20:41:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38325053288484864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:41:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325053288484864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:41:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325053288484864 [0;39m ==> Parameters: 
2023-05-13 20:41:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325053288484864 [0;39m <==    Updates: 1
2023-05-13 20:41:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38325053288484864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:41:43.797 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:41:44.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:41:48.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:42:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38325158188027904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:42:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38325158188027904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:42:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38325158188027904 [0;39m ==> Parameters: 
2023-05-13 20:42:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38325158188027904 [0;39m <==    Updates: 0
2023-05-13 20:42:00.033 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38325158188027904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š15æ¯«ç§’
2023-05-13 20:42:05.027 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38325179201490944 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:42:05.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325179201490944 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:42:05.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325179201490944 [0;39m ==> Parameters: 
2023-05-13 20:42:05.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325179201490944 [0;39m <==    Updates: 1
2023-05-13 20:42:05.029 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38325179201490944 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:42:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325185652330496 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325185652330496 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 20:42:06.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325185652330496 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 20:42:06.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325185652330496 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:06.569 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325185652330496 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:06.570 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38325185652330496 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 20:42:06.571 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38325185652330496 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:06.572 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325185652330496 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 20:42:06.572 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325185652330496 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 155, 7
2023-05-13 20:42:06.572 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325185652330496 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 20:42:06.572 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325185652330496 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 20:42:06.573 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325185652330496 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 20:42:06.573 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325185652330496 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 20:42:06.573 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325185652330496 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 20:42:06.573 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325185652330496 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 20:42:06.574 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325185652330496 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 20:42:06.574 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38325185652330496 [0;39m <==      Total: 8
2023-05-13 20:42:06.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325185652330496 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":155,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 20:42:06.575 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325185652330496 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 20:42:06.575 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325185698467840 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:06.576 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325185698467840 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:06.576 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325185698467840 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:06.576 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325185698467840 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:06.576 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325185698467840 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:06.577 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325185698467840 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:06.577 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325185698467840 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:06.578 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325185698467840 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:06.578 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325185698467840 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:06.578 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325185698467840 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:06.579 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325185698467840 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:06.579 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325185698467840 [0;39m <==      Total: 3
2023-05-13 20:42:06.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325185698467840 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:06.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325185698467840 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 20:42:07.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325187875311616 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:07.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325187875311616 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 20:42:07.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325187875311616 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:42:07.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325187875311616 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:07.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325187875311616 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:07.095 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38325187875311616 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:42:07.095 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38325187875311616 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:07.097 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38325187875311616 [0;39m <==    Columns: id, content
2023-05-13 20:42:07.097 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38325187875311616 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 20:42:07.097 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38325187875311616 [0;39m <==      Total: 1
2023-05-13 20:42:07.098 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38325187875311616 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:42:07.099 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38325187875311616 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:07.118 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38325187875311616 [0;39m <==    Updates: 1
2023-05-13 20:42:07.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325187875311616 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 20:42:07.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325187875311616 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2023-05-13 20:42:09.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325197991972864 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:09.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325197991972864 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:09.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325197991972864 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:09.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325197991972864 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:09.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325197991972864 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:09.507 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325197991972864 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:09.508 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325197991972864 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:09.508 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325197991972864 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:09.509 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325197991972864 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:09.509 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325197991972864 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:09.509 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325197991972864 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:09.510 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325197991972864 [0;39m <==      Total: 3
2023-05-13 20:42:09.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325197991972864 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:09.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325197991972864 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 20:42:10.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325203306156032 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:10.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325203306156032 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:10.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325203306156032 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:10.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325203306156032 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:10.774 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325203306156032 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:10.774 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325203306156032 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:10.775 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325203306156032 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:10.776 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325203306156032 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:10.776 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325203306156032 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:10.777 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325203306156032 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:10.777 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325203306156032 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:10.777 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325203306156032 [0;39m <==      Total: 3
2023-05-13 20:42:10.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325203306156032 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:10.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325203306156032 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 20:42:11.471 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38324920366796800 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:42:11.471 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38324920366796800 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:42:11.472 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38324920366796800 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:42:11.477 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38324920366796800 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:42:11.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325206263140352 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:11.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325206263140352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:42:11.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325206263140352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:42:11.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325206263140352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:11.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325206263140352 [0;39m è¯·æ±‚å‚æ•°: [{"ebookId":1,"userId":37814121005191174}]
2023-05-13 20:42:11.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325206263140352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 20:42:11.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325206263140352 [0;39m ==> Parameters: 37814121005191174(Long)
2023-05-13 20:42:11.481 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325206263140352 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:42:11.481 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325206263140352 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 20:42:11.482 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325206263140352 [0;39m <==      Total: 1
2023-05-13 20:42:11.482 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325206263140352 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 20:42:11.483 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325206263140352 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:11.484 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325206263140352 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 20:42:11.484 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325206263140352 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 189, 12
2023-05-13 20:42:11.485 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325206263140352 [0;39m <==      Total: 1
2023-05-13 20:42:11.485 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325206263140352 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 20:42:11.486 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325206263140352 [0;39m ==> Parameters: null, 37814121005191174(Long), 1(Long), null, 2023-05-13 20:42:11.485(Timestamp), null
2023-05-13 20:42:11.493 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325206263140352 [0;39m <==    Updates: 1
2023-05-13 20:42:11.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325206263140352 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 20:42:11.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325206263140352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-13 20:42:11.494 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38325206263140352 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š23 ms -------------
2023-05-13 20:42:11.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325207211053056 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:11.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325207211053056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:11.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325207211053056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:11.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325207211053056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:11.708 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325207211053056 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:11.708 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325207211053056 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:11.709 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325207211053056 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:11.709 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325207211053056 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:11.710 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325207211053056 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:11.710 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325207211053056 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:11.710 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325207211053056 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:11.711 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325207211053056 [0;39m <==        Row: 4, 37814121005191174, 1, null, 2023-05-13 20:42:11, null
2023-05-13 20:42:11.711 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325207211053056 [0;39m <==      Total: 4
2023-05-13 20:42:11.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325207211053056 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981731000,"ebookId":1,"id":4,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:11.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325207211053056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 20:42:12.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325211568934912 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:12.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325211568934912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 20:42:12.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325211568934912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 20:42:12.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325211568934912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:12.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325211568934912 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:12.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325211573129216 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:12.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325211573129216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:12.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325211573129216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:12.744 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38325211568934912 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 20:42:12.745 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325211573129216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:12.745 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325211573129216 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:12.745 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38325211568934912 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:12.745 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325211573129216 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:12.745 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325211573129216 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:12.746 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325211568934912 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 20:42:12.746 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325211568934912 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 156, 7
2023-05-13 20:42:12.746 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325211568934912 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 20:42:12.746 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325211568934912 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 20:42:12.746 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325211568934912 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 20:42:12.747 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325211568934912 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 20:42:12.747 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325211568934912 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 20:42:12.747 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325211568934912 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 20:42:12.747 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325211568934912 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 20:42:12.748 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38325211568934912 [0;39m <==      Total: 8
2023-05-13 20:42:12.748 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325211573129216 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:12.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325211568934912 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":156,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 20:42:12.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325211568934912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 20:42:12.748 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325211573129216 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:12.749 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325211573129216 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:12.749 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325211573129216 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:12.749 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325211573129216 [0;39m <==        Row: 4, 37814121005191174, 1, null, 2023-05-13 20:42:11, null
2023-05-13 20:42:12.750 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325211573129216 [0;39m <==      Total: 4
2023-05-13 20:42:12.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325211573129216 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981731000,"ebookId":1,"id":4,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:12.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325211573129216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 20:42:12.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325212097417216 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:12.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325212097417216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 20:42:12.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325212097417216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:42:12.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325212097417216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:12.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325212097417216 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:12.870 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38325212097417216 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:42:12.870 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38325212097417216 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:12.871 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38325212097417216 [0;39m <==    Columns: id, content
2023-05-13 20:42:12.872 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38325212097417216 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 20:42:12.872 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38325212097417216 [0;39m <==      Total: 1
2023-05-13 20:42:12.872 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38325212097417216 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:42:12.873 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38325212097417216 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:12.880 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38325212097417216 [0;39m <==    Updates: 1
2023-05-13 20:42:12.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325212097417216 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 20:42:12.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325212097417216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 20:42:13.047 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:42:13.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325216795037696 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:13.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325216795037696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:13.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325216795037696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:13.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325216795037696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:13.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325216795037696 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:13.992 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325216795037696 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:13.992 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325216795037696 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:13.993 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325216795037696 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:13.993 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325216795037696 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:13.993 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325216795037696 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:13.994 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325216795037696 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:13.994 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325216795037696 [0;39m <==        Row: 4, 37814121005191174, 1, null, 2023-05-13 20:42:11, null
2023-05-13 20:42:13.994 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325216795037696 [0;39m <==      Total: 4
2023-05-13 20:42:13.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325216795037696 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981731000,"ebookId":1,"id":4,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:13.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325216795037696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 20:42:14.373 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:42:20.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:42:20.445 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38325185698467840 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:42:20.446 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38325185698467840 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:42:20.446 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38325185698467840 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:42:20.449 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38325185698467840 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:42:20.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325243898630144 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:20.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325243898630144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:42:20.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325243898630144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:42:20.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325243898630144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:20.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325243898630144 [0;39m è¯·æ±‚å‚æ•°: [{"ebookId":1,"userId":37814121005191174}]
2023-05-13 20:42:20.452 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325243898630144 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 20:42:20.453 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325243898630144 [0;39m ==> Parameters: 37814121005191174(Long)
2023-05-13 20:42:20.453 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325243898630144 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:42:20.454 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325243898630144 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 20:42:20.454 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325243898630144 [0;39m <==      Total: 1
2023-05-13 20:42:20.455 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325243898630144 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 20:42:20.456 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325243898630144 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:20.457 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325243898630144 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 20:42:20.457 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325243898630144 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 189, 12
2023-05-13 20:42:20.457 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325243898630144 [0;39m <==      Total: 1
2023-05-13 20:42:20.458 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325243898630144 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 20:42:20.459 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325243898630144 [0;39m ==> Parameters: null, 37814121005191174(Long), 1(Long), null, 2023-05-13 20:42:20.458(Timestamp), null
2023-05-13 20:42:20.460 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325243898630144 [0;39m <==    Updates: 1
2023-05-13 20:42:20.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325243898630144 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 20:42:20.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325243898630144 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š107 ms -------------
2023-05-13 20:42:20.559 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38325243898630144 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š113 ms -------------
2023-05-13 20:42:21.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325249850347520 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:21.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325249850347520 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:21.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325249850347520 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:21.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325249850347520 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:21.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325249850347520 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:21.874 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325249850347520 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:21.874 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325249850347520 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:21.875 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325249850347520 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:21.875 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325249850347520 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:21.876 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325249850347520 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:21.877 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325249850347520 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:21.877 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325249850347520 [0;39m <==        Row: 4, 37814121005191174, 1, null, 2023-05-13 20:42:11, null
2023-05-13 20:42:21.878 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325249850347520 [0;39m <==        Row: 5, 37814121005191174, 1, null, 2023-05-13 20:42:20, null
2023-05-13 20:42:21.878 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325249850347520 [0;39m <==      Total: 5
2023-05-13 20:42:21.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325249850347520 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981731000,"ebookId":1,"id":4,"userId":37814121005191174},{"createTime":1683981740000,"ebookId":1,"id":5,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:21.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325249850347520 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 20:42:22.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325252312403968 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:22.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325252312403969 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:22.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325252312403969 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:22.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325252312403968 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 20:42:22.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325252312403969 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:22.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325252312403968 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 20:42:22.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325252312403968 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:22.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325252312403969 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:22.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325252312403969 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:22.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325252312403968 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:22.458 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325252312403969 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:22.458 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38325252312403968 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 20:42:22.458 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325252312403969 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:22.458 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38325252312403968 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:22.459 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325252312403968 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 20:42:22.459 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325252312403969 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:22.459 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325252312403968 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 157, 7
2023-05-13 20:42:22.459 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325252312403969 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:22.459 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325252312403968 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 20:42:22.460 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325252312403969 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:22.460 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325252312403968 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 20:42:22.460 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325252312403969 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:22.460 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325252312403968 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 20:42:22.460 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325252312403969 [0;39m <==        Row: 4, 37814121005191174, 1, null, 2023-05-13 20:42:11, null
2023-05-13 20:42:22.460 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325252312403968 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 20:42:22.460 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325252312403968 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 20:42:22.460 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325252312403969 [0;39m <==        Row: 5, 37814121005191174, 1, null, 2023-05-13 20:42:20, null
2023-05-13 20:42:22.460 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325252312403969 [0;39m <==      Total: 5
2023-05-13 20:42:22.460 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325252312403968 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 20:42:22.461 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325252312403968 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 20:42:22.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325252312403969 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981731000,"ebookId":1,"id":4,"userId":37814121005191174},{"createTime":1683981740000,"ebookId":1,"id":5,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:22.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325252312403969 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 20:42:22.461 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38325252312403968 [0;39m <==      Total: 8
2023-05-13 20:42:22.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325252312403968 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":157,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 20:42:22.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325252312403968 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 20:42:22.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325252585033728 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:22.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325252585033728 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 20:42:22.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325252585033728 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:42:22.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325252585033728 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:22.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325252585033728 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:22.523 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38325252585033728 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:42:22.523 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38325252585033728 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:22.524 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38325252585033728 [0;39m <==    Columns: id, content
2023-05-13 20:42:22.525 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38325252585033728 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 20:42:22.525 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38325252585033728 [0;39m <==      Total: 1
2023-05-13 20:42:22.525 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38325252585033728 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:42:22.526 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38325252585033728 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:22.540 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38325252585033728 [0;39m <==    Updates: 1
2023-05-13 20:42:22.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325252585033728 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 20:42:22.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325252585033728 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š110 ms -------------
2023-05-13 20:42:23.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325257995685888 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:23.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325257995685888 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:23.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325257995685888 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:23.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325257995685888 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:23.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325257995685888 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:23.814 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325257995685888 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:23.814 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325257995685888 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:23.815 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325257995685888 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:23.815 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325257995685888 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:23.816 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325257995685888 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:23.817 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325257995685888 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:23.817 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325257995685888 [0;39m <==        Row: 4, 37814121005191174, 1, null, 2023-05-13 20:42:11, null
2023-05-13 20:42:23.817 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325257995685888 [0;39m <==        Row: 5, 37814121005191174, 1, null, 2023-05-13 20:42:20, null
2023-05-13 20:42:23.818 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325257995685888 [0;39m <==      Total: 5
2023-05-13 20:42:23.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325257995685888 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981731000,"ebookId":1,"id":4,"userId":37814121005191174},{"createTime":1683981740000,"ebookId":1,"id":5,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:23.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325257995685888 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 20:42:24.817 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38325211568934912 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:42:24.817 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38325211568934912 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:42:24.818 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38325211568934912 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:42:24.828 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38325211568934912 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:42:24.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325262261293056 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:24.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325262261293056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:42:24.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325262261293056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:42:24.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325262261293056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:24.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325262261293056 [0;39m è¯·æ±‚å‚æ•°: [{"ebookId":1,"userId":37814121005191174}]
2023-05-13 20:42:24.832 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325262261293056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 20:42:24.832 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325262261293056 [0;39m ==> Parameters: 37814121005191174(Long)
2023-05-13 20:42:24.841 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325262261293056 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:42:24.841 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325262261293056 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 20:42:24.841 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325262261293056 [0;39m <==      Total: 1
2023-05-13 20:42:24.842 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325262261293056 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 20:42:24.842 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325262261293056 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:24.845 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325262261293056 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 20:42:24.845 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325262261293056 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 189, 12
2023-05-13 20:42:24.846 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325262261293056 [0;39m <==      Total: 1
2023-05-13 20:42:24.846 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325262261293056 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 20:42:24.847 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325262261293056 [0;39m ==> Parameters: null, 37814121005191174(Long), 1(Long), null, 2023-05-13 20:42:24.846(Timestamp), null
2023-05-13 20:42:24.849 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325262261293056 [0;39m <==    Updates: 1
2023-05-13 20:42:24.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325262261293056 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 20:42:24.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325262261293056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š20 ms -------------
2023-05-13 20:42:24.850 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38325262261293056 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š33 ms -------------
2023-05-13 20:42:24.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325262429065216 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:24.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325262429065216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:24.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325262429065216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:24.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325262429065216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:24.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325262429065216 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:24.870 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325262429065216 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:24.871 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325262429065216 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:24.872 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325262429065216 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:24.872 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325262429065216 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:24.872 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325262429065216 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:24.873 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325262429065216 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:24.873 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325262429065216 [0;39m <==        Row: 4, 37814121005191174, 1, null, 2023-05-13 20:42:11, null
2023-05-13 20:42:24.873 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325262429065216 [0;39m <==        Row: 5, 37814121005191174, 1, null, 2023-05-13 20:42:20, null
2023-05-13 20:42:24.873 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325262429065216 [0;39m <==        Row: 6, 37814121005191174, 1, null, 2023-05-13 20:42:25, null
2023-05-13 20:42:24.874 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325262429065216 [0;39m <==      Total: 6
2023-05-13 20:42:24.874 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325262429065216 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981731000,"ebookId":1,"id":4,"userId":37814121005191174},{"createTime":1683981740000,"ebookId":1,"id":5,"userId":37814121005191174},{"createTime":1683981745000,"ebookId":1,"id":6,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:24.874 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325262429065216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 20:42:31.498 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38325212097417216 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:42:31.499 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38325212097417216 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:42:31.499 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38325212097417216 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:42:31.500 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38325212097417216 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:42:31.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325290245689344 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:31.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325290245689344 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:42:31.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325290245689344 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:42:31.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325290245689344 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:31.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325290245689344 [0;39m è¯·æ±‚å‚æ•°: [{"ebookId":1,"userId":37814121005191174}]
2023-05-13 20:42:31.502 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325290245689344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 20:42:31.503 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325290245689344 [0;39m ==> Parameters: 37814121005191174(Long)
2023-05-13 20:42:31.504 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325290245689344 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:42:31.505 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325290245689344 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 20:42:31.505 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325290245689344 [0;39m <==      Total: 1
2023-05-13 20:42:31.507 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325290245689344 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 20:42:31.507 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325290245689344 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:31.508 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325290245689344 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 20:42:31.508 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325290245689344 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 189, 12
2023-05-13 20:42:31.508 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325290245689344 [0;39m <==      Total: 1
2023-05-13 20:42:31.508 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325290245689344 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 20:42:31.509 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325290245689344 [0;39m ==> Parameters: null, 37814121005191174(Long), 1(Long), null, 2023-05-13 20:42:31.508(Timestamp), null
2023-05-13 20:42:31.511 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325290245689344 [0;39m <==    Updates: 1
2023-05-13 20:42:31.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325290245689344 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 20:42:31.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325290245689344 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 20:42:31.513 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38325290245689344 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 20:42:31.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325290447015936 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:31.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325290447015936 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:31.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325290447015936 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:31.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325290447015936 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:31.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325290447015936 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:31.550 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325290447015936 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:31.551 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325290447015936 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:31.552 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290447015936 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:31.552 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290447015936 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:31.553 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290447015936 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:31.553 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290447015936 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:31.553 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290447015936 [0;39m <==        Row: 4, 37814121005191174, 1, null, 2023-05-13 20:42:11, null
2023-05-13 20:42:31.553 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290447015936 [0;39m <==        Row: 5, 37814121005191174, 1, null, 2023-05-13 20:42:20, null
2023-05-13 20:42:31.554 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290447015936 [0;39m <==        Row: 6, 37814121005191174, 1, null, 2023-05-13 20:42:25, null
2023-05-13 20:42:31.554 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290447015936 [0;39m <==        Row: 7, 37814121005191174, 1, null, 2023-05-13 20:42:32, null
2023-05-13 20:42:31.554 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325290447015936 [0;39m <==      Total: 7
2023-05-13 20:42:31.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325290447015936 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981731000,"ebookId":1,"id":4,"userId":37814121005191174},{"createTime":1683981740000,"ebookId":1,"id":5,"userId":37814121005191174},{"createTime":1683981745000,"ebookId":1,"id":6,"userId":37814121005191174},{"createTime":1683981752000,"ebookId":1,"id":7,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:31.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325290447015936 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 20:42:31.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325290715451392 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:31.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325290715451393 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:31.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325290715451393 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 20:42:31.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325290715451392 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:31.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325290715451393 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 20:42:31.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325290715451392 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:31.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325290715451393 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:31.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325290715451392 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:31.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325290715451392 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:31.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325290715451393 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:31.614 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325290715451392 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:31.615 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325290715451392 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:31.615 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38325290715451393 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 20:42:31.615 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290715451392 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:31.616 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290715451392 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:31.615 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38325290715451393 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:31.616 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290715451392 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:31.616 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290715451392 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:31.617 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325290715451393 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 20:42:31.617 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290715451392 [0;39m <==        Row: 4, 37814121005191174, 1, null, 2023-05-13 20:42:11, null
2023-05-13 20:42:31.617 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325290715451393 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 158, 7
2023-05-13 20:42:31.617 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290715451392 [0;39m <==        Row: 5, 37814121005191174, 1, null, 2023-05-13 20:42:20, null
2023-05-13 20:42:31.617 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325290715451393 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 20:42:31.617 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290715451392 [0;39m <==        Row: 6, 37814121005191174, 1, null, 2023-05-13 20:42:25, null
2023-05-13 20:42:31.617 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325290715451393 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 20:42:31.617 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325290715451392 [0;39m <==        Row: 7, 37814121005191174, 1, null, 2023-05-13 20:42:32, null
2023-05-13 20:42:31.617 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325290715451393 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 20:42:31.618 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325290715451392 [0;39m <==      Total: 7
2023-05-13 20:42:31.618 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325290715451393 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 20:42:31.618 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325290715451393 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 20:42:31.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325290715451392 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981731000,"ebookId":1,"id":4,"userId":37814121005191174},{"createTime":1683981740000,"ebookId":1,"id":5,"userId":37814121005191174},{"createTime":1683981745000,"ebookId":1,"id":6,"userId":37814121005191174},{"createTime":1683981752000,"ebookId":1,"id":7,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:31.618 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325290715451393 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 20:42:31.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325290715451392 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 20:42:31.618 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38325290715451393 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 20:42:31.618 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38325290715451393 [0;39m <==      Total: 8
2023-05-13 20:42:31.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325290715451393 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":158,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 20:42:31.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325290715451393 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 20:42:31.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325290950332416 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:31.672 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325290950332416 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 20:42:31.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325290950332416 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:42:31.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325290950332416 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:31.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325290950332416 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:31.673 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38325290950332416 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:42:31.674 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38325290950332416 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:31.674 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38325290950332416 [0;39m <==    Columns: id, content
2023-05-13 20:42:31.675 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38325290950332416 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 20:42:31.675 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38325290950332416 [0;39m <==      Total: 1
2023-05-13 20:42:31.675 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38325290950332416 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:42:31.676 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38325290950332416 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:31.679 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38325290950332416 [0;39m <==    Updates: 1
2023-05-13 20:42:31.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325290950332416 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 20:42:31.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325290950332416 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 20:42:33.825 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325299993251840 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:33.825 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325299993251840 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:33.825 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325299993251840 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:33.826 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325299993251840 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:33.826 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325299993251840 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:33.826 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325299993251840 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:33.827 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325299993251840 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:33.827 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325299993251840 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:33.828 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325299993251840 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:33.828 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325299993251840 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:33.828 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325299993251840 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:33.829 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325299993251840 [0;39m <==        Row: 4, 37814121005191174, 1, null, 2023-05-13 20:42:11, null
2023-05-13 20:42:33.829 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325299993251840 [0;39m <==        Row: 5, 37814121005191174, 1, null, 2023-05-13 20:42:20, null
2023-05-13 20:42:33.829 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325299993251840 [0;39m <==        Row: 6, 37814121005191174, 1, null, 2023-05-13 20:42:25, null
2023-05-13 20:42:33.829 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325299993251840 [0;39m <==        Row: 7, 37814121005191174, 1, null, 2023-05-13 20:42:32, null
2023-05-13 20:42:33.830 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325299993251840 [0;39m <==      Total: 7
2023-05-13 20:42:33.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325299993251840 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981731000,"ebookId":1,"id":4,"userId":37814121005191174},{"createTime":1683981740000,"ebookId":1,"id":5,"userId":37814121005191174},{"createTime":1683981745000,"ebookId":1,"id":6,"userId":37814121005191174},{"createTime":1683981752000,"ebookId":1,"id":7,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:33.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325299993251840 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 20:42:34.639 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38325252585033728 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:42:34.639 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38325252585033728 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:42:34.639 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38325252585033728 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:42:34.640 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38325252585033728 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:42:34.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325303424192512 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:34.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325303424192512 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:42:34.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325303424192512 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:42:34.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325303424192512 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:34.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325303424192512 [0;39m è¯·æ±‚å‚æ•°: [{"ebookId":1,"userId":37814121005191174}]
2023-05-13 20:42:34.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325303424192512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 20:42:34.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325303424192512 [0;39m ==> Parameters: 37814121005191174(Long)
2023-05-13 20:42:34.646 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325303424192512 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:42:34.647 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325303424192512 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 20:42:34.647 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325303424192512 [0;39m <==      Total: 1
2023-05-13 20:42:34.648 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325303424192512 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 20:42:34.648 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325303424192512 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:34.649 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325303424192512 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 20:42:34.649 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325303424192512 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 189, 12
2023-05-13 20:42:34.650 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325303424192512 [0;39m <==      Total: 1
2023-05-13 20:42:34.650 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325303424192512 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 20:42:34.650 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325303424192512 [0;39m ==> Parameters: null, 37814121005191174(Long), 1(Long), null, 2023-05-13 20:42:34.65(Timestamp), null
2023-05-13 20:42:34.659 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325303424192512 [0;39m <==    Updates: 1
2023-05-13 20:42:34.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325303424192512 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 20:42:34.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325303424192512 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-13 20:42:34.660 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38325303424192512 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-13 20:42:34.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325303717793792 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:34.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325303717793792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:34.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325303717793792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:34.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325303717793792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:34.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325303717793792 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:34.715 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325303717793792 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:34.715 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325303717793792 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:34.717 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325303717793792 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:34.718 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325303717793792 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:34.719 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325303717793792 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:34.719 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325303717793792 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:34.719 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325303717793792 [0;39m <==        Row: 4, 37814121005191174, 1, null, 2023-05-13 20:42:11, null
2023-05-13 20:42:34.719 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325303717793792 [0;39m <==        Row: 5, 37814121005191174, 1, null, 2023-05-13 20:42:20, null
2023-05-13 20:42:34.720 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325303717793792 [0;39m <==        Row: 6, 37814121005191174, 1, null, 2023-05-13 20:42:25, null
2023-05-13 20:42:34.720 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325303717793792 [0;39m <==        Row: 7, 37814121005191174, 1, null, 2023-05-13 20:42:32, null
2023-05-13 20:42:34.720 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325303717793792 [0;39m <==        Row: 8, 37814121005191174, 1, null, 2023-05-13 20:42:35, null
2023-05-13 20:42:34.720 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325303717793792 [0;39m <==      Total: 8
2023-05-13 20:42:34.721 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325303717793792 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981731000,"ebookId":1,"id":4,"userId":37814121005191174},{"createTime":1683981740000,"ebookId":1,"id":5,"userId":37814121005191174},{"createTime":1683981745000,"ebookId":1,"id":6,"userId":37814121005191174},{"createTime":1683981752000,"ebookId":1,"id":7,"userId":37814121005191174},{"createTime":1683981755000,"ebookId":1,"id":8,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:34.721 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325303717793792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 20:42:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38325304963502080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:42:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325304963502080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:42:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325304963502080 [0;39m ==> Parameters: 
2023-05-13 20:42:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325304963502080 [0;39m <==    Updates: 1
2023-05-13 20:42:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38325304963502080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 20:42:35.462 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:42:35.583 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38325262261293056 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:42:35.583 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38325262261293056 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:42:35.584 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38325262261293056 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:42:35.588 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38325262261293056 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:42:35.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325307400392704 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:35.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325307400392704 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:42:35.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325307400392704 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:42:35.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325307400392704 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:35.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325307400392704 [0;39m è¯·æ±‚å‚æ•°: [{"ebookId":1,"userId":37814121005191174}]
2023-05-13 20:42:35.617 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325307400392704 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 20:42:35.617 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325307400392704 [0;39m ==> Parameters: 37814121005191174(Long)
2023-05-13 20:42:35.618 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325307400392704 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:42:35.618 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325307400392704 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 20:42:35.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325307400392704 [0;39m <==      Total: 1
2023-05-13 20:42:35.619 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325307400392704 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 20:42:35.619 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325307400392704 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:35.620 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325307400392704 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 20:42:35.620 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325307400392704 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 193, 12
2023-05-13 20:42:35.620 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325307400392704 [0;39m <==      Total: 1
2023-05-13 20:42:35.621 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325307400392704 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 20:42:35.621 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325307400392704 [0;39m ==> Parameters: null, 37814121005191174(Long), 1(Long), null, 2023-05-13 20:42:35.621(Timestamp), null
2023-05-13 20:42:35.624 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325307400392704 [0;39m <==    Updates: 1
2023-05-13 20:42:35.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325307400392704 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 20:42:35.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325307400392704 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š34 ms -------------
2023-05-13 20:42:35.625 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38325307400392704 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š42 ms -------------
2023-05-13 20:42:35.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325307614302208 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:35.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325307614302208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:35.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325307614302208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:35.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325307614302208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:35.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325307614302208 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:35.646 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325307614302208 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:35.647 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325307614302208 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:35.648 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325307614302208 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:35.649 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325307614302208 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:35.649 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325307614302208 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:35.650 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325307614302208 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:35.650 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325307614302208 [0;39m <==        Row: 4, 37814121005191174, 1, null, 2023-05-13 20:42:11, null
2023-05-13 20:42:35.651 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325307614302208 [0;39m <==        Row: 5, 37814121005191174, 1, null, 2023-05-13 20:42:20, null
2023-05-13 20:42:35.651 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325307614302208 [0;39m <==        Row: 6, 37814121005191174, 1, null, 2023-05-13 20:42:25, null
2023-05-13 20:42:35.651 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325307614302208 [0;39m <==        Row: 7, 37814121005191174, 1, null, 2023-05-13 20:42:32, null
2023-05-13 20:42:35.651 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325307614302208 [0;39m <==        Row: 8, 37814121005191174, 1, null, 2023-05-13 20:42:35, null
2023-05-13 20:42:35.652 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325307614302208 [0;39m <==        Row: 9, 37814121005191174, 1, null, 2023-05-13 20:42:36, null
2023-05-13 20:42:35.652 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325307614302208 [0;39m <==      Total: 9
2023-05-13 20:42:35.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325307614302208 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981731000,"ebookId":1,"id":4,"userId":37814121005191174},{"createTime":1683981740000,"ebookId":1,"id":5,"userId":37814121005191174},{"createTime":1683981745000,"ebookId":1,"id":6,"userId":37814121005191174},{"createTime":1683981752000,"ebookId":1,"id":7,"userId":37814121005191174},{"createTime":1683981755000,"ebookId":1,"id":8,"userId":37814121005191174},{"createTime":1683981756000,"ebookId":1,"id":9,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:35.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325307614302208 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 20:42:37.506 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:42:39.339 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38325290245689344 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:42:39.339 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38325290245689344 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:42:39.341 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38325290245689344 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:42:39.341 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38325290245689344 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:42:39.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325323133227008 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:39.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325323133227008 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:42:39.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325323133227008 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:42:39.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325323133227008 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:39.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325323133227008 [0;39m è¯·æ±‚å‚æ•°: [{"content":"qq","ebookId":1,"userId":37814121005191174}]
2023-05-13 20:42:39.345 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325323133227008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 20:42:39.345 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325323133227008 [0;39m ==> Parameters: 37814121005191174(Long)
2023-05-13 20:42:39.346 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325323133227008 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:42:39.346 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38325323133227008 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 20:42:39.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38325323133227008 [0;39m <==      Total: 1
2023-05-13 20:42:39.347 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325323133227008 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 20:42:39.347 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325323133227008 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:39.348 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325323133227008 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 20:42:39.348 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38325323133227008 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 193, 12
2023-05-13 20:42:39.348 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38325323133227008 [0;39m <==      Total: 1
2023-05-13 20:42:39.349 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325323133227008 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 20:42:39.349 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325323133227008 [0;39m ==> Parameters: null, 37814121005191174(Long), 1(Long), qq(String), 2023-05-13 20:42:39.348(Timestamp), null
2023-05-13 20:42:39.353 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38325323133227008 [0;39m <==    Updates: 1
2023-05-13 20:42:39.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325323133227008 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 20:42:39.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325323133227008 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 20:42:39.354 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38325323133227008 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-13 20:42:39.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325323338747904 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:39.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325323338747904 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:39.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325323338747904 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:39.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325323338747904 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:39.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325323338747904 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:39.393 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325323338747904 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:39.393 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325323338747904 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:39.395 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325323338747904 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:39.396 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325323338747904 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:39.396 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325323338747904 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:39.396 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325323338747904 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:39.397 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325323338747904 [0;39m <==        Row: 4, 37814121005191174, 1, null, 2023-05-13 20:42:11, null
2023-05-13 20:42:39.397 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325323338747904 [0;39m <==        Row: 5, 37814121005191174, 1, null, 2023-05-13 20:42:20, null
2023-05-13 20:42:39.397 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325323338747904 [0;39m <==        Row: 6, 37814121005191174, 1, null, 2023-05-13 20:42:25, null
2023-05-13 20:42:39.397 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325323338747904 [0;39m <==        Row: 7, 37814121005191174, 1, null, 2023-05-13 20:42:32, null
2023-05-13 20:42:39.398 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325323338747904 [0;39m <==        Row: 8, 37814121005191174, 1, null, 2023-05-13 20:42:35, null
2023-05-13 20:42:39.398 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325323338747904 [0;39m <==        Row: 9, 37814121005191174, 1, null, 2023-05-13 20:42:36, null
2023-05-13 20:42:39.398 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325323338747904 [0;39m <==        Row: 10, 37814121005191174, 1, qq, 2023-05-13 20:42:39, null
2023-05-13 20:42:39.398 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325323338747904 [0;39m <==      Total: 10
2023-05-13 20:42:39.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325323338747904 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981731000,"ebookId":1,"id":4,"userId":37814121005191174},{"createTime":1683981740000,"ebookId":1,"id":5,"userId":37814121005191174},{"createTime":1683981745000,"ebookId":1,"id":6,"userId":37814121005191174},{"createTime":1683981752000,"ebookId":1,"id":7,"userId":37814121005191174},{"createTime":1683981755000,"ebookId":1,"id":8,"userId":37814121005191174},{"createTime":1683981756000,"ebookId":1,"id":9,"userId":37814121005191174},{"content":"qq","createTime":1683981759000,"ebookId":1,"id":10,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:39.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325323338747904 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 20:42:41.200 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38325290715451392 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:42:41.200 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38325290715451392 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:42:41.201 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38325290715451392 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:42:41.201 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38325290715451392 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:42:41.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325330938826752 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:41.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325330938826752 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:42:41.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325330938826752 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:42:41.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325330938826752 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:41.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325330938826752 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 20:42:41.203 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38325330938826752 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 20:42:41.205 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38325330938826752 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 20:42:43.375 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:42:44.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:42:47.428 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:42:57.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38325398215462912 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:42:57.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38325398215462912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:42:57.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38325398215462912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:42:57.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38325398215462912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:42:57.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38325398215462912 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:42:57.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325398215462912 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:42:57.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325398215462912 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:42:57.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325398215462912 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:42:57.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325398215462912 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:42:57.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325398215462912 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:42:57.249 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38325398215462912 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:42:57.249 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38325398215462912 [0;39m <==      Total: 3
2023-05-13 20:42:57.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38325398215462912 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174}],"success":true}
2023-05-13 20:42:57.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38325398215462912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 20:43:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38325409812713472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:43:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38325409812713472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:43:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38325409812713472 [0;39m ==> Parameters: 
2023-05-13 20:43:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38325409812713472 [0;39m <==    Updates: 0
2023-05-13 20:43:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38325409812713472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 20:43:01.589 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:43:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38325430796816384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:43:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325430796816384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:43:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325430796816384 [0;39m ==> Parameters: 
2023-05-13 20:43:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325430796816384 [0;39m <==    Updates: 1
2023-05-13 20:43:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38325430796816384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:43:14.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:43:15.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:43:17.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:43:25.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:43:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38325556600770560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:43:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325556600770560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:43:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325556600770560 [0;39m ==> Parameters: 
2023-05-13 20:43:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325556600770560 [0;39m <==    Updates: 1
2023-05-13 20:43:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38325556600770560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:43:43.105 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:43:44.244 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:43:47.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:43:51.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:44:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38325661496119296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:44:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38325661496119296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:44:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38325661496119296 [0;39m ==> Parameters: 
2023-05-13 20:44:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38325661496119296 [0;39m <==    Updates: 0
2023-05-13 20:44:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38325661496119296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 20:44:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38325682480222208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:44:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325682480222208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:44:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325682480222208 [0;39m ==> Parameters: 
2023-05-13 20:44:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325682480222208 [0;39m <==    Updates: 1
2023-05-13 20:44:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38325682480222208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:44:13.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:44:14.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:44:17.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:44:19.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:44:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38325808259010560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:44:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325808259010560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:44:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325808259010560 [0;39m ==> Parameters: 
2023-05-13 20:44:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325808259010560 [0;39m <==    Updates: 1
2023-05-13 20:44:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38325808259010560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:44:43.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:44:44.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:44:45.358 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:44:47.401 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:44:49.453 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:45:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38325913099833344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:45:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38325913099833344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:45:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38325913099833344 [0;39m ==> Parameters: 
2023-05-13 20:45:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38325913099833344 [0;39m <==    Updates: 0
2023-05-13 20:45:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38325913099833344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:45:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38325934134267904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:45:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325934134267904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:45:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325934134267904 [0;39m ==> Parameters: 
2023-05-13 20:45:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38325934134267904 [0;39m <==    Updates: 1
2023-05-13 20:45:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38325934134267904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:45:07.428 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:45:13.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:45:14.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:45:15.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:45:17.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:45:29.922 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:45:32.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:45:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38326059925639168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:45:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326059925639168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:45:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326059925639168 [0;39m ==> Parameters: 
2023-05-13 20:45:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326059925639168 [0;39m <==    Updates: 1
2023-05-13 20:45:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38326059925639168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:45:43.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:45:44.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:45:45.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:45:47.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:45:54.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:45:56.422 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:46:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38326164808404992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:46:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38326164808404992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:46:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38326164808404992 [0;39m ==> Parameters: 
2023-05-13 20:46:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38326164808404992 [0;39m <==    Updates: 0
2023-05-13 20:46:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38326164808404992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 20:46:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38326185725399040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:46:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326185725399040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:46:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326185725399040 [0;39m ==> Parameters: 
2023-05-13 20:46:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326185725399040 [0;39m <==    Updates: 1
2023-05-13 20:46:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38326185725399040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:46:14.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:46:17.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:46:19.571 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:46:21.288 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38325303424192512 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šymC3VoMd2Oï¼Œsession idï¼š15ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 20:46:21.582 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:46:25.677 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38325303717793792 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šmPuoPApjPAï¼Œsession idï¼š16ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 20:46:26.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326273860308992 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:46:26.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326273860308992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 20:46:26.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326273860308992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 20:46:26.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326273860308992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:46:26.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326273860308992 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:46:26.017 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38326273860308992 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 20:46:26.018 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38326273860308992 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:26.019 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326273860308992 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 20:46:26.019 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326273860308992 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 159, 7
2023-05-13 20:46:26.019 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326273860308992 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 20:46:26.019 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326273860308992 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 20:46:26.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326273889669120 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:46:26.020 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326273860308992 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 20:46:26.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326273889669120 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:46:26.020 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326273860308992 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 20:46:26.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326273889669120 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:46:26.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326273889669120 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:46:26.020 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326273860308992 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 20:46:26.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326273889669120 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:46:26.020 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326273860308992 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 20:46:26.020 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326273860308992 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 20:46:26.021 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326273889669120 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:46:26.021 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38326273860308992 [0;39m <==      Total: 8
2023-05-13 20:46:26.021 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326273889669120 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:26.021 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326273860308992 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":159,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 20:46:26.021 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326273860308992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 20:46:26.021 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326273889669120 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:46:26.021 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326273889669120 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:46:26.021 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326273889669120 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:46:26.023 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326273889669120 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:46:26.024 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326273889669120 [0;39m <==      Total: 3
2023-05-13 20:46:26.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326273889669120 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174}],"success":true}
2023-05-13 20:46:26.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326273889669120 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 20:46:26.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326274413957120 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:46:26.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326274413957120 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 20:46:26.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326274413957120 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:46:26.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326274413957120 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:46:26.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326274413957120 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:46:26.146 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38326274413957120 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:46:26.147 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38326274413957120 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:26.148 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38326274413957120 [0;39m <==    Columns: id, content
2023-05-13 20:46:26.148 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38326274413957120 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 20:46:26.148 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38326274413957120 [0;39m <==      Total: 1
2023-05-13 20:46:26.149 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38326274413957120 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:46:26.149 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38326274413957120 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:26.151 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38326274413957120 [0;39m <==    Updates: 1
2023-05-13 20:46:26.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326274413957120 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 20:46:26.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326274413957120 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 20:46:28.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326284358651904 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:46:28.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326284358651904 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:46:28.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326284358651904 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:46:28.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326284358651904 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:46:28.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326284358651904 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:46:28.518 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326284358651904 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:46:28.518 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326284358651904 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:28.520 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326284358651904 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:46:28.520 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326284358651904 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:46:28.520 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326284358651904 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:46:28.521 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326284358651904 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:46:28.521 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326284358651904 [0;39m <==      Total: 3
2023-05-13 20:46:28.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326284358651904 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174}],"success":true}
2023-05-13 20:46:28.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326284358651904 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 20:46:30.055 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38325330938826752 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:46:30.056 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38325330938826752 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:46:30.056 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38325330938826752 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:46:30.060 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38325330938826752 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:46:30.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326290838851584 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:46:30.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326290838851584 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:46:30.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326290838851584 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:46:30.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326290838851584 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:46:30.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326290838851584 [0;39m è¯·æ±‚å‚æ•°: [{"ebookId":1,"userId":37814121005191174}]
2023-05-13 20:46:30.062 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38326290838851584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 20:46:30.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38326290838851584 [0;39m ==> Parameters: 37814121005191174(Long)
2023-05-13 20:46:30.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38326290838851584 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:46:30.064 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38326290838851584 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 20:46:30.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38326290838851584 [0;39m <==      Total: 1
2023-05-13 20:46:30.064 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38326290838851584 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 20:46:30.065 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38326290838851584 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:30.066 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38326290838851584 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 20:46:30.066 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38326290838851584 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 193, 12
2023-05-13 20:46:30.066 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38326290838851584 [0;39m <==      Total: 1
2023-05-13 20:46:30.066 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38326290838851584 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 20:46:30.067 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38326290838851584 [0;39m ==> Parameters: null, 37814121005191174(Long), 1(Long), null, 2023-05-13 20:46:30.066(Timestamp), null
2023-05-13 20:46:30.079 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38326290838851584 [0;39m <==    Updates: 1
2023-05-13 20:46:30.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326290838851584 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 20:46:30.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326290838851584 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š19 ms -------------
2023-05-13 20:46:30.081 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38326290838851584 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š25 ms -------------
2023-05-13 20:46:30.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326291048566784 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:46:30.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326291048566784 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:46:30.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326291048566784 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:46:30.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326291048566784 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:46:30.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326291048566784 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:46:30.112 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326291048566784 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:46:30.113 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326291048566784 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:30.113 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326291048566784 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:46:30.114 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326291048566784 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:46:30.115 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326291048566784 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:46:30.115 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326291048566784 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:46:30.115 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326291048566784 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 20:46:30.116 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326291048566784 [0;39m <==      Total: 4
2023-05-13 20:46:30.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326291048566784 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174}],"success":true}
2023-05-13 20:46:30.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326291048566784 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 20:46:35.042 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38326311730679808 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:46:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326311730679808 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:46:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326311730679808 [0;39m ==> Parameters: 
2023-05-13 20:46:35.063 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326311730679808 [0;39m <==    Updates: 1
2023-05-13 20:46:35.064 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38326311730679808 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š22æ¯«ç§’
2023-05-13 20:46:38.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326327333490688 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:46:38.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326327333490689 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:46:38.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326327333490688 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 20:46:38.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326327333490688 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 20:46:38.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326327333490688 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:46:38.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326327333490688 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:46:38.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326327333490689 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:46:38.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326327333490689 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:46:38.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326327333490689 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:46:38.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326327333490689 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:46:38.764 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38326327333490688 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 20:46:38.764 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38326327333490688 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:38.764 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326327333490689 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:46:38.765 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326327333490689 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:38.765 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326327333490688 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 20:46:38.765 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326327333490689 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:46:38.765 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326327333490688 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 160, 7
2023-05-13 20:46:38.765 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326327333490689 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:46:38.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326327333490688 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 20:46:38.766 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326327333490689 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:46:38.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326327333490688 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 20:46:38.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326327333490688 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 20:46:38.766 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326327333490689 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:46:38.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326327333490688 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 20:46:38.766 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326327333490689 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 20:46:38.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326327333490688 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 20:46:38.766 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326327333490689 [0;39m <==      Total: 4
2023-05-13 20:46:38.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326327333490688 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 20:46:38.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326327333490689 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174}],"success":true}
2023-05-13 20:46:38.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326327333490688 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 20:46:38.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326327333490689 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 20:46:38.767 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38326327333490688 [0;39m <==      Total: 8
2023-05-13 20:46:38.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326327333490688 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":160,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 20:46:38.767 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326327333490688 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 20:46:39.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326329057349632 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:46:39.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326329057349632 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 20:46:39.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326329057349632 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:46:39.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326329057349632 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:46:39.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326329057349632 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:46:39.175 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38326329057349632 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:46:39.177 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38326329057349632 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:39.178 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38326329057349632 [0;39m <==    Columns: id, content
2023-05-13 20:46:39.178 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38326329057349632 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 20:46:39.179 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38326329057349632 [0;39m <==      Total: 1
2023-05-13 20:46:39.179 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38326329057349632 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:46:39.179 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38326329057349632 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:39.195 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38326329057349632 [0;39m <==    Updates: 1
2023-05-13 20:46:39.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326329057349632 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 20:46:39.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326329057349632 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š604 ms -------------
2023-05-13 20:46:40.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326336581931008 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:46:40.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326336581931008 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:46:40.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326336581931008 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:46:40.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326336581931008 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:46:40.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326336581931008 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:46:40.970 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326336581931008 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:46:40.970 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326336581931008 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:40.971 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326336581931008 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:46:40.971 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326336581931008 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:46:40.971 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326336581931008 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:46:40.971 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326336581931008 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:46:40.972 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326336581931008 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 20:46:40.972 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326336581931008 [0;39m <==      Total: 4
2023-05-13 20:46:40.972 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326336581931008 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174}],"success":true}
2023-05-13 20:46:40.972 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326336581931008 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 20:46:43.598 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38326273860308992 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:46:43.598 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38326273860308992 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:46:43.598 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38326273860308992 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:46:43.602 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38326273860308992 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:46:43.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326347638116352 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:46:43.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326347638116352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:46:43.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326347638116352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:46:43.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326347638116352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:46:43.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326347638116352 [0;39m è¯·æ±‚å‚æ•°: [{"content":"ewq","ebookId":1,"userId":37814121005191174}]
2023-05-13 20:46:43.605 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38326347638116352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 20:46:43.606 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38326347638116352 [0;39m ==> Parameters: 37814121005191174(Long)
2023-05-13 20:46:43.607 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38326347638116352 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 20:46:43.607 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38326347638116352 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 20:46:43.608 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38326347638116352 [0;39m <==      Total: 1
2023-05-13 20:46:43.608 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38326347638116352 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 20:46:43.608 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38326347638116352 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:43.609 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38326347638116352 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 20:46:43.609 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38326347638116352 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 194, 12
2023-05-13 20:46:43.610 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38326347638116352 [0;39m <==      Total: 1
2023-05-13 20:46:43.610 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38326347638116352 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 20:46:43.610 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38326347638116352 [0;39m ==> Parameters: null, 37814121005191174(Long), 1(Long), ewq(String), 2023-05-13 20:46:43.61(Timestamp), null
2023-05-13 20:46:43.620 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38326347638116352 [0;39m <==    Updates: 1
2023-05-13 20:46:43.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326347638116352 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 20:46:43.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326347638116352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-13 20:46:43.621 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38326347638116352 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š23 ms -------------
2023-05-13 20:46:43.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326347810082816 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:46:43.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326347810082816 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:46:43.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326347810082816 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:46:43.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326347810082816 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:46:43.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326347810082816 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:46:43.647 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326347810082816 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:46:43.648 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326347810082816 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:46:43.649 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326347810082816 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:46:43.650 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326347810082816 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:46:43.650 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326347810082816 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:46:43.650 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326347810082816 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:46:43.650 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326347810082816 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 20:46:43.651 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326347810082816 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 20:46:43.651 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326347810082816 [0;39m <==      Total: 5
2023-05-13 20:46:43.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326347810082816 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 20:46:43.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326347810082816 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 20:46:44.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:46:45.141 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38326274413957120 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:46:45.141 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38326274413957120 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:46:45.142 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38326274413957120 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:46:45.149 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38326274413957120 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:46:45.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326354126704640 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:46:45.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326354126704640 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:46:45.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326354126704640 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:46:45.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326354126704640 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:46:45.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326354126704640 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 20:46:45.151 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38326354126704640 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 20:46:45.152 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38326354126704640 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 20:46:47.147 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:46:49.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:47:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38326416437284864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:47:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38326416437284864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:47:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38326416437284864 [0;39m ==> Parameters: 
2023-05-13 20:47:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38326416437284864 [0;39m <==    Updates: 0
2023-05-13 20:47:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38326416437284864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 20:47:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38326437429776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:47:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326437429776384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:47:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326437429776384 [0;39m ==> Parameters: 
2023-05-13 20:47:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326437429776384 [0;39m <==    Updates: 1
2023-05-13 20:47:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38326437429776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 20:47:11.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:47:13.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:47:14.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:47:17.462 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:47:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38326563216953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:47:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326563216953344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:47:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326563216953344 [0;39m ==> Parameters: 
2023-05-13 20:47:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326563216953344 [0;39m <==    Updates: 1
2023-05-13 20:47:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38326563216953344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 20:47:36.397 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:47:38.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:47:44.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:47:47.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:48:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38326668108107776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:48:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38326668108107776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:48:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38326668108107776 [0;39m ==> Parameters: 
2023-05-13 20:48:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38326668108107776 [0;39m <==    Updates: 0
2023-05-13 20:48:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38326668108107776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-13 20:48:00.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:48:02.536 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:48:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38326689054461952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:48:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326689054461952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:48:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326689054461952 [0;39m ==> Parameters: 
2023-05-13 20:48:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326689054461952 [0;39m <==    Updates: 1
2023-05-13 20:48:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38326689054461952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:48:13.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326722860552192 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:48:13.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326722860552192 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:48:13.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326722860552192 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:48:13.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326722860552192 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:48:13.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326722860552192 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:48:13.066 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326722860552192 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:48:13.066 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326722860552192 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:48:13.067 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326722860552192 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:48:13.067 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326722860552192 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:48:13.067 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326722860552192 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:48:13.068 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326722860552192 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:48:13.068 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326722860552192 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 20:48:13.068 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326722860552192 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 20:48:13.068 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326722860552192 [0;39m <==      Total: 5
2023-05-13 20:48:13.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326722860552192 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 20:48:13.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326722860552192 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 20:48:13.987 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38326327333490689 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:48:13.988 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38326327333490689 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:48:13.988 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38326327333490689 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:48:13.988 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38326327333490689 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:48:13.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326726744477696 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:48:13.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326726744477696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:48:13.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326726744477696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:48:13.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326726744477696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:48:13.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326726744477696 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 20:48:13.990 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38326726744477696 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 20:48:13.990 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38326726744477696 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 20:48:14.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:48:15.008 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38326327333490688 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 20:48:15.009 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38326327333490688 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 20:48:15.009 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38326327333490688 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 20:48:15.011 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38326327333490688 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 20:48:15.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326731035250688 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:48:15.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326731035250688 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 20:48:15.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326731035250688 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 20:48:15.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326731035250688 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:48:15.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326731035250688 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 20:48:15.013 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38326731035250688 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 20:48:15.015 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38326731035250688 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 20:48:15.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326731605676032 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:48:15.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326731605676032 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 20:48:15.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326731605676032 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 20:48:15.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326731605676032 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:48:15.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326731605676032 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:48:15.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326731635036160 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:48:15.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326731635036160 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:48:15.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326731635036160 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:48:15.157 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326731635036160 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:48:15.157 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326731635036160 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:48:15.159 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326731635036160 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:48:15.159 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326731635036160 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:48:15.160 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326731635036160 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:48:15.160 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326731635036160 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:48:15.161 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326731635036160 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:48:15.161 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326731635036160 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:48:15.161 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326731635036160 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 20:48:15.161 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326731635036160 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 20:48:15.162 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326731635036160 [0;39m <==      Total: 5
2023-05-13 20:48:15.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326731635036160 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 20:48:15.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326731635036160 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 20:48:15.164 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38326731605676032 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 20:48:15.164 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38326731605676032 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:48:15.165 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326731605676032 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 20:48:15.165 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326731605676032 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 161, 7
2023-05-13 20:48:15.166 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326731605676032 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 20:48:15.166 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326731605676032 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 20:48:15.166 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326731605676032 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 20:48:15.166 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326731605676032 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 20:48:15.167 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326731605676032 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 20:48:15.167 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326731605676032 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 20:48:15.167 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38326731605676032 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 20:48:15.168 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38326731605676032 [0;39m <==      Total: 8
2023-05-13 20:48:15.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326731605676032 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":161,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 20:48:15.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326731605676032 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-05-13 20:48:15.262 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326732083826688 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:48:15.262 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326732083826688 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 20:48:15.262 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326732083826688 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 20:48:15.262 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326732083826688 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:48:15.263 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326732083826688 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:48:15.264 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38326732083826688 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 20:48:15.264 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38326732083826688 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:48:15.272 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38326732083826688 [0;39m <==    Columns: id, content
2023-05-13 20:48:15.273 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38326732083826688 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 20:48:15.273 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38326732083826688 [0;39m <==      Total: 1
2023-05-13 20:48:15.274 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38326732083826688 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 20:48:15.274 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38326732083826688 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:48:17.610 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:48:18.875 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38326732083826688 [0;39m <==    Updates: 1
2023-05-13 20:48:18.876 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326732083826688 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 20:48:18.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326732083826688 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3615 ms -------------
2023-05-13 20:48:19.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38326751859970048 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 20:48:19.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38326751859970048 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 20:48:19.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38326751859970048 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 20:48:19.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38326751859970048 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 20:48:19.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38326751859970048 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 20:48:19.979 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326751859970048 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 20:48:19.980 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326751859970048 [0;39m ==> Parameters: 1(Long)
2023-05-13 20:48:19.981 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326751859970048 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 20:48:19.981 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326751859970048 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 20:48:19.982 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326751859970048 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 20:48:19.982 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326751859970048 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 20:48:19.982 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326751859970048 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 20:48:19.984 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38326751859970048 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 20:48:19.984 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38326751859970048 [0;39m <==      Total: 5
2023-05-13 20:48:19.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38326751859970048 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 20:48:19.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38326751859970048 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 20:48:27.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:48:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38326814904553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:48:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326814904553472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:48:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326814904553472 [0;39m ==> Parameters: 
2023-05-13 20:48:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326814904553472 [0;39m <==    Updates: 1
2023-05-13 20:48:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38326814904553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 20:48:44.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:48:45.168 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:48:47.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:48:49.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:48:51.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:49:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38326919745376256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:49:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38326919745376256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:49:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38326919745376256 [0;39m ==> Parameters: 
2023-05-13 20:49:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38326919745376256 [0;39m <==    Updates: 0
2023-05-13 20:49:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38326919745376256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 20:49:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38326940746256384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:49:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326940746256384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:49:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326940746256384 [0;39m ==> Parameters: 
2023-05-13 20:49:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38326940746256384 [0;39m <==    Updates: 1
2023-05-13 20:49:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38326940746256384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:49:13.110 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:49:14.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:49:17.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:49:19.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:49:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38327066571182080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:49:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327066571182080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:49:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327066571182080 [0;39m ==> Parameters: 
2023-05-13 20:49:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327066571182080 [0;39m <==    Updates: 1
2023-05-13 20:49:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38327066571182080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:49:41.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:49:44.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:49:45.383 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:49:47.431 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:50:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38327171403616256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:50:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38327171403616256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:50:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38327171403616256 [0;39m ==> Parameters: 
2023-05-13 20:50:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38327171403616256 [0;39m <==    Updates: 0
2023-05-13 20:50:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38327171403616256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:50:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38327192396107776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:50:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327192396107776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:50:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327192396107776 [0;39m ==> Parameters: 
2023-05-13 20:50:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327192396107776 [0;39m <==    Updates: 1
2023-05-13 20:50:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38327192396107776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:50:06.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:50:08.369 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:50:14.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:50:17.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:50:32.465 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:50:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38327318237810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:50:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327318237810688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:50:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327318237810688 [0;39m ==> Parameters: 
2023-05-13 20:50:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327318237810688 [0;39m <==    Updates: 1
2023-05-13 20:50:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38327318237810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:50:44.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:50:45.166 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:50:47.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:50:54.519 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:50:56.573 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:51:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38327423103799296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:51:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38327423103799296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:51:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38327423103799296 [0;39m ==> Parameters: 
2023-05-13 20:51:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38327423103799296 [0;39m <==    Updates: 0
2023-05-13 20:51:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38327423103799296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:51:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38327444062736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:51:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327444062736384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:51:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327444062736384 [0;39m ==> Parameters: 
2023-05-13 20:51:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327444062736384 [0;39m <==    Updates: 1
2023-05-13 20:51:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38327444062736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:51:14.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:51:17.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:51:21.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:51:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38327569883467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:51:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327569883467776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:51:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327569883467776 [0;39m ==> Parameters: 
2023-05-13 20:51:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327569883467776 [0;39m <==    Updates: 1
2023-05-13 20:51:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38327569883467776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:51:44.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:51:49.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:52:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38327674753650688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:52:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38327674753650688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:52:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38327674753650688 [0;39m ==> Parameters: 
2023-05-13 20:52:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38327674753650688 [0;39m <==    Updates: 0
2023-05-13 20:52:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38327674753650688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:52:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38327695683227648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:52:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327695683227648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:52:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327695683227648 [0;39m ==> Parameters: 
2023-05-13 20:52:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327695683227648 [0;39m <==    Updates: 1
2023-05-13 20:52:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38327695683227648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:52:14.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:52:17.483 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:52:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38327821533319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:52:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327821533319168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:52:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327821533319168 [0;39m ==> Parameters: 
2023-05-13 20:52:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327821533319168 [0;39m <==    Updates: 1
2023-05-13 20:52:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38327821533319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:52:36.389 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:52:38.447 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:52:44.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:52:47.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:53:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38327926365753344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:53:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38327926365753344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:53:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38327926365753344 [0;39m ==> Parameters: 
2023-05-13 20:53:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38327926365753344 [0;39m <==    Updates: 0
2023-05-13 20:53:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38327926365753344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:53:02.545 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:53:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38327947345661952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:53:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327947345661952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:53:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327947345661952 [0;39m ==> Parameters: 
2023-05-13 20:53:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38327947345661952 [0;39m <==    Updates: 1
2023-05-13 20:53:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38327947345661952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:53:13.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:53:14.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:53:17.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:53:24.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:53:26.647 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:53:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38328073170587648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:53:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328073170587648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:53:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328073170587648 [0;39m ==> Parameters: 
2023-05-13 20:53:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328073170587648 [0;39m <==    Updates: 1
2023-05-13 20:53:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38328073170587648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:53:44.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:53:47.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:53:49.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:53:51.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:54:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38328178082713600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:54:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38328178082713600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:54:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38328178082713600 [0;39m ==> Parameters: 
2023-05-13 20:54:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38328178082713600 [0;39m <==    Updates: 0
2023-05-13 20:54:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38328178082713600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:54:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38328199003901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:54:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328199003901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:54:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328199003901952 [0;39m ==> Parameters: 
2023-05-13 20:54:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328199003901952 [0;39m <==    Updates: 1
2023-05-13 20:54:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38328199003901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:54:14.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:54:17.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:54:19.249 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:54:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38328324879159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:54:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328324879159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:54:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328324879159296 [0;39m ==> Parameters: 
2023-05-13 20:54:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328324879159296 [0;39m <==    Updates: 1
2023-05-13 20:54:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38328324879159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:54:41.314 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:54:44.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:54:45.359 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:54:47.398 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:55:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38328429736759296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:55:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38328429736759296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:55:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38328429736759296 [0;39m ==> Parameters: 
2023-05-13 20:55:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38328429736759296 [0;39m <==    Updates: 0
2023-05-13 20:55:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38328429736759296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:55:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38328450683113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:55:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328450683113472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:55:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328450683113472 [0;39m ==> Parameters: 
2023-05-13 20:55:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328450683113472 [0;39m <==    Updates: 1
2023-05-13 20:55:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38328450683113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 20:55:06.368 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:55:08.410 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:55:13.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:55:14.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:55:17.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:55:30.463 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:55:32.507 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:55:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38328576503844864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:55:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328576503844864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:55:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328576503844864 [0;39m ==> Parameters: 
2023-05-13 20:55:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328576503844864 [0;39m <==    Updates: 1
2023-05-13 20:55:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38328576503844864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 20:55:44.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:55:47.186 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:55:54.580 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:55:56.621 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:56:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38328681390804992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:56:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38328681390804992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:56:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38328681390804992 [0;39m ==> Parameters: 
2023-05-13 20:56:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38328681390804992 [0;39m <==    Updates: 0
2023-05-13 20:56:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38328681390804992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 20:56:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38328702370713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:56:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328702370713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:56:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328702370713600 [0;39m ==> Parameters: 
2023-05-13 20:56:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328702370713600 [0;39m <==    Updates: 1
2023-05-13 20:56:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38328702370713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:56:14.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:56:17.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:56:19.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:56:21.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:56:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38328828170473472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:56:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328828170473472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:56:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328828170473472 [0;39m ==> Parameters: 
2023-05-13 20:56:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328828170473472 [0;39m <==    Updates: 1
2023-05-13 20:56:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38328828170473472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:56:44.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:56:45.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:56:47.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:56:49.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:57:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38328933028073472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:57:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38328933028073472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:57:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38328933028073472 [0;39m ==> Parameters: 
2023-05-13 20:57:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38328933028073472 [0;39m <==    Updates: 0
2023-05-13 20:57:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38328933028073472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:57:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38328953970233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:57:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328953970233344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:57:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328953970233344 [0;39m ==> Parameters: 
2023-05-13 20:57:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38328953970233344 [0;39m <==    Updates: 1
2023-05-13 20:57:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38328953970233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:57:11.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:57:13.379 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:57:14.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:57:17.462 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:57:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38329079799353344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:57:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329079799353344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:57:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329079799353344 [0;39m ==> Parameters: 
2023-05-13 20:57:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329079799353344 [0;39m <==    Updates: 1
2023-05-13 20:57:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38329079799353344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:57:38.424 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:57:44.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:57:47.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:58:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38329184698896384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:58:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38329184698896384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:58:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38329184698896384 [0;39m ==> Parameters: 
2023-05-13 20:58:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38329184698896384 [0;39m <==    Updates: 0
2023-05-13 20:58:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38329184698896384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:58:00.466 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:58:02.510 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:58:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38329205682999296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:58:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329205682999296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:58:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329205682999296 [0;39m ==> Parameters: 
2023-05-13 20:58:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329205682999296 [0;39m <==    Updates: 1
2023-05-13 20:58:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38329205682999296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:58:14.249 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:58:17.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:58:24.571 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:58:26.616 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:58:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38329331470176256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:58:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329331470176256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:58:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329331470176256 [0;39m ==> Parameters: 
2023-05-13 20:58:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329331470176256 [0;39m <==    Updates: 1
2023-05-13 20:58:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38329331470176256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 20:58:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:58:45.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:58:47.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:58:49.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:58:51.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:59:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38329436373913600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 20:59:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38329436373913600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 20:59:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38329436373913600 [0;39m ==> Parameters: 
2023-05-13 20:59:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38329436373913600 [0;39m <==    Updates: 0
2023-05-13 20:59:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38329436373913600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:59:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38329457328656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:59:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329457328656384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:59:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329457328656384 [0;39m ==> Parameters: 
2023-05-13 20:59:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329457328656384 [0;39m <==    Updates: 1
2023-05-13 20:59:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38329457328656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 20:59:13.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:59:14.250 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:59:15.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:59:17.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:59:19.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:59:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38329583115833344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 20:59:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329583115833344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 20:59:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329583115833344 [0;39m ==> Parameters: 
2023-05-13 20:59:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329583115833344 [0;39m <==    Updates: 1
2023-05-13 20:59:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38329583115833344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 20:59:41.313 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:59:43.365 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:59:44.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:59:45.416 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:59:47.458 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 20:59:49.513 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:00:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38329687990210560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:00:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38329687990210560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:00:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38329687990210560 [0;39m ==> Parameters: 
2023-05-13 21:00:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38329687990210560 [0;39m <==    Updates: 0
2023-05-13 21:00:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38329687990210560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:00:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38329708991090688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:00:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329708991090688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:00:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329708991090688 [0;39m ==> Parameters: 
2023-05-13 21:00:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329708991090688 [0;39m <==    Updates: 1
2023-05-13 21:00:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38329708991090688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:00:07.474 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:00:13.121 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:00:14.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:00:15.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:00:17.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:00:31.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:00:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38329834782461952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:00:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329834782461952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:00:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329834782461952 [0;39m ==> Parameters: 
2023-05-13 21:00:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329834782461952 [0;39m <==    Updates: 1
2023-05-13 21:00:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38329834782461952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:00:43.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:00:44.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:00:45.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:00:47.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:00:53.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:00:55.675 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:01:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38329939644256256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:01:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38329939644256256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:01:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38329939644256256 [0;39m ==> Parameters: 
2023-05-13 21:01:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38329939644256256 [0;39m <==    Updates: 0
2023-05-13 21:01:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38329939644256256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:01:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38329960636747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:01:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329960636747776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:01:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329960636747776 [0;39m ==> Parameters: 
2023-05-13 21:01:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38329960636747776 [0;39m <==    Updates: 1
2023-05-13 21:01:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38329960636747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:01:14.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:01:15.163 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:01:17.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:01:19.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:01:21.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:01:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38330086440701952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:01:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330086440701952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:01:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330086440701952 [0;39m ==> Parameters: 
2023-05-13 21:01:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330086440701952 [0;39m <==    Updates: 1
2023-05-13 21:01:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38330086440701952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:01:44.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:01:45.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:01:47.224 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:01:49.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:02:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38330191294107648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:02:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38330191294107648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:02:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38330191294107648 [0;39m ==> Parameters: 
2023-05-13 21:02:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38330191294107648 [0;39m <==    Updates: 0
2023-05-13 21:02:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38330191294107648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 21:02:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38330212307570688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:02:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330212307570688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:02:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330212307570688 [0;39m ==> Parameters: 
2023-05-13 21:02:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330212307570688 [0;39m <==    Updates: 1
2023-05-13 21:02:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38330212307570688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:02:11.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:02:13.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:02:14.307 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:02:15.416 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:02:17.474 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:02:19.506 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:02:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38330338140884992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:02:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330338140884992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:02:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330338140884992 [0;39m ==> Parameters: 
2023-05-13 21:02:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330338140884992 [0;39m <==    Updates: 1
2023-05-13 21:02:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38330338140884992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:02:35.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:02:37.473 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:02:43.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:02:44.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:02:47.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:02:59.515 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:03:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38330442948153344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:03:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38330442948153344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:03:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38330442948153344 [0;39m ==> Parameters: 
2023-05-13 21:03:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38330442948153344 [0;39m <==    Updates: 0
2023-05-13 21:03:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38330442948153344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 21:03:01.548 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:03:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38330463923867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:03:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330463923867648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:03:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330463923867648 [0;39m ==> Parameters: 
2023-05-13 21:03:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330463923867648 [0;39m <==    Updates: 1
2023-05-13 21:03:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38330463923867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:03:13.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:03:14.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:03:15.165 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:03:17.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:03:25.658 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:03:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38330589782347776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:03:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330589782347776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:03:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330589782347776 [0;39m ==> Parameters: 
2023-05-13 21:03:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330589782347776 [0;39m <==    Updates: 1
2023-05-13 21:03:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38330589782347776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:03:43.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:03:44.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:03:45.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:03:47.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:03:49.208 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:03:51.226 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:04:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38330694656724992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:04:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38330694656724992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:04:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38330694656724992 [0;39m ==> Parameters: 
2023-05-13 21:04:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38330694656724992 [0;39m <==    Updates: 0
2023-05-13 21:04:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38330694656724992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:04:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38330715577913344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:04:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330715577913344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:04:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330715577913344 [0;39m ==> Parameters: 
2023-05-13 21:04:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330715577913344 [0;39m <==    Updates: 1
2023-05-13 21:04:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38330715577913344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:04:13.105 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:04:14.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:04:15.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:04:17.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:04:19.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:04:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38330841428004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330841428004864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330841428004864 [0;39m ==> Parameters: 
2023-05-13 21:04:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330841428004864 [0;39m <==    Updates: 1
2023-05-13 21:04:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38330841428004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:04:41.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:04:43.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:04:44.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:04:45.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:04:47.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:04:49.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:05:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38330946285604864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:05:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38330946285604864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:05:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38330946285604864 [0;39m ==> Parameters: 
2023-05-13 21:05:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38330946285604864 [0;39m <==    Updates: 0
2023-05-13 21:05:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38330946285604864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 21:05:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38330967236153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:05:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330967236153344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:05:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330967236153344 [0;39m ==> Parameters: 
2023-05-13 21:05:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38330967236153344 [0;39m <==    Updates: 1
2023-05-13 21:05:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38330967236153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:05:07.387 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:05:13.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:05:14.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:05:15.173 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:05:17.224 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:05:31.467 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:05:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38331093094633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:05:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331093094633472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:05:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331093094633472 [0;39m ==> Parameters: 
2023-05-13 21:05:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331093094633472 [0;39m <==    Updates: 1
2023-05-13 21:05:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38331093094633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:05:43.106 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:05:44.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:05:47.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:05:55.565 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:06:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38331197931261952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:06:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38331197931261952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:06:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38331197931261952 [0;39m ==> Parameters: 
2023-05-13 21:06:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38331197931261952 [0;39m <==    Updates: 0
2023-05-13 21:06:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38331197931261952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 21:06:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38331218919559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:06:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331218919559168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:06:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331218919559168 [0;39m ==> Parameters: 
2023-05-13 21:06:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331218919559168 [0;39m <==    Updates: 1
2023-05-13 21:06:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38331218919559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:06:14.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:06:15.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:06:17.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:06:19.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:06:21.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:06:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38331344778039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:06:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331344778039296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:06:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331344778039296 [0;39m ==> Parameters: 
2023-05-13 21:06:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331344778039296 [0;39m <==    Updates: 1
2023-05-13 21:06:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38331344778039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:06:43.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:06:44.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:06:45.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:06:47.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:06:49.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:07:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38331449639833600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:07:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38331449639833600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:07:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38331449639833600 [0;39m ==> Parameters: 
2023-05-13 21:07:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38331449639833600 [0;39m <==    Updates: 0
2023-05-13 21:07:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38331449639833600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:07:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38331470569410560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:07:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331470569410560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:07:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331470569410560 [0;39m ==> Parameters: 
2023-05-13 21:07:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331470569410560 [0;39m <==    Updates: 1
2023-05-13 21:07:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38331470569410560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:07:11.876 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38326290838851584 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šmPuoPApjPAï¼Œsession idï¼š16ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 21:07:14.025 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:07:14.642 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:07:16.410 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:07:18.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:07:20.113 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38326722860552192 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šqvwYPZv05Rï¼Œsession idï¼š17ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 21:07:20.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331536126382080 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:07:20.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331536126382080 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 21:07:20.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331536126382080 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 21:07:20.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331536126382080 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:07:20.639 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331536126382080 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:07:20.640 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38331536126382080 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 21:07:20.641 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38331536126382080 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:07:20.642 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331536126382080 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 21:07:20.642 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331536126382080 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 162, 7
2023-05-13 21:07:20.642 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331536126382080 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 21:07:20.643 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331536126382080 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 21:07:20.643 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331536126382080 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 21:07:20.643 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331536126382080 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 21:07:20.644 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331536126382080 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 21:07:20.644 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331536126382080 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 21:07:20.644 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331536126382080 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 21:07:20.644 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38331536126382080 [0;39m <==      Total: 8
2023-05-13 21:07:20.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331536126382080 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":162,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 21:07:20.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331536126382080 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 21:07:20.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331536180908032 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:07:20.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331536180908032 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:07:20.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331536180908032 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:07:20.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331536180908032 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:07:20.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331536180908032 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:07:20.649 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331536180908032 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:07:20.649 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331536180908032 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:07:20.651 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331536180908032 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:07:20.652 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331536180908032 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:07:20.652 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331536180908032 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:07:20.652 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331536180908032 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:07:20.652 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331536180908032 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:07:20.653 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331536180908032 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:07:20.653 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331536180908032 [0;39m <==      Total: 5
2023-05-13 21:07:20.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331536180908032 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:07:20.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331536180908032 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 21:07:20.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:07:21.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331538122870784 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:07:21.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331538122870784 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 21:07:21.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331538122870784 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 21:07:21.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331538122870784 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:07:21.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331538122870784 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:07:21.112 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38331538122870784 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 21:07:21.112 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38331538122870784 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:07:21.113 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38331538122870784 [0;39m <==    Columns: id, content
2023-05-13 21:07:21.114 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38331538122870784 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 21:07:21.114 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38331538122870784 [0;39m <==      Total: 1
2023-05-13 21:07:21.114 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38331538122870784 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 21:07:21.115 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38331538122870784 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:07:21.123 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38331538122870784 [0;39m <==    Updates: 1
2023-05-13 21:07:21.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331538122870784 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 21:07:21.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331538122870784 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 21:07:28.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331568498020352 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:07:28.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331568498020352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:07:28.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331568498020352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:07:28.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331568498020352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:07:28.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331568498020352 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:07:28.354 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331568498020352 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:07:28.355 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331568498020352 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:07:28.355 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331568498020352 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:07:28.356 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331568498020352 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:07:28.356 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331568498020352 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:07:28.356 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331568498020352 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:07:28.357 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331568498020352 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:07:28.357 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331568498020352 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:07:28.357 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331568498020352 [0;39m <==      Total: 5
2023-05-13 21:07:28.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331568498020352 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:07:28.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331568498020352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 21:07:29.653 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38326732083826688 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:07:29.653 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38326732083826688 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:07:29.653 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38326732083826688 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:07:29.655 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38326732083826688 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:07:29.656 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331573963198464 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:07:29.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331573963198464 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:07:29.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331573963198464 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:07:29.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331573963198464 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:07:29.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331573963198464 [0;39m è¯·æ±‚å‚æ•°: [{"ebookId":1,"userId":37814121005191174}]
2023-05-13 21:07:29.658 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38331573963198464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 21:07:29.658 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38331573963198464 [0;39m ==> Parameters: 37814121005191174(Long)
2023-05-13 21:07:29.659 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38331573963198464 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 21:07:29.659 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38331573963198464 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 21:07:29.659 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38331573963198464 [0;39m <==      Total: 1
2023-05-13 21:07:29.659 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38331573963198464 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 21:07:29.660 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38331573963198464 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:07:29.661 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38331573963198464 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 21:07:29.661 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38331573963198464 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 196, 12
2023-05-13 21:07:29.663 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38331573963198464 [0;39m <==      Total: 1
2023-05-13 21:07:29.664 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38331573963198464 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 21:07:29.664 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38331573963198464 [0;39m ==> Parameters: null, 37814121005191174(Long), 1(Long), null, 2023-05-13 21:07:29.664(Timestamp), null
2023-05-13 21:07:29.771 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38331573963198464 [0;39m <==    Updates: 1
2023-05-13 21:07:29.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331573963198464 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 21:07:29.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331573963198464 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š116 ms -------------
2023-05-13 21:07:29.773 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38331573963198464 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š120 ms -------------
2023-05-13 21:07:29.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331574571372544 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:07:29.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331574571372544 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:07:29.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331574571372544 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:07:29.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331574571372544 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:07:29.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331574571372544 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:07:29.802 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331574571372544 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:07:29.803 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331574571372544 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:07:29.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331574571372544 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:07:29.804 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331574571372544 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:07:29.804 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331574571372544 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:07:29.804 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331574571372544 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:07:29.804 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331574571372544 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:07:29.805 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331574571372544 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:07:29.805 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331574571372544 [0;39m <==        Row: 13, 37814121005191174, 1, null, 2023-05-13 21:07:30, null
2023-05-13 21:07:29.805 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331574571372544 [0;39m <==      Total: 6
2023-05-13 21:07:29.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331574571372544 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174},{"createTime":1683983250000,"ebookId":1,"id":13,"userId":37814121005191174}],"success":true}
2023-05-13 21:07:29.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331574571372544 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 21:07:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38331596402724864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:07:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331596402724864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331596402724864 [0;39m ==> Parameters: 
2023-05-13 21:07:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331596402724864 [0;39m <==    Updates: 1
2023-05-13 21:07:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38331596402724864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 21:07:38.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:07:44.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:07:44.646 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38326354126704640 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šqvwYPZv05Rï¼Œsession idï¼š17ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 21:07:45.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:07:46.512 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38326284358651904 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šk5uEsborV5ï¼Œsession idï¼š18ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 21:07:46.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331645132148736 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:07:46.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331645132148736 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 21:07:46.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331645132148737 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:07:46.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331645132148736 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 21:07:46.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331645132148737 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:07:46.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331645132148737 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:07:46.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331645132148736 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:07:46.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331645132148737 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:07:46.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331645132148736 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:07:46.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331645132148737 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:07:46.625 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331645132148737 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:07:46.626 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38331645132148736 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 21:07:46.626 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331645132148737 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:07:46.626 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38331645132148736 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:07:46.627 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331645132148737 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:07:46.627 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331645132148737 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:07:46.627 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331645132148736 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 21:07:46.627 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331645132148736 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 163, 7
2023-05-13 21:07:46.628 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331645132148736 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 21:07:46.628 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331645132148736 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 21:07:46.628 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331645132148737 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:07:46.628 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331645132148736 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 21:07:46.628 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331645132148737 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:07:46.628 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331645132148736 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 21:07:46.628 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331645132148737 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:07:46.629 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331645132148736 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 21:07:46.629 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331645132148737 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:07:46.629 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331645132148736 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 21:07:46.629 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331645132148737 [0;39m <==      Total: 5
2023-05-13 21:07:46.629 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331645132148736 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 21:07:46.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331645132148737 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:07:46.629 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38331645132148736 [0;39m <==      Total: 8
2023-05-13 21:07:46.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331645132148737 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 21:07:46.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331645132148736 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":163,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 21:07:46.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331645132148736 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 21:07:46.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331646138781696 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:07:46.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331646138781696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 21:07:46.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331646138781696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 21:07:46.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331646138781696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:07:46.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331646138781696 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:07:46.866 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38331646138781696 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 21:07:46.866 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38331646138781696 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:07:46.867 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38331646138781696 [0;39m <==    Columns: id, content
2023-05-13 21:07:46.867 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38331646138781696 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 21:07:46.868 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38331646138781696 [0;39m <==      Total: 1
2023-05-13 21:07:46.868 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38331646138781696 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 21:07:46.868 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38331646138781696 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:07:46.901 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38331646138781696 [0;39m <==    Updates: 1
2023-05-13 21:07:46.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331646138781696 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 21:07:46.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331646138781696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š37 ms -------------
2023-05-13 21:07:47.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:07:49.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331655383027712 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:07:49.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331655383027712 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:07:49.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331655383027712 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:07:49.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331655383027712 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:07:49.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331655383027712 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:07:49.069 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331655383027712 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:07:49.069 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331655383027712 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:07:49.070 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331655383027712 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:07:49.070 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331655383027712 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:07:49.071 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331655383027712 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:07:49.071 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331655383027712 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:07:49.071 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331655383027712 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:07:49.071 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331655383027712 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:07:49.072 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331655383027712 [0;39m <==      Total: 5
2023-05-13 21:07:49.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331655383027712 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:07:49.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331655383027712 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 21:07:53.444 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331538122870784 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:07:53.445 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331538122870784 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:07:53.445 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331538122870784 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:07:53.447 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331538122870784 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:07:53.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331673754079232 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:07:53.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331673754079232 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:07:53.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331673754079232 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:07:53.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331673754079232 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:07:53.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331673754079232 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:07:53.449 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331673754079232 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:07:53.450 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331673754079232 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:07:59.167 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331568498020352 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:07:59.170 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331568498020352 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:07:59.171 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331568498020352 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:07:59.172 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331568498020352 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:07:59.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331697766469632 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:07:59.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331697766469632 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:07:59.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331697766469632 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:07:59.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331697766469632 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:07:59.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331697766469632 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:07:59.174 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331697766469632 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:07:59.175 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331697766469632 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38331701310656512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:08:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38331701310656512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:08:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38331701310656512 [0;39m ==> Parameters: 
2023-05-13 21:08:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38331701310656512 [0;39m <==    Updates: 0
2023-05-13 21:08:00.030 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38331701310656512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 21:08:00.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331702984183808 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:00.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331702984183808 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:08:00.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331702984183808 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:08:00.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331702984183808 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:00.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331702984183808 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:08:00.418 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331702984183808 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:08:00.419 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331702984183808 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:08:00.420 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331702984183808 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:08:00.420 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331702984183808 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:08:00.421 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331702984183808 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:08:00.421 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331702984183808 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:08:00.421 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331702984183808 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:08:00.422 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331702984183808 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:08:00.422 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331702984183808 [0;39m <==      Total: 5
2023-05-13 21:08:00.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331702984183808 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:08:00.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331702984183808 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 21:08:01.258 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331574571372544 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:01.258 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331574571372544 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:01.258 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331574571372544 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:01.259 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331574571372544 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:01.260 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331706519982080 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:01.260 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331706519982080 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:01.260 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331706519982080 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:01.260 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331706519982080 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:01.260 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331706519982080 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:01.260 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331706519982080 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:01.262 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331706519982080 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:01.805 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38326354126704640 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:01.806 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38326354126704640 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:01.806 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38326354126704640 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:01.808 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38326354126704640 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331708818460672 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:01.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331708818460672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:01.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331708818460672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:01.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331708818460672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:01.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331708818460672 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:01.809 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331708818460672 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:01.810 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331708818460672 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:01.988 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38326284358651904 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:01.989 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38326284358651904 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:01.989 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38326284358651904 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:01.990 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38326284358651904 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:01.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331709586018304 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:01.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331709586018304 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:01.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331709586018304 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:01.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331709586018304 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:01.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331709586018304 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:01.992 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331709586018304 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:01.992 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331709586018304 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:02.117 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331645132148737 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:02.118 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331645132148737 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:02.118 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331645132148737 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:02.121 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331645132148737 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:02.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331710135472128 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:02.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331710135472128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:02.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331710135472128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:02.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331710135472128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:02.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331710135472128 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:02.123 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331710135472128 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:02.124 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331710135472128 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:02.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:08:02.248 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331645132148736 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:02.248 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331645132148736 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:02.248 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331645132148736 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:02.249 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331645132148736 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:02.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331710668148736 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:02.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331710668148736 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:02.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331710668148736 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:02.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331710668148736 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:02.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331710668148736 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:02.250 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331710668148736 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:02.251 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331710668148736 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:02.407 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331646138781696 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:02.407 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331646138781696 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:02.408 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331646138781696 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:02.413 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331646138781696 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:02.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331711360208896 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:02.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331711360208896 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:02.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331711360208896 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:02.415 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331711360208896 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:02.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331711360208896 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:02.417 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331711360208896 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:02.418 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331711360208896 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:02.521 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331655383027712 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:02.521 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331655383027712 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:02.521 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331655383027712 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:02.522 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331655383027712 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:02.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331711813193728 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:02.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331711813193728 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:02.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331711813193728 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:02.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331711813193728 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:02.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331711813193728 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:02.524 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331711813193728 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:02.525 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331711813193728 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:02.658 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331673754079232 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:02.659 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331673754079232 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:02.659 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331673754079232 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:02.666 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331673754079232 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:02.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331712425562112 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:02.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331712425562112 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:02.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331712425562112 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:02.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331712425562112 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:02.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331712425562112 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:02.673 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331712425562112 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:02.675 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331712425562112 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:02.811 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331697766469632 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:02.811 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331697766469632 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:02.813 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331697766469632 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:02.816 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331697766469632 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:02.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331713050513408 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:02.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331713050513408 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:02.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331713050513408 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:02.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331713050513408 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:02.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331713050513408 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:02.819 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331713050513408 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:02.819 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331713050513408 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:02.950 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331702984183808 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:02.950 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331702984183808 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:02.950 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331702984183808 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:02.951 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331702984183808 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:02.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331713612550144 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:02.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331713612550144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:02.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331713612550144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:02.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331713612550144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:02.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331713612550144 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:02.952 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331713612550144 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:02.954 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331713612550144 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:03.101 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331706519982080 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:03.102 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331706519982080 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:03.102 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331706519982080 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:03.103 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331706519982080 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:03.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331714258472960 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:03.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331714258472960 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:03.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331714258472960 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:03.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331714258472960 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:03.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331714258472960 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:03.106 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331714258472960 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:03.107 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331714258472960 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:03.246 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331708818460672 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:03.246 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331708818460672 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:03.247 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331708818460672 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:03.248 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331708818460672 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:03.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331714862452736 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:03.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331714862452736 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:03.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331714862452736 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:03.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331714862452736 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:03.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331714862452736 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:03.250 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331714862452736 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:03.253 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331714862452736 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:03.376 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331709586018304 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:03.378 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331709586018304 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:03.378 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331709586018304 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:03.382 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331709586018304 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:03.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331715424489472 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:03.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331715424489472 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:03.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331715424489472 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:03.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331715424489472 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:03.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331715424489472 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:03.387 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331715424489472 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:03.387 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331715424489472 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:03.525 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331710135472128 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:03.525 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331710135472128 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:03.526 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331710135472128 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:03.528 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331710135472128 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:03.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331716041052160 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:03.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331716041052160 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:03.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331716041052160 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:03.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331716041052160 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:03.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331716041052160 [0;39m è¯·æ±‚å‚æ•°: [{"content":"","ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:03.531 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m38331716041052160 [0;39m ä¸šåŠ¡å¼‚å¸¸ï¼šè¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥
2023-05-13 21:08:03.532 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38331716041052160 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: è¯„è®ºä¸ºç©ºï¼Œæ— æ³•æäº¤ï¼Œè¯·é‡æ–°è¾“å…¥]
2023-05-13 21:08:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38331722269593600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:08:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331722269593600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:08:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331722269593600 [0;39m ==> Parameters: 
2023-05-13 21:08:05.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331722269593600 [0;39m <==    Updates: 1
2023-05-13 21:08:05.033 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38331722269593600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š17æ¯«ç§’
2023-05-13 21:08:07.042 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38331710668148736 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šk5uEsborV5ï¼Œsession idï¼š18ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 21:08:08.331 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38331711360208896 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šK0aGeUAchDï¼Œsession idï¼š19ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 21:08:08.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331736706387968 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:08.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331736706387969 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:08.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331736706387968 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 21:08:08.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331736706387969 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:08:08.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331736706387968 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 21:08:08.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331736706387969 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:08:08.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331736706387968 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:08.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331736706387969 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:08.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331736706387968 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:08:08.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331736706387969 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:08:08.460 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331736706387969 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:08:08.461 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331736706387969 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:08:08.462 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331736706387969 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:08:08.462 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331736706387969 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:08:08.463 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38331736706387968 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 21:08:08.463 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331736706387969 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:08:08.463 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38331736706387968 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:08:08.464 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331736706387969 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:08:08.464 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331736706387969 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:08:08.464 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331736706387968 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 21:08:08.464 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331736706387969 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:08:08.464 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331736706387968 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 164, 7
2023-05-13 21:08:08.464 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331736706387969 [0;39m <==      Total: 5
2023-05-13 21:08:08.464 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331736706387968 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 21:08:08.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331736706387968 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 21:08:08.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331736706387969 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:08:08.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331736706387969 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 21:08:08.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331736706387968 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 21:08:08.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331736706387968 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 21:08:08.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331736706387968 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 21:08:08.466 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331736706387968 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 21:08:08.466 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38331736706387968 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 21:08:08.466 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38331736706387968 [0;39m <==      Total: 8
2023-05-13 21:08:08.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331736706387968 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":164,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 21:08:08.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331736706387968 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 21:08:08.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331737650106368 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:08.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331737650106368 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 21:08:08.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331737650106368 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 21:08:08.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331737650106368 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:08.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331737650106368 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:08:08.683 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38331737650106368 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 21:08:08.684 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38331737650106368 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:08:08.685 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38331737650106368 [0;39m <==    Columns: id, content
2023-05-13 21:08:08.685 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38331737650106368 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 21:08:08.685 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38331737650106368 [0;39m <==      Total: 1
2023-05-13 21:08:08.686 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38331737650106368 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 21:08:08.686 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38331737650106368 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:08:08.697 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38331737650106368 [0;39m <==    Updates: 1
2023-05-13 21:08:08.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331737650106368 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 21:08:08.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331737650106368 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-13 21:08:14.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:08:17.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:08:18.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331777273696256 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:18.130 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331777273696256 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:08:18.130 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331777273696256 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:08:18.130 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331777273696256 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:18.130 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331777273696256 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:08:18.131 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331777273696256 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:08:18.131 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331777273696256 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:08:18.132 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331777273696256 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:08:18.132 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331777273696256 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:08:18.132 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331777273696256 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:08:18.132 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331777273696256 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:08:18.133 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331777273696256 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:08:18.133 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331777273696256 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:08:18.133 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331777273696256 [0;39m <==      Total: 5
2023-05-13 21:08:18.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331777273696256 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:08:18.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331777273696256 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 21:08:19.187 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38331714258472960 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 21:08:19.189 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38331714258472960 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 21:08:19.189 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38331714258472960 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38323888622538752
2023-05-13 21:08:19.193 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38331714258472960 [0;39m å·²ç™»å½•ï¼š{"id":37814121005191174,"loginName":"12","name":"12","token":"38323888622538752"}
2023-05-13 21:08:19.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331781740630016 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:19.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331781740630016 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 21:08:19.195 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331781740630016 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 21:08:19.195 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331781740630016 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:19.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331781740630016 [0;39m è¯·æ±‚å‚æ•°: [{"ebookId":1,"userId":37814121005191174}]
2023-05-13 21:08:19.196 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38331781740630016 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 21:08:19.197 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38331781740630016 [0;39m ==> Parameters: 37814121005191174(Long)
2023-05-13 21:08:19.198 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38331781740630016 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 21:08:19.198 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38331781740630016 [0;39m <==        Row: 37814121005191174, 12, 12, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-13 21:08:19.198 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38331781740630016 [0;39m <==      Total: 1
2023-05-13 21:08:19.199 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38331781740630016 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 21:08:19.199 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38331781740630016 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:08:19.199 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38331781740630016 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 21:08:19.200 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38331781740630016 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 198, 12
2023-05-13 21:08:19.200 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38331781740630016 [0;39m <==      Total: 1
2023-05-13 21:08:19.200 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38331781740630016 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 21:08:19.201 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38331781740630016 [0;39m ==> Parameters: null, 37814121005191174(Long), 1(Long), null, 2023-05-13 21:08:19.2(Timestamp), null
2023-05-13 21:08:19.209 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38331781740630016 [0;39m <==    Updates: 1
2023-05-13 21:08:19.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331781740630016 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 21:08:19.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331781740630016 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-13 21:08:19.211 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38331781740630016 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-05-13 21:08:19.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38331781879042048 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:08:19.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38331781879042048 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:08:19.230 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38331781879042048 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:08:19.230 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38331781879042048 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:08:19.231 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38331781879042048 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:08:19.232 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331781879042048 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:08:19.232 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331781879042048 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:08:19.233 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331781879042048 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:08:19.233 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331781879042048 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:08:19.233 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331781879042048 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:08:19.234 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331781879042048 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:08:19.234 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331781879042048 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:08:19.234 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331781879042048 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:08:19.235 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38331781879042048 [0;39m <==        Row: 14, 37814121005191174, 1, null, 2023-05-13 21:08:19, null
2023-05-13 21:08:19.235 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38331781879042048 [0;39m <==      Total: 6
2023-05-13 21:08:19.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38331781879042048 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174},{"createTime":1683983299000,"ebookId":1,"id":14,"userId":37814121005191174}],"success":true}
2023-05-13 21:08:19.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38331781879042048 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 21:08:26.347 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:08:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38331848052576256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:08:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331848052576256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:08:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331848052576256 [0;39m ==> Parameters: 
2023-05-13 21:08:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331848052576256 [0;39m <==    Updates: 1
2023-05-13 21:08:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38331848052576256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š14æ¯«ç§’
2023-05-13 21:08:43.131 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:08:44.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:08:47.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:08:51.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:09:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38331952922759168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:09:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38331952922759168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:09:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38331952922759168 [0;39m ==> Parameters: 
2023-05-13 21:09:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38331952922759168 [0;39m <==    Updates: 0
2023-05-13 21:09:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38331952922759168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 21:09:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38331973881696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:09:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331973881696256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:09:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331973881696256 [0;39m ==> Parameters: 
2023-05-13 21:09:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38331973881696256 [0;39m <==    Updates: 1
2023-05-13 21:09:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38331973881696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 21:09:13.086 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:09:14.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:09:15.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:09:17.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:09:19.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:09:28.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332071239880704 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:09:28.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332071239880704 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 21:09:28.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332071239880704 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 21:09:28.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332071239880704 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:09:28.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332071239880704 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:09:28.219 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332071239880704 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 21:09:28.219 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332071239880704 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:09:28.220 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332071239880704 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 21:09:28.221 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332071239880704 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 165, 7
2023-05-13 21:09:28.221 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332071239880704 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 21:09:28.221 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332071239880704 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 21:09:28.221 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332071239880704 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 21:09:28.222 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332071239880704 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 21:09:28.222 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332071239880704 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 21:09:28.222 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332071239880704 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 21:09:28.222 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332071239880704 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 21:09:28.223 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332071239880704 [0;39m <==      Total: 8
2023-05-13 21:09:28.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332071239880704 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":165,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 21:09:28.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332071239880704 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 21:09:28.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332071357321216 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:09:28.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332071357321216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:09:28.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332071357321216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:09:28.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332071357321216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:09:28.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332071357321216 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:09:28.245 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332071357321216 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:09:28.246 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332071357321216 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:09:28.246 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332071357321216 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:09:28.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332071357321216 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:09:28.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332071357321216 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:09:28.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332071357321216 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:09:28.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332071357321216 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:09:28.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332071357321216 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:09:28.248 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332071357321216 [0;39m <==      Total: 5
2023-05-13 21:09:28.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332071357321216 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:09:28.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332071357321216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 21:09:28.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332072649166848 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:09:28.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332072649166848 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 21:09:28.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332072649166848 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 21:09:28.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332072649166848 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:09:28.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332072649166848 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:09:28.553 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332072649166848 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 21:09:28.554 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332072649166848 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:09:28.554 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332072649166848 [0;39m <==    Columns: id, content
2023-05-13 21:09:28.555 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332072649166848 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 21:09:28.555 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332072649166848 [0;39m <==      Total: 1
2023-05-13 21:09:28.555 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332072649166848 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 21:09:28.555 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332072649166848 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:09:28.558 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332072649166848 [0;39m <==    Updates: 1
2023-05-13 21:09:28.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332072649166848 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 21:09:28.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332072649166848 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 21:09:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38332099710816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:09:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332099710816256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:09:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332099710816256 [0;39m ==> Parameters: 
2023-05-13 21:09:35.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332099710816256 [0;39m <==    Updates: 1
2023-05-13 21:09:35.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38332099710816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š105æ¯«ç§’
2023-05-13 21:09:41.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:09:43.950 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:09:44.311 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:09:50.851 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:10:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38332204601970688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:10:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38332204601970688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:10:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38332204601970688 [0;39m ==> Parameters: 
2023-05-13 21:10:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38332204601970688 [0;39m <==    Updates: 0
2023-05-13 21:10:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38332204601970688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 21:10:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38332225556713472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:10:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332225556713472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:10:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332225556713472 [0;39m ==> Parameters: 
2023-05-13 21:10:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332225556713472 [0;39m <==    Updates: 1
2023-05-13 21:10:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38332225556713472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:10:06.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:10:08.390 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:10:14.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:10:15.151 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:10:17.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:10:23.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332304992636928 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:10:23.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332304992636928 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 21:10:23.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332304992636928 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 21:10:23.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332304992636928 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:10:23.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332304992636928 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:10:23.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332305001025536 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:10:23.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332305001025536 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:10:23.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332305001025536 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:10:23.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332305001025536 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:10:23.950 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332304992636928 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 21:10:23.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332305001025536 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:10:23.950 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332304992636928 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:10:23.950 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332305001025536 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:10:23.951 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332305001025536 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:10:23.951 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332304992636928 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 21:10:23.951 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332304992636928 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 166, 7
2023-05-13 21:10:23.951 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332305001025536 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:10:23.951 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332304992636928 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 21:10:23.951 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332305001025536 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:10:23.951 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332304992636928 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 21:10:23.953 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332304992636928 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 21:10:23.953 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332305001025536 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:10:23.953 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332304992636928 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 21:10:23.953 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332305001025536 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:10:23.953 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332304992636928 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 21:10:23.953 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332305001025536 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:10:23.953 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332304992636928 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 21:10:23.953 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332305001025536 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:10:23.953 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332304992636928 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 21:10:23.953 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332305001025536 [0;39m <==      Total: 5
2023-05-13 21:10:23.954 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332304992636928 [0;39m <==      Total: 8
2023-05-13 21:10:23.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332305001025536 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:10:23.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332305001025536 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 21:10:23.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332304992636928 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":166,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 21:10:23.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332304992636928 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 21:10:24.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332305407873024 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:10:24.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332305407873024 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 21:10:24.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332305407873024 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 21:10:24.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332305407873024 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:10:24.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332305407873024 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:10:24.048 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332305407873024 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 21:10:24.048 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332305407873024 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:10:24.049 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332305407873024 [0;39m <==    Columns: id, content
2023-05-13 21:10:24.050 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332305407873024 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 21:10:24.050 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332305407873024 [0;39m <==      Total: 1
2023-05-13 21:10:24.050 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332305407873024 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 21:10:24.051 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332305407873024 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:10:24.052 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332305407873024 [0;39m <==    Updates: 1
2023-05-13 21:10:24.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332305407873024 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 21:10:24.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332305407873024 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 21:10:32.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:10:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38332351369056256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:10:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332351369056256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:10:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332351369056256 [0;39m ==> Parameters: 
2023-05-13 21:10:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332351369056256 [0;39m <==    Updates: 1
2023-05-13 21:10:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38332351369056256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 21:10:35.435 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38331781740630016 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šK0aGeUAchDï¼Œsession idï¼š19ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 21:10:35.985 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38331781879042048 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼škYFRbHgLIGï¼Œsession idï¼š1aï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 21:10:36.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332355940847616 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:10:36.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332355940847616 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 21:10:36.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332355940847616 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 21:10:36.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332355945041920 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:10:36.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332355940847616 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:10:36.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332355945041920 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:10:36.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332355940847616 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:10:36.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332355945041920 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:10:36.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332355945041920 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:10:36.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332355945041920 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:10:36.096 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332355945041920 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:10:36.096 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332355945041920 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:10:36.097 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332355940847616 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 21:10:36.097 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332355945041920 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:10:36.097 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332355940847616 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:10:36.097 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332355945041920 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:10:36.098 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332355945041920 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:10:36.098 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332355945041920 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:10:36.098 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332355945041920 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:10:36.098 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332355945041920 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:10:36.099 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332355945041920 [0;39m <==      Total: 5
2023-05-13 21:10:36.099 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332355945041920 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:10:36.099 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332355945041920 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 21:10:36.098 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332355940847616 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 21:10:36.101 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332355940847616 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 167, 7
2023-05-13 21:10:36.101 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332355940847616 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 21:10:36.101 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332355940847616 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 21:10:36.102 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332355940847616 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 21:10:36.102 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332355940847616 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 21:10:36.102 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332355940847616 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 21:10:36.102 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332355940847616 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 21:10:36.102 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332355940847616 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 21:10:36.103 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332355940847616 [0;39m <==      Total: 8
2023-05-13 21:10:36.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332355940847616 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":167,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 21:10:36.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332355940847616 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 21:10:36.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332356867788800 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:10:36.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332356867788800 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 21:10:36.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332356867788800 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 21:10:36.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332356867788800 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:10:36.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332356867788800 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:10:36.318 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332356867788800 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 21:10:36.318 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332356867788800 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:10:36.319 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332356867788800 [0;39m <==    Columns: id, content
2023-05-13 21:10:36.320 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332356867788800 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 21:10:36.320 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332356867788800 [0;39m <==      Total: 1
2023-05-13 21:10:36.320 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332356867788800 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 21:10:36.321 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332356867788800 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:10:36.322 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332356867788800 [0;39m <==    Updates: 1
2023-05-13 21:10:36.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332356867788800 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 21:10:36.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332356867788800 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 21:10:39.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332372059557888 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:10:39.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332372059557888 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:10:39.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332372059557888 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:10:39.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332372059557888 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:10:39.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332372059557888 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:10:39.939 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332372059557888 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:10:39.939 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332372059557888 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:10:39.939 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332372059557888 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:10:39.940 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332372059557888 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:10:39.940 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332372059557888 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:10:39.940 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332372059557888 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:10:39.940 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332372059557888 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:10:39.941 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332372059557888 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:10:39.941 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332372059557888 [0;39m <==      Total: 5
2023-05-13 21:10:39.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332372059557888 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:10:39.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332372059557888 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 21:10:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:10:45.154 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:10:47.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:10:49.798 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38332072649166848 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼škYFRbHgLIGï¼Œsession idï¼š1aï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 21:10:58.841 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:10:58.842 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38332305001025536 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šLglkZlXIjKï¼Œsession idï¼š1bï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 21:10:59.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332453882040320 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:10:59.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332453882040320 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 21:10:59.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332453882040320 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 21:10:59.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332453882040320 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:10:59.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332453882040320 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:10:59.446 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332453882040320 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 21:10:59.446 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332453882040320 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:10:59.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332453882040320 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 21:10:59.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332453882040320 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 168, 7
2023-05-13 21:10:59.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332453882040320 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 21:10:59.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332453882040320 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 21:10:59.450 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332453882040320 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 21:10:59.450 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332453882040320 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 21:10:59.450 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332453882040320 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 21:10:59.450 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332453882040320 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 21:10:59.451 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332453882040320 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 21:10:59.451 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332453882040320 [0;39m <==      Total: 8
2023-05-13 21:10:59.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332453882040320 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":168,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 21:10:59.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332453882040320 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 21:10:59.656 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332454767038464 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:10:59.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332454767038464 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:10:59.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332454767038464 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:10:59.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332454767038464 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:10:59.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332454767038464 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:10:59.661 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332454767038464 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:10:59.661 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332454767038464 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:10:59.662 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332454767038464 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:10:59.663 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332454767038464 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:10:59.663 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332454767038464 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:10:59.664 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332454767038464 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:10:59.664 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332454767038464 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:10:59.665 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332454767038464 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:10:59.665 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332454767038464 [0;39m <==      Total: 5
2023-05-13 21:10:59.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332454767038464 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:10:59.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332454767038464 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 21:10:59.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332455597510656 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:10:59.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332455597510656 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 21:10:59.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332455597510656 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 21:10:59.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332455597510656 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:10:59.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332455597510656 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:10:59.858 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332455597510656 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 21:10:59.859 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332455597510656 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:10:59.860 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332455597510656 [0;39m <==    Columns: id, content
2023-05-13 21:10:59.860 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332455597510656 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 21:10:59.861 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332455597510656 [0;39m <==      Total: 1
2023-05-13 21:10:59.861 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332455597510656 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 21:10:59.861 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332455597510656 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:10:59.863 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332455597510656 [0;39m <==    Updates: 1
2023-05-13 21:10:59.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332455597510656 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 21:10:59.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332455597510656 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 21:11:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38332456243433472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38332456243433472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38332456243433472 [0;39m ==> Parameters: 
2023-05-13 21:11:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38332456243433472 [0;39m <==    Updates: 0
2023-05-13 21:11:00.029 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38332456243433472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š18æ¯«ç§’
2023-05-13 21:11:04.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332473456857088 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:11:04.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332473456857088 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 21:11:04.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332473456857088 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 21:11:04.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332473456857088 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:11:04.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332473456857088 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:11:04.117 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332473456857088 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 21:11:04.117 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332473456857088 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:11:04.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332473477828608 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:11:04.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332473477828608 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:11:04.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332473477828608 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:11:04.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332473477828608 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:11:04.118 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332473456857088 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 21:11:04.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332473477828608 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:11:04.118 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332473456857088 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 169, 7
2023-05-13 21:11:04.118 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332473456857088 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 21:11:04.118 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332473477828608 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:11:04.118 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332473456857088 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 21:11:04.118 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332473477828608 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:11:04.118 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332473456857088 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 21:11:04.119 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332473456857088 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 21:11:04.119 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332473456857088 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 21:11:04.119 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332473477828608 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:11:04.119 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332473456857088 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 21:11:04.119 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332473477828608 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:11:04.119 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332473456857088 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 21:11:04.119 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332473477828608 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:11:04.122 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332473456857088 [0;39m <==      Total: 8
2023-05-13 21:11:04.122 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332473477828608 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:11:04.123 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332473477828608 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:11:04.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332473456857088 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":169,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 21:11:04.123 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332473477828608 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:11:04.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332473456857088 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 21:11:04.123 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332473477828608 [0;39m <==      Total: 5
2023-05-13 21:11:04.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332473477828608 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:11:04.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332473477828608 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 21:11:04.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332475172327424 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:11:04.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332475172327424 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 21:11:04.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332475172327424 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 21:11:04.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332475172327424 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:11:04.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332475172327424 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:11:04.522 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332475172327424 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 21:11:04.523 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332475172327424 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:11:04.524 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332475172327424 [0;39m <==    Columns: id, content
2023-05-13 21:11:04.524 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332475172327424 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 21:11:04.525 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332475172327424 [0;39m <==      Total: 1
2023-05-13 21:11:04.525 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332475172327424 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 21:11:04.525 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332475172327424 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:11:04.533 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332475172327424 [0;39m <==    Updates: 1
2023-05-13 21:11:04.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332475172327424 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 21:11:05.027 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38332477294645248 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:11:05.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332475172327424 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š679 ms -------------
2023-05-13 21:11:05.264 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332477294645248 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:11:05.265 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332477294645248 [0;39m ==> Parameters: 
2023-05-13 21:11:05.303 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332477294645248 [0;39m <==    Updates: 1
2023-05-13 21:11:05.303 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38332477294645248 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š39æ¯«ç§’
2023-05-13 21:11:06.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332484718563328 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:11:06.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332484718563328 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:11:06.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332484718563328 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:11:06.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332484718563328 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:11:06.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332484718563328 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:11:06.799 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332484718563328 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:11:06.799 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332484718563328 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:11:06.800 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332484718563328 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:11:06.800 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332484718563328 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:11:06.800 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332484718563328 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:11:06.801 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332484718563328 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:11:06.801 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332484718563328 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:11:06.801 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332484718563328 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:11:06.801 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332484718563328 [0;39m <==      Total: 5
2023-05-13 21:11:06.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332484718563328 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:11:06.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332484718563328 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 21:11:14.241 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:11:15.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:11:17.142 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:11:22.940 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:11:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38332603056656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:11:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332603056656384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:11:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332603056656384 [0;39m ==> Parameters: 
2023-05-13 21:11:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332603056656384 [0;39m <==    Updates: 1
2023-05-13 21:11:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38332603056656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 21:11:44.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:11:45.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:11:47.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:11:49.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:12:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38332707922644992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:12:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38332707922644992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:12:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38332707922644992 [0;39m ==> Parameters: 
2023-05-13 21:12:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38332707922644992 [0;39m <==    Updates: 0
2023-05-13 21:12:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38332707922644992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 21:12:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38332728864804864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:12:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332728864804864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:12:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332728864804864 [0;39m ==> Parameters: 
2023-05-13 21:12:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332728864804864 [0;39m <==    Updates: 1
2023-05-13 21:12:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38332728864804864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:12:13.351 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:12:14.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:12:15.397 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:12:19.722 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:12:25.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332813241618432 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:12:25.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332813241618432 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 21:12:25.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332813241618432 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 21:12:25.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332813241618432 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:12:25.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332813241618432 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:12:25.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332813245812736 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:12:25.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332813245812736 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:12:25.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332813245812736 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:12:25.125 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332813241618432 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 21:12:25.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332813245812736 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:12:25.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332813245812736 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:12:25.125 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332813241618432 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:12:25.126 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332813241618432 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 21:12:25.126 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332813245812736 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:12:25.126 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332813241618432 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 170, 7
2023-05-13 21:12:25.127 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332813245812736 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:12:25.127 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332813241618432 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 21:12:25.127 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332813241618432 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 21:12:25.127 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332813241618432 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 21:12:25.127 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332813245812736 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:12:25.127 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332813241618432 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 21:12:25.127 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332813245812736 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:12:25.127 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332813241618432 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 21:12:25.128 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332813245812736 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:12:25.128 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332813241618432 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 21:12:25.128 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332813245812736 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:12:26.069 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332813241618432 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 21:12:26.070 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332813241618432 [0;39m <==      Total: 8
2023-05-13 21:12:26.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332813241618432 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":170,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 21:12:26.071 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332813241618432 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š948 ms -------------
2023-05-13 21:12:26.069 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332813245812736 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:12:26.075 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332813245812736 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:12:26.075 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332813245812736 [0;39m <==      Total: 5
2023-05-13 21:12:26.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332813245812736 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:12:26.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332813245812736 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š952 ms -------------
2023-05-13 21:12:26.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332817398173696 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:12:26.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332817398173696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 21:12:26.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332817398173696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 21:12:26.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332817398173696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:12:26.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332817398173696 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:12:26.117 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332817398173696 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 21:12:26.120 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332817398173696 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:12:26.217 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332817398173696 [0;39m <==    Columns: id, content
2023-05-13 21:12:26.217 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332817398173696 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 21:12:26.218 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332817398173696 [0;39m <==      Total: 1
2023-05-13 21:12:26.218 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332817398173696 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 21:12:26.219 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332817398173696 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:12:26.226 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332817398173696 [0;39m <==    Updates: 1
2023-05-13 21:12:26.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332817398173696 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 21:12:26.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332817398173696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š113 ms -------------
2023-05-13 21:12:27.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332824830480384 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:12:27.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332824830480384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:12:27.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332824830480384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:12:27.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332824830480384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:12:27.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332824830480384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:12:27.888 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332824830480384 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:12:27.888 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332824830480384 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:12:27.889 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332824830480384 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:12:27.889 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332824830480384 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:12:27.889 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332824830480384 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:12:27.890 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332824830480384 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:12:27.890 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332824830480384 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:12:27.890 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332824830480384 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:12:27.890 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332824830480384 [0;39m <==      Total: 5
2023-05-13 21:12:27.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332824830480384 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:12:27.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332824830480384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 21:12:35.032 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38332854802976768 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:12:35.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332854802976768 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:12:35.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332854802976768 [0;39m ==> Parameters: 
2023-05-13 21:12:35.086 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332854802976768 [0;39m <==    Updates: 1
2023-05-13 21:12:35.086 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38332854802976768 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š54æ¯«ç§’
2023-05-13 21:12:36.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:12:38.483 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:12:40.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332876667883520 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:12:40.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332876667883520 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 21:12:40.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332876672077824 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:12:40.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332876667883520 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 21:12:40.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332876672077824 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-13 21:12:40.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332876667883520 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:12:40.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332876672077824 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.comments
2023-05-13 21:12:40.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332876667883520 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:12:40.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332876672077824 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:12:40.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332876672077824 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:12:40.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332876672077824 [0;39m ==>  Preparing: SELECT * FROM comment WHERE ebook_id = ?
2023-05-13 21:12:40.247 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332876667883520 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 21:12:40.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332876672077824 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:12:40.247 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332876667883520 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:12:40.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332876672077824 [0;39m <==    Columns: id, user_id, ebook_id, content, create_time, update_time
2023-05-13 21:12:40.248 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332876667883520 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 21:12:40.248 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332876667883520 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 171, 7
2023-05-13 21:12:40.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332876672077824 [0;39m <==        Row: 1, 1, 1, good, 2023-05-13 03:33:45, null
2023-05-13 21:12:40.249 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332876667883520 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 9, 2
2023-05-13 21:12:40.249 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332876672077824 [0;39m <==        Row: 2, 1, 1, Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼, 2023-05-13 17:20:27, null
2023-05-13 21:12:40.249 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332876667883520 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 6, 1
2023-05-13 21:12:40.249 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332876672077824 [0;39m <==        Row: 3, 37814121005191174, 1, Spring, 2023-05-13 20:37:11, null
2023-05-13 21:12:40.249 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332876667883520 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 5, 1
2023-05-13 21:12:40.249 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332876672077824 [0;39m <==        Row: 11, 37814121005191174, 1, null, 2023-05-13 20:46:30, null
2023-05-13 21:12:40.249 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332876667883520 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 3, 0
2023-05-13 21:12:40.249 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m38332876672077824 [0;39m <==        Row: 12, 37814121005191174, 1, ewq, 2023-05-13 20:46:44, null
2023-05-13 21:12:40.249 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332876667883520 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 3, 0
2023-05-13 21:12:40.249 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m38332876672077824 [0;39m <==      Total: 5
2023-05-13 21:12:40.250 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332876667883520 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 3, 0
2023-05-13 21:12:40.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332876672077824 [0;39m è¿”å›žç»“æžœ: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"userId":1},{"content":"Springbootçš„è‡ªåŠ¨åŒ–é…ç½®å¾ˆæ¸…æ™°ï¼","createTime":1683969627000,"ebookId":1,"id":2,"userId":1},{"content":"Spring","createTime":1683981431000,"ebookId":1,"id":3,"userId":37814121005191174},{"createTime":1683981990000,"ebookId":1,"id":11,"userId":37814121005191174},{"content":"ewq","createTime":1683982004000,"ebookId":1,"id":12,"userId":37814121005191174}],"success":true}
2023-05-13 21:12:40.250 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38332876667883520 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 1
2023-05-13 21:12:40.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332876672077824 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š4 ms -------------
2023-05-13 21:12:40.250 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38332876667883520 [0;39m <==      Total: 8
2023-05-13 21:12:40.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332876667883520 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":171,"voteCount":7},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-13 21:12:40.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332876667883520 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 21:12:40.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38332876974067712 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 21:12:40.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38332876974067712 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 21:12:40.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38332876974067712 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 21:12:40.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38332876974067712 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 21:12:40.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38332876974067712 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 21:12:40.320 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332876974067712 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 21:12:40.320 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332876974067712 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:12:40.321 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332876974067712 [0;39m <==    Columns: id, content
2023-05-13 21:12:40.322 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38332876974067712 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 21:12:40.322 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38332876974067712 [0;39m <==      Total: 1
2023-05-13 21:12:40.322 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332876974067712 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 21:12:40.322 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332876974067712 [0;39m ==> Parameters: 1(Long)
2023-05-13 21:12:40.324 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38332876974067712 [0;39m <==    Updates: 1
2023-05-13 21:12:40.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38332876974067712 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 21:12:40.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38332876974067712 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 21:12:43.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:12:44.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:12:45.394 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:12:47.440 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:13:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38332959564107776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:13:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38332959564107776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:13:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38332959564107776 [0;39m ==> Parameters: 
2023-05-13 21:13:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38332959564107776 [0;39m <==    Updates: 0
2023-05-13 21:13:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38332959564107776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š15æ¯«ç§’
2023-05-13 21:13:00.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:13:02.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:13:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38332980564987904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:13:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332980564987904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:13:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332980564987904 [0;39m ==> Parameters: 
2023-05-13 21:13:05.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38332980564987904 [0;39m <==    Updates: 1
2023-05-13 21:13:05.027 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38332980564987904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 21:13:13.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:13:14.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:13:17.181 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:13:26.692 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:13:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38333106377330688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:13:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333106377330688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:13:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333106377330688 [0;39m ==> Parameters: 
2023-05-13 21:13:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333106377330688 [0;39m <==    Updates: 1
2023-05-13 21:13:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38333106377330688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:13:43.135 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:13:44.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:13:45.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:13:47.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:13:49.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:13:51.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:14:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38333211222347776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:14:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38333211222347776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:14:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38333211222347776 [0;39m ==> Parameters: 
2023-05-13 21:14:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38333211222347776 [0;39m <==    Updates: 0
2023-05-13 21:14:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38333211222347776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 21:14:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38333232206450688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:14:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333232206450688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:14:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333232206450688 [0;39m ==> Parameters: 
2023-05-13 21:14:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333232206450688 [0;39m <==    Updates: 1
2023-05-13 21:14:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38333232206450688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:14:13.098 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:14:14.250 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:14:17.181 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:14:19.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:14:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38333358039764992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:14:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333358039764992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:14:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333358039764992 [0;39m ==> Parameters: 
2023-05-13 21:14:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333358039764992 [0;39m <==    Updates: 1
2023-05-13 21:14:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38333358039764992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:14:43.303 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:14:44.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:14:45.356 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:14:47.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:14:49.443 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:15:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38333462855421952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:15:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38333462855421952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:15:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38333462855421952 [0;39m ==> Parameters: 
2023-05-13 21:15:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38333462855421952 [0;39m <==    Updates: 0
2023-05-13 21:15:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38333462855421952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:15:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38333483847913472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:15:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333483847913472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:15:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333483847913472 [0;39m ==> Parameters: 
2023-05-13 21:15:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333483847913472 [0;39m <==    Updates: 1
2023-05-13 21:15:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38333483847913472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:15:05.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:15:07.382 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:15:14.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:15:15.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:15:17.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:15:29.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:15:31.469 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:15:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38333609668644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:15:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333609668644864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:15:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333609668644864 [0;39m ==> Parameters: 
2023-05-13 21:15:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333609668644864 [0;39m <==    Updates: 1
2023-05-13 21:15:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38333609668644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:15:43.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:15:44.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:15:45.163 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:15:47.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:15:53.528 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:15:55.574 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:16:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38333714513661952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:16:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38333714513661952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:16:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38333714513661952 [0;39m ==> Parameters: 
2023-05-13 21:16:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38333714513661952 [0;39m <==    Updates: 0
2023-05-13 21:16:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38333714513661952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:16:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38333735539707904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:16:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333735539707904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:16:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333735539707904 [0;39m ==> Parameters: 
2023-05-13 21:16:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333735539707904 [0;39m <==    Updates: 1
2023-05-13 21:16:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38333735539707904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:16:13.110 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:16:14.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:16:15.136 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:16:17.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:16:21.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:16:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38333861314301952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:16:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333861314301952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:16:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333861314301952 [0;39m ==> Parameters: 
2023-05-13 21:16:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333861314301952 [0;39m <==    Updates: 1
2023-05-13 21:16:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38333861314301952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:16:43.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:16:44.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:16:45.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:16:47.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:16:49.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:17:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38333966176096256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:17:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38333966176096256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:17:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38333966176096256 [0;39m ==> Parameters: 
2023-05-13 21:17:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38333966176096256 [0;39m <==    Updates: 0
2023-05-13 21:17:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38333966176096256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:17:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38333987139227648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:17:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333987139227648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:17:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333987139227648 [0;39m ==> Parameters: 
2023-05-13 21:17:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38333987139227648 [0;39m <==    Updates: 1
2023-05-13 21:17:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38333987139227648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:17:13.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:17:14.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:17:17.455 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:17:19.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:17:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38334113018679296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:17:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334113018679296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:17:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334113018679296 [0;39m ==> Parameters: 
2023-05-13 21:17:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334113018679296 [0;39m <==    Updates: 1
2023-05-13 21:17:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38334113018679296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:17:35.373 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:17:37.417 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:17:44.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:17:45.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:17:47.152 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:17:59.467 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:18:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38334217859502080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:18:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38334217859502080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:18:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38334217859502080 [0;39m ==> Parameters: 
2023-05-13 21:18:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38334217859502080 [0;39m <==    Updates: 0
2023-05-13 21:18:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38334217859502080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:18:01.507 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:18:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38334238805856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:18:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334238805856256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:18:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334238805856256 [0;39m ==> Parameters: 
2023-05-13 21:18:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334238805856256 [0;39m <==    Updates: 1
2023-05-13 21:18:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38334238805856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:18:13.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:18:14.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:18:17.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:18:23.545 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:18:25.577 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:18:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38334364660142080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:18:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334364660142080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334364660142080 [0;39m ==> Parameters: 
2023-05-13 21:18:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334364660142080 [0;39m <==    Updates: 1
2023-05-13 21:18:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38334364660142080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:18:43.107 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:18:44.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:18:45.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:18:47.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:18:49.235 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:18:51.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:19:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38334469505159168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:19:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38334469505159168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:19:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38334469505159168 [0;39m ==> Parameters: 
2023-05-13 21:19:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38334469505159168 [0;39m <==    Updates: 0
2023-05-13 21:19:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38334469505159168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:19:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38334490485067776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:19:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334490485067776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:19:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334490485067776 [0;39m ==> Parameters: 
2023-05-13 21:19:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334490485067776 [0;39m <==    Updates: 1
2023-05-13 21:19:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38334490485067776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:19:14.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:19:15.249 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:19:17.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:19:19.359 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:19:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38334616289021952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:19:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334616289021952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:19:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334616289021952 [0;39m ==> Parameters: 
2023-05-13 21:19:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334616289021952 [0;39m <==    Updates: 1
2023-05-13 21:19:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38334616289021952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:19:41.431 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:19:43.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:19:44.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:19:45.525 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:19:49.621 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:20:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38334721155010560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:20:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38334721155010560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:20:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38334721155010560 [0;39m ==> Parameters: 
2023-05-13 21:20:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38334721155010560 [0;39m <==    Updates: 0
2023-05-13 21:20:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38334721155010560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:20:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38334742151696384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:20:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334742151696384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:20:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334742151696384 [0;39m ==> Parameters: 
2023-05-13 21:20:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334742151696384 [0;39m <==    Updates: 1
2023-05-13 21:20:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38334742151696384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:20:05.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:20:07.575 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:20:13.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:20:14.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:20:17.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:20:31.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:20:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38334867997593600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:20:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334867997593600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:20:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334867997593600 [0;39m ==> Parameters: 
2023-05-13 21:20:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334867997593600 [0;39m <==    Updates: 1
2023-05-13 21:20:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38334867997593600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:20:44.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:20:45.166 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:20:47.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:20:53.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:20:55.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:21:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38334972809056256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:21:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38334972809056256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:21:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38334972809056256 [0;39m ==> Parameters: 
2023-05-13 21:21:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38334972809056256 [0;39m <==    Updates: 0
2023-05-13 21:21:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38334972809056256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:21:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38334993805742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334993805742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:21:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334993805742080 [0;39m ==> Parameters: 
2023-05-13 21:21:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38334993805742080 [0;39m <==    Updates: 1
2023-05-13 21:21:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38334993805742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:21:13.088 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:21:14.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:21:17.167 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:21:19.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:21:21.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:21:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38335119601307648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:21:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335119601307648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:21:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335119601307648 [0;39m ==> Parameters: 
2023-05-13 21:21:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335119601307648 [0;39m <==    Updates: 1
2023-05-13 21:21:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38335119601307648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:21:43.130 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:21:44.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:21:45.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:21:47.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:21:49.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:22:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38335224492462080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:22:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38335224492462080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:22:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38335224492462080 [0;39m ==> Parameters: 
2023-05-13 21:22:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38335224492462080 [0;39m <==    Updates: 0
2023-05-13 21:22:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38335224492462080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:22:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38335245434621952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:22:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335245434621952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:22:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335245434621952 [0;39m ==> Parameters: 
2023-05-13 21:22:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335245434621952 [0;39m <==    Updates: 1
2023-05-13 21:22:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38335245434621952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:22:13.405 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:22:14.293 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:22:17.500 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:22:19.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:22:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38335371255353344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:22:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335371255353344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:22:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335371255353344 [0;39m ==> Parameters: 
2023-05-13 21:22:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335371255353344 [0;39m <==    Updates: 1
2023-05-13 21:22:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38335371255353344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:22:37.501 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:22:44.299 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:22:45.151 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:22:47.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:23:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38335476167479296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:23:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38335476167479296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:23:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38335476167479296 [0;39m ==> Parameters: 
2023-05-13 21:23:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38335476167479296 [0;39m <==    Updates: 0
2023-05-13 21:23:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38335476167479296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:23:01.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:23:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38335497109639168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:23:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335497109639168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:23:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335497109639168 [0;39m ==> Parameters: 
2023-05-13 21:23:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335497109639168 [0;39m <==    Updates: 1
2023-05-13 21:23:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38335497109639168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 21:23:13.142 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:23:14.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:23:15.181 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:23:17.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:23:25.689 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:23:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38335622968119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335622968119296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335622968119296 [0;39m ==> Parameters: 
2023-05-13 21:23:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335622968119296 [0;39m <==    Updates: 1
2023-05-13 21:23:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38335622968119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:23:44.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:23:45.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:23:47.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:23:51.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:24:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38335727783776256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:24:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38335727783776256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:24:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38335727783776256 [0;39m ==> Parameters: 
2023-05-13 21:24:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38335727783776256 [0;39m <==    Updates: 0
2023-05-13 21:24:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38335727783776256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:24:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38335748784656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:24:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335748784656384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:24:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335748784656384 [0;39m ==> Parameters: 
2023-05-13 21:24:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335748784656384 [0;39m <==    Updates: 1
2023-05-13 21:24:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38335748784656384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:24:13.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:24:14.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:24:15.148 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:24:17.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:24:19.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:24:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38335874576027648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:24:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335874576027648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:24:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335874576027648 [0;39m ==> Parameters: 
2023-05-13 21:24:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38335874576027648 [0;39m <==    Updates: 1
2023-05-13 21:24:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38335874576027648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:24:43.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:24:44.291 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:24:45.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:24:47.441 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:24:49.473 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:25:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38335979425239040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:25:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38335979425239040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:25:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38335979425239040 [0;39m ==> Parameters: 
2023-05-13 21:25:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38335979425239040 [0;39m <==    Updates: 0
2023-05-13 21:25:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38335979425239040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:25:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38336000438702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:25:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336000438702080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:25:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336000438702080 [0;39m ==> Parameters: 
2023-05-13 21:25:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336000438702080 [0;39m <==    Updates: 1
2023-05-13 21:25:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38336000438702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:25:05.386 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:25:07.443 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:25:14.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:25:15.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:25:17.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:25:29.488 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:25:31.514 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:25:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38336126255239168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:25:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336126255239168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:25:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336126255239168 [0;39m ==> Parameters: 
2023-05-13 21:25:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336126255239168 [0;39m <==    Updates: 1
2023-05-13 21:25:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38336126255239168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 21:25:44.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:25:45.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:25:47.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:25:53.585 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:25:55.638 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:26:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38336231150587904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:26:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38336231150587904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:26:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38336231150587904 [0;39m ==> Parameters: 
2023-05-13 21:26:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38336231150587904 [0;39m <==    Updates: 0
2023-05-13 21:26:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38336231150587904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 21:26:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38336252063387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:26:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336252063387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:26:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336252063387648 [0;39m ==> Parameters: 
2023-05-13 21:26:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336252063387648 [0;39m <==    Updates: 1
2023-05-13 21:26:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38336252063387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:26:14.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:26:17.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:26:19.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:26:21.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:26:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38336377926062080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:26:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336377926062080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:26:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336377926062080 [0;39m ==> Parameters: 
2023-05-13 21:26:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336377926062080 [0;39m <==    Updates: 1
2023-05-13 21:26:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38336377926062080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:26:43.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:26:44.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:26:47.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:26:49.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:27:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38336482766884864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:27:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38336482766884864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:27:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38336482766884864 [0;39m ==> Parameters: 
2023-05-13 21:27:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38336482766884864 [0;39m <==    Updates: 0
2023-05-13 21:27:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38336482766884864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:27:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38336503717433344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:27:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336503717433344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:27:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336503717433344 [0;39m ==> Parameters: 
2023-05-13 21:27:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336503717433344 [0;39m <==    Updates: 1
2023-05-13 21:27:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38336503717433344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:27:11.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:27:13.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:27:14.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:27:17.442 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:27:19.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:27:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38336629580107776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:27:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336629580107776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:27:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336629580107776 [0;39m ==> Parameters: 
2023-05-13 21:27:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336629580107776 [0;39m <==    Updates: 1
2023-05-13 21:27:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38336629580107776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:27:35.401 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:27:37.445 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:27:43.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:27:44.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:27:45.151 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:27:47.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:28:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38336734416736256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:28:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38336734416736256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:28:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38336734416736256 [0;39m ==> Parameters: 
2023-05-13 21:28:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38336734416736256 [0;39m <==    Updates: 0
2023-05-13 21:28:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38336734416736256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:28:01.528 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:28:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38336755375673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:28:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336755375673344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:28:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336755375673344 [0;39m ==> Parameters: 
2023-05-13 21:28:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336755375673344 [0;39m <==    Updates: 1
2023-05-13 21:28:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38336755375673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:28:13.121 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:28:14.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:28:15.162 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:28:17.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:28:25.590 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:28:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38336881213181952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:28:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336881213181952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:28:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336881213181952 [0;39m ==> Parameters: 
2023-05-13 21:28:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38336881213181952 [0;39m <==    Updates: 1
2023-05-13 21:28:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38336881213181952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:28:43.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:28:44.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:28:45.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:28:47.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:28:51.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:29:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38336986104336384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:29:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38336986104336384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:29:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38336986104336384 [0;39m ==> Parameters: 
2023-05-13 21:29:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38336986104336384 [0;39m <==    Updates: 0
2023-05-13 21:29:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38336986104336384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:29:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38337007050690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:29:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337007050690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:29:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337007050690560 [0;39m ==> Parameters: 
2023-05-13 21:29:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337007050690560 [0;39m <==    Updates: 1
2023-05-13 21:29:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38337007050690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:29:13.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:29:14.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:29:15.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:29:17.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:29:19.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:29:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38337132879810560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:29:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337132879810560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:29:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337132879810560 [0;39m ==> Parameters: 
2023-05-13 21:29:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337132879810560 [0;39m <==    Updates: 1
2023-05-13 21:29:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38337132879810560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:29:43.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:29:44.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:29:45.393 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:29:49.488 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:30:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38337237758382080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:30:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38337237758382080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:30:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38337237758382080 [0;39m ==> Parameters: 
2023-05-13 21:30:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38337237758382080 [0;39m <==    Updates: 0
2023-05-13 21:30:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38337237758382080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:30:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38337258725707776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:30:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337258725707776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:30:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337258725707776 [0;39m ==> Parameters: 
2023-05-13 21:30:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337258725707776 [0;39m <==    Updates: 1
2023-05-13 21:30:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38337258725707776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:30:05.397 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:30:07.451 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:30:13.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:30:14.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:30:17.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:30:29.512 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:30:31.571 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:30:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38337384579993600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:30:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337384579993600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:30:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337384579993600 [0;39m ==> Parameters: 
2023-05-13 21:30:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337384579993600 [0;39m <==    Updates: 1
2023-05-13 21:30:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38337384579993600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:30:44.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:30:45.166 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:30:47.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:30:53.605 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:30:55.645 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:31:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38337489387261952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:31:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38337489387261952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:31:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38337489387261952 [0;39m ==> Parameters: 
2023-05-13 21:31:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38337489387261952 [0;39m <==    Updates: 0
2023-05-13 21:31:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38337489387261952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:31:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38337510392336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:31:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337510392336384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:31:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337510392336384 [0;39m ==> Parameters: 
2023-05-13 21:31:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337510392336384 [0;39m <==    Updates: 1
2023-05-13 21:31:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38337510392336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:31:13.131 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:31:14.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:31:15.173 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:31:17.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:31:19.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:31:21.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:31:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38337636208873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:31:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337636208873472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:31:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337636208873472 [0;39m ==> Parameters: 
2023-05-13 21:31:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337636208873472 [0;39m <==    Updates: 1
2023-05-13 21:31:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38337636208873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:31:43.109 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:31:44.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:31:47.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:31:49.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:32:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38337741058084864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:32:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38337741058084864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:32:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38337741058084864 [0;39m ==> Parameters: 
2023-05-13 21:32:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38337741058084864 [0;39m <==    Updates: 0
2023-05-13 21:32:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38337741058084864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:32:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38337762037993472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:32:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337762037993472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:32:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337762037993472 [0;39m ==> Parameters: 
2023-05-13 21:32:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337762037993472 [0;39m <==    Updates: 1
2023-05-13 21:32:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38337762037993472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:32:13.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:32:14.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:32:19.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:32:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38337887833559040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:32:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337887833559040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:32:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337887833559040 [0;39m ==> Parameters: 
2023-05-13 21:32:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38337887833559040 [0;39m <==    Updates: 1
2023-05-13 21:32:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38337887833559040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:32:35.360 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:32:37.388 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:32:44.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:32:47.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:33:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38337992724713472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:33:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38337992724713472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:33:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38337992724713472 [0;39m ==> Parameters: 
2023-05-13 21:33:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38337992724713472 [0;39m <==    Updates: 0
2023-05-13 21:33:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38337992724713472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:33:01.462 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:33:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38338013717204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:33:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338013717204992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:33:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338013717204992 [0;39m ==> Parameters: 
2023-05-13 21:33:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338013717204992 [0;39m <==    Updates: 1
2023-05-13 21:33:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38338013717204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 21:33:14.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:33:15.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:33:17.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:33:25.523 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:33:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38338139521159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:33:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338139521159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:33:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338139521159168 [0;39m ==> Parameters: 
2023-05-13 21:33:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338139521159168 [0;39m <==    Updates: 1
2023-05-13 21:33:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38338139521159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:33:43.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:33:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:33:45.147 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:33:47.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:33:49.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:33:51.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:34:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38338244378759168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:34:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38338244378759168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:34:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38338244378759168 [0;39m ==> Parameters: 
2023-05-13 21:34:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38338244378759168 [0;39m <==    Updates: 0
2023-05-13 21:34:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38338244378759168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:34:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38338265333501952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:34:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338265333501952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:34:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338265333501952 [0;39m ==> Parameters: 
2023-05-13 21:34:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338265333501952 [0;39m <==    Updates: 1
2023-05-13 21:34:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38338265333501952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:34:13.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:34:14.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:34:15.181 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:34:17.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:34:19.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:34:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38338391204564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:34:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338391204564992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:34:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338391204564992 [0;39m ==> Parameters: 
2023-05-13 21:34:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338391204564992 [0;39m <==    Updates: 1
2023-05-13 21:34:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38338391204564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:34:43.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:34:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:34:45.379 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:34:49.460 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:35:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38338496070553600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:35:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38338496070553600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:35:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38338496070553600 [0;39m ==> Parameters: 
2023-05-13 21:35:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38338496070553600 [0;39m <==    Updates: 0
2023-05-13 21:35:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38338496070553600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:35:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38338517033684992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:35:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338517033684992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:35:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338517033684992 [0;39m ==> Parameters: 
2023-05-13 21:35:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338517033684992 [0;39m <==    Updates: 1
2023-05-13 21:35:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38338517033684992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:35:07.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:35:14.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:35:15.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:35:17.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:35:29.478 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:35:31.523 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:35:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38338642833444864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:35:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338642833444864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:35:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338642833444864 [0;39m ==> Parameters: 
2023-05-13 21:35:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338642833444864 [0;39m <==    Updates: 1
2023-05-13 21:35:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38338642833444864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:35:43.107 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:35:44.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:35:47.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:35:53.584 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:35:55.632 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:36:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38338747720404992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:36:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38338747720404992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:36:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38338747720404992 [0;39m ==> Parameters: 
2023-05-13 21:36:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38338747720404992 [0;39m <==    Updates: 0
2023-05-13 21:36:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38338747720404992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:36:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38338768641593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:36:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338768641593344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:36:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338768641593344 [0;39m ==> Parameters: 
2023-05-13 21:36:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338768641593344 [0;39m <==    Updates: 1
2023-05-13 21:36:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38338768641593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:36:14.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:36:15.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:36:17.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:36:19.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:36:21.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:36:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38338894470713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:36:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338894470713344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:36:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338894470713344 [0;39m ==> Parameters: 
2023-05-13 21:36:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38338894470713344 [0;39m <==    Updates: 1
2023-05-13 21:36:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38338894470713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:36:43.107 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:36:44.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:36:47.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:36:49.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:37:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38338999378644992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:37:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38338999378644992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:37:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38338999378644992 [0;39m ==> Parameters: 
2023-05-13 21:37:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38338999378644992 [0;39m <==    Updates: 0
2023-05-13 21:37:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38338999378644992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:37:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38339020362747904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:37:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339020362747904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:37:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339020362747904 [0;39m ==> Parameters: 
2023-05-13 21:37:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339020362747904 [0;39m <==    Updates: 1
2023-05-13 21:37:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38339020362747904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:37:11.313 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:37:13.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:37:14.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:37:19.517 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:37:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38339146175090688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:37:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339146175090688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:37:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339146175090688 [0;39m ==> Parameters: 
2023-05-13 21:37:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339146175090688 [0;39m <==    Updates: 1
2023-05-13 21:37:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38339146175090688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:37:37.461 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:37:43.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:37:44.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:37:45.163 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:37:47.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:38:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38339251041079296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:38:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38339251041079296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:38:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38339251041079296 [0;39m ==> Parameters: 
2023-05-13 21:38:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38339251041079296 [0;39m <==    Updates: 0
2023-05-13 21:38:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38339251041079296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:38:01.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:38:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38339272012599296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:38:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339272012599296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:38:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339272012599296 [0;39m ==> Parameters: 
2023-05-13 21:38:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339272012599296 [0;39m <==    Updates: 1
2023-05-13 21:38:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38339272012599296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:38:14.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:38:15.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:38:17.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:38:23.876 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:38:25.931 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:38:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38339397837524992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:38:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339397837524992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:38:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339397837524992 [0;39m ==> Parameters: 
2023-05-13 21:38:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339397837524992 [0;39m <==    Updates: 1
2023-05-13 21:38:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38339397837524992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:38:44.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:38:47.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:38:49.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:38:51.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:39:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38339502653181952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:39:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38339502653181952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:39:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38339502653181952 [0;39m ==> Parameters: 
2023-05-13 21:39:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38339502653181952 [0;39m <==    Updates: 0
2023-05-13 21:39:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38339502653181952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 21:39:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38339523654062080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:39:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339523654062080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:39:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339523654062080 [0;39m ==> Parameters: 
2023-05-13 21:39:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339523654062080 [0;39m <==    Updates: 1
2023-05-13 21:39:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38339523654062080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:39:14.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:39:17.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:39:19.167 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:39:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38339649516736512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:39:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339649516736512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:39:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339649516736512 [0;39m ==> Parameters: 
2023-05-13 21:39:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339649516736512 [0;39m <==    Updates: 1
2023-05-13 21:39:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38339649516736512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:39:41.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:39:43.308 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:39:44.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:39:47.392 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:39:49.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:40:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38339754349170688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:40:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38339754349170688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:40:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38339754349170688 [0;39m ==> Parameters: 
2023-05-13 21:40:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38339754349170688 [0;39m <==    Updates: 0
2023-05-13 21:40:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38339754349170688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:40:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38339775329079296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:40:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339775329079296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:40:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339775329079296 [0;39m ==> Parameters: 
2023-05-13 21:40:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339775329079296 [0;39m <==    Updates: 1
2023-05-13 21:40:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38339775329079296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:40:07.585 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:40:13.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:40:14.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:40:15.166 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:40:17.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:40:31.690 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:40:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38339901154004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:40:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339901154004992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:40:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339901154004992 [0;39m ==> Parameters: 
2023-05-13 21:40:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38339901154004992 [0;39m <==    Updates: 1
2023-05-13 21:40:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38339901154004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:40:44.245 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:40:45.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:40:47.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:40:53.743 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:40:55.802 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:41:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38340006003216384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:41:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38340006003216384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:41:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38340006003216384 [0;39m ==> Parameters: 
2023-05-13 21:41:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38340006003216384 [0;39m <==    Updates: 0
2023-05-13 21:41:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38340006003216384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:41:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38340026932793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:41:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340026932793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:41:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340026932793344 [0;39m ==> Parameters: 
2023-05-13 21:41:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340026932793344 [0;39m <==    Updates: 1
2023-05-13 21:41:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38340026932793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 21:41:14.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:41:15.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:41:17.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:41:19.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:41:21.310 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:41:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38340152778690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:41:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340152778690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:41:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340152778690560 [0;39m ==> Parameters: 
2023-05-13 21:41:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340152778690560 [0;39m <==    Updates: 1
2023-05-13 21:41:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38340152778690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:41:43.119 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:41:44.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:41:47.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:41:49.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:42:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38340257661456384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:42:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38340257661456384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:42:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38340257661456384 [0;39m ==> Parameters: 
2023-05-13 21:42:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38340257661456384 [0;39m <==    Updates: 0
2023-05-13 21:42:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38340257661456384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 21:42:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38340278624587776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:42:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340278624587776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:42:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340278624587776 [0;39m ==> Parameters: 
2023-05-13 21:42:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340278624587776 [0;39m <==    Updates: 1
2023-05-13 21:42:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38340278624587776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:42:13.362 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:42:14.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:42:15.417 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:42:17.446 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:42:19.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:42:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38340404478873600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:42:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340404478873600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:42:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340404478873600 [0;39m ==> Parameters: 
2023-05-13 21:42:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340404478873600 [0;39m <==    Updates: 1
2023-05-13 21:42:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38340404478873600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:42:35.391 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:42:37.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:42:44.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:42:45.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:42:47.186 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:42:59.489 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:43:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38340509277753344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:43:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38340509277753344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:43:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38340509277753344 [0;39m ==> Parameters: 
2023-05-13 21:43:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38340509277753344 [0;39m <==    Updates: 0
2023-05-13 21:43:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38340509277753344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 21:43:01.529 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:43:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38340530282827776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:43:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340530282827776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:43:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340530282827776 [0;39m ==> Parameters: 
2023-05-13 21:43:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340530282827776 [0;39m <==    Updates: 1
2023-05-13 21:43:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38340530282827776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:43:14.245 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:43:15.183 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:43:17.238 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:43:23.575 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:43:25.617 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:43:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38340656078393344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:43:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340656078393344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:43:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340656078393344 [0;39m ==> Parameters: 
2023-05-13 21:43:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340656078393344 [0;39m <==    Updates: 1
2023-05-13 21:43:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38340656078393344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:43:44.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:43:45.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:43:47.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:43:49.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:43:51.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:44:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38340760956964864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:44:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38340760956964864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:44:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38340760956964864 [0;39m ==> Parameters: 
2023-05-13 21:44:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38340760956964864 [0;39m <==    Updates: 0
2023-05-13 21:44:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38340760956964864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:44:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38340781936873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:44:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340781936873472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:44:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340781936873472 [0;39m ==> Parameters: 
2023-05-13 21:44:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340781936873472 [0;39m <==    Updates: 1
2023-05-13 21:44:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38340781936873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:44:13.097 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:44:14.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:44:15.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:44:17.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:44:19.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:44:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38340907761799168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:44:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340907761799168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:44:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340907761799168 [0;39m ==> Parameters: 
2023-05-13 21:44:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38340907761799168 [0;39m <==    Updates: 1
2023-05-13 21:44:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38340907761799168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:44:41.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:44:43.309 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:44:44.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:44:45.346 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:44:49.452 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:45:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38341012602621952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:45:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38341012602621952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:45:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38341012602621952 [0;39m ==> Parameters: 
2023-05-13 21:45:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38341012602621952 [0;39m <==    Updates: 0
2023-05-13 21:45:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38341012602621952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:45:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38341033611890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:45:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341033611890688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:45:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341033611890688 [0;39m ==> Parameters: 
2023-05-13 21:45:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341033611890688 [0;39m <==    Updates: 1
2023-05-13 21:45:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38341033611890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:45:07.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:45:13.093 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:45:14.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:45:15.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:45:17.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:45:29.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:45:31.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:45:35.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38341159478759424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:45:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341159478759424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:45:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341159478759424 [0;39m ==> Parameters: 
2023-05-13 21:45:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341159478759424 [0;39m <==    Updates: 1
2023-05-13 21:45:35.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38341159478759424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:45:43.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:45:44.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:45:45.163 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:45:47.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:45:53.538 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:45:55.586 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:46:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38341264298610688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:46:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38341264298610688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:46:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38341264298610688 [0;39m ==> Parameters: 
2023-05-13 21:46:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38341264298610688 [0;39m <==    Updates: 0
2023-05-13 21:46:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38341264298610688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:46:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38341285219799040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:46:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341285219799040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:46:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341285219799040 [0;39m ==> Parameters: 
2023-05-13 21:46:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341285219799040 [0;39m <==    Updates: 1
2023-05-13 21:46:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38341285219799040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:46:14.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:46:17.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:46:19.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:46:21.311 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:46:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38341411116027904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:46:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341411116027904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:46:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341411116027904 [0;39m ==> Parameters: 
2023-05-13 21:46:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341411116027904 [0;39m <==    Updates: 1
2023-05-13 21:46:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38341411116027904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:46:44.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:46:45.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:46:47.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:46:49.244 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:47:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38341515948462080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:47:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38341515948462080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:47:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38341515948462080 [0;39m ==> Parameters: 
2023-05-13 21:47:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38341515948462080 [0;39m <==    Updates: 0
2023-05-13 21:47:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38341515948462080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 21:47:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38341536903204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:47:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341536903204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:47:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341536903204864 [0;39m ==> Parameters: 
2023-05-13 21:47:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341536903204864 [0;39m <==    Updates: 1
2023-05-13 21:47:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38341536903204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:47:13.354 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:47:14.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:47:19.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:47:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38341662740713472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:47:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341662740713472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:47:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341662740713472 [0;39m ==> Parameters: 
2023-05-13 21:47:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341662740713472 [0;39m <==    Updates: 1
2023-05-13 21:47:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38341662740713472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:47:35.431 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:47:37.453 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:47:44.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:47:45.163 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:47:47.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:47:59.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:48:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38341767636062208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:48:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38341767636062208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:48:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38341767636062208 [0;39m ==> Parameters: 
2023-05-13 21:48:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38341767636062208 [0;39m <==    Updates: 0
2023-05-13 21:48:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38341767636062208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:48:01.544 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:48:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38341788548861952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:48:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341788548861952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:48:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341788548861952 [0;39m ==> Parameters: 
2023-05-13 21:48:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341788548861952 [0;39m <==    Updates: 1
2023-05-13 21:48:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38341788548861952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:48:13.130 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:48:14.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:48:15.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:48:17.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:48:25.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:48:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38341914415730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:48:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341914415730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:48:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341914415730688 [0;39m ==> Parameters: 
2023-05-13 21:48:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38341914415730688 [0;39m <==    Updates: 1
2023-05-13 21:48:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38341914415730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:48:43.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:48:44.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:48:47.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:48:51.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:49:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38342019269136384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:49:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38342019269136384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:49:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38342019269136384 [0;39m ==> Parameters: 
2023-05-13 21:49:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38342019269136384 [0;39m <==    Updates: 0
2023-05-13 21:49:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38342019269136384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 21:49:05.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38342040290988032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:49:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342040290988032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:49:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342040290988032 [0;39m ==> Parameters: 
2023-05-13 21:49:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342040290988032 [0;39m <==    Updates: 1
2023-05-13 21:49:05.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38342040290988032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:49:13.137 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:49:14.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:49:15.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:49:17.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:49:19.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:49:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38342166036221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:49:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342166036221952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:49:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342166036221952 [0;39m ==> Parameters: 
2023-05-13 21:49:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342166036221952 [0;39m <==    Updates: 1
2023-05-13 21:49:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38342166036221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:49:43.365 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:49:44.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:49:49.508 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:50:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38342270898016256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:50:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38342270898016256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:50:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38342270898016256 [0;39m ==> Parameters: 
2023-05-13 21:50:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38342270898016256 [0;39m <==    Updates: 0
2023-05-13 21:50:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38342270898016256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:50:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38342291890507776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:50:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342291890507776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:50:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342291890507776 [0;39m ==> Parameters: 
2023-05-13 21:50:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342291890507776 [0;39m <==    Updates: 1
2023-05-13 21:50:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38342291890507776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:50:05.416 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:50:07.445 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:50:13.131 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:50:14.244 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:50:15.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:50:17.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:50:31.538 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:50:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38342417761570816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:50:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342417761570816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:50:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342417761570816 [0;39m ==> Parameters: 
2023-05-13 21:50:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342417761570816 [0;39m <==    Updates: 1
2023-05-13 21:50:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38342417761570816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:50:43.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:50:44.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:50:45.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:50:47.226 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:50:53.606 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:50:55.656 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:51:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38342522594004992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:51:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38342522594004992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:51:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38342522594004992 [0;39m ==> Parameters: 
2023-05-13 21:51:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38342522594004992 [0;39m <==    Updates: 0
2023-05-13 21:51:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38342522594004992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:51:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38342543548747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:51:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342543548747776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:51:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342543548747776 [0;39m ==> Parameters: 
2023-05-13 21:51:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342543548747776 [0;39m <==    Updates: 1
2023-05-13 21:51:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38342543548747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:51:13.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:51:14.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:51:15.134 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:51:17.183 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:51:21.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:51:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38342669369479168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:51:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342669369479168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:51:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342669369479168 [0;39m ==> Parameters: 
2023-05-13 21:51:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342669369479168 [0;39m <==    Updates: 1
2023-05-13 21:51:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38342669369479168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:51:44.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:51:47.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:51:49.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:52:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38342774218690560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:52:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38342774218690560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:52:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38342774218690560 [0;39m ==> Parameters: 
2023-05-13 21:52:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38342774218690560 [0;39m <==    Updates: 0
2023-05-13 21:52:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38342774218690560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 21:52:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38342795219570688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:52:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342795219570688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:52:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342795219570688 [0;39m ==> Parameters: 
2023-05-13 21:52:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342795219570688 [0;39m <==    Updates: 1
2023-05-13 21:52:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38342795219570688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:52:13.375 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:52:14.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:52:15.422 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:52:17.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:52:19.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:52:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38342921019330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:52:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342921019330560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:52:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342921019330560 [0;39m ==> Parameters: 
2023-05-13 21:52:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38342921019330560 [0;39m <==    Updates: 1
2023-05-13 21:52:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38342921019330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:52:37.463 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:52:44.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:52:45.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:52:47.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:53:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38343025876930560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:53:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38343025876930560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:53:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38343025876930560 [0;39m ==> Parameters: 
2023-05-13 21:53:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38343025876930560 [0;39m <==    Updates: 0
2023-05-13 21:53:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38343025876930560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:53:01.565 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:53:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38343046840061952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:53:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343046840061952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:53:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343046840061952 [0;39m ==> Parameters: 
2023-05-13 21:53:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343046840061952 [0;39m <==    Updates: 1
2023-05-13 21:53:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38343046840061952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:53:13.112 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:53:14.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:53:15.154 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:53:17.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:53:23.609 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:53:25.656 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:53:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38343172723707904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:53:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343172723707904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:53:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343172723707904 [0;39m ==> Parameters: 
2023-05-13 21:53:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343172723707904 [0;39m <==    Updates: 1
2023-05-13 21:53:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38343172723707904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:53:43.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:53:44.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:53:47.226 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:53:49.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:53:51.310 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:54:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38343277560336384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:54:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38343277560336384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:54:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38343277560336384 [0;39m ==> Parameters: 
2023-05-13 21:54:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38343277560336384 [0;39m <==    Updates: 0
2023-05-13 21:54:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38343277560336384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:54:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38343298506690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:54:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343298506690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:54:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343298506690560 [0;39m ==> Parameters: 
2023-05-13 21:54:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343298506690560 [0;39m <==    Updates: 1
2023-05-13 21:54:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38343298506690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:54:13.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:54:14.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:54:17.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:54:19.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:54:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38343424352587776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:54:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343424352587776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:54:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343424352587776 [0;39m ==> Parameters: 
2023-05-13 21:54:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343424352587776 [0;39m <==    Updates: 1
2023-05-13 21:54:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38343424352587776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:54:41.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:54:43.378 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:54:44.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:54:45.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:54:49.508 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:55:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38343529214382080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:55:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38343529214382080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:55:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38343529214382080 [0;39m ==> Parameters: 
2023-05-13 21:55:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38343529214382080 [0;39m <==    Updates: 0
2023-05-13 21:55:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38343529214382080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 21:55:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38343550169124864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343550169124864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343550169124864 [0;39m ==> Parameters: 
2023-05-13 21:55:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343550169124864 [0;39m <==    Updates: 1
2023-05-13 21:55:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38343550169124864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:55:07.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:55:13.121 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:55:14.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:55:17.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:55:29.514 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:55:31.557 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:55:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38343675998244864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:55:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343675998244864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:55:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343675998244864 [0;39m ==> Parameters: 
2023-05-13 21:55:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343675998244864 [0;39m <==    Updates: 1
2023-05-13 21:55:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38343675998244864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:55:43.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:55:44.293 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:55:45.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:55:47.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:55:55.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:56:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38343780864233472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:56:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38343780864233472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:56:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38343780864233472 [0;39m ==> Parameters: 
2023-05-13 21:56:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38343780864233472 [0;39m <==    Updates: 0
2023-05-13 21:56:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38343780864233472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 21:56:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38343801839947776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:56:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343801839947776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:56:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343801839947776 [0;39m ==> Parameters: 
2023-05-13 21:56:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343801839947776 [0;39m <==    Updates: 1
2023-05-13 21:56:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38343801839947776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:56:13.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:56:14.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:56:15.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:56:17.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:56:19.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:56:21.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:56:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38343927702622208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:56:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343927702622208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:56:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343927702622208 [0;39m ==> Parameters: 
2023-05-13 21:56:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38343927702622208 [0;39m <==    Updates: 1
2023-05-13 21:56:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38343927702622208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:56:44.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:56:47.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:57:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38344032526667776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:57:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38344032526667776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:57:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38344032526667776 [0;39m ==> Parameters: 
2023-05-13 21:57:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38344032526667776 [0;39m <==    Updates: 0
2023-05-13 21:57:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38344032526667776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:57:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38344053502382080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:57:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344053502382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:57:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344053502382080 [0;39m ==> Parameters: 
2023-05-13 21:57:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344053502382080 [0;39m <==    Updates: 1
2023-05-13 21:57:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38344053502382080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:57:11.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:57:14.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:57:15.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:57:17.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:57:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38344179323113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:57:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344179323113472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:57:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344179323113472 [0;39m ==> Parameters: 
2023-05-13 21:57:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344179323113472 [0;39m <==    Updates: 1
2023-05-13 21:57:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38344179323113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:57:35.615 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:57:44.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:57:45.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:57:47.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:57:57.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:57:59.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:58:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38344284163936256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:58:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38344284163936256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:58:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38344284163936256 [0;39m ==> Parameters: 
2023-05-13 21:58:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38344284163936256 [0;39m <==    Updates: 0
2023-05-13 21:58:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38344284163936256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 21:58:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38344305131261952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:58:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344305131261952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:58:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344305131261952 [0;39m ==> Parameters: 
2023-05-13 21:58:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344305131261952 [0;39m <==    Updates: 1
2023-05-13 21:58:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38344305131261952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 21:58:13.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:58:14.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:58:17.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:58:23.822 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:58:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38344431010713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:58:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344431010713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:58:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344431010713600 [0;39m ==> Parameters: 
2023-05-13 21:58:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344431010713600 [0;39m <==    Updates: 1
2023-05-13 21:58:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38344431010713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:58:43.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:58:44.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:58:47.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:58:49.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:59:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38344535813787648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 21:59:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38344535813787648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 21:59:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38344535813787648 [0;39m ==> Parameters: 
2023-05-13 21:59:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38344535813787648 [0;39m <==    Updates: 0
2023-05-13 21:59:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38344535813787648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 21:59:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38344556810473472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:59:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344556810473472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:59:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344556810473472 [0;39m ==> Parameters: 
2023-05-13 21:59:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344556810473472 [0;39m <==    Updates: 1
2023-05-13 21:59:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38344556810473472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:59:11.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:59:13.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:59:14.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:59:17.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:59:19.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:59:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38344682635399168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 21:59:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344682635399168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 21:59:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344682635399168 [0;39m ==> Parameters: 
2023-05-13 21:59:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344682635399168 [0;39m <==    Updates: 1
2023-05-13 21:59:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38344682635399168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 21:59:35.381 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:59:37.437 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:59:43.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:59:44.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:59:47.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 21:59:59.488 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:00:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38344787472027648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 22:00:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38344787472027648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 22:00:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38344787472027648 [0;39m ==> Parameters: 
2023-05-13 22:00:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38344787472027648 [0;39m <==    Updates: 0
2023-05-13 22:00:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38344787472027648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 22:00:01.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:00:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38344808447741952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:00:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344808447741952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:00:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344808447741952 [0;39m ==> Parameters: 
2023-05-13 22:00:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344808447741952 [0;39m <==    Updates: 1
2023-05-13 22:00:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38344808447741952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 22:00:14.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:00:15.173 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:00:17.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:00:23.582 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:00:25.624 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:00:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38344934322999296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:00:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344934322999296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:00:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344934322999296 [0;39m ==> Parameters: 
2023-05-13 22:00:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38344934322999296 [0;39m <==    Updates: 1
2023-05-13 22:00:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38344934322999296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 22:00:44.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:00:47.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:00:49.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:00:51.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:01:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38345039130267648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 22:01:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38345039130267648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 22:01:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38345039130267648 [0;39m ==> Parameters: 
2023-05-13 22:01:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38345039130267648 [0;39m <==    Updates: 0
2023-05-13 22:01:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38345039130267648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 22:01:05.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38345060181479424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:01:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345060181479424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:01:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345060181479424 [0;39m ==> Parameters: 
2023-05-13 22:01:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345060181479424 [0;39m <==    Updates: 1
2023-05-13 22:01:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38345060181479424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 22:01:13.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:01:14.310 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:01:15.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:01:17.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:01:19.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:01:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38345185972850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:01:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345185972850688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:01:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345185972850688 [0;39m ==> Parameters: 
2023-05-13 22:01:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345185972850688 [0;39m <==    Updates: 1
2023-05-13 22:01:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38345185972850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 22:01:41.421 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:01:43.459 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:01:44.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:01:49.592 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:02:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38345290843033600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 22:02:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38345290843033600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 22:02:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38345290843033600 [0;39m ==> Parameters: 
2023-05-13 22:02:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38345290843033600 [0;39m <==    Updates: 0
2023-05-13 22:02:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38345290843033600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 22:02:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38345311772610560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:02:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345311772610560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:02:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345311772610560 [0;39m ==> Parameters: 
2023-05-13 22:02:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345311772610560 [0;39m <==    Updates: 1
2023-05-13 22:02:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38345311772610560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 22:02:05.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:02:07.550 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:02:13.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:02:14.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:02:15.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:02:17.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:02:31.648 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:02:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38345437614313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:02:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345437614313472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:02:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345437614313472 [0;39m ==> Parameters: 
2023-05-13 22:02:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345437614313472 [0;39m <==    Updates: 1
2023-05-13 22:02:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38345437614313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 22:02:43.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:02:44.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:02:45.168 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:02:47.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:02:56.233 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:03:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38345542539022336 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 22:03:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38345542539022336 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 22:03:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38345542539022336 [0;39m ==> Parameters: 
2023-05-13 22:03:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38345542539022336 [0;39m <==    Updates: 0
2023-05-13 22:03:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38345542539022336 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 22:03:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38345563422461952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:03:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345563422461952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:03:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345563422461952 [0;39m ==> Parameters: 
2023-05-13 22:03:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345563422461952 [0;39m <==    Updates: 1
2023-05-13 22:03:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38345563422461952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 22:03:13.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:03:14.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:03:15.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:03:17.208 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:03:19.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:03:21.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:03:35.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38345689335468032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:03:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345689335468032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:03:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345689335468032 [0;39m ==> Parameters: 
2023-05-13 22:03:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345689335468032 [0;39m <==    Updates: 1
2023-05-13 22:03:35.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38345689335468032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 22:03:44.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:03:45.159 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:03:47.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:03:49.235 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:04:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38345794125959168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 22:04:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38345794125959168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 22:04:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38345794125959168 [0;39m ==> Parameters: 
2023-05-13 22:04:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38345794125959168 [0;39m <==    Updates: 0
2023-05-13 22:04:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38345794125959168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 22:04:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38345815110062080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:04:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345815110062080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:04:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345815110062080 [0;39m ==> Parameters: 
2023-05-13 22:04:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345815110062080 [0;39m <==    Updates: 1
2023-05-13 22:04:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38345815110062080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 22:04:13.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:04:14.310 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:04:15.359 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:04:17.392 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:04:19.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:04:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38345940947570688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:04:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345940947570688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:04:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345940947570688 [0;39m ==> Parameters: 
2023-05-13 22:04:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38345940947570688 [0;39m <==    Updates: 1
2023-05-13 22:04:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38345940947570688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 22:04:35.401 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:04:37.443 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:04:44.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:04:47.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:04:59.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:05:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38346045809364992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 22:05:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38346045809364992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 22:05:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38346045809364992 [0;39m ==> Parameters: 
2023-05-13 22:05:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38346045809364992 [0;39m <==    Updates: 0
2023-05-13 22:05:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38346045809364992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 22:05:01.567 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:05:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38346066751524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:05:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346066751524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:05:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346066751524864 [0;39m ==> Parameters: 
2023-05-13 22:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346066751524864 [0;39m <==    Updates: 1
2023-05-13 22:05:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38346066751524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 22:05:14.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:05:17.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:05:23.612 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:05:25.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:05:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38346192597422080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:05:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346192597422080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:05:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346192597422080 [0;39m ==> Parameters: 
2023-05-13 22:05:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346192597422080 [0;39m <==    Updates: 1
2023-05-13 22:05:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38346192597422080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 22:05:43.107 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:05:44.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:05:45.137 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:05:47.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:05:51.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:06:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38346297425661952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 22:06:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38346297425661952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 22:06:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38346297425661952 [0;39m ==> Parameters: 
2023-05-13 22:06:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38346297425661952 [0;39m <==    Updates: 0
2023-05-13 22:06:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38346297425661952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 22:06:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38346318392987648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:06:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346318392987648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:06:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346318392987648 [0;39m ==> Parameters: 
2023-05-13 22:06:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346318392987648 [0;39m <==    Updates: 1
2023-05-13 22:06:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38346318392987648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 22:06:14.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:06:15.151 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:06:17.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:06:19.249 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:06:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38346444213719040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:06:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346444213719040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:06:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346444213719040 [0;39m ==> Parameters: 
2023-05-13 22:06:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346444213719040 [0;39m <==    Updates: 1
2023-05-13 22:06:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38346444213719040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 22:06:43.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:06:44.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:06:47.431 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:06:49.487 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:07:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38346549075513344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 22:07:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38346549075513344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 22:07:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38346549075513344 [0;39m ==> Parameters: 
2023-05-13 22:07:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38346549075513344 [0;39m <==    Updates: 0
2023-05-13 22:07:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38346549075513344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 22:07:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38346570072199168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:07:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346570072199168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:07:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346570072199168 [0;39m ==> Parameters: 
2023-05-13 22:07:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346570072199168 [0;39m <==    Updates: 1
2023-05-13 22:07:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38346570072199168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 22:07:05.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:07:07.440 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:07:13.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:07:14.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:07:17.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:07:29.867 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:07:31.876 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:07:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38346695905513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:07:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346695905513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:07:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346695905513472 [0;39m ==> Parameters: 
2023-05-13 22:07:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346695905513472 [0;39m <==    Updates: 1
2023-05-13 22:07:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38346695905513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 22:07:44.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:07:47.909 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:07:55.936 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 22:08:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38346800784084992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 22:08:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38346800784084992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 22:08:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38346800784084992 [0;39m ==> Parameters: 
2023-05-13 22:08:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38346800784084992 [0;39m <==    Updates: 0
2023-05-13 22:08:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38346800784084992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 22:08:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38346821705273344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 22:08:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346821705273344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 22:08:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346821705273344 [0;39m ==> Parameters: 
2023-05-13 22:08:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38346821705273344 [0;39m <==    Updates: 1
2023-05-13 22:08:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38346821705273344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 22:08:14.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
