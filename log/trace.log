2023-06-21 00:00:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52145725349433344 [0;39m 生成今日电子书快照开始
2023-06-21 00:00:00.039 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52145725349433344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 00:00:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52145725349433344 [0;39m ==> Parameters: 
2023-06-21 00:00:00.121 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52145725349433344 [0;39m <==    Updates: 0
2023-06-21 00:00:00.122 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52145725349433344 [0;39m 生成今日电子书快照结束，耗时：115毫秒
2023-06-21 00:00:00.122 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52145725856944128 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:00:00.123 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52145725856944128 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:00:00.123 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52145725856944128 [0;39m ==> Parameters: 
2023-06-21 00:00:00.189 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52145725856944128 [0;39m <==    Updates: 5
2023-06-21 00:00:00.189 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52145725856944128 [0;39m 更新电子书下的文档数据结束，耗时：67毫秒
2023-06-21 00:02:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52146228699467776 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:02:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52146228699467776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:02:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52146228699467776 [0;39m ==> Parameters: 
2023-06-21 00:02:00.116 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52146228699467776 [0;39m <==    Updates: 5
2023-06-21 00:02:00.116 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52146228699467776 [0;39m 更新电子书下的文档数据结束，耗时：107毫秒
2023-06-21 00:04:00.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52146731999170560 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:04:00.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52146731999170560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:04:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52146731999170560 [0;39m ==> Parameters: 
2023-06-21 00:04:00.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52146731999170560 [0;39m <==    Updates: 5
2023-06-21 00:04:00.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52146731999170560 [0;39m 更新电子书下的文档数据结束，耗时：108毫秒
2023-06-21 00:06:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52147235332427776 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:06:00.057 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52147235332427776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:06:00.058 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52147235332427776 [0;39m ==> Parameters: 
2023-06-21 00:06:00.125 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52147235332427776 [0;39m <==    Updates: 5
2023-06-21 00:06:00.125 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52147235332427776 [0;39m 更新电子书下的文档数据结束，耗时：116毫秒
2023-06-21 00:08:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52147738623741952 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:08:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52147738623741952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:08:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52147738623741952 [0;39m ==> Parameters: 
2023-06-21 00:08:00.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52147738623741952 [0;39m <==    Updates: 5
2023-06-21 00:08:00.104 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52147738623741952 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-06-21 00:10:00.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52148241948610560 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:10:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52148241948610560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:10:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52148241948610560 [0;39m ==> Parameters: 
2023-06-21 00:10:00.100 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52148241948610560 [0;39m <==    Updates: 5
2023-06-21 00:10:00.100 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52148241948610560 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-06-21 00:12:00.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52148745311227904 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:12:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52148745311227904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:12:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52148745311227904 [0;39m ==> Parameters: 
2023-06-21 00:12:00.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52148745311227904 [0;39m <==    Updates: 5
2023-06-21 00:12:00.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52148745311227904 [0;39m 更新电子书下的文档数据结束，耗时：94毫秒
2023-06-21 00:14:00.027 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52149248673845248 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:14:00.059 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52149248673845248 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:14:00.059 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52149248673845248 [0;39m ==> Parameters: 
2023-06-21 00:14:00.123 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52149248673845248 [0;39m <==    Updates: 5
2023-06-21 00:14:00.123 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52149248673845248 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-06-21 00:16:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52149751914827776 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:16:00.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52149751914827776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:16:00.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52149751914827776 [0;39m ==> Parameters: 
2023-06-21 00:16:00.121 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52149751914827776 [0;39m <==    Updates: 5
2023-06-21 00:16:00.121 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52149751914827776 [0;39m 更新电子书下的文档数据结束，耗时：112毫秒
2023-06-21 00:18:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52150255231307776 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:18:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52150255231307776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:18:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52150255231307776 [0;39m ==> Parameters: 
2023-06-21 00:18:00.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52150255231307776 [0;39m <==    Updates: 5
2023-06-21 00:18:00.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52150255231307776 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-06-21 00:20:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52150758514233344 [0;39m 生成今日电子书快照开始
2023-06-21 00:20:00.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52150758514233344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 00:20:00.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52150758514233344 [0;39m ==> Parameters: 
2023-06-21 00:20:00.103 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52150758514233344 [0;39m <==    Updates: 0
2023-06-21 00:20:00.103 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52150758514233344 [0;39m 生成今日电子书快照结束，耗时：102毫秒
2023-06-21 00:20:00.103 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52150758942052352 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:20:00.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52150758942052352 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:20:00.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52150758942052352 [0;39m ==> Parameters: 
2023-06-21 00:20:00.168 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52150758942052352 [0;39m <==    Updates: 5
2023-06-21 00:20:00.168 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52150758942052352 [0;39m 更新电子书下的文档数据结束，耗时：65毫秒
2023-06-21 00:22:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52151261881044992 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:22:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52151261881044992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:22:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52151261881044992 [0;39m ==> Parameters: 
2023-06-21 00:22:00.118 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52151261881044992 [0;39m <==    Updates: 5
2023-06-21 00:22:00.119 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52151261881044992 [0;39m 更新电子书下的文档数据结束，耗时：106毫秒
2023-06-21 00:24:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52151765180747776 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:24:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52151765180747776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:24:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52151765180747776 [0;39m ==> Parameters: 
2023-06-21 00:24:00.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52151765180747776 [0;39m <==    Updates: 5
2023-06-21 00:24:00.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52151765180747776 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-06-21 00:26:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52152268476256256 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:26:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52152268476256256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:26:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52152268476256256 [0;39m ==> Parameters: 
2023-06-21 00:26:00.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52152268476256256 [0;39m <==    Updates: 5
2023-06-21 00:26:00.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52152268476256256 [0;39m 更新电子书下的文档数据结束，耗时：105毫秒
2023-06-21 00:28:00.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52152771805319168 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:28:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52152771805319168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:28:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52152771805319168 [0;39m ==> Parameters: 
2023-06-21 00:28:00.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52152771805319168 [0;39m <==    Updates: 5
2023-06-21 00:28:00.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52152771805319168 [0;39m 更新电子书下的文档数据结束，耗时：105毫秒
2023-06-21 00:30:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52153275138576384 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:30:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52153275138576384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:30:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52153275138576384 [0;39m ==> Parameters: 
2023-06-21 00:30:00.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52153275138576384 [0;39m <==    Updates: 5
2023-06-21 00:30:00.117 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52153275138576384 [0;39m 更新电子书下的文档数据结束，耗时：106毫秒
2023-06-21 00:32:00.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52153778442473472 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:32:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52153778442473472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:32:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52153778442473472 [0;39m ==> Parameters: 
2023-06-21 00:32:00.116 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52153778442473472 [0;39m <==    Updates: 5
2023-06-21 00:32:00.116 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52153778442473472 [0;39m 更新电子书下的文档数据结束，耗时：108毫秒
2023-06-21 00:34:00.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52154281729593344 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:34:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52154281729593344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:34:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52154281729593344 [0;39m ==> Parameters: 
2023-06-21 00:34:00.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52154281729593344 [0;39m <==    Updates: 5
2023-06-21 00:34:00.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52154281729593344 [0;39m 更新电子书下的文档数据结束，耗时：108毫秒
2023-06-21 00:36:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52154785058656256 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:36:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52154785058656256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:36:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52154785058656256 [0;39m ==> Parameters: 
2023-06-21 00:36:00.115 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52154785058656256 [0;39m <==    Updates: 5
2023-06-21 00:36:00.115 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52154785058656256 [0;39m 更新电子书下的文档数据结束，耗时：111毫秒
2023-06-21 00:38:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52155288412884992 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:38:00.098 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52155288412884992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:38:00.098 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52155288412884992 [0;39m ==> Parameters: 
2023-06-21 00:38:00.227 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52155288412884992 [0;39m <==    Updates: 5
2023-06-21 00:38:00.227 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52155288412884992 [0;39m 更新电子书下的文档数据结束，耗时：214毫秒
2023-06-21 00:40:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52155791691616256 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:40:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52155791691616256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:40:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52155791691616256 [0;39m ==> Parameters: 
2023-06-21 00:40:00.099 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52155791691616256 [0;39m <==    Updates: 5
2023-06-21 00:40:00.099 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52155791691616256 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-06-21 00:40:00.099 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52155792090075136 [0;39m 生成今日电子书快照开始
2023-06-21 00:40:00.099 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52155792090075136 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 00:40:00.099 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52155792090075136 [0;39m ==> Parameters: 
2023-06-21 00:40:00.180 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52155792090075136 [0;39m <==    Updates: 0
2023-06-21 00:40:00.180 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52155792090075136 [0;39m 生成今日电子书快照结束，耗时：81毫秒
2023-06-21 00:42:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52156295045844992 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:42:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52156295045844992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:42:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52156295045844992 [0;39m ==> Parameters: 
2023-06-21 00:42:00.121 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52156295045844992 [0;39m <==    Updates: 5
2023-06-21 00:42:00.121 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52156295045844992 [0;39m 更新电子书下的文档数据结束，耗时：108毫秒
2023-06-21 00:44:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52156798324576256 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:44:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52156798324576256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:44:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52156798324576256 [0;39m ==> Parameters: 
2023-06-21 00:44:00.106 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52156798324576256 [0;39m <==    Updates: 5
2023-06-21 00:44:00.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52156798324576256 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-06-21 00:46:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52157301674610688 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:46:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52157301674610688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:46:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52157301674610688 [0;39m ==> Parameters: 
2023-06-21 00:46:00.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52157301674610688 [0;39m <==    Updates: 5
2023-06-21 00:46:00.117 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52157301674610688 [0;39m 更新电子书下的文档数据结束，耗时：105毫秒
2023-06-21 00:48:00.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52157804944953344 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:48:00.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52157804944953344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:48:00.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52157804944953344 [0;39m ==> Parameters: 
2023-06-21 00:48:00.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52157804944953344 [0;39m <==    Updates: 5
2023-06-21 00:48:00.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52157804944953344 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-06-21 00:50:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52158308269821952 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:50:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52158308269821952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:50:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52158308269821952 [0;39m ==> Parameters: 
2023-06-21 00:50:00.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52158308269821952 [0;39m <==    Updates: 5
2023-06-21 00:50:00.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52158308269821952 [0;39m 更新电子书下的文档数据结束，耗时：108毫秒
2023-06-21 00:52:00.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52158811607273472 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:52:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52158811607273472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:52:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52158811607273472 [0;39m ==> Parameters: 
2023-06-21 00:52:00.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52158811607273472 [0;39m <==    Updates: 5
2023-06-21 00:52:00.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52158811607273472 [0;39m 更新电子书下的文档数据结束，耗时：104毫秒
2023-06-21 00:54:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52159314948919296 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:54:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52159314948919296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:54:00.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52159314948919296 [0;39m ==> Parameters: 
2023-06-21 00:54:00.119 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52159314948919296 [0;39m <==    Updates: 5
2023-06-21 00:54:00.119 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52159314948919296 [0;39m 更新电子书下的文档数据结束，耗时：105毫秒
2023-06-21 00:56:00.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52159818231844864 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:56:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52159818231844864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:56:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52159818231844864 [0;39m ==> Parameters: 
2023-06-21 00:56:00.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52159818231844864 [0;39m <==    Updates: 5
2023-06-21 00:56:00.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52159818231844864 [0;39m 更新电子书下的文档数据结束，耗时：104毫秒
2023-06-21 00:58:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52160321577684992 [0;39m 更新电子书下的文档数据开始
2023-06-21 00:58:00.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52160321577684992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 00:58:00.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52160321577684992 [0;39m ==> Parameters: 
2023-06-21 00:58:00.122 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52160321577684992 [0;39m <==    Updates: 5
2023-06-21 00:58:00.123 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52160321577684992 [0;39m 更新电子书下的文档数据结束，耗时：110毫秒
2023-06-21 01:00:00.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52160824873193472 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:00:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52160824873193472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:00:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52160824873193472 [0;39m ==> Parameters: 
2023-06-21 01:00:00.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52160824873193472 [0;39m <==    Updates: 5
2023-06-21 01:00:00.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52160824873193472 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-06-21 01:00:00.108 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52160825292623872 [0;39m 生成今日电子书快照开始
2023-06-21 01:00:00.109 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52160825292623872 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 01:00:00.109 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52160825292623872 [0;39m ==> Parameters: 
2023-06-21 01:00:00.176 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52160825292623872 [0;39m <==    Updates: 0
2023-06-21 01:00:00.177 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52160825292623872 [0;39m 生成今日电子书快照结束，耗时：69毫秒
2023-06-21 01:02:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52161328210644992 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:02:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52161328210644992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:02:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52161328210644992 [0;39m ==> Parameters: 
2023-06-21 01:02:00.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52161328210644992 [0;39m <==    Updates: 5
2023-06-21 01:02:00.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52161328210644992 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-06-21 01:04:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52161831485181952 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:04:00.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52161831485181952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:04:00.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52161831485181952 [0;39m ==> Parameters: 
2023-06-21 01:04:00.099 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52161831485181952 [0;39m <==    Updates: 5
2023-06-21 01:04:00.099 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52161831485181952 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-06-21 01:06:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52162334805856256 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:06:00.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52162334805856256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:06:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52162334805856256 [0;39m ==> Parameters: 
2023-06-21 01:06:00.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52162334805856256 [0;39m <==    Updates: 5
2023-06-21 01:06:00.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52162334805856256 [0;39m 更新电子书下的文档数据结束，耗时：104毫秒
2023-06-21 01:08:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52162838168473600 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:08:00.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52162838168473600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:08:00.053 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52162838168473600 [0;39m ==> Parameters: 
2023-06-21 01:08:00.122 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52162838168473600 [0;39m <==    Updates: 5
2023-06-21 01:08:00.122 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52162838168473600 [0;39m 更新电子书下的文档数据结束，耗时：107毫秒
2023-06-21 01:10:00.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52163341443010560 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:10:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52163341443010560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:10:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52163341443010560 [0;39m ==> Parameters: 
2023-06-21 01:10:00.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52163341443010560 [0;39m <==    Updates: 5
2023-06-21 01:10:00.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52163341443010560 [0;39m 更新电子书下的文档数据结束，耗时：103毫秒
2023-06-21 01:12:00.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52163844746907648 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:12:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52163844746907648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:12:00.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52163844746907648 [0;39m ==> Parameters: 
2023-06-21 01:12:00.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52163844746907648 [0;39m <==    Updates: 5
2023-06-21 01:12:00.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52163844746907648 [0;39m 更新电子书下的文档数据结束，耗时：106毫秒
2023-06-21 01:14:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52164348117913600 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:14:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52164348117913600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:14:00.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52164348117913600 [0;39m ==> Parameters: 
2023-06-21 01:14:00.122 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52164348117913600 [0;39m <==    Updates: 5
2023-06-21 01:14:00.123 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52164348117913600 [0;39m 更新电子书下的文档数据结束，耗时：108毫秒
2023-06-21 01:16:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52164851384061952 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:16:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52164851384061952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:16:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52164851384061952 [0;39m ==> Parameters: 
2023-06-21 01:16:00.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52164851384061952 [0;39m <==    Updates: 5
2023-06-21 01:16:00.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52164851384061952 [0;39m 更新电子书下的文档数据结束，耗时：106毫秒
2023-06-21 01:18:00.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52165354708930560 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:18:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52165354708930560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:18:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52165354708930560 [0;39m ==> Parameters: 
2023-06-21 01:18:00.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52165354708930560 [0;39m <==    Updates: 5
2023-06-21 01:18:00.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52165354708930560 [0;39m 更新电子书下的文档数据结束，耗时：107毫秒
2023-06-21 01:20:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52165858054770688 [0;39m 生成今日电子书快照开始
2023-06-21 01:20:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52165858054770688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 01:20:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52165858054770688 [0;39m ==> Parameters: 
2023-06-21 01:20:00.117 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52165858054770688 [0;39m <==    Updates: 0
2023-06-21 01:20:00.117 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52165858054770688 [0;39m 生成今日电子书快照结束，耗时：105毫秒
2023-06-21 01:20:00.118 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52165858499366912 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:20:00.118 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52165858499366912 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:20:00.118 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52165858499366912 [0;39m ==> Parameters: 
2023-06-21 01:20:00.185 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52165858499366912 [0;39m <==    Updates: 5
2023-06-21 01:20:00.186 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52165858499366912 [0;39m 更新电子书下的文档数据结束，耗时：68毫秒
2023-06-21 01:22:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52166361371250688 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:22:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52166361371250688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:22:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52166361371250688 [0;39m ==> Parameters: 
2023-06-21 01:22:00.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52166361371250688 [0;39m <==    Updates: 5
2023-06-21 01:22:00.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52166361371250688 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-06-21 01:24:00.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52166864662564864 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:24:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52166864662564864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:24:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52166864662564864 [0;39m ==> Parameters: 
2023-06-21 01:24:00.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52166864662564864 [0;39m <==    Updates: 5
2023-06-21 01:24:00.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52166864662564864 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-06-21 01:26:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52167368012599296 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:26:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52167368012599296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:26:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52167368012599296 [0;39m ==> Parameters: 
2023-06-21 01:26:00.119 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52167368012599296 [0;39m <==    Updates: 5
2023-06-21 01:26:00.120 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52167368012599296 [0;39m 更新电子书下的文档数据结束，耗时：106毫秒
2023-06-21 01:27:53.868 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-06-21 01:27:53.871 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-06-21 01:27:53.871 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-06-21 01:27:53.877 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-06-21 01:28:00.220 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 17516 (D:\work\Coun-Vue\target\classes started by k in D:\work\Coun-Vue)
2023-06-21 01:28:00.220 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-06-21 01:28:00.224 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-06-21 01:28:00.298 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-21 01:28:00.298 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-21 01:28:01.031 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-06-21 01:28:01.032 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-06-21 01:28:01.063 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2023-06-21 01:28:01.935 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-06-21 01:28:01.942 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-06-21 01:28:01.943 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-06-21 01:28:01.943 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-06-21 01:28:02.032 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-06-21 01:28:02.032 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1733 ms
2023-06-21 01:28:02.980 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-06-21 01:28:03.342 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-06-21 01:28:03.394 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-06-21 01:28:03.418 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-06-21 01:28:03.434 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-06-21 01:28:03.447 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 3.727 seconds (JVM running for 4.926)
2023-06-21 01:28:03.450 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-06-21 01:28:03.450 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-06-21 01:30:00.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52168374591033344 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:30:00.048 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m52168374591033344 [0;39m HikariPool-1 - Starting...
2023-06-21 01:30:01.113 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m52168374591033344 [0;39m HikariPool-1 - Start completed.
2023-06-21 01:30:01.121 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52168374591033344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:30:01.142 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52168374591033344 [0;39m ==> Parameters: 
2023-06-21 01:30:01.211 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52168374591033344 [0;39m <==    Updates: 5
2023-06-21 01:30:01.212 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52168374591033344 [0;39m 更新电子书下的文档数据结束，耗时：1210毫秒
2023-06-21 01:32:00.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52168877932679168 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:32:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52168877932679168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:32:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52168877932679168 [0;39m ==> Parameters: 
2023-06-21 01:32:00.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52168877932679168 [0;39m <==    Updates: 5
2023-06-21 01:32:00.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52168877932679168 [0;39m 更新电子书下的文档数据结束，耗时：104毫秒
2023-06-21 01:34:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52169381282713600 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:34:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52169381282713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:34:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52169381282713600 [0;39m ==> Parameters: 
2023-06-21 01:34:00.114 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52169381282713600 [0;39m <==    Updates: 5
2023-06-21 01:34:00.115 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52169381282713600 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-06-21 01:36:00.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52169884540473344 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:36:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52169884540473344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:36:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52169884540473344 [0;39m ==> Parameters: 
2023-06-21 01:36:00.106 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52169884540473344 [0;39m <==    Updates: 5
2023-06-21 01:36:00.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52169884540473344 [0;39m 更新电子书下的文档数据结束，耗时：105毫秒
2023-06-21 01:38:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52170387865341952 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:38:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52170387865341952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:38:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52170387865341952 [0;39m ==> Parameters: 
2023-06-21 01:38:00.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52170387865341952 [0;39m <==    Updates: 5
2023-06-21 01:38:00.104 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52170387865341952 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-06-21 01:38:42.815 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-21 01:38:42.816 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-06-21 01:38:42.817 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-06-21 01:38:42.837 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 01:38:42.858 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：21 ms -------------
2023-06-21 01:38:42.887 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 01:38:42.888 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-06-21 01:38:42.888 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：52096406076395520
2023-06-21 01:38:43.751 WARN  com.jiawa.wiki.interceptor.LoginInterceptor       :55   [32m                  [0;39m token无效，请求被拦截
2023-06-21 01:38:43.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52170571814932482 [0;39m ------------- 开始 -------------
2023-06-21 01:38:43.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52170571814932480 [0;39m ------------- 开始 -------------
2023-06-21 01:38:43.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52170571814932481 [0;39m ------------- 开始 -------------
2023-06-21 01:38:43.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52170571814932481 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 01:38:43.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52170571814932480 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 01:38:43.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52170571814932480 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 01:38:43.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52170571814932481 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 01:38:43.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52170571814932480 [0;39m 远程地址: 127.0.0.1
2023-06-21 01:38:43.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52170571814932481 [0;39m 远程地址: 127.0.0.1
2023-06-21 01:38:43.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52170571814932482 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 01:38:43.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52170571814932482 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 01:38:43.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52170571814932482 [0;39m 远程地址: 127.0.0.1
2023-06-21 01:38:44.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52170571814932481 [0;39m 请求参数: []
2023-06-21 01:38:44.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52170571814932482 [0;39m 请求参数: []
2023-06-21 01:38:44.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52170571814932480 [0;39m 请求参数: []
2023-06-21 01:38:44.233 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52170571814932480 [0;39m 访问Redis
2023-06-21 01:38:44.233 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52170571814932482 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 01:38:44.235 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52170571814932482 [0;39m ==> Parameters: 
2023-06-21 01:38:44.257 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52170571814932481 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 01:38:44.257 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52170571814932481 [0;39m ==> Parameters: 
2023-06-21 01:38:44.268 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52170571814932480 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 01:38:44.268 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52170571814932480 [0;39m ==> Parameters: 
2023-06-21 01:38:44.281 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 01:38:44.282 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-05-21, 210, 8
2023-06-21 01:38:44.284 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 01:38:44.284 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 01:38:44.284 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 01:38:44.285 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 01:38:44.286 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 01:38:44.286 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 01:38:44.286 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 01:38:44.287 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 01:38:44.287 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 01:38:44.287 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 01:38:44.287 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 01:38:44.288 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 01:38:44.288 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 01:38:44.288 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 01:38:44.289 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 01:38:44.290 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52170571814932482 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 01:38:44.290 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52170571814932482 [0;39m <==      Total: 17
2023-06-21 01:38:44.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 01:38:44.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 01:38:44.293 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 01:38:44.293 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 01:38:44.294 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 01:38:44.294 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 01:38:44.294 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 01:38:44.294 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 01:38:44.294 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 01:38:44.295 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 01:38:44.295 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 01:38:44.295 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 01:38:44.296 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 01:38:44.296 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 01:38:44.296 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 01:38:44.296 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 01:38:44.296 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52170571814932481 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 01:38:44.297 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52170571814932481 [0;39m <==      Total: 16
2023-06-21 01:38:44.305 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52170571814932480 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 01:38:44.305 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52170571814932480 [0;39m <==        Row: 2023-06-19, 1494, 59, 0, 0
2023-06-21 01:38:44.306 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52170571814932480 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 01:38:44.307 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52170571814932480 [0;39m <==      Total: 2
2023-06-21 01:38:44.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52170571814932481 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 01:38:44.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52170571814932481 [0;39m ------------- 结束 耗时：453 ms -------------
2023-06-21 01:38:44.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52170571814932482 [0;39m 返回结果: {"content":[{"date":1684598400000,"viewCount":0,"viewIncrease":210,"voteCount":0,"voteIncrease":8},{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-06-21 01:38:44.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52170571814932482 [0;39m ------------- 结束 耗时：454 ms -------------
2023-06-21 01:38:44.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52170571814932480 [0;39m 返回结果: {"content":[{"date":1687104000000,"viewCount":1494,"viewIncrease":0,"voteCount":59,"voteIncrease":0},{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2}],"success":true}
2023-06-21 01:38:44.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52170571814932480 [0;39m ------------- 结束 耗时：484 ms -------------
2023-06-21 01:39:42.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52170816980389888 [0;39m ------------- 开始 -------------
2023-06-21 01:39:42.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52170816980389888 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-06-21 01:39:42.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52170816980389888 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-06-21 01:39:42.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52170816980389888 [0;39m 远程地址: 127.0.0.1
2023-06-21 01:39:42.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52170816980389888 [0;39m 请求参数: [{"loginName":"test"}]
2023-06-21 01:39:42.372 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m52170816980389888 [0;39m ==>  Preparing: select id, login_name, `name`, `password`, avatar from user WHERE ( login_name = ? )
2023-06-21 01:39:42.373 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m52170816980389888 [0;39m ==> Parameters: test(String)
2023-06-21 01:39:42.407 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m52170816980389888 [0;39m <==    Columns: id, login_name, name, password, avatar
2023-06-21 01:39:42.408 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m52170816980389888 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4, http://127.0.0.1:8880/file/image-20220202121318183-16437751995162.png
2023-06-21 01:39:42.408 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m52170816980389888 [0;39m <==      Total: 1
2023-06-21 01:39:42.415 INFO  com.jiawa.wiki.controller.UserController          :99   [32m52170816980389888 [0;39m 生成单点登录token：52170817412403200，并放入redis中
2023-06-21 01:39:42.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52170816980389888 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"52170817412403200"},"success":true}
2023-06-21 01:39:42.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52170816980389888 [0;39m ------------- 结束 耗时：140 ms -------------
2023-06-21 01:39:47.757 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-06-21 01:39:47.758 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-06-21 01:39:47.759 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-06-21 01:39:47.764 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-06-21 01:39:51.715 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-06-21 01:39:51.724 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 8076 (D:\work\Coun-Vue\target\classes started by k in D:\work\Coun-Vue)
2023-06-21 01:39:51.725 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-06-21 01:39:51.778 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-21 01:39:51.779 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-21 01:39:52.557 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-06-21 01:39:52.559 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-06-21 01:39:52.591 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2023-06-21 01:39:53.441 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-06-21 01:39:53.451 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-06-21 01:39:53.454 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-06-21 01:39:53.454 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-06-21 01:39:53.569 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-06-21 01:39:53.569 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1789 ms
2023-06-21 01:39:54.488 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-06-21 01:39:54.927 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-06-21 01:39:54.975 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-06-21 01:39:55.000 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-06-21 01:39:55.015 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-06-21 01:39:55.027 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 3.819 seconds (JVM running for 4.789)
2023-06-21 01:39:55.031 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-06-21 01:39:55.031 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-06-21 01:39:59.547 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-21 01:39:59.547 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-06-21 01:39:59.548 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-06-21 01:39:59.560 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 01:39:59.597 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：36 ms -------------
2023-06-21 01:39:59.609 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 01:39:59.609 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/52170817412403200
2023-06-21 01:39:59.609 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：52170817412403200
2023-06-21 01:40:00.033 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52170891307651072 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:40:00.059 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m52170891307651072 [0;39m HikariPool-1 - Starting...
2023-06-21 01:40:00.462 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"52170817412403200"}
2023-06-21 01:40:19.237 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52170893375442944 [0;39m ------------- 开始 -------------
2023-06-21 01:40:21.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52170893375442944 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/52170817412403200 GET
2023-06-21 01:40:25.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52170893375442944 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-06-21 01:40:31.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52170893375442944 [0;39m 远程地址: 127.0.0.1
2023-06-21 01:40:51.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52170893375442944 [0;39m 请求参数: ["52170817412403200"]
2023-06-21 01:40:55.777 INFO  com.jiawa.wiki.controller.UserController          :110  [32m52170893375442944 [0;39m 从redis中删除token: 52170817412403200
2023-06-21 01:40:55.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52170893375442944 [0;39m 返回结果: {"success":true}
2023-06-21 01:40:55.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52170893375442944 [0;39m ------------- 结束 耗时：55259 ms -------------
2023-06-21 01:40:56.024 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m52170893375442944 [0;39m ------------- LoginInterceptor 结束 耗时：56415 ms -------------
2023-06-21 01:40:56.669 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m52170891307651072 [0;39m HikariPool-1 - Start completed.
2023-06-21 01:40:56.678 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52170891307651072 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:40:56.693 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52170891307651072 [0;39m ==> Parameters: 
2023-06-21 01:40:56.764 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52170891307651072 [0;39m <==    Updates: 5
2023-06-21 01:40:56.767 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52170891307651072 [0;39m 更新电子书下的文档数据结束，耗时：56734毫秒
2023-06-21 01:40:56.768 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52171129271488512 [0;39m 生成今日电子书快照开始
2023-06-21 01:40:56.768 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52171129271488512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 01:40:56.770 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52171129271488512 [0;39m ==> Parameters: 
2023-06-21 01:40:56.841 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52171129271488512 [0;39m <==    Updates: 0
2023-06-21 01:40:56.841 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52171129271488512 [0;39m 生成今日电子书快照结束，耗时：73毫秒
2023-06-21 01:42:00.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52171394510884864 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:42:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52171394510884864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:42:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52171394510884864 [0;39m ==> Parameters: 
2023-06-21 01:42:00.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52171394510884864 [0;39m <==    Updates: 5
2023-06-21 01:42:00.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52171394510884864 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-06-21 01:44:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52171897839947776 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:44:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52171897839947776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:44:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52171897839947776 [0;39m ==> Parameters: 
2023-06-21 01:44:00.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52171897839947776 [0;39m <==    Updates: 5
2023-06-21 01:44:00.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52171897839947776 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-06-21 01:46:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52172401160622080 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:46:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52172401160622080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:46:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52172401160622080 [0;39m ==> Parameters: 
2023-06-21 01:46:00.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52172401160622080 [0;39m <==    Updates: 5
2023-06-21 01:46:00.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52172401160622080 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-06-21 01:48:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52172904477102080 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:48:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52172904477102080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:48:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52172904477102080 [0;39m ==> Parameters: 
2023-06-21 01:48:00.116 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52172904477102080 [0;39m <==    Updates: 5
2023-06-21 01:48:00.117 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52172904477102080 [0;39m 更新电子书下的文档数据结束，耗时：107毫秒
2023-06-21 01:50:00.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52173407760027648 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:50:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52173407760027648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:50:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52173407760027648 [0;39m ==> Parameters: 
2023-06-21 01:50:00.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52173407760027648 [0;39m <==    Updates: 5
2023-06-21 01:50:00.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52173407760027648 [0;39m 更新电子书下的文档数据结束，耗时：104毫秒
2023-06-21 01:52:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52173911084896256 [0;39m 更新电子书下的文档数据开始
2023-06-21 01:52:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52173911084896256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 01:52:00.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52173911084896256 [0;39m ==> Parameters: 
2023-06-21 01:52:00.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52173911084896256 [0;39m <==    Updates: 5
2023-06-21 01:52:00.104 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52173911084896256 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-06-21 09:43:23.778 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-06-21 09:43:23.795 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.5 on 康俊杰 with PID 21940 (D:\Coun-Vue\target\classes started by 82413 in D:\Coun-Vue)
2023-06-21 09:43:23.795 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-06-21 09:43:23.840 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-21 09:43:23.840 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-21 09:43:24.773 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-06-21 09:43:24.776 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-06-21 09:43:24.795 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2023-06-21 09:43:25.255 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-06-21 09:43:25.261 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-06-21 09:43:25.261 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-06-21 09:43:25.261 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-06-21 09:43:25.302 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-06-21 09:43:25.302 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1461 ms
2023-06-21 09:43:26.061 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-06-21 09:43:26.265 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-06-21 09:43:26.304 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-06-21 09:43:26.322 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-06-21 09:43:26.346 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-06-21 09:43:26.356 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 2.96 seconds (JVM running for 3.566)
2023-06-21 09:43:26.358 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-06-21 09:43:26.359 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-06-21 09:44:00.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52292693765787648 [0;39m 更新电子书下的文档数据开始
2023-06-21 09:44:00.051 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m52292693765787648 [0;39m HikariPool-1 - Starting...
2023-06-21 09:44:05.960 ERROR com.zaxxer.hikari.pool.HikariPool                 :593  [32m52292693765787648 [0;39m HikariPool-1 - Exception during pool initialization.
java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy95.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:159)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$e89c4327.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 58 common frames omitted
2023-06-21 09:44:05.987 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m52292693765787648 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy95.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:159)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$e89c4327.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 25 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 30 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 44 common frames omitted
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 58 common frames omitted
2023-06-21 09:46:00.042 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52293197203902464 [0;39m 更新电子书下的文档数据开始
2023-06-21 09:46:00.096 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m52293197203902464 [0;39m HikariPool-1 - Starting...
2023-06-21 09:46:05.636 ERROR com.zaxxer.hikari.pool.HikariPool                 :593  [32m52293197203902464 [0;39m HikariPool-1 - Exception during pool initialization.
java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy95.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:159)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$e89c4327.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 58 common frames omitted
2023-06-21 09:46:05.667 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m52293197203902464 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy95.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:159)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$e89c4327.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 25 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 30 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 44 common frames omitted
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 58 common frames omitted
2023-06-21 09:48:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52293700444884992 [0;39m 更新电子书下的文档数据开始
2023-06-21 09:48:00.032 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m52293700444884992 [0;39m HikariPool-1 - Starting...
2023-06-21 09:48:05.530 ERROR com.zaxxer.hikari.pool.HikariPool                 :593  [32m52293700444884992 [0;39m HikariPool-1 - Exception during pool initialization.
java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy95.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:159)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$e89c4327.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 58 common frames omitted
2023-06-21 09:48:05.536 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m52293700444884992 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy95.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:159)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$e89c4327.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 25 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 30 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 44 common frames omitted
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 58 common frames omitted
2023-06-21 09:50:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52294203748782080 [0;39m 更新电子书下的文档数据开始
2023-06-21 09:50:00.020 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m52294203748782080 [0;39m HikariPool-1 - Starting...
2023-06-21 09:50:05.479 ERROR com.zaxxer.hikari.pool.HikariPool                 :593  [32m52294203748782080 [0;39m HikariPool-1 - Exception during pool initialization.
java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy95.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:159)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$e89c4327.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 58 common frames omitted
2023-06-21 09:50:05.481 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m52294203748782080 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy95.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:159)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$e89c4327.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 25 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 30 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 44 common frames omitted
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 58 common frames omitted
2023-06-21 09:52:00.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52294707048484864 [0;39m 更新电子书下的文档数据开始
2023-06-21 09:52:00.061 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m52294707048484864 [0;39m HikariPool-1 - Starting...
2023-06-21 09:52:05.675 ERROR com.zaxxer.hikari.pool.HikariPool                 :593  [32m52294707048484864 [0;39m HikariPool-1 - Exception during pool initialization.
java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy95.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:159)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$e89c4327.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 58 common frames omitted
2023-06-21 09:52:05.685 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m52294707048484864 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy95.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:159)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$e89c4327.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 25 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 30 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 44 common frames omitted
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 58 common frames omitted
2023-06-21 09:54:00.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52295210360770560 [0;39m 更新电子书下的文档数据开始
2023-06-21 09:54:00.010 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m52295210360770560 [0;39m HikariPool-1 - Starting...
2023-06-21 09:54:05.508 ERROR com.zaxxer.hikari.pool.HikariPool                 :593  [32m52295210360770560 [0;39m HikariPool-1 - Exception during pool initialization.
java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy95.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:159)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$e89c4327.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at jdk.internal.reflect.GeneratedConstructorAccessor50.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 58 common frames omitted
2023-06-21 09:54:05.514 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m52295210360770560 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy95.updateEbookInfo(Unknown Source)
	at com.jiawa.wiki.service.DocService.updateEbookInfo(DocService.java:159)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$e89c4327.updateEbookInfo(<generated>)
	at com.jiawa.wiki.job.DocJob.cron(DocJob.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 25 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 30 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 44 common frames omitted
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at jdk.internal.reflect.GeneratedConstructorAccessor50.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 58 common frames omitted
2023-06-21 09:55:30.941 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-21 09:55:30.958 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-06-21 09:55:30.997 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 38 ms
2023-06-21 09:55:31.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295592516390913 [0;39m ------------- 开始 -------------
2023-06-21 09:55:31.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295592516390914 [0;39m ------------- 开始 -------------
2023-06-21 09:55:31.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295592516390912 [0;39m ------------- 开始 -------------
2023-06-21 09:55:31.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295592516390913 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 09:55:31.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295592516390912 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 09:55:31.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295592516390913 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 09:55:31.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295592516390912 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 09:55:31.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295592516390913 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:55:31.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295592516390914 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 09:55:31.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295592516390912 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:55:31.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295592516390914 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 09:55:31.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295592516390914 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:55:31.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295592516390912 [0;39m 请求参数: []
2023-06-21 09:55:31.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295592516390914 [0;39m 请求参数: []
2023-06-21 09:55:31.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295592516390913 [0;39m 请求参数: []
2023-06-21 09:55:31.213 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m52295592516390912 [0;39m HikariPool-1 - Starting...
2023-06-21 09:55:31.644 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52295592516390913 [0;39m 访问Redis
2023-06-21 09:55:36.715 ERROR com.zaxxer.hikari.pool.HikariPool                 :593  [32m52295592516390912 [0;39m HikariPool-1 - Exception during pool initialization.
java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy91.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy107.get30Statistic(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:51)
	at com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:37)
	at com.jiawa.wiki.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$87fe082b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$8ab95806.get30Statistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at jdk.internal.reflect.GeneratedConstructorAccessor50.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 115 common frames omitted
2023-06-21 09:55:36.756 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m52295592516390913 [0;39m HikariPool-1 - Starting...
2023-06-21 09:55:36.774 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m52295592516390912 [0;39m 系统异常：
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy91.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy107.get30Statistic(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:51)
	at com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:37)
	at com.jiawa.wiki.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$87fe082b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$8ab95806.get30Statistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 89 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 101 common frames omitted
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at jdk.internal.reflect.GeneratedConstructorAccessor50.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 115 common frames omitted
2023-06-21 09:55:36.877 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m52295592516390912 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.]
2023-06-21 09:55:42.222 ERROR com.zaxxer.hikari.pool.HikariPool                 :593  [32m52295592516390913 [0;39m HikariPool-1 - Exception during pool initialization.
java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy91.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy107.getStatistic(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.getStatistic(EbookSnapshotService.java:38)
	at com.jiawa.wiki.controller.EbookSnapshotController.getStatistic(EbookSnapshotController.java:29)
	at com.jiawa.wiki.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$87fe082b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$8ab95806.getStatistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at jdk.internal.reflect.GeneratedConstructorAccessor50.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 115 common frames omitted
2023-06-21 09:55:42.224 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m52295592516390914 [0;39m HikariPool-1 - Starting...
2023-06-21 09:55:42.225 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m52295592516390913 [0;39m 系统异常：
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy91.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy107.getStatistic(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.getStatistic(EbookSnapshotService.java:38)
	at com.jiawa.wiki.controller.EbookSnapshotController.getStatistic(EbookSnapshotController.java:29)
	at com.jiawa.wiki.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$87fe082b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$8ab95806.getStatistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 89 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 101 common frames omitted
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at jdk.internal.reflect.GeneratedConstructorAccessor50.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 115 common frames omitted
2023-06-21 09:55:42.228 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m52295592516390913 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.]
2023-06-21 09:55:47.765 ERROR com.zaxxer.hikari.pool.HikariPool                 :593  [32m52295592516390914 [0;39m HikariPool-1 - Exception during pool initialization.
java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy91.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy92.selectByExample(Unknown Source)
	at com.jiawa.wiki.service.CategoryService.all(CategoryService.java:36)
	at com.jiawa.wiki.controller.CategoryController.all(CategoryController.java:25)
	at com.jiawa.wiki.controller.CategoryController$$FastClassBySpringCGLIB$$6743b2dd.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.CategoryController$$EnhancerBySpringCGLIB$$4689975c.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at jdk.internal.reflect.GeneratedConstructorAccessor50.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 115 common frames omitted
2023-06-21 09:55:47.768 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m52295592516390914 [0;39m 系统异常：
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy91.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy92.selectByExample(Unknown Source)
	at com.jiawa.wiki.service.CategoryService.all(CategoryService.java:36)
	at com.jiawa.wiki.controller.CategoryController.all(CategoryController.java:25)
	at com.jiawa.wiki.controller.CategoryController$$FastClassBySpringCGLIB$$6743b2dd.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.CategoryController$$EnhancerBySpringCGLIB$$4689975c.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 89 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:906)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:831)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 101 common frames omitted
Caused by: com.mysql.cj.exceptions.CJException: Access denied for user 'root'@'111.198.88.85' (using password: YES)
	at jdk.internal.reflect.GeneratedConstructorAccessor50.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:129)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:792)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:717)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:685)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:134)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:469)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:174)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1348)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:157)
	at com.mysql.cj.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:850)
	... 115 common frames omitted
2023-06-21 09:55:47.771 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m52295592516390914 [0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.jiawa.wiki.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.]
2023-06-21 09:55:57.772 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-06-21 09:55:57.777 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-06-21 09:56:05.548 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-06-21 09:56:05.577 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.5 on 康俊杰 with PID 7520 (D:\Coun-Vue\target\classes started by 82413 in D:\Coun-Vue)
2023-06-21 09:56:05.577 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-06-21 09:56:05.693 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-21 09:56:05.694 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-21 09:56:07.019 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-06-21 09:56:07.023 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-06-21 09:56:07.054 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2023-06-21 09:56:07.972 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-06-21 09:56:08.027 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-06-21 09:56:08.029 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-06-21 09:56:08.029 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-06-21 09:56:08.214 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-06-21 09:56:08.216 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2517 ms
2023-06-21 09:56:09.637 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-06-21 09:56:10.200 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-06-21 09:56:10.262 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-06-21 09:56:10.321 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-06-21 09:56:10.346 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-06-21 09:56:10.355 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 5.397 seconds (JVM running for 6.92)
2023-06-21 09:56:10.357 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-06-21 09:56:10.357 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-06-21 09:56:39.711 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-21 09:56:39.712 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-06-21 09:56:39.715 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 3 ms
2023-06-21 09:56:39.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295880451166208 [0;39m ------------- 开始 -------------
2023-06-21 09:56:39.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295880451166210 [0;39m ------------- 开始 -------------
2023-06-21 09:56:39.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295880451166209 [0;39m ------------- 开始 -------------
2023-06-21 09:56:39.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295880451166208 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 09:56:39.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295880451166209 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 09:56:39.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295880451166210 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 09:56:39.771 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295880451166210 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 09:56:39.771 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295880451166209 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 09:56:39.771 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295880451166208 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 09:56:39.771 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295880451166209 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:56:39.771 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295880451166210 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:56:39.771 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295880451166208 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:56:39.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295880451166209 [0;39m 请求参数: []
2023-06-21 09:56:39.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295880451166208 [0;39m 请求参数: []
2023-06-21 09:56:39.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295880451166210 [0;39m 请求参数: []
2023-06-21 09:56:39.900 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m52295880451166209 [0;39m HikariPool-1 - Starting...
2023-06-21 09:56:40.429 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52295880451166210 [0;39m 访问Redis
2023-06-21 09:56:40.845 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m52295880451166209 [0;39m HikariPool-1 - Start completed.
2023-06-21 09:56:40.854 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52295880451166209 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 09:56:40.880 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52295880451166209 [0;39m ==> Parameters: 
2023-06-21 09:56:40.939 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 09:56:40.940 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 09:56:40.945 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 09:56:40.946 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 09:56:40.946 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 09:56:40.948 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 09:56:40.950 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 09:56:40.950 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 09:56:40.951 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 09:56:40.952 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 09:56:40.952 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 09:56:40.953 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 09:56:40.953 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 09:56:40.954 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 09:56:40.954 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 09:56:40.955 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 09:56:40.956 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 09:56:40.959 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295880451166209 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 09:56:40.961 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52295880451166209 [0;39m <==      Total: 17
2023-06-21 09:56:40.980 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52295880451166210 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 09:56:40.980 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52295880451166210 [0;39m ==> Parameters: 
2023-06-21 09:56:40.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295880451166209 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 09:56:41.220 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52295880451166208 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 09:56:41.593 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52295880451166208 [0;39m ==> Parameters: 
2023-06-21 09:56:41.593 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295880451166209 [0;39m ------------- 结束 耗时：1826 ms -------------
2023-06-21 09:56:41.634 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52295880451166210 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 09:56:41.634 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 09:56:41.635 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 09:56:41.635 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52295880451166210 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 09:56:41.636 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 09:56:41.636 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52295880451166210 [0;39m <==        Row: 2023-06-21, 0, 0, 0, 0
2023-06-21 09:56:41.636 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 09:56:41.637 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52295880451166210 [0;39m <==      Total: 2
2023-06-21 09:56:41.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 09:56:41.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 09:56:41.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 09:56:41.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 09:56:41.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 09:56:41.639 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 09:56:41.640 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 09:56:41.641 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 09:56:41.641 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 09:56:41.642 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 09:56:41.642 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 09:56:41.642 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 09:56:41.643 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295880451166208 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 09:56:41.644 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52295880451166208 [0;39m <==      Total: 16
2023-06-21 09:56:41.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295880451166210 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-06-21 09:56:41.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295880451166210 [0;39m ------------- 结束 耗时：1903 ms -------------
2023-06-21 09:56:41.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295880451166208 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 09:56:41.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295880451166208 [0;39m ------------- 结束 耗时：1914 ms -------------
2023-06-21 09:56:53.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295936721948672 [0;39m ------------- 开始 -------------
2023-06-21 09:56:53.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295936721948672 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-06-21 09:56:53.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295936721948672 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-06-21 09:56:53.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295936721948672 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:56:53.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295936721948672 [0;39m 请求参数: [{"categoryId2":504,"page":1,"size":1000}]
2023-06-21 09:56:53.312 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52295936721948672 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-06-21 09:56:53.314 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52295936721948672 [0;39m ==> Parameters: 504(Long)
2023-06-21 09:56:53.343 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52295936721948672 [0;39m <==    Columns: count(0)
2023-06-21 09:56:53.343 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52295936721948672 [0;39m <==        Row: 1
2023-06-21 09:56:53.344 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52295936721948672 [0;39m <==      Total: 1
2023-06-21 09:56:53.347 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52295936721948672 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-06-21 09:56:53.348 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52295936721948672 [0;39m ==> Parameters: 504(Long), 1000(Integer)
2023-06-21 09:56:53.374 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52295936721948672 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-06-21 09:56:53.374 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52295936721948672 [0;39m <==        Row: 7, JS防抖策略和节流策略, 100, 504, JS实战, http://127.0.0.1:8880/file/image-20220202111056036.png, 5, 148, 15
2023-06-21 09:56:53.374 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52295936721948672 [0;39m <==      Total: 1
2023-06-21 09:56:53.374 INFO  com.jiawa.wiki.service.EbookService               :48   [32m52295936721948672 [0;39m 总行数：1
2023-06-21 09:56:53.374 INFO  com.jiawa.wiki.service.EbookService               :49   [32m52295936721948672 [0;39m 总页数：1
2023-06-21 09:56:53.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295936721948672 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":504,"cover":"http://127.0.0.1:8880/file/image-20220202111056036.png","description":"JS实战","docCount":5,"id":7,"name":"JS防抖策略和节流策略","viewCount":148,"voteCount":15}],"total":1},"success":true}
2023-06-21 09:56:53.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295936721948672 [0;39m ------------- 结束 耗时：209 ms -------------
2023-06-21 09:56:53.426 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 09:56:53.426 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/error
2023-06-21 09:56:53.426 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：null
2023-06-21 09:56:53.426 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m                  [0;39m token为空，请求被拦截
2023-06-21 09:56:54.451 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52295880451166210 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 09:56:54.452 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m52295880451166210 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-06-21 09:56:54.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 09:56:54.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2023-06-21 09:56:54.461 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：44816569032904704
2023-06-21 09:56:54.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295942082269185 [0;39m ------------- 开始 -------------
2023-06-21 09:56:54.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295942082269184 [0;39m ------------- 开始 -------------
2023-06-21 09:56:54.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295942082269185 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/7 GET
2023-06-21 09:56:54.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295942082269185 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-06-21 09:56:54.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295942082269184 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/7 GET
2023-06-21 09:56:54.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295942082269185 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:56:54.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295942082269184 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-06-21 09:56:54.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295942082269184 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:56:54.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295942082269185 [0;39m 请求参数: [7]
2023-06-21 09:56:54.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295942082269184 [0;39m 请求参数: [7]
2023-06-21 09:56:54.494 WARN  com.jiawa.wiki.interceptor.LoginInterceptor       :55   [32m                  [0;39m token无效，请求被拦截
2023-06-21 09:56:54.501 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m52295942082269185 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-06-21 09:56:54.502 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m52295942082269185 [0;39m ==> Parameters: 7(Long)
2023-06-21 09:56:54.530 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52295942082269184 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-06-21 09:56:54.531 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m52295942082269185 [0;39m <==      Total: 0
2023-06-21 09:56:54.531 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52295942082269184 [0;39m ==> Parameters: 7(Long)
2023-06-21 09:56:54.534 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByIds      :137  [32m52295942082269185 [0;39m ==>  Preparing: select * from user where id IN
2023-06-21 09:56:54.535 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByIds      :137  [32m52295942082269185 [0;39m ==> Parameters: 
2023-06-21 09:56:54.576 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52295942082269184 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 09:56:54.577 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52295942082269184 [0;39m <==        Row: 41260598448754688, 7, 0, JS的优化策略, 1, 70, 4
2023-06-21 09:56:54.578 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52295942082269184 [0;39m <==        Row: 41261844488392704, 7, 41260702874341376, JS实战防抖策略基础, 1, 34, 4
2023-06-21 09:56:54.579 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52295942082269184 [0;39m <==        Row: 41265633660375040, 7, 41260840728530944, JS节流策略实战, 1, 20, 3
2023-06-21 09:56:54.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295942581391360 [0;39m ------------- 开始 -------------
2023-06-21 09:56:54.581 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52295942082269184 [0;39m <==        Row: 41260702874341376, 7, 0, JS的防抖策略, 2, 12, 2
2023-06-21 09:56:54.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295942581391360 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 09:56:54.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295942581391360 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 09:56:54.582 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52295942082269184 [0;39m <==        Row: 41260840728530944, 7, 0, JS的节流策略, 3, 12, 2
2023-06-21 09:56:54.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295942581391360 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:56:54.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295942581391360 [0;39m 请求参数: []
2023-06-21 09:56:54.582 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52295942082269184 [0;39m <==      Total: 5
2023-06-21 09:56:54.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295942593974272 [0;39m ------------- 开始 -------------
2023-06-21 09:56:54.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295942593974273 [0;39m ------------- 开始 -------------
2023-06-21 09:56:54.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295942593974273 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 09:56:54.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295942593974272 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 09:56:54.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295942593974273 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 09:56:54.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295942593974272 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 09:56:54.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295942593974273 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:56:54.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295942593974272 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:56:54.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295942593974272 [0;39m 请求参数: []
2023-06-21 09:56:54.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295942593974273 [0;39m 请求参数: []
2023-06-21 09:56:54.585 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52295942593974273 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 09:56:54.585 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52295942593974273 [0;39m ==> Parameters: 
2023-06-21 09:56:54.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295942082269184 [0;39m 返回结果: {"content":[{"ebookId":7,"id":41260598448754688,"name":"JS的优化策略","parent":0,"sort":1,"viewCount":70,"voteCount":4},{"ebookId":7,"id":41261844488392704,"name":"JS实战防抖策略基础","parent":41260702874341376,"sort":1,"viewCount":34,"voteCount":4},{"ebookId":7,"id":41265633660375040,"name":"JS节流策略实战","parent":41260840728530944,"sort":1,"viewCount":20,"voteCount":3},{"ebookId":7,"id":41260702874341376,"name":"JS的防抖策略","parent":0,"sort":2,"viewCount":12,"voteCount":2},{"ebookId":7,"id":41260840728530944,"name":"JS的节流策略","parent":0,"sort":3,"viewCount":12,"voteCount":2}],"success":true}
2023-06-21 09:56:54.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295942082269184 [0;39m ------------- 结束 耗时：134 ms -------------
2023-06-21 09:56:54.612 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52295942593974272 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 09:56:54.613 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52295942593974272 [0;39m ==> Parameters: 
2023-06-21 09:56:54.614 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 09:56:54.615 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 09:56:54.616 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 09:56:54.616 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 09:56:54.617 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 09:56:54.617 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 09:56:54.618 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 09:56:54.618 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 09:56:54.619 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 09:56:54.619 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 09:56:54.619 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 09:56:54.620 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 09:56:54.620 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 09:56:54.620 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 09:56:54.620 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 09:56:54.620 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52295942581391360 [0;39m 访问Redis
2023-06-21 09:56:54.621 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 09:56:54.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295942581391360 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-06-21 09:56:54.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295942581391360 [0;39m ------------- 结束 耗时：41 ms -------------
2023-06-21 09:56:54.621 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 09:56:54.621 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52295942593974273 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 09:56:54.621 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52295942593974273 [0;39m <==      Total: 17
2023-06-21 09:56:54.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295942593974273 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 09:56:54.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295942593974273 [0;39m ------------- 结束 耗时：40 ms -------------
2023-06-21 09:56:54.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295942874992640 [0;39m ------------- 开始 -------------
2023-06-21 09:56:54.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295942874992640 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41260598448754688 GET
2023-06-21 09:56:54.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295942874992640 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:56:54.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295942874992640 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:56:54.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295942874992640 [0;39m 请求参数: [41260598448754688]
2023-06-21 09:56:54.651 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52295942874992640 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:56:54.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 09:56:54.652 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52295942874992640 [0;39m ==> Parameters: 41260598448754688(Long)
2023-06-21 09:56:54.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 09:56:54.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 09:56:54.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 09:56:54.653 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 09:56:54.653 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 09:56:54.653 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 09:56:54.653 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 09:56:54.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 09:56:54.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 09:56:54.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 09:56:54.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 09:56:54.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 09:56:54.656 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 09:56:54.656 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 09:56:54.653 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m52295942082269185 [0;39m 系统异常：
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.selectByIds-Inline
### The error occurred while setting parameters
### SQL: select *     from user     where id IN
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy91.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy103.selectByIds(Unknown Source)
	at com.jiawa.wiki.service.CommentService.selectByEbookId(CommentService.java:56)
	at com.jiawa.wiki.controller.DocController.CommentResp(DocController.java:79)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$ebe26a30.CommentResp(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at jdk.proxy4/jdk.proxy4.$Proxy136.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
2023-06-21 09:56:54.663 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m52295942082269185 [0;39m Resolved [org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.selectByIds-Inline
### The error occurred while setting parameters
### SQL: select *     from user     where id IN
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3]
2023-06-21 09:56:54.669 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 09:56:54.669 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52295942593974272 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 09:56:54.669 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52295942593974272 [0;39m <==      Total: 16
2023-06-21 09:56:54.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295942593974272 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 09:56:54.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295942593974272 [0;39m ------------- 结束 耗时：86 ms -------------
2023-06-21 09:56:54.714 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52295942874992640 [0;39m <==    Columns: id, content
2023-06-21 09:56:54.715 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52295942874992640 [0;39m <==        Row: 41260598448754688, <<BLOB>>
2023-06-21 09:56:54.716 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52295942874992640 [0;39m <==      Total: 1
2023-06-21 09:56:54.719 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52295942874992640 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:56:54.719 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52295942874992640 [0;39m ==> Parameters: 41260598448754688(Long)
2023-06-21 09:56:54.784 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52295942874992640 [0;39m <==    Updates: 1
2023-06-21 09:56:54.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295942874992640 [0;39m 返回结果: {"content":"<p>防抖（Debounce）和节流（Throttle）是在 JavaScript 中常见的两种优化策略，它们的主要目的是控制函数的执行频率。这两种策略在处理一些高频率事件（如滚动、输入、点击等）时非常有用，可以帮助我们避免因为频繁的函数执行而导致的性能问题。<br></p>","success":true}
2023-06-21 09:56:54.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295942874992640 [0;39m ------------- 结束 耗时：136 ms -------------
2023-06-21 09:56:58.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295957462781952 [0;39m ------------- 开始 -------------
2023-06-21 09:56:58.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295957462781952 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-06-21 09:56:58.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295957462781952 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-06-21 09:56:58.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295957462781952 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:56:58.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295957462781952 [0;39m 请求参数: [{"categoryId2":504,"page":1,"size":1000}]
2023-06-21 09:56:58.161 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52295957462781952 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-06-21 09:56:58.163 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52295957462781952 [0;39m ==> Parameters: 504(Long)
2023-06-21 09:56:58.194 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52295957462781952 [0;39m <==    Columns: count(0)
2023-06-21 09:56:58.195 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52295957462781952 [0;39m <==        Row: 1
2023-06-21 09:56:58.196 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52295957462781952 [0;39m <==      Total: 1
2023-06-21 09:56:58.197 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52295957462781952 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-06-21 09:56:58.197 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52295957462781952 [0;39m ==> Parameters: 504(Long), 1000(Integer)
2023-06-21 09:56:58.228 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52295957462781952 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-06-21 09:56:58.228 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52295957462781952 [0;39m <==        Row: 7, JS防抖策略和节流策略, 100, 504, JS实战, http://127.0.0.1:8880/file/image-20220202111056036.png, 5, 148, 15
2023-06-21 09:56:58.228 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52295957462781952 [0;39m <==      Total: 1
2023-06-21 09:56:58.228 INFO  com.jiawa.wiki.service.EbookService               :48   [32m52295957462781952 [0;39m 总行数：1
2023-06-21 09:56:58.228 INFO  com.jiawa.wiki.service.EbookService               :49   [32m52295957462781952 [0;39m 总页数：1
2023-06-21 09:56:58.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295957462781952 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":504,"cover":"http://127.0.0.1:8880/file/image-20220202111056036.png","description":"JS实战","docCount":5,"id":7,"name":"JS防抖策略和节流策略","viewCount":148,"voteCount":15}],"total":1},"success":true}
2023-06-21 09:56:58.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295957462781952 [0;39m ------------- 结束 耗时：100 ms -------------
2023-06-21 09:56:58.263 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52295942082269185 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 09:56:58.263 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m52295942082269185 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/error
2023-06-21 09:56:58.264 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m52295942082269185 [0;39m 登录校验开始，token：null
2023-06-21 09:56:58.264 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m52295942082269185 [0;39m token为空，请求被拦截
2023-06-21 09:56:58.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295960126164992 [0;39m ------------- 开始 -------------
2023-06-21 09:56:58.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295960126164992 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/7 GET
2023-06-21 09:56:58.768 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295960126164992 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-06-21 09:56:58.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295960126164992 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:56:58.771 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295960126164992 [0;39m 请求参数: [7]
2023-06-21 09:56:58.808 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52295960126164992 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-06-21 09:56:58.808 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52295960126164992 [0;39m ==> Parameters: 7(Long)
2023-06-21 09:56:58.840 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52295960126164992 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 09:56:58.840 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52295960126164992 [0;39m <==        Row: 41260598448754688, 7, 0, JS的优化策略, 1, 71, 4
2023-06-21 09:56:58.840 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52295960126164992 [0;39m <==        Row: 41261844488392704, 7, 41260702874341376, JS实战防抖策略基础, 1, 34, 4
2023-06-21 09:56:58.840 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52295960126164992 [0;39m <==        Row: 41265633660375040, 7, 41260840728530944, JS节流策略实战, 1, 20, 3
2023-06-21 09:56:58.840 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52295960126164992 [0;39m <==        Row: 41260702874341376, 7, 0, JS的防抖策略, 2, 12, 2
2023-06-21 09:56:59.099 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52295960126164992 [0;39m <==        Row: 41260840728530944, 7, 0, JS的节流策略, 3, 12, 2
2023-06-21 09:56:59.099 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52295960126164992 [0;39m <==      Total: 5
2023-06-21 09:56:59.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295960126164992 [0;39m 返回结果: {"content":[{"ebookId":7,"id":41260598448754688,"name":"JS的优化策略","parent":0,"sort":1,"viewCount":71,"voteCount":4},{"ebookId":7,"id":41261844488392704,"name":"JS实战防抖策略基础","parent":41260702874341376,"sort":1,"viewCount":34,"voteCount":4},{"ebookId":7,"id":41265633660375040,"name":"JS节流策略实战","parent":41260840728530944,"sort":1,"viewCount":20,"voteCount":3},{"ebookId":7,"id":41260702874341376,"name":"JS的防抖策略","parent":0,"sort":2,"viewCount":12,"voteCount":2},{"ebookId":7,"id":41260840728530944,"name":"JS的节流策略","parent":0,"sort":3,"viewCount":12,"voteCount":2}],"success":true}
2023-06-21 09:56:59.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295960126164992 [0;39m ------------- 结束 耗时：337 ms -------------
2023-06-21 09:56:59.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295961648697344 [0;39m ------------- 开始 -------------
2023-06-21 09:56:59.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295961648697344 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41260598448754688 GET
2023-06-21 09:56:59.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295961648697344 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:56:59.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295961648697344 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:56:59.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295961648697344 [0;39m 请求参数: [41260598448754688]
2023-06-21 09:56:59.154 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52295961648697344 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:56:59.155 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52295961648697344 [0;39m ==> Parameters: 41260598448754688(Long)
2023-06-21 09:56:59.185 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52295961648697344 [0;39m <==    Columns: id, content
2023-06-21 09:56:59.185 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52295961648697344 [0;39m <==        Row: 41260598448754688, <<BLOB>>
2023-06-21 09:56:59.186 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52295961648697344 [0;39m <==      Total: 1
2023-06-21 09:56:59.188 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52295961648697344 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:56:59.188 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52295961648697344 [0;39m ==> Parameters: 41260598448754688(Long)
2023-06-21 09:56:59.248 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52295961648697344 [0;39m <==    Updates: 1
2023-06-21 09:56:59.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295961648697344 [0;39m 返回结果: {"content":"<p>防抖（Debounce）和节流（Throttle）是在 JavaScript 中常见的两种优化策略，它们的主要目的是控制函数的执行频率。这两种策略在处理一些高频率事件（如滚动、输入、点击等）时非常有用，可以帮助我们避免因为频繁的函数执行而导致的性能问题。<br></p>","success":true}
2023-06-21 09:56:59.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295961648697344 [0;39m ------------- 结束 耗时：123 ms -------------
2023-06-21 09:57:01.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295971236876288 [0;39m ------------- 开始 -------------
2023-06-21 09:57:01.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295971236876288 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/41260598448754688 GET
2023-06-21 09:57:01.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295971236876288 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-06-21 09:57:01.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295971236876288 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:57:01.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295971236876288 [0;39m 请求参数: [41260598448754688]
2023-06-21 09:57:01.446 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m52295971236876288 [0;39m key不存在，放入：DOC_VOTE_41260598448754688_127.0.0.1，过期 5000 秒
2023-06-21 09:57:01.500 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52295971236876288 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-06-21 09:57:01.508 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52295971236876288 [0;39m ==> Parameters: 41260598448754688(Long)
2023-06-21 09:57:01.563 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52295971236876288 [0;39m <==    Updates: 1
2023-06-21 09:57:01.563 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52295971236876288 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-06-21 09:57:01.563 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52295971236876288 [0;39m ==> Parameters: 41260598448754688(Long)
2023-06-21 09:57:01.611 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52295971236876288 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 09:57:01.611 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52295971236876288 [0;39m <==        Row: 41260598448754688, 7, 0, JS的优化策略, 1, 72, 5
2023-06-21 09:57:01.611 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52295971236876288 [0;39m <==      Total: 1
2023-06-21 09:57:01.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295971236876288 [0;39m 返回结果: {"success":true}
2023-06-21 09:57:01.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295971236876288 [0;39m ------------- 结束 耗时：199 ms -------------
2023-06-21 09:57:03.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295979147333632 [0;39m ------------- 开始 -------------
2023-06-21 09:57:03.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295979147333632 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41260702874341376 GET
2023-06-21 09:57:03.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295979147333632 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:57:03.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295979147333632 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:57:03.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295979147333632 [0;39m 请求参数: [41260702874341376]
2023-06-21 09:57:03.328 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52295979147333632 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:57:03.329 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52295979147333632 [0;39m ==> Parameters: 41260702874341376(Long)
2023-06-21 09:57:03.364 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52295979147333632 [0;39m <==    Columns: id, content
2023-06-21 09:57:03.364 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52295979147333632 [0;39m <==        Row: 41260702874341376, <<BLOB>>
2023-06-21 09:57:03.365 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52295979147333632 [0;39m <==      Total: 1
2023-06-21 09:57:03.367 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52295979147333632 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:57:03.367 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52295979147333632 [0;39m ==> Parameters: 41260702874341376(Long)
2023-06-21 09:57:03.430 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52295979147333632 [0;39m <==    Updates: 1
2023-06-21 09:57:03.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295979147333632 [0;39m 返回结果: {"content":"<ol><li><p>防抖（Debounce）：防抖的主要思想是，在某段时间内，不论你触发了多少次函数，我都只认最后一次。在这段时间结束后，才会执行函数。这在用户输入或者窗口大小调整等操作时非常有用。例如，在用户完成输入后自动触发搜索，而不是每输入一个字符就触发搜索。</p></li></ol>","success":true}
2023-06-21 09:57:03.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295979147333632 [0;39m ------------- 结束 耗时：134 ms -------------
2023-06-21 09:57:03.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52295982007848960 [0;39m ------------- 开始 -------------
2023-06-21 09:57:03.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52295982007848960 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41261844488392704 GET
2023-06-21 09:57:03.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52295982007848960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:57:03.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52295982007848960 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:57:03.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52295982007848960 [0;39m 请求参数: [41261844488392704]
2023-06-21 09:57:04.010 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52295982007848960 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:57:04.011 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52295982007848960 [0;39m ==> Parameters: 41261844488392704(Long)
2023-06-21 09:57:04.045 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52295982007848960 [0;39m <==    Columns: id, content
2023-06-21 09:57:04.045 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52295982007848960 [0;39m <==        Row: 41261844488392704, <<BLOB>>
2023-06-21 09:57:04.045 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52295982007848960 [0;39m <==      Total: 1
2023-06-21 09:57:04.045 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52295982007848960 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:57:04.045 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52295982007848960 [0;39m ==> Parameters: 41261844488392704(Long)
2023-06-21 09:57:04.111 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52295982007848960 [0;39m <==    Updates: 1
2023-06-21 09:57:04.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52295982007848960 [0;39m 返回结果: {"content":"<h1 id=\"hh0ah\">直接说我们的一个实战应用需求：</h1><h2 id=\"gtq2e\">&nbsp; &nbsp;目前我们需要保存用户的最后一次退出页面的文档记录，但是我们不能每次都一直执行，如果用户一直点文档的话，会造成我们的一个性能损耗，所以我们需要有这么一个防抖策略</h2><p>&nbsp; &nbsp;<b> 1. 定义一个值<span style=\"font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 1em;\">let timeoutId: number | undefined; // 这是一个全局变量，用于储存当前的定时器ID</span></b></p><p><span style=\"font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 1em;\"><b>&nbsp; 2.设置一个防抖方法</b></span></p><p><b><span style=\"font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 1em;\">&nbsp; &nbsp;</span>const debounceSaveDoc = () =&gt; {</b></p><b>&nbsp; &nbsp; &nbsp;clearTimeout(timeoutId)// 如果已有定时器，清除它<br>&nbsp; &nbsp; &nbsp;// 设定一个新的定时器，在一段时间后再次调用saveDoc函数<br>&nbsp; &nbsp; &nbsp;timeoutId = setTimeout(saveDoc, 3000);<br>&nbsp; &nbsp; &nbsp; }</b><p><b>&nbsp; &nbsp; &nbsp; 3.在应用到他的地方将这个方法替换成debounceSaveDoc&nbsp;</b></p><p><b>&nbsp; &nbsp; &nbsp; &nbsp;const onSelect = (selectedKey: any, info: any) =&gt; {</b></p><b>        if (Tool.isNotEmpty(selectedKey)) {<br>          // 选中某一节点时，加载该节点的文档信息<br>          doc.value = info.selectedNodes[0].props;<br>          // 加载内容<br>          handleQueryContent(selectedKey[0]);<br>          if (store.state.user.id !=null) {<br>            debounceSaveDoc();<br>          }<br>          // 更新选中的节点<br>          defaultSelectedKeys.value = selectedKey;<br>        }<br>      };</b><h1 id=\"m3inf\">&nbsp;总结：这么一来，用户在点击文档后，停留三秒才会去执行saveDocId的方法，减少了性能损耗</h1>","success":true}
2023-06-21 09:57:04.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52295982007848960 [0;39m ------------- 结束 耗时：760 ms -------------
2023-06-21 09:57:10.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296008591347712 [0;39m ------------- 开始 -------------
2023-06-21 09:57:10.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296008591347712 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-06-21 09:57:10.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296008591347712 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-06-21 09:57:10.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296008591347712 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:57:10.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296008591347712 [0;39m 请求参数: [{"loginName":"test"}]
2023-06-21 09:57:10.394 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m52296008591347712 [0;39m ==>  Preparing: select id, login_name, `name`, `password`, avatar from user WHERE ( login_name = ? )
2023-06-21 09:57:10.394 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m52296008591347712 [0;39m ==> Parameters: test(String)
2023-06-21 09:57:10.426 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m52296008591347712 [0;39m <==    Columns: id, login_name, name, password, avatar
2023-06-21 09:57:10.426 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m52296008591347712 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4, http://127.0.0.1:8880/file/image-20220202121318183-16437751995162.png
2023-06-21 09:57:10.426 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m52296008591347712 [0;39m <==      Total: 1
2023-06-21 09:57:10.426 INFO  com.jiawa.wiki.controller.UserController          :99   [32m52296008591347712 [0;39m 生成单点登录token：52296009044332544，并放入redis中
2023-06-21 09:57:10.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296008591347712 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"52296009044332544"},"success":true}
2023-06-21 09:57:10.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296008591347712 [0;39m ------------- 结束 耗时：139 ms -------------
2023-06-21 09:57:12.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296016904458240 [0;39m ------------- 开始 -------------
2023-06-21 09:57:12.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296016904458240 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/41261844488392704 GET
2023-06-21 09:57:12.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296016904458240 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-06-21 09:57:12.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296016904458240 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:57:12.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296016904458240 [0;39m 请求参数: [41261844488392704]
2023-06-21 09:57:12.338 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m52296016904458240 [0;39m key不存在，放入：DOC_VOTE_41261844488392704_127.0.0.1，过期 5000 秒
2023-06-21 09:57:12.390 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296016904458240 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-06-21 09:57:12.390 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296016904458240 [0;39m ==> Parameters: 41261844488392704(Long)
2023-06-21 09:57:12.453 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296016904458240 [0;39m <==    Updates: 1
2023-06-21 09:57:12.453 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296016904458240 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-06-21 09:57:12.453 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296016904458240 [0;39m ==> Parameters: 41261844488392704(Long)
2023-06-21 09:57:12.470 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52296016904458240 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 09:57:12.470 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52296016904458240 [0;39m <==        Row: 41261844488392704, 7, 41260702874341376, JS实战防抖策略基础, 1, 35, 5
2023-06-21 09:57:12.470 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296016904458240 [0;39m <==      Total: 1
2023-06-21 09:57:12.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296016904458240 [0;39m 返回结果: {"success":true}
2023-06-21 09:57:12.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296016904458240 [0;39m ------------- 结束 耗时：170 ms -------------
2023-06-21 09:57:15.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296031886512128 [0;39m ------------- 开始 -------------
2023-06-21 09:57:15.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296031886512128 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 09:57:15.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296031886512128 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 09:57:15.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296031886512128 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:57:15.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296031886512128 [0;39m 请求参数: []
2023-06-21 09:57:15.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296031907483648 [0;39m ------------- 开始 -------------
2023-06-21 09:57:15.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296031907483648 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 09:57:15.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296031907483648 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 09:57:15.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296031907483648 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:57:15.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296031907483648 [0;39m 请求参数: []
2023-06-21 09:57:15.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296031915872256 [0;39m ------------- 开始 -------------
2023-06-21 09:57:15.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296031915872256 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 09:57:15.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296031915872256 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 09:57:15.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296031915872256 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:57:15.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296031915872256 [0;39m 请求参数: []
2023-06-21 09:57:15.903 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52296031907483648 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 09:57:15.904 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52296031907483648 [0;39m ==> Parameters: 
2023-06-21 09:57:15.915 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52296031886512128 [0;39m 访问Redis
2023-06-21 09:57:15.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296031886512128 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-06-21 09:57:15.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296031886512128 [0;39m ------------- 结束 耗时：44 ms -------------
2023-06-21 09:57:15.920 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52296031915872256 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 09:57:15.920 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52296031915872256 [0;39m ==> Parameters: 
2023-06-21 09:57:15.932 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 09:57:15.932 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 09:57:15.945 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 09:57:16.552 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 09:57:16.553 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 09:57:16.553 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 09:57:16.553 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 09:57:16.554 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 09:57:16.554 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 09:57:16.554 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 09:57:16.554 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 09:57:16.554 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 09:57:16.554 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 09:57:16.555 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 09:57:16.555 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 09:57:16.555 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 09:57:16.555 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 09:57:16.555 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 09:57:16.555 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 09:57:16.555 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 09:57:16.556 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 09:57:16.556 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 09:57:16.556 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 09:57:16.556 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 09:57:16.556 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 09:57:16.556 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 09:57:16.557 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 09:57:16.557 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 09:57:16.557 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296031915872256 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 09:57:16.557 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52296031915872256 [0;39m <==      Total: 16
2023-06-21 09:57:16.557 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 09:57:16.558 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 09:57:16.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296031915872256 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 09:57:16.558 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 09:57:16.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296031915872256 [0;39m ------------- 结束 耗时：679 ms -------------
2023-06-21 09:57:16.558 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 09:57:16.558 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 09:57:16.559 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296031907483648 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 09:57:16.559 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52296031907483648 [0;39m <==      Total: 17
2023-06-21 09:57:16.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296031907483648 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 09:57:16.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296031907483648 [0;39m ------------- 结束 耗时：683 ms -------------
2023-06-21 09:57:17.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296039390121984 [0;39m ------------- 开始 -------------
2023-06-21 09:57:17.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296039390121984 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-06-21 09:57:17.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296039390121984 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-06-21 09:57:17.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296039390121984 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:57:17.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296039390121984 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-06-21 09:57:17.695 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296039390121984 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-06-21 09:57:17.695 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296039390121984 [0;39m ==> Parameters: 101(Long)
2023-06-21 09:57:17.763 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296039390121984 [0;39m <==    Columns: count(0)
2023-06-21 09:57:17.763 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296039390121984 [0;39m <==        Row: 1
2023-06-21 09:57:17.763 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296039390121984 [0;39m <==      Total: 1
2023-06-21 09:57:17.763 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296039390121984 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-06-21 09:57:17.763 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296039390121984 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-06-21 09:57:17.842 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296039390121984 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-06-21 09:57:17.844 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296039390121984 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, , 1, 230, 6
2023-06-21 09:57:17.844 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296039390121984 [0;39m <==      Total: 1
2023-06-21 09:57:17.844 INFO  com.jiawa.wiki.service.EbookService               :48   [32m52296039390121984 [0;39m 总行数：1
2023-06-21 09:57:17.844 INFO  com.jiawa.wiki.service.EbookService               :49   [32m52296039390121984 [0;39m 总页数：1
2023-06-21 09:57:17.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296039390121984 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"cover":"","description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":230,"voteCount":6}],"total":1},"success":true}
2023-06-21 09:57:17.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296039390121984 [0;39m ------------- 结束 耗时：183 ms -------------
2023-06-21 09:57:18.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296044372955136 [0;39m ------------- 开始 -------------
2023-06-21 09:57:18.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296044372955136 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-06-21 09:57:18.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296044372955136 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-06-21 09:57:18.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296044372955136 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:57:18.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296044372955136 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-06-21 09:57:18.884 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296044372955136 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-06-21 09:57:18.884 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296044372955136 [0;39m ==> Parameters: 102(Long)
2023-06-21 09:57:18.910 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296044372955136 [0;39m <==    Columns: count(0)
2023-06-21 09:57:18.911 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296044372955136 [0;39m <==        Row: 0
2023-06-21 09:57:18.911 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296044372955136 [0;39m <==      Total: 1
2023-06-21 09:57:18.911 INFO  com.jiawa.wiki.service.EbookService               :48   [32m52296044372955136 [0;39m 总行数：0
2023-06-21 09:57:18.911 INFO  com.jiawa.wiki.service.EbookService               :49   [32m52296044372955136 [0;39m 总页数：0
2023-06-21 09:57:18.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296044372955136 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-06-21 09:57:18.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296044372955136 [0;39m ------------- 结束 耗时：62 ms -------------
2023-06-21 09:57:19.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296048906997760 [0;39m ------------- 开始 -------------
2023-06-21 09:57:19.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296048906997760 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-06-21 09:57:19.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296048906997760 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-06-21 09:57:19.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296048906997760 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:57:19.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296048906997760 [0;39m 请求参数: [{"categoryId2":504,"page":1,"size":1000}]
2023-06-21 09:57:19.942 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296048906997760 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-06-21 09:57:19.959 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296048906997760 [0;39m ==> Parameters: 504(Long)
2023-06-21 09:57:19.977 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296048906997760 [0;39m <==    Columns: count(0)
2023-06-21 09:57:19.977 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296048906997760 [0;39m <==        Row: 1
2023-06-21 09:57:19.977 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296048906997760 [0;39m <==      Total: 1
2023-06-21 09:57:19.977 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296048906997760 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-06-21 09:57:19.977 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296048906997760 [0;39m ==> Parameters: 504(Long), 1000(Integer)
2023-06-21 09:57:20.015 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296048906997760 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-06-21 09:57:20.015 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296048906997760 [0;39m <==        Row: 7, JS防抖策略和节流策略, 100, 504, JS实战, http://127.0.0.1:8880/file/image-20220202111056036.png, 5, 148, 15
2023-06-21 09:57:20.015 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296048906997760 [0;39m <==      Total: 1
2023-06-21 09:57:20.015 INFO  com.jiawa.wiki.service.EbookService               :48   [32m52296048906997760 [0;39m 总行数：1
2023-06-21 09:57:20.015 INFO  com.jiawa.wiki.service.EbookService               :49   [32m52296048906997760 [0;39m 总页数：1
2023-06-21 09:57:20.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296048906997760 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":504,"cover":"http://127.0.0.1:8880/file/image-20220202111056036.png","description":"JS实战","docCount":5,"id":7,"name":"JS防抖策略和节流策略","viewCount":148,"voteCount":15}],"total":1},"success":true}
2023-06-21 09:57:20.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296048906997760 [0;39m ------------- 结束 耗时：85 ms -------------
2023-06-21 09:57:20.057 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52295960126164992 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 09:57:20.059 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m52295960126164992 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/error
2023-06-21 09:57:20.059 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m52295960126164992 [0;39m 登录校验开始，token：null
2023-06-21 09:57:20.060 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m52295960126164992 [0;39m token为空，请求被拦截
2023-06-21 09:57:21.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296054602862592 [0;39m ------------- 开始 -------------
2023-06-21 09:57:21.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296054602862592 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-06-21 09:57:21.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296054602862592 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-06-21 09:57:21.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296054602862592 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:57:21.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296054602862592 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-06-21 09:57:21.314 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296054602862592 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-06-21 09:57:21.314 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296054602862592 [0;39m ==> Parameters: 101(Long)
2023-06-21 09:57:21.359 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296054602862592 [0;39m <==    Columns: count(0)
2023-06-21 09:57:21.360 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296054602862592 [0;39m <==        Row: 1
2023-06-21 09:57:21.360 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296054602862592 [0;39m <==      Total: 1
2023-06-21 09:57:21.361 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296054602862592 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-06-21 09:57:21.361 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296054602862592 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-06-21 09:57:21.377 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296054602862592 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-06-21 09:57:21.377 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296054602862592 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, , 1, 230, 6
2023-06-21 09:57:21.377 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296054602862592 [0;39m <==      Total: 1
2023-06-21 09:57:21.377 INFO  com.jiawa.wiki.service.EbookService               :48   [32m52296054602862592 [0;39m 总行数：1
2023-06-21 09:57:21.377 INFO  com.jiawa.wiki.service.EbookService               :49   [32m52296054602862592 [0;39m 总页数：1
2023-06-21 09:57:21.377 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296054602862592 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"cover":"","description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":230,"voteCount":6}],"total":1},"success":true}
2023-06-21 09:57:21.377 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296054602862592 [0;39m ------------- 结束 耗时：89 ms -------------
2023-06-21 09:58:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52296217023090688 [0;39m 更新电子书下的文档数据开始
2023-06-21 09:58:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52296217023090688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 09:58:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52296217023090688 [0;39m ==> Parameters: 
2023-06-21 09:58:00.098 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52296217023090688 [0;39m <==    Updates: 5
2023-06-21 09:58:00.099 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52296217023090688 [0;39m 更新电子书下的文档数据结束，耗时：86毫秒
2023-06-21 09:59:19.576 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296550738694144 [0;39m ------------- 开始 -------------
2023-06-21 09:59:19.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296550738694144 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-06-21 09:59:19.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296550738694144 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-06-21 09:59:19.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296550738694144 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:19.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296550738694144 [0;39m 请求参数: [{"categoryId2":504,"page":1,"size":1000}]
2023-06-21 09:59:19.596 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296550738694144 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-06-21 09:59:19.596 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296550738694144 [0;39m ==> Parameters: 504(Long)
2023-06-21 09:59:19.630 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296550738694144 [0;39m <==    Columns: count(0)
2023-06-21 09:59:19.630 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296550738694144 [0;39m <==        Row: 1
2023-06-21 09:59:19.630 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296550738694144 [0;39m <==      Total: 1
2023-06-21 09:59:19.630 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296550738694144 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-06-21 09:59:19.630 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296550738694144 [0;39m ==> Parameters: 504(Long), 1000(Integer)
2023-06-21 09:59:19.664 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296550738694144 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-06-21 09:59:19.664 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296550738694144 [0;39m <==        Row: 7, JS防抖策略和节流策略, 100, 504, JS实战, http://127.0.0.1:8880/file/image-20220202111056036.png, 5, 152, 17
2023-06-21 09:59:19.664 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296550738694144 [0;39m <==      Total: 1
2023-06-21 09:59:19.664 INFO  com.jiawa.wiki.service.EbookService               :48   [32m52296550738694144 [0;39m 总行数：1
2023-06-21 09:59:19.664 INFO  com.jiawa.wiki.service.EbookService               :49   [32m52296550738694144 [0;39m 总页数：1
2023-06-21 09:59:19.664 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296550738694144 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":504,"cover":"http://127.0.0.1:8880/file/image-20220202111056036.png","description":"JS实战","docCount":5,"id":7,"name":"JS防抖策略和节流策略","viewCount":152,"voteCount":17}],"total":1},"success":true}
2023-06-21 09:59:19.664 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296550738694144 [0;39m ------------- 结束 耗时：88 ms -------------
2023-06-21 09:59:19.686 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52295942581391360 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 09:59:19.686 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m52295942581391360 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/error
2023-06-21 09:59:19.686 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m52295942581391360 [0;39m 登录校验开始，token：null
2023-06-21 09:59:19.686 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m52295942581391360 [0;39m token为空，请求被拦截
2023-06-21 09:59:21.102 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296557139202048 [0;39m ------------- 开始 -------------
2023-06-21 09:59:21.102 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296557139202048 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-06-21 09:59:21.102 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296557139202048 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-06-21 09:59:21.102 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296557139202048 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:21.102 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296557139202048 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-06-21 09:59:21.129 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296557139202048 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-06-21 09:59:21.129 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296557139202048 [0;39m ==> Parameters: 202(Long)
2023-06-21 09:59:21.160 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296557139202048 [0;39m <==    Columns: count(0)
2023-06-21 09:59:21.160 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296557139202048 [0;39m <==        Row: 2
2023-06-21 09:59:21.161 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296557139202048 [0;39m <==      Total: 1
2023-06-21 09:59:21.161 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296557139202048 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-06-21 09:59:21.163 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296557139202048 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-06-21 09:59:21.181 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296557139202048 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-06-21 09:59:21.181 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296557139202048 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, https://img.bizhizu.com/2015/1231/20151231030245752.jpg, 8, 915, 30
2023-06-21 09:59:21.181 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296557139202048 [0;39m <==        Row: 6, RocketMq实战基础, 200, 202, RocketMq详情介绍, https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg, 9, 201, 9
2023-06-21 09:59:21.181 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296557139202048 [0;39m <==      Total: 2
2023-06-21 09:59:21.181 INFO  com.jiawa.wiki.service.EbookService               :48   [32m52296557139202048 [0;39m 总行数：2
2023-06-21 09:59:21.181 INFO  com.jiawa.wiki.service.EbookService               :49   [32m52296557139202048 [0;39m 总页数：1
2023-06-21 09:59:21.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296557139202048 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"cover":"https://img.bizhizu.com/2015/1231/20151231030245752.jpg","description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":915,"voteCount":30},{"category1Id":200,"category2Id":202,"cover":"https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg","description":"RocketMq详情介绍","docCount":9,"id":6,"name":"RocketMq实战基础","viewCount":201,"voteCount":9}],"total":2},"success":true}
2023-06-21 09:59:21.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296557139202048 [0;39m ------------- 结束 耗时：79 ms -------------
2023-06-21 09:59:21.807 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52296031886512128 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 09:59:21.808 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m52296031886512128 [0;39m ------------- LoginInterceptor 结束 耗时：1 ms -------------
2023-06-21 09:59:21.811 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52296031915872256 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 09:59:21.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296560112963585 [0;39m ------------- 开始 -------------
2023-06-21 09:59:21.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296560112963584 [0;39m ------------- 开始 -------------
2023-06-21 09:59:21.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296560112963584 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-06-21 09:59:21.813 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m52296031915872256 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2023-06-21 09:59:21.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296560112963585 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-06-21 09:59:21.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296560112963585 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-06-21 09:59:21.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296560112963585 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:21.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296560112963585 [0;39m 请求参数: [1]
2023-06-21 09:59:21.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296560112963584 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-06-21 09:59:21.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296560112963584 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:21.813 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m52296031915872256 [0;39m 登录校验开始，token：52296009044332544
2023-06-21 09:59:21.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296560112963584 [0;39m 请求参数: [1]
2023-06-21 09:59:21.840 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m52296031915872256 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"52296009044332544"}
2023-06-21 09:59:21.840 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m52296560112963584 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-06-21 09:59:21.841 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m52296560112963584 [0;39m ==> Parameters: 1(Long)
2023-06-21 09:59:21.842 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52296560112963585 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-06-21 09:59:21.843 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52296560112963585 [0;39m ==> Parameters: 1(Long)
2023-06-21 09:59:21.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296560347844608 [0;39m ------------- 开始 -------------
2023-06-21 09:59:21.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296560347844608 [0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2023-06-21 09:59:21.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296560347844608 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2023-06-21 09:59:21.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296560347844608 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:21.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296560347844608 [0;39m 请求参数: [1,1]
2023-06-21 09:59:21.867 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m52296560112963584 [0;39m <==      Total: 0
2023-06-21 09:59:21.868 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByIds      :137  [32m52296560112963584 [0;39m ==>  Preparing: select * from user where id IN
2023-06-21 09:59:21.868 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByIds      :137  [32m52296560112963584 [0;39m ==> Parameters: 
2023-06-21 09:59:21.870 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560112963585 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 09:59:21.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560112963585 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 683, 13
2023-06-21 09:59:21.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560112963585 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 27, 5
2023-06-21 09:59:21.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560112963585 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 33, 2
2023-06-21 09:59:21.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560112963585 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 79, 4
2023-06-21 09:59:21.874 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560112963585 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 21, 1
2023-06-21 09:59:21.875 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560112963585 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 34, 2
2023-06-21 09:59:21.876 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560112963585 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 16, 1
2023-06-21 09:59:21.876 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560112963585 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 22, 2
2023-06-21 09:59:21.876 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52296560112963585 [0;39m <==      Total: 8
2023-06-21 09:59:21.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296560112963585 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":683,"voteCount":13},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":27,"voteCount":5},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":33,"voteCount":2},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":79,"voteCount":4},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":21,"voteCount":1},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":34,"voteCount":2},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":16,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":22,"voteCount":2}],"success":true}
2023-06-21 09:59:21.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296560112963585 [0;39m ------------- 结束 耗时：67 ms -------------
2023-06-21 09:59:21.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296560461090816 [0;39m ------------- 开始 -------------
2023-06-21 09:59:21.895 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296560347844608 [0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2023-06-21 09:59:21.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296560461090816 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-06-21 09:59:21.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296560461090816 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:59:21.895 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296560347844608 [0;39m ==> Parameters: 1(Long), 1(Long)
2023-06-21 09:59:21.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296560461090816 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:21.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296560461090816 [0;39m 请求参数: [1]
2023-06-21 09:59:21.897 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296560461090816 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:59:21.897 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296560461090816 [0;39m ==> Parameters: 1(Long)
2023-06-21 09:59:21.897 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m52296560112963584 [0;39m 系统异常：
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.selectByIds-Inline
### The error occurred while setting parameters
### SQL: select *     from user     where id IN
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy91.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy103.selectByIds(Unknown Source)
	at com.jiawa.wiki.service.CommentService.selectByEbookId(CommentService.java:56)
	at com.jiawa.wiki.controller.DocController.CommentResp(DocController.java:79)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor117.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$ebe26a30.CommentResp(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at jdk.internal.reflect.GeneratedMethodAccessor99.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at jdk.proxy4/jdk.proxy4.$Proxy136.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor118.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
2023-06-21 09:59:21.914 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m52296560112963584 [0;39m Resolved [org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.selectByIds-Inline
### The error occurred while setting parameters
### SQL: select *     from user     where id IN
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3]
2023-06-21 09:59:21.922 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m52296560347844608 [0;39m <==    Columns: id, user_id, ebook_id, doc_id
2023-06-21 09:59:21.923 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m52296560347844608 [0;39m <==        Row: 1, 1, 1, 37841703666847744
2023-06-21 09:59:21.924 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296560347844608 [0;39m <==      Total: 1
2023-06-21 09:59:21.951 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296560461090816 [0;39m <==    Columns: id, content
2023-06-21 09:59:21.952 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296560461090816 [0;39m <==        Row: 1, <<BLOB>>
2023-06-21 09:59:21.954 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296560461090816 [0;39m <==      Total: 1
2023-06-21 09:59:21.954 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296560461090816 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:59:21.954 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296560461090816 [0;39m ==> Parameters: 1(Long)
2023-06-21 09:59:21.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296560347844608 [0;39m 返回结果: {"content":{"docId":37841703666847744,"ebookId":1,"id":1,"userId":1},"success":true}
2023-06-21 09:59:21.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296560347844608 [0;39m ------------- 结束 耗时：89 ms -------------
2023-06-21 09:59:21.958 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m52296560347844608 [0;39m ------------- LoginInterceptor 结束 耗时：145 ms -------------
2023-06-21 09:59:21.964 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296560754692096 [0;39m ------------- 开始 -------------
2023-06-21 09:59:21.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296560754692096 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-06-21 09:59:21.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296560754692096 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-06-21 09:59:21.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296560754692096 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:21.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296560754692096 [0;39m 请求参数: [1]
2023-06-21 09:59:21.967 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52296560754692096 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-06-21 09:59:21.967 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52296560754692096 [0;39m ==> Parameters: 1(Long)
2023-06-21 09:59:21.996 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560754692096 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 09:59:22.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560754692096 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 683, 13
2023-06-21 09:59:22.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560754692096 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 27, 5
2023-06-21 09:59:22.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560754692096 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 33, 2
2023-06-21 09:59:22.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560754692096 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 79, 4
2023-06-21 09:59:22.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560754692096 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 21, 1
2023-06-21 09:59:22.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560754692096 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 34, 2
2023-06-21 09:59:22.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560754692096 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 16, 1
2023-06-21 09:59:22.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296560754692096 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 22, 2
2023-06-21 09:59:22.000 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52296560754692096 [0;39m <==      Total: 8
2023-06-21 09:59:22.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296560754692096 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":683,"voteCount":13},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":27,"voteCount":5},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":33,"voteCount":2},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":79,"voteCount":4},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":21,"voteCount":1},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":34,"voteCount":2},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":16,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":22,"voteCount":2}],"success":true}
2023-06-21 09:59:22.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296560754692096 [0;39m ------------- 结束 耗时：36 ms -------------
2023-06-21 09:59:22.012 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296560461090816 [0;39m <==    Updates: 1
2023-06-21 09:59:22.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296560461090816 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-06-21 09:59:22.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296560461090816 [0;39m ------------- 结束 耗时：119 ms -------------
2023-06-21 09:59:22.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296560989573120 [0;39m ------------- 开始 -------------
2023-06-21 09:59:22.022 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296560989573120 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/37841703666847744 GET
2023-06-21 09:59:22.022 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296560989573120 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:59:22.022 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296560989573120 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:22.022 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296560989573120 [0;39m 请求参数: [37841703666847744]
2023-06-21 09:59:22.023 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296560989573120 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:59:22.023 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296560989573120 [0;39m ==> Parameters: 37841703666847744(Long)
2023-06-21 09:59:22.051 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296560989573120 [0;39m <==    Columns: id, content
2023-06-21 09:59:22.052 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296560989573120 [0;39m <==        Row: 37841703666847744, <<BLOB>>
2023-06-21 09:59:22.053 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296560989573120 [0;39m <==      Total: 1
2023-06-21 09:59:22.053 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296560989573120 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:59:22.053 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296560989573120 [0;39m ==> Parameters: 37841703666847744(Long)
2023-06-21 09:59:22.111 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296560989573120 [0;39m <==    Updates: 1
2023-06-21 09:59:22.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296560989573120 [0;39m 返回结果: {"content":"","success":true}
2023-06-21 09:59:22.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296560989573120 [0;39m ------------- 结束 耗时：91 ms -------------
2023-06-21 09:59:23.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296565787856896 [0;39m ------------- 开始 -------------
2023-06-21 09:59:23.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296565787856896 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/37841703666847744 GET
2023-06-21 09:59:23.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296565787856896 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-06-21 09:59:23.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296565787856896 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:23.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296565787856896 [0;39m 请求参数: [37841703666847744]
2023-06-21 09:59:23.179 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m52296565787856896 [0;39m key不存在，放入：DOC_VOTE_37841703666847744_127.0.0.1，过期 5000 秒
2023-06-21 09:59:23.244 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296565787856896 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-06-21 09:59:23.245 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296565787856896 [0;39m ==> Parameters: 37841703666847744(Long)
2023-06-21 09:59:23.301 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296565787856896 [0;39m <==    Updates: 1
2023-06-21 09:59:23.301 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296565787856896 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-06-21 09:59:23.301 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296565787856896 [0;39m ==> Parameters: 37841703666847744(Long)
2023-06-21 09:59:23.329 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52296565787856896 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 09:59:23.329 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52296565787856896 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 22, 2
2023-06-21 09:59:23.329 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296565787856896 [0;39m <==      Total: 1
2023-06-21 09:59:23.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296565787856896 [0;39m 返回结果: {"success":true}
2023-06-21 09:59:23.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296565787856896 [0;39m ------------- 结束 耗时：165 ms -------------
2023-06-21 09:59:24.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296572905590785 [0;39m ------------- 开始 -------------
2023-06-21 09:59:24.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296572905590784 [0;39m ------------- 开始 -------------
2023-06-21 09:59:24.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296572905590786 [0;39m ------------- 开始 -------------
2023-06-21 09:59:24.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296572905590785 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 09:59:24.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296572905590784 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 09:59:24.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296572905590785 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 09:59:24.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296572905590784 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 09:59:24.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296572905590785 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:24.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296572905590786 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 09:59:24.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296572905590784 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:24.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296572905590785 [0;39m 请求参数: []
2023-06-21 09:59:24.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296572905590786 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 09:59:24.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296572905590784 [0;39m 请求参数: []
2023-06-21 09:59:24.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296572905590786 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:24.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296572905590786 [0;39m 请求参数: []
2023-06-21 09:59:24.889 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52296572905590786 [0;39m 访问Redis
2023-06-21 09:59:24.890 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52296572905590785 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 09:59:24.890 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52296572905590785 [0;39m ==> Parameters: 
2023-06-21 09:59:24.890 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52296572905590784 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 09:59:24.890 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52296572905590784 [0;39m ==> Parameters: 
2023-06-21 09:59:24.911 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52296572905590786 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 09:59:24.911 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52296572905590786 [0;39m ==> Parameters: 
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 09:59:24.911 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 09:59:24.911 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 09:59:24.911 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 09:59:24.911 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 09:59:24.911 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 09:59:24.911 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 09:59:24.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 09:59:24.911 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 09:59:24.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 09:59:24.926 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 09:59:24.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 09:59:24.926 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 09:59:24.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296572905590785 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 09:59:24.926 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52296572905590785 [0;39m <==      Total: 16
2023-06-21 09:59:24.926 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 09:59:24.926 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 09:59:24.926 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296572905590785 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 09:59:24.926 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 09:59:24.926 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296572905590785 [0;39m ------------- 结束 耗时：65 ms -------------
2023-06-21 09:59:24.926 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 09:59:24.926 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 09:59:24.926 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 09:59:24.926 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 09:59:24.926 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 09:59:24.926 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296572905590784 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 09:59:24.926 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52296572905590784 [0;39m <==      Total: 17
2023-06-21 09:59:24.926 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52296572905590786 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 09:59:24.926 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52296572905590786 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 09:59:24.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296572905590784 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 09:59:24.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296572905590784 [0;39m ------------- 结束 耗时：120 ms -------------
2023-06-21 09:59:24.981 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52296572905590786 [0;39m <==        Row: 2023-06-21, 0, 0, 0, 0
2023-06-21 09:59:24.982 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52296572905590786 [0;39m <==      Total: 2
2023-06-21 09:59:25.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296572905590786 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-06-21 09:59:25.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296572905590786 [0;39m ------------- 结束 耗时：139 ms -------------
2023-06-21 09:59:25.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296577456410624 [0;39m ------------- 开始 -------------
2023-06-21 09:59:25.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296577456410624 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-06-21 09:59:25.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296577456410624 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-06-21 09:59:25.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296577456410624 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:25.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296577456410624 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-06-21 09:59:25.977 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296577456410624 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-06-21 09:59:25.978 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296577456410624 [0;39m ==> Parameters: 202(Long)
2023-06-21 09:59:25.996 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296577456410624 [0;39m <==    Columns: count(0)
2023-06-21 09:59:25.996 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52296577456410624 [0;39m <==        Row: 2
2023-06-21 09:59:25.996 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52296577456410624 [0;39m <==      Total: 1
2023-06-21 09:59:25.996 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296577456410624 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-06-21 09:59:25.996 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296577456410624 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-06-21 09:59:26.031 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296577456410624 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-06-21 09:59:26.031 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296577456410624 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, https://img.bizhizu.com/2015/1231/20151231030245752.jpg, 8, 915, 30
2023-06-21 09:59:26.031 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52296577456410624 [0;39m <==        Row: 6, RocketMq实战基础, 200, 202, RocketMq详情介绍, https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg, 9, 201, 9
2023-06-21 09:59:26.031 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52296577456410624 [0;39m <==      Total: 2
2023-06-21 09:59:26.031 INFO  com.jiawa.wiki.service.EbookService               :48   [32m52296577456410624 [0;39m 总行数：2
2023-06-21 09:59:26.031 INFO  com.jiawa.wiki.service.EbookService               :49   [32m52296577456410624 [0;39m 总页数：1
2023-06-21 09:59:26.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296577456410624 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"cover":"https://img.bizhizu.com/2015/1231/20151231030245752.jpg","description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":915,"voteCount":30},{"category1Id":200,"category2Id":202,"cover":"https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg","description":"RocketMq详情介绍","docCount":9,"id":6,"name":"RocketMq实战基础","viewCount":201,"voteCount":9}],"total":2},"success":true}
2023-06-21 09:59:26.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296577456410624 [0;39m ------------- 结束 耗时：85 ms -------------
2023-06-21 09:59:26.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296581336141824 [0;39m ------------- 开始 -------------
2023-06-21 09:59:26.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296581336141824 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/6 GET
2023-06-21 09:59:26.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296581336141824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-06-21 09:59:26.871 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52296550738694144 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 09:59:26.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296581336141824 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:26.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296581336141824 [0;39m 请求参数: [6]
2023-06-21 09:59:26.872 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m52296550738694144 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-06-21 09:59:26.874 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296581348724736 [0;39m ------------- 开始 -------------
2023-06-21 09:59:26.874 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296581348724736 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/6 GET
2023-06-21 09:59:26.875 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52296565787856896 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 09:59:26.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296581348724736 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-06-21 09:59:26.875 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m52296565787856896 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2023-06-21 09:59:26.875 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m52296565787856896 [0;39m 登录校验开始，token：52296009044332544
2023-06-21 09:59:26.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296581348724736 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:26.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296581348724736 [0;39m 请求参数: [6]
2023-06-21 09:59:26.900 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52296581336141824 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-06-21 09:59:26.900 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52296581336141824 [0;39m ==> Parameters: 6(Long)
2023-06-21 09:59:26.901 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m52296565787856896 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"52296009044332544"}
2023-06-21 09:59:26.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296581461970944 [0;39m ------------- 开始 -------------
2023-06-21 09:59:26.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296581461970944 [0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2023-06-21 09:59:26.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296581461970944 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2023-06-21 09:59:26.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296581461970944 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:26.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296581461970944 [0;39m 请求参数: [1,6]
2023-06-21 09:59:26.903 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m52296581348724736 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-06-21 09:59:26.903 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m52296581348724736 [0;39m ==> Parameters: 6(Long)
2023-06-21 09:59:26.927 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296581461970944 [0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2023-06-21 09:59:26.928 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296581461970944 [0;39m ==> Parameters: 1(Long), 6(Long)
2023-06-21 09:59:26.929 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581336141824 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 09:59:26.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581336141824 [0;39m <==        Row: 39790662006214656, 6, 0, RocketMQ 介绍及基本概念, 0, 113, 3
2023-06-21 09:59:26.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581336141824 [0;39m <==        Row: 39790373182246912, 6, 39790373182246912, 介绍, 1, 0, 0
2023-06-21 09:59:26.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581336141824 [0;39m <==        Row: 39791363037990912, 6, 39790662006214656, 介绍, 1, 6, 2
2023-06-21 09:59:26.930 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m52296581348724736 [0;39m <==      Total: 0
2023-06-21 09:59:26.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581336141824 [0;39m <==        Row: 39791679196237824, 6, 0, RocketMq在Springboot的基础应用, 1, 11, 1
2023-06-21 09:59:26.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581336141824 [0;39m <==        Row: 39791879704940544, 6, 39791679196237824, 配置, 1, 7, 0
2023-06-21 09:59:26.930 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByIds      :137  [32m52296581348724736 [0;39m ==>  Preparing: select * from user where id IN
2023-06-21 09:59:26.930 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByIds      :137  [32m52296581348724736 [0;39m ==> Parameters: 
2023-06-21 09:59:26.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581336141824 [0;39m <==        Row: 39790797704531968, 6, 39790662006214656, RocketMQ 特点, 2, 12, 1
2023-06-21 09:59:26.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581336141824 [0;39m <==        Row: 39792357465526272, 6, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 36, 2
2023-06-21 09:59:26.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581336141824 [0;39m <==        Row: 39794574159384576, 6, 39791679196237824, 服务端, 3, 6, 0
2023-06-21 09:59:26.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581336141824 [0;39m <==        Row: 39800584710262784, 6, 39791679196237824, 完结, 4, 10, 0
2023-06-21 09:59:26.930 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52296581336141824 [0;39m <==      Total: 9
2023-06-21 09:59:26.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296581336141824 [0;39m 返回结果: {"content":[{"ebookId":6,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":113,"voteCount":3},{"ebookId":6,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":6,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":6,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":11,"voteCount":1},{"ebookId":6,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":7,"voteCount":0},{"ebookId":6,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":12,"voteCount":1},{"ebookId":6,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":36,"voteCount":2},{"ebookId":6,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":6,"voteCount":0},{"ebookId":6,"id":39800584710262784,"name":"完结","parent":39791679196237824,"sort":4,"viewCount":10,"voteCount":0}],"success":true}
2023-06-21 09:59:26.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296581336141824 [0;39m ------------- 结束 耗时：59 ms -------------
2023-06-21 09:59:26.950 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m52296581461970944 [0;39m <==    Columns: id, user_id, ebook_id, doc_id
2023-06-21 09:59:26.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296581667491840 [0;39m ------------- 开始 -------------
2023-06-21 09:59:26.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296581667491840 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2023-06-21 09:59:26.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296581667491840 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:59:26.950 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m52296581461970944 [0;39m <==        Row: 2, 1, 6, 39791363037990912
2023-06-21 09:59:26.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296581667491840 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:26.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296581667491840 [0;39m 请求参数: [39790662006214656]
2023-06-21 09:59:26.950 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296581461970944 [0;39m <==      Total: 1
2023-06-21 09:59:26.950 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296581667491840 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:59:26.950 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296581667491840 [0;39m ==> Parameters: 39790662006214656(Long)
2023-06-21 09:59:26.950 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m52296581348724736 [0;39m 系统异常：
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.selectByIds-Inline
### The error occurred while setting parameters
### SQL: select *     from user     where id IN
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy91.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy103.selectByIds(Unknown Source)
	at com.jiawa.wiki.service.CommentService.selectByEbookId(CommentService.java:56)
	at com.jiawa.wiki.controller.DocController.CommentResp(DocController.java:79)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor117.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$ebe26a30.CommentResp(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at jdk.internal.reflect.GeneratedMethodAccessor99.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at jdk.proxy4/jdk.proxy4.$Proxy136.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor118.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
2023-06-21 09:59:26.961 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m52296581348724736 [0;39m Resolved [org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.selectByIds-Inline
### The error occurred while setting parameters
### SQL: select *     from user     where id IN
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3]
2023-06-21 09:59:26.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296581461970944 [0;39m 返回结果: {"content":{"docId":39791363037990912,"ebookId":6,"id":2,"userId":1},"success":true}
2023-06-21 09:59:26.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296581461970944 [0;39m ------------- 结束 耗时：79 ms -------------
2023-06-21 09:59:26.982 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296581667491840 [0;39m <==    Columns: id, content
2023-06-21 09:59:26.982 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m52296581461970944 [0;39m ------------- LoginInterceptor 结束 耗时：107 ms -------------
2023-06-21 09:59:26.982 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296581667491840 [0;39m <==        Row: 39790662006214656, <<BLOB>>
2023-06-21 09:59:26.983 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296581667491840 [0;39m <==      Total: 1
2023-06-21 09:59:26.984 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296581667491840 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:59:26.985 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296581667491840 [0;39m ==> Parameters: 39790662006214656(Long)
2023-06-21 09:59:26.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296581822681088 [0;39m ------------- 开始 -------------
2023-06-21 09:59:26.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296581822681088 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/6 GET
2023-06-21 09:59:26.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296581822681088 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-06-21 09:59:26.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296581822681088 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:26.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296581822681088 [0;39m 请求参数: [6]
2023-06-21 09:59:26.990 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52296581822681088 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-06-21 09:59:26.990 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52296581822681088 [0;39m ==> Parameters: 6(Long)
2023-06-21 09:59:27.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581822681088 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 09:59:27.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581822681088 [0;39m <==        Row: 39790662006214656, 6, 0, RocketMQ 介绍及基本概念, 0, 113, 3
2023-06-21 09:59:27.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581822681088 [0;39m <==        Row: 39790373182246912, 6, 39790373182246912, 介绍, 1, 0, 0
2023-06-21 09:59:27.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581822681088 [0;39m <==        Row: 39791363037990912, 6, 39790662006214656, 介绍, 1, 6, 2
2023-06-21 09:59:27.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581822681088 [0;39m <==        Row: 39791679196237824, 6, 0, RocketMq在Springboot的基础应用, 1, 11, 1
2023-06-21 09:59:27.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581822681088 [0;39m <==        Row: 39791879704940544, 6, 39791679196237824, 配置, 1, 7, 0
2023-06-21 09:59:27.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581822681088 [0;39m <==        Row: 39790797704531968, 6, 39790662006214656, RocketMQ 特点, 2, 12, 1
2023-06-21 09:59:27.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581822681088 [0;39m <==        Row: 39792357465526272, 6, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 36, 2
2023-06-21 09:59:27.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581822681088 [0;39m <==        Row: 39794574159384576, 6, 39791679196237824, 服务端, 3, 6, 0
2023-06-21 09:59:27.013 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52296581822681088 [0;39m <==        Row: 39800584710262784, 6, 39791679196237824, 完结, 4, 10, 0
2023-06-21 09:59:27.013 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52296581822681088 [0;39m <==      Total: 9
2023-06-21 09:59:27.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296581822681088 [0;39m 返回结果: {"content":[{"ebookId":6,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":113,"voteCount":3},{"ebookId":6,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":6,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":6,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":11,"voteCount":1},{"ebookId":6,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":7,"voteCount":0},{"ebookId":6,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":12,"voteCount":1},{"ebookId":6,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":36,"voteCount":2},{"ebookId":6,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":6,"voteCount":0},{"ebookId":6,"id":39800584710262784,"name":"完结","parent":39791679196237824,"sort":4,"viewCount":10,"voteCount":0}],"success":true}
2023-06-21 09:59:27.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296581822681088 [0;39m ------------- 结束 耗时：26 ms -------------
2023-06-21 09:59:27.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296582028201984 [0;39m ------------- 开始 -------------
2023-06-21 09:59:27.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296582028201984 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39791363037990912 GET
2023-06-21 09:59:27.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296582028201984 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:59:27.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296582028201984 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:27.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296582028201984 [0;39m 请求参数: [39791363037990912]
2023-06-21 09:59:27.036 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296582028201984 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:59:27.036 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296582028201984 [0;39m ==> Parameters: 39791363037990912(Long)
2023-06-21 09:59:27.036 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296581667491840 [0;39m <==    Updates: 1
2023-06-21 09:59:27.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296581667491840 [0;39m 返回结果: {"content":"","success":true}
2023-06-21 09:59:27.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296581667491840 [0;39m ------------- 结束 耗时：86 ms -------------
2023-06-21 09:59:27.093 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296582028201984 [0;39m <==    Columns: id, content
2023-06-21 09:59:27.094 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296582028201984 [0;39m <==        Row: 39791363037990912, <<BLOB>>
2023-06-21 09:59:27.095 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296582028201984 [0;39m <==      Total: 1
2023-06-21 09:59:27.096 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296582028201984 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:59:27.096 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296582028201984 [0;39m ==> Parameters: 39791363037990912(Long)
2023-06-21 09:59:27.181 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296582028201984 [0;39m <==    Updates: 1
2023-06-21 09:59:27.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296582028201984 [0;39m 返回结果: {"content":"<p><a href=\"https://so.csdn.net/so/search?q=RocketMQ&amp;spm=1001.2101.3001.7020\" target=\"_blank\">RocketMQ</a>作为一款纯java、分布式、队列模型的开源消息中间件，支持事务消息、顺序消息、批量消息、定时消息、消息回溯等<br></p>","success":true}
2023-06-21 09:59:27.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296582028201984 [0;39m ------------- 结束 耗时：145 ms -------------
2023-06-21 09:59:28.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296586402861056 [0;39m ------------- 开始 -------------
2023-06-21 09:59:28.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296586402861056 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/39791363037990912 GET
2023-06-21 09:59:28.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296586402861056 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-06-21 09:59:28.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296586402861056 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:28.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296586402861056 [0;39m 请求参数: [39791363037990912]
2023-06-21 09:59:28.110 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m52296586402861056 [0;39m key不存在，放入：DOC_VOTE_39791363037990912_127.0.0.1，过期 5000 秒
2023-06-21 09:59:28.178 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296586402861056 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-06-21 09:59:28.178 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296586402861056 [0;39m ==> Parameters: 39791363037990912(Long)
2023-06-21 09:59:28.245 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296586402861056 [0;39m <==    Updates: 1
2023-06-21 09:59:28.246 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296586402861056 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-06-21 09:59:28.246 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296586402861056 [0;39m ==> Parameters: 39791363037990912(Long)
2023-06-21 09:59:28.277 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52296586402861056 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 09:59:28.279 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52296586402861056 [0;39m <==        Row: 39791363037990912, 6, 39790662006214656, 介绍, 1, 7, 3
2023-06-21 09:59:28.279 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296586402861056 [0;39m <==      Total: 1
2023-06-21 09:59:28.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296586402861056 [0;39m 返回结果: {"success":true}
2023-06-21 09:59:28.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296586402861056 [0;39m ------------- 结束 耗时：200 ms -------------
2023-06-21 09:59:31.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296599027716096 [0;39m ------------- 开始 -------------
2023-06-21 09:59:31.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296599027716096 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/39791363037990912 GET
2023-06-21 09:59:31.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296599027716096 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-06-21 09:59:31.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296599027716096 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:31.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296599027716096 [0;39m 请求参数: [39791363037990912]
2023-06-21 09:59:31.111 INFO  com.jiawa.wiki.util.RedisUtil                     :34   [32m52296599027716096 [0;39m key已存在：DOC_VOTE_39791363037990912_127.0.0.1
2023-06-21 09:59:31.127 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m52296599027716096 [0;39m 业务异常：您已点赞过
2023-06-21 09:59:31.128 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m52296599027716096 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 您已点赞过]
2023-06-21 09:59:32.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296603796639744 [0;39m ------------- 开始 -------------
2023-06-21 09:59:32.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296603796639744 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790797704531968 GET
2023-06-21 09:59:32.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296603796639744 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:59:32.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296603796639744 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:32.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296603796639744 [0;39m 请求参数: [39790797704531968]
2023-06-21 09:59:32.247 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296603796639744 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:59:32.247 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296603796639744 [0;39m ==> Parameters: 39790797704531968(Long)
2023-06-21 09:59:32.279 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296603796639744 [0;39m <==    Columns: id, content
2023-06-21 09:59:32.279 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296603796639744 [0;39m <==        Row: 39790797704531968, <<BLOB>>
2023-06-21 09:59:32.279 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296603796639744 [0;39m <==      Total: 1
2023-06-21 09:59:32.279 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296603796639744 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:59:32.279 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296603796639744 [0;39m ==> Parameters: 39790797704531968(Long)
2023-06-21 09:59:32.329 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296603796639744 [0;39m <==    Updates: 1
2023-06-21 09:59:32.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296603796639744 [0;39m 返回结果: {"content":"<p>支持发布/订阅（Pub/Sub）和点对点（P2P）消息模型<br><br>在一个队列中可靠的先进先出（FIFO）和严格的顺序传递 （RocketMQ可以保证严格的消息顺序，而ActiveMQ无法保证）<br><br>支持拉（pull）和推（push）两种消息模式<br><br>pull其实就是消费者主动从MQ中去拉消息，而push则像rabbit MQ一样，是MQ给消费者推送消息。但是RocketMQ的push其实是基于pull来实现的。<br>它会先由一个业务代码从MQ中pull消息，然后再由业务代码push给特定的应用/消费者。其实底层就是一个pull模式<br><br>单一队列百万消息的堆积能力 （RocketMQ提供亿级消息的堆积能力，这不是重点，重点是堆积了亿级的消息后，依然保持写入低延迟）<br><br>支持多种消息协议，如 JMS、MQTT 等<br><br>分布式高可用的部署架构,满足至少一次消息传递语义（RocketMQ原生就是支持分布式的，而ActiveMQ原生存在单点性）<br><br>提供 docker 镜像用于隔离测试和云集群部署<br><br>提供配置、指标和监控等功能丰富的 Dashboard<br>————————————————<br>版权声明：本文为CSDN博主「fFee-ops」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：https://blog.csdn.net/qq_21040559/article/details/122703715</p>","success":true}
2023-06-21 09:59:32.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296603796639744 [0;39m ------------- 结束 耗时：103 ms -------------
2023-06-21 09:59:33.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296608892719104 [0;39m ------------- 开始 -------------
2023-06-21 09:59:33.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296608892719104 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/39790797704531968 GET
2023-06-21 09:59:33.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296608892719104 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-06-21 09:59:33.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296608892719104 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:33.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296608892719104 [0;39m 请求参数: [39790797704531968]
2023-06-21 09:59:33.465 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m52296608892719104 [0;39m key不存在，放入：DOC_VOTE_39790797704531968_127.0.0.1，过期 5000 秒
2023-06-21 09:59:33.515 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296608892719104 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-06-21 09:59:33.515 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296608892719104 [0;39m ==> Parameters: 39790797704531968(Long)
2023-06-21 09:59:33.580 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296608892719104 [0;39m <==    Updates: 1
2023-06-21 09:59:33.580 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296608892719104 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-06-21 09:59:33.580 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296608892719104 [0;39m ==> Parameters: 39790797704531968(Long)
2023-06-21 09:59:33.612 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52296608892719104 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 09:59:33.612 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52296608892719104 [0;39m <==        Row: 39790797704531968, 6, 39790662006214656, RocketMQ 特点, 2, 13, 2
2023-06-21 09:59:33.612 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296608892719104 [0;39m <==      Total: 1
2023-06-21 09:59:33.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296608892719104 [0;39m 返回结果: {"success":true}
2023-06-21 09:59:33.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296608892719104 [0;39m ------------- 结束 耗时：173 ms -------------
2023-06-21 09:59:34.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296614940905472 [0;39m ------------- 开始 -------------
2023-06-21 09:59:34.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296614940905472 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39792357465526272 GET
2023-06-21 09:59:34.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296614940905472 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:59:34.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296614940905472 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:34.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296614940905472 [0;39m 请求参数: [39792357465526272]
2023-06-21 09:59:34.895 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296614940905472 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:59:34.911 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296614940905472 [0;39m ==> Parameters: 39792357465526272(Long)
2023-06-21 09:59:34.929 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296614940905472 [0;39m <==    Columns: id, content
2023-06-21 09:59:34.929 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296614940905472 [0;39m <==        Row: 39792357465526272, <<BLOB>>
2023-06-21 09:59:34.929 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296614940905472 [0;39m <==      Total: 1
2023-06-21 09:59:34.929 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296614940905472 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:59:34.944 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296614940905472 [0;39m ==> Parameters: 39792357465526272(Long)
2023-06-21 09:59:34.997 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296614940905472 [0;39m <==    Updates: 1
2023-06-21 09:59:34.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296614940905472 [0;39m 返回结果: {"content":"<p>在应用中导入</p><pre>@Autowired<br>private RocketMQTemplate rocketMQTemplate;</pre><p>并且在代码中直接使用converAndSend方法进行发送</p><p>/**<br>         * 点赞<br>         */<br>        public void vote(Long id) {<br>            // docMapperCust.increaseVoteCount(id);<br>            // 远程IP+doc.id作为key，24小时内不能重复<br>            String ip = RequestContext.getRemoteAddr();<br>            if (redisUtil.validateRepeat(\"DOC_VOTE_\" + id + \"_\" + ip, 5000)) {<br>                docMapperCust.increaseVoteCount(id);<br>            } else {<br>                throw new BusinessException(BusinessExceptionCode.VOTE_REPEAT);<br>            }<br><br>            // 推送消息<br>            Doc docDb = docMapper.selectByPrimaryKey(id);<br>            String logId = MDC.get(\"LOG_ID\");<br>//            wsService.sendInfo(\"【\" + docDb.getName() + \"】被点赞！\", logId);<br>             rocketMQTemplate.convertAndSend(\"VOTE_TOPIC\", \"【\" + docDb.getName() + \"】被点赞！\");<br>        }<br></p>","success":true}
2023-06-21 09:59:34.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296614940905472 [0;39m ------------- 结束 耗时：114 ms -------------
2023-06-21 09:59:35.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296617985970176 [0;39m ------------- 开始 -------------
2023-06-21 09:59:35.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296617985970176 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/39792357465526272 GET
2023-06-21 09:59:35.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296617985970176 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-06-21 09:59:35.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296617985970176 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:35.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296617985970176 [0;39m 请求参数: [39792357465526272]
2023-06-21 09:59:35.629 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m52296617985970176 [0;39m key不存在，放入：DOC_VOTE_39792357465526272_127.0.0.1，过期 5000 秒
2023-06-21 09:59:35.687 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296617985970176 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-06-21 09:59:35.687 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296617985970176 [0;39m ==> Parameters: 39792357465526272(Long)
2023-06-21 09:59:35.748 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52296617985970176 [0;39m <==    Updates: 1
2023-06-21 09:59:35.748 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296617985970176 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-06-21 09:59:35.748 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296617985970176 [0;39m ==> Parameters: 39792357465526272(Long)
2023-06-21 09:59:35.777 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52296617985970176 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 09:59:35.778 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52296617985970176 [0;39m <==        Row: 39792357465526272, 6, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 37, 3
2023-06-21 09:59:35.778 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52296617985970176 [0;39m <==      Total: 1
2023-06-21 09:59:35.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296617985970176 [0;39m 返回结果: {"success":true}
2023-06-21 09:59:35.781 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296617985970176 [0;39m ------------- 结束 耗时：172 ms -------------
2023-06-21 09:59:37.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296627519623168 [0;39m ------------- 开始 -------------
2023-06-21 09:59:37.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296627519623168 [0;39m 请求地址: http://127.0.0.1:8880/doc/saveDocrecord POST
2023-06-21 09:59:37.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296627519623168 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.saveDocrecord
2023-06-21 09:59:37.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296627519623168 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:37.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296627519623168 [0;39m 请求参数: [{"docId":39792357465526272,"ebookId":6,"userId":1}]
2023-06-21 09:59:37.912 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296627519623168 [0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2023-06-21 09:59:37.912 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296627519623168 [0;39m ==> Parameters: 1(Long), 6(Long)
2023-06-21 09:59:37.930 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m52296627519623168 [0;39m <==    Columns: id, user_id, ebook_id, doc_id
2023-06-21 09:59:37.945 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m52296627519623168 [0;39m <==        Row: 2, 1, 6, 39791363037990912
2023-06-21 09:59:37.945 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296627519623168 [0;39m <==      Total: 1
2023-06-21 09:59:37.947 DEBUG c.j.w.mapper.ReadProgressMapper.updateByPrimaryKey:137  [32m52296627519623168 [0;39m ==>  Preparing: update read_progress set user_id = ?, ebook_id = ?, doc_id = ? where id = ?
2023-06-21 09:59:37.947 DEBUG c.j.w.mapper.ReadProgressMapper.updateByPrimaryKey:137  [32m52296627519623168 [0;39m ==> Parameters: 1(Long), 6(Long), 39792357465526272(Long), 2(Long)
2023-06-21 09:59:37.997 DEBUG c.j.w.mapper.ReadProgressMapper.updateByPrimaryKey:137  [32m52296627519623168 [0;39m <==    Updates: 1
2023-06-21 09:59:38.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296628081659904 [0;39m ------------- 开始 -------------
2023-06-21 09:59:38.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296628081659904 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790797704531968 GET
2023-06-21 09:59:38.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296628081659904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:59:38.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296628081659904 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:38.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296628081659904 [0;39m 请求参数: [39790797704531968]
2023-06-21 09:59:38.017 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296628081659904 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:59:38.018 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296628081659904 [0;39m ==> Parameters: 39790797704531968(Long)
2023-06-21 09:59:38.029 INFO  com.jiawa.wiki.util.RedisUtil                     :52   [32m52296627519623168 [0;39m 保存用户 1 的浏览记录到Redis，docId：39792357465526272，过期时间：86400秒
2023-06-21 09:59:38.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296627519623168 [0;39m 返回结果: {"content":{"docId":39792357465526272,"ebookId":6,"id":2,"userId":1},"success":true}
2023-06-21 09:59:38.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296627519623168 [0;39m ------------- 结束 耗时：147 ms -------------
2023-06-21 09:59:38.029 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296628081659904 [0;39m <==    Columns: id, content
2023-06-21 09:59:38.029 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296628081659904 [0;39m <==        Row: 39790797704531968, <<BLOB>>
2023-06-21 09:59:38.029 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296628081659904 [0;39m <==      Total: 1
2023-06-21 09:59:38.029 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296628081659904 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:59:38.044 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296628081659904 [0;39m ==> Parameters: 39790797704531968(Long)
2023-06-21 09:59:38.097 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296628081659904 [0;39m <==    Updates: 1
2023-06-21 09:59:38.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296628081659904 [0;39m 返回结果: {"content":"<p>支持发布/订阅（Pub/Sub）和点对点（P2P）消息模型<br><br>在一个队列中可靠的先进先出（FIFO）和严格的顺序传递 （RocketMQ可以保证严格的消息顺序，而ActiveMQ无法保证）<br><br>支持拉（pull）和推（push）两种消息模式<br><br>pull其实就是消费者主动从MQ中去拉消息，而push则像rabbit MQ一样，是MQ给消费者推送消息。但是RocketMQ的push其实是基于pull来实现的。<br>它会先由一个业务代码从MQ中pull消息，然后再由业务代码push给特定的应用/消费者。其实底层就是一个pull模式<br><br>单一队列百万消息的堆积能力 （RocketMQ提供亿级消息的堆积能力，这不是重点，重点是堆积了亿级的消息后，依然保持写入低延迟）<br><br>支持多种消息协议，如 JMS、MQTT 等<br><br>分布式高可用的部署架构,满足至少一次消息传递语义（RocketMQ原生就是支持分布式的，而ActiveMQ原生存在单点性）<br><br>提供 docker 镜像用于隔离测试和云集群部署<br><br>提供配置、指标和监控等功能丰富的 Dashboard<br>————————————————<br>版权声明：本文为CSDN博主「fFee-ops」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：https://blog.csdn.net/qq_21040559/article/details/122703715</p>","success":true}
2023-06-21 09:59:38.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296628081659904 [0;39m ------------- 结束 耗时：81 ms -------------
2023-06-21 09:59:39.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296632372432896 [0;39m ------------- 开始 -------------
2023-06-21 09:59:39.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296632372432896 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39791679196237824 GET
2023-06-21 09:59:39.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296632372432896 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:59:39.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296632372432896 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:39.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296632372432896 [0;39m 请求参数: [39791679196237824]
2023-06-21 09:59:39.063 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296632372432896 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:59:39.063 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296632372432896 [0;39m ==> Parameters: 39791679196237824(Long)
2023-06-21 09:59:39.096 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296632372432896 [0;39m <==    Columns: id, content
2023-06-21 09:59:39.097 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296632372432896 [0;39m <==        Row: 39791679196237824, <<BLOB>>
2023-06-21 09:59:39.097 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296632372432896 [0;39m <==      Total: 1
2023-06-21 09:59:39.097 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296632372432896 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:59:39.097 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296632372432896 [0;39m ==> Parameters: 39791679196237824(Long)
2023-06-21 09:59:39.148 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296632372432896 [0;39m <==    Updates: 1
2023-06-21 09:59:39.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296632372432896 [0;39m 返回结果: {"content":"<h1 id=\"ol6di\">在Maven中导入RocketMq的依赖</h1><pre>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.rocketmq&lt;/groupId&gt;\n    &lt;artifactId&gt;rocketmq-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;<br></pre>","success":true}
2023-06-21 09:59:39.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296632372432896 [0;39m ------------- 结束 耗时：109 ms -------------
2023-06-21 09:59:40.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296637242019840 [0;39m ------------- 开始 -------------
2023-06-21 09:59:40.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296637242019840 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39791879704940544 GET
2023-06-21 09:59:40.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296637242019840 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:59:40.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296637242019840 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:40.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296637242019840 [0;39m 请求参数: [39791879704940544]
2023-06-21 09:59:40.228 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296637242019840 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:59:40.229 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296637242019840 [0;39m ==> Parameters: 39791879704940544(Long)
2023-06-21 09:59:40.247 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296637242019840 [0;39m <==    Columns: id, content
2023-06-21 09:59:40.247 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296637242019840 [0;39m <==        Row: 39791879704940544, <<BLOB>>
2023-06-21 09:59:40.247 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296637242019840 [0;39m <==      Total: 1
2023-06-21 09:59:40.247 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296637242019840 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:59:40.247 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296637242019840 [0;39m ==> Parameters: 39791879704940544(Long)
2023-06-21 09:59:40.313 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296637242019840 [0;39m <==    Updates: 1
2023-06-21 09:59:40.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296637242019840 [0;39m 返回结果: {"content":"<p>导入配置，在properties或者yml中</p><pre>rocketmq.name-server=127.0.0.1:9876\nrocketmq.producer.group=default<br></pre><p><br></p><p><br></p><p>且需要打开你的RocketMq 输入<span style=\"font-size: 1em;\">mqbroker.cmd -n 127.0.0.1:9876 autoCreateTopicEnable=true 和打开</span><span style=\"font-size: 1em;\">mqnamesrv.cmd</span></p>","success":true}
2023-06-21 09:59:40.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296637242019840 [0;39m ------------- 结束 耗时：113 ms -------------
2023-06-21 09:59:43.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296649837514752 [0;39m ------------- 开始 -------------
2023-06-21 09:59:43.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296649837514752 [0;39m 请求地址: http://127.0.0.1:8880/doc/saveDocrecord POST
2023-06-21 09:59:43.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296649837514752 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.saveDocrecord
2023-06-21 09:59:43.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296649837514752 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:43.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296649837514752 [0;39m 请求参数: [{"docId":39791879704940544,"ebookId":6,"userId":1}]
2023-06-21 09:59:43.234 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296649837514752 [0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2023-06-21 09:59:43.234 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296649837514752 [0;39m ==> Parameters: 1(Long), 6(Long)
2023-06-21 09:59:43.265 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m52296649837514752 [0;39m <==    Columns: id, user_id, ebook_id, doc_id
2023-06-21 09:59:43.265 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m52296649837514752 [0;39m <==        Row: 2, 1, 6, 39792357465526272
2023-06-21 09:59:43.265 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296649837514752 [0;39m <==      Total: 1
2023-06-21 09:59:43.265 DEBUG c.j.w.mapper.ReadProgressMapper.updateByPrimaryKey:137  [32m52296649837514752 [0;39m ==>  Preparing: update read_progress set user_id = ?, ebook_id = ?, doc_id = ? where id = ?
2023-06-21 09:59:43.267 DEBUG c.j.w.mapper.ReadProgressMapper.updateByPrimaryKey:137  [32m52296649837514752 [0;39m ==> Parameters: 1(Long), 6(Long), 39791879704940544(Long), 2(Long)
2023-06-21 09:59:43.313 DEBUG c.j.w.mapper.ReadProgressMapper.updateByPrimaryKey:137  [32m52296649837514752 [0;39m <==    Updates: 1
2023-06-21 09:59:43.345 INFO  com.jiawa.wiki.util.RedisUtil                     :52   [32m52296649837514752 [0;39m 保存用户 1 的浏览记录到Redis，docId：39791879704940544，过期时间：86400秒
2023-06-21 09:59:43.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296649837514752 [0;39m 返回结果: {"content":{"docId":39791879704940544,"ebookId":6,"id":2,"userId":1},"success":true}
2023-06-21 09:59:43.345 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296649837514752 [0;39m ------------- 结束 耗时：142 ms -------------
2023-06-21 09:59:46.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296665226416128 [0;39m ------------- 开始 -------------
2023-06-21 09:59:46.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296665226416128 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39792357465526272 GET
2023-06-21 09:59:46.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296665226416128 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 09:59:46.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296665226416128 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:46.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296665226416128 [0;39m 请求参数: [39792357465526272]
2023-06-21 09:59:46.897 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296665226416128 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 09:59:46.897 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296665226416128 [0;39m ==> Parameters: 39792357465526272(Long)
2023-06-21 09:59:46.913 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296665226416128 [0;39m <==    Columns: id, content
2023-06-21 09:59:46.913 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52296665226416128 [0;39m <==        Row: 39792357465526272, <<BLOB>>
2023-06-21 09:59:46.913 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52296665226416128 [0;39m <==      Total: 1
2023-06-21 09:59:46.913 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296665226416128 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 09:59:46.928 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296665226416128 [0;39m ==> Parameters: 39792357465526272(Long)
2023-06-21 09:59:46.981 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52296665226416128 [0;39m <==    Updates: 1
2023-06-21 09:59:46.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296665226416128 [0;39m 返回结果: {"content":"<p>在应用中导入</p><pre>@Autowired<br>private RocketMQTemplate rocketMQTemplate;</pre><p>并且在代码中直接使用converAndSend方法进行发送</p><p>/**<br>         * 点赞<br>         */<br>        public void vote(Long id) {<br>            // docMapperCust.increaseVoteCount(id);<br>            // 远程IP+doc.id作为key，24小时内不能重复<br>            String ip = RequestContext.getRemoteAddr();<br>            if (redisUtil.validateRepeat(\"DOC_VOTE_\" + id + \"_\" + ip, 5000)) {<br>                docMapperCust.increaseVoteCount(id);<br>            } else {<br>                throw new BusinessException(BusinessExceptionCode.VOTE_REPEAT);<br>            }<br><br>            // 推送消息<br>            Doc docDb = docMapper.selectByPrimaryKey(id);<br>            String logId = MDC.get(\"LOG_ID\");<br>//            wsService.sendInfo(\"【\" + docDb.getName() + \"】被点赞！\", logId);<br>             rocketMQTemplate.convertAndSend(\"VOTE_TOPIC\", \"【\" + docDb.getName() + \"】被点赞！\");<br>        }<br></p>","success":true}
2023-06-21 09:59:46.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296665226416128 [0;39m ------------- 结束 耗时：109 ms -------------
2023-06-21 09:59:49.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296677800939520 [0;39m ------------- 开始 -------------
2023-06-21 09:59:49.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296677800939520 [0;39m 请求地址: http://127.0.0.1:8880/doc/saveDocrecord POST
2023-06-21 09:59:49.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296677800939520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.saveDocrecord
2023-06-21 09:59:49.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296677800939520 [0;39m 远程地址: 127.0.0.1
2023-06-21 09:59:49.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296677800939520 [0;39m 请求参数: [{"docId":39792357465526272,"ebookId":6,"userId":1}]
2023-06-21 09:59:49.888 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296677800939520 [0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2023-06-21 09:59:49.902 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296677800939520 [0;39m ==> Parameters: 1(Long), 6(Long)
2023-06-21 09:59:49.917 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m52296677800939520 [0;39m <==    Columns: id, user_id, ebook_id, doc_id
2023-06-21 09:59:49.917 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m52296677800939520 [0;39m <==        Row: 2, 1, 6, 39791879704940544
2023-06-21 09:59:49.917 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m52296677800939520 [0;39m <==      Total: 1
2023-06-21 09:59:49.917 DEBUG c.j.w.mapper.ReadProgressMapper.updateByPrimaryKey:137  [32m52296677800939520 [0;39m ==>  Preparing: update read_progress set user_id = ?, ebook_id = ?, doc_id = ? where id = ?
2023-06-21 09:59:49.917 DEBUG c.j.w.mapper.ReadProgressMapper.updateByPrimaryKey:137  [32m52296677800939520 [0;39m ==> Parameters: 1(Long), 6(Long), 39792357465526272(Long), 2(Long)
2023-06-21 09:59:49.980 DEBUG c.j.w.mapper.ReadProgressMapper.updateByPrimaryKey:137  [32m52296677800939520 [0;39m <==    Updates: 1
2023-06-21 09:59:50.012 INFO  com.jiawa.wiki.util.RedisUtil                     :52   [32m52296677800939520 [0;39m 保存用户 1 的浏览记录到Redis，docId：39792357465526272，过期时间：86400秒
2023-06-21 09:59:50.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296677800939520 [0;39m 返回结果: {"content":{"docId":39792357465526272,"ebookId":6,"id":2,"userId":1},"success":true}
2023-06-21 09:59:50.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296677800939520 [0;39m ------------- 结束 耗时：144 ms -------------
2023-06-21 10:00:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52296720343764992 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:00:00.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52296720343764992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:00:00.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52296720343764992 [0;39m ==> Parameters: 
2023-06-21 10:00:00.091 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52296720343764992 [0;39m <==    Updates: 5
2023-06-21 10:00:00.091 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52296720343764992 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 10:00:00.091 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52296720670920704 [0;39m 生成今日电子书快照开始
2023-06-21 10:00:00.100 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52296720670920704 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 10:00:00.100 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52296720670920704 [0;39m ==> Parameters: 
2023-06-21 10:00:00.155 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52296720670920704 [0;39m <==    Updates: 0
2023-06-21 10:00:00.155 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52296720670920704 [0;39m 生成今日电子书快照结束，耗时：64毫秒
2023-06-21 10:01:04.055 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52296577456410624 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 10:01:04.067 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m52296577456410624 [0;39m ------------- LoginInterceptor 结束 耗时：4 ms -------------
2023-06-21 10:01:04.072 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52296581667491840 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 10:01:04.074 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m52296581667491840 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-06-21 10:01:04.075 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m52296581667491840 [0;39m 登录校验开始，token：52296009044332544
2023-06-21 10:01:04.112 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m52296581667491840 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"52296009044332544"}
2023-06-21 10:01:04.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296989433532416 [0;39m ------------- 开始 -------------
2023-06-21 10:01:04.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296989433532416 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-06-21 10:01:04.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296989433532416 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-06-21 10:01:04.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296989433532416 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:01:04.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296989433532416 [0;39m 请求参数: [{"page":1,"size":10}]
2023-06-21 10:01:04.216 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m52296989433532416 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-06-21 10:01:04.219 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m52296989433532416 [0;39m ==> Parameters: 
2023-06-21 10:01:04.258 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m52296989433532416 [0;39m <==    Columns: count(0)
2023-06-21 10:01:04.259 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m52296989433532416 [0;39m <==        Row: 3
2023-06-21 10:01:04.262 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m52296989433532416 [0;39m <==      Total: 1
2023-06-21 10:01:04.267 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m52296989433532416 [0;39m ==>  Preparing: select id, login_name, `name`, `password`, avatar from user LIMIT ?
2023-06-21 10:01:04.268 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m52296989433532416 [0;39m ==> Parameters: 10(Integer)
2023-06-21 10:01:04.301 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m52296989433532416 [0;39m <==    Columns: id, login_name, name, password, avatar
2023-06-21 10:01:04.301 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m52296989433532416 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4, http://127.0.0.1:8880/file/image-20220202121318183-16437751995162.png
2023-06-21 10:01:04.302 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m52296989433532416 [0;39m <==        Row: 2, 1, 1, b9b237df8bd22c295180ea0109cb7e67, http://127.0.0.1:8880/file/login-background.jpg
2023-06-21 10:01:04.302 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m52296989433532416 [0;39m <==        Row: 40029961687535618, 3, 3, 93a6c6a957e1f1ea3a3c49122d8cbe4e, http://127.0.0.1:8880/file/image-20220202111056036-16437714601701.png
2023-06-21 10:01:04.302 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m52296989433532416 [0;39m <==      Total: 3
2023-06-21 10:01:04.303 INFO  com.jiawa.wiki.service.UserService                :49   [32m52296989433532416 [0;39m 总行数：3
2023-06-21 10:01:04.303 INFO  com.jiawa.wiki.service.UserService                :50   [32m52296989433532416 [0;39m 总页数：1
2023-06-21 10:01:04.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296989433532416 [0;39m 返回结果: {"content":{"list":[{"avatar":"http://127.0.0.1:8880/file/image-20220202121318183-16437751995162.png","id":1,"loginName":"test","name":"test"},{"avatar":"http://127.0.0.1:8880/file/login-background.jpg","id":2,"loginName":"1","name":"1"},{"avatar":"http://127.0.0.1:8880/file/image-20220202111056036-16437714601701.png","id":40029961687535618,"loginName":"3","name":"3"}],"total":3},"success":true}
2023-06-21 10:01:04.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296989433532416 [0;39m ------------- 结束 耗时：180 ms -------------
2023-06-21 10:01:04.364 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m52296989433532416 [0;39m ------------- LoginInterceptor 结束 耗时：292 ms -------------
2023-06-21 10:01:04.448 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52296632372432896 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 10:01:04.448 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m52296632372432896 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/error
2023-06-21 10:01:04.448 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m52296632372432896 [0;39m 登录校验开始，token：null
2023-06-21 10:01:04.448 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m52296632372432896 [0;39m token为空，请求被拦截
2023-06-21 10:01:04.457 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52296632372432896 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 10:01:04.457 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m52296632372432896 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/error
2023-06-21 10:01:04.457 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m52296632372432896 [0;39m 登录校验开始，token：null
2023-06-21 10:01:04.459 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52296608892719104 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 10:01:04.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m52296608892719104 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/error
2023-06-21 10:01:04.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m52296608892719104 [0;39m 登录校验开始，token：null
2023-06-21 10:01:04.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m52296608892719104 [0;39m token为空，请求被拦截
2023-06-21 10:01:04.457 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m52296632372432896 [0;39m token为空，请求被拦截
2023-06-21 10:01:04.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296991383883777 [0;39m ------------- 开始 -------------
2023-06-21 10:01:04.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296991383883776 [0;39m ------------- 开始 -------------
2023-06-21 10:01:04.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296991383883777 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 10:01:04.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296991383883777 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 10:01:04.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296991383883777 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:01:04.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296991383883776 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:01:04.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52296991383883778 [0;39m ------------- 开始 -------------
2023-06-21 10:01:04.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296991383883776 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:01:04.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296991383883777 [0;39m 请求参数: []
2023-06-21 10:01:04.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52296991383883778 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:01:04.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296991383883776 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:01:04.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52296991383883778 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:01:04.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296991383883776 [0;39m 请求参数: []
2023-06-21 10:01:04.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52296991383883778 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:01:04.635 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52296991383883776 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:01:04.661 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52296991383883777 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 10:01:05.256 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52296991383883777 [0;39m ==> Parameters: 
2023-06-21 10:01:05.256 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52296991383883776 [0;39m ==> Parameters: 
2023-06-21 10:01:05.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52296991383883778 [0;39m 请求参数: []
2023-06-21 10:01:05.287 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 10:01:05.287 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:01:05.287 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52296991383883778 [0;39m 访问Redis
2023-06-21 10:01:05.288 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 10:01:05.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296991383883778 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-06-21 10:01:05.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296991383883778 [0;39m ------------- 结束 耗时：654 ms -------------
2023-06-21 10:01:05.288 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 10:01:05.289 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 10:01:05.289 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 10:01:05.289 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:01:05.289 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 10:01:05.289 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 10:01:05.289 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 10:01:05.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 10:01:05.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 10:01:05.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 10:01:05.289 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:01:05.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 10:01:05.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 10:01:05.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 10:01:05.290 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:01:05.291 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:01:05.291 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:01:05.292 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 10:01:05.293 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 10:01:05.293 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52296991383883777 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 10:01:05.293 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:01:05.293 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52296991383883777 [0;39m <==      Total: 16
2023-06-21 10:01:05.294 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:01:05.294 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:01:05.294 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:01:05.295 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:01:05.295 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:01:05.294 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296991383883777 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 10:01:05.295 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296991383883777 [0;39m ------------- 结束 耗时：661 ms -------------
2023-06-21 10:01:05.295 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:01:05.295 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:01:05.295 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:01:05.295 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:01:05.296 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:01:05.296 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52296991383883776 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:01:05.296 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52296991383883776 [0;39m <==      Total: 17
2023-06-21 10:01:05.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52296991383883776 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:01:05.297 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52296991383883776 [0;39m ------------- 结束 耗时：663 ms -------------
2023-06-21 10:02:00.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52297223677022208 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:02:00.077 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52297223677022208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:02:00.077 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52297223677022208 [0;39m ==> Parameters: 
2023-06-21 10:02:00.124 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52297223677022208 [0;39m <==    Updates: 5
2023-06-21 10:02:00.124 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52297223677022208 [0;39m 更新电子书下的文档数据结束，耗时：94毫秒
2023-06-21 10:04:00.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52297726947364864 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:04:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52297726947364864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:04:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52297726947364864 [0;39m ==> Parameters: 
2023-06-21 10:04:00.084 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52297726947364864 [0;39m <==    Updates: 5
2023-06-21 10:04:00.093 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52297726947364864 [0;39m 更新电子书下的文档数据结束，耗时：87毫秒
2023-06-21 10:06:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52298230301593600 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:06:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52298230301593600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:06:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52298230301593600 [0;39m ==> Parameters: 
2023-06-21 10:06:00.098 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52298230301593600 [0;39m <==    Updates: 5
2023-06-21 10:06:00.098 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52298230301593600 [0;39m 更新电子书下的文档数据结束，耗时：81毫秒
2023-06-21 10:08:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52298733592907776 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:08:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52298733592907776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:08:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52298733592907776 [0;39m ==> Parameters: 
2023-06-21 10:08:00.089 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52298733592907776 [0;39m <==    Updates: 5
2023-06-21 10:08:00.089 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52298733592907776 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 10:10:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52299236909387776 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:10:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52299236909387776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:10:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52299236909387776 [0;39m ==> Parameters: 
2023-06-21 10:10:00.090 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52299236909387776 [0;39m <==    Updates: 5
2023-06-21 10:10:00.091 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52299236909387776 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 10:12:00.025 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52299740280393728 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:12:00.073 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52299740280393728 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:12:00.079 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52299740280393728 [0;39m ==> Parameters: 
2023-06-21 10:12:00.142 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52299740280393728 [0;39m <==    Updates: 5
2023-06-21 10:12:00.145 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52299740280393728 [0;39m 更新电子书下的文档数据结束，耗时：107毫秒
2023-06-21 10:14:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52300243550736384 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:14:00.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52300243550736384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:14:00.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52300243550736384 [0;39m ==> Parameters: 
2023-06-21 10:14:00.140 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52300243550736384 [0;39m <==    Updates: 5
2023-06-21 10:14:00.141 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52300243550736384 [0;39m 更新电子书下的文档数据结束，耗时：129毫秒
2023-06-21 10:16:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52300746863022080 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:16:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52300746863022080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:16:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52300746863022080 [0;39m ==> Parameters: 
2023-06-21 10:16:00.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52300746863022080 [0;39m <==    Updates: 5
2023-06-21 10:16:00.101 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52300746863022080 [0;39m 更新电子书下的文档数据结束，耗时：86毫秒
2023-06-21 10:18:00.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52301250217250816 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:18:00.085 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52301250217250816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:18:00.090 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52301250217250816 [0;39m ==> Parameters: 
2023-06-21 10:18:00.147 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52301250217250816 [0;39m <==    Updates: 5
2023-06-21 10:18:00.148 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52301250217250816 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-06-21 10:19:10.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52301545462697984 [0;39m ------------- 开始 -------------
2023-06-21 10:19:10.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52301545395589120 [0;39m ------------- 开始 -------------
2023-06-21 10:19:10.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52301545462697984 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:19:10.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52301545395589120 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:19:10.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52301545395589120 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:19:10.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52301545395589120 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:19:10.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52301545462697984 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:19:10.568 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52301545462697984 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:19:10.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52301545395589120 [0;39m 请求参数: []
2023-06-21 10:19:10.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52301545462697984 [0;39m 请求参数: []
2023-06-21 10:19:10.629 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52301545462697984 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:19:10.640 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52301545462697984 [0;39m ==> Parameters: 
2023-06-21 10:19:10.703 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52301545395589120 [0;39m 访问Redis
2023-06-21 10:19:10.710 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:19:10.732 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52301545395589120 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:19:10.732 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52301545395589120 [0;39m ==> Parameters: 
2023-06-21 10:19:10.744 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:19:10.758 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52301545395589120 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 10:19:10.758 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52301545395589120 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 10:19:10.758 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52301545395589120 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 10:19:10.758 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52301545395589120 [0;39m <==      Total: 2
2023-06-21 10:19:10.771 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:19:10.771 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:19:10.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52301545395589120 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:19:11.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52301545395589120 [0;39m ------------- 结束 耗时：1230 ms -------------
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:19:11.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52301545462697984 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:19:11.625 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52301545462697984 [0;39m <==      Total: 17
2023-06-21 10:19:11.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52301545462697984 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:19:11.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52301545462697984 [0;39m ------------- 结束 耗时：1230 ms -------------
2023-06-21 10:20:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52301753516953600 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:20:00.060 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52301753516953600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:20:00.060 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52301753516953600 [0;39m ==> Parameters: 
2023-06-21 10:20:00.106 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52301753516953600 [0;39m <==    Updates: 5
2023-06-21 10:20:00.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52301753516953600 [0;39m 更新电子书下的文档数据结束，耗时：91毫秒
2023-06-21 10:20:00.106 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52301753898635264 [0;39m 生成今日电子书快照开始
2023-06-21 10:20:00.106 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52301753898635264 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 10:20:00.122 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52301753898635264 [0;39m ==> Parameters: 
2023-06-21 10:20:00.185 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52301753898635264 [0;39m <==    Updates: 0
2023-06-21 10:20:00.185 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52301753898635264 [0;39m 生成今日电子书快照结束，耗时：79毫秒
2023-06-21 10:21:06.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52302031901298688 [0;39m ------------- 开始 -------------
2023-06-21 10:21:06.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52302031905492992 [0;39m ------------- 开始 -------------
2023-06-21 10:21:06.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52302031901298688 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:21:06.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52302031901298688 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:21:06.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52302031901298688 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:21:06.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52302031901298688 [0;39m 请求参数: []
2023-06-21 10:21:06.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52302031905492992 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:21:06.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52302031905492992 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:21:06.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52302031905492992 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:21:06.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52302031905492992 [0;39m 请求参数: []
2023-06-21 10:21:06.542 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302031905492992 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:21:06.545 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302031905492992 [0;39m ==> Parameters: 
2023-06-21 10:21:06.572 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52302031901298688 [0;39m 访问Redis
2023-06-21 10:21:06.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52302031901298688 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:21:06.575 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52302031901298688 [0;39m ------------- 结束 耗时：188 ms -------------
2023-06-21 10:21:06.578 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:21:06.586 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:21:06.592 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:21:06.601 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:21:06.603 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:21:06.604 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:21:06.604 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:21:06.605 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:21:06.605 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:21:07.140 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:21:07.141 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:21:07.141 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:21:07.142 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:21:07.142 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:21:07.143 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:21:07.144 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:21:07.144 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:21:07.145 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302031905492992 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:21:07.145 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302031905492992 [0;39m <==      Total: 17
2023-06-21 10:21:07.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52302031905492992 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:21:07.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52302031905492992 [0;39m ------------- 结束 耗时：761 ms -------------
2023-06-21 10:21:57.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52302245932437504 [0;39m ------------- 开始 -------------
2023-06-21 10:21:57.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52302245936631808 [0;39m ------------- 开始 -------------
2023-06-21 10:21:57.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52302245936631808 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:21:57.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52302245936631808 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:21:57.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52302245936631808 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:21:57.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52302245932437504 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:21:57.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52302245936631808 [0;39m 请求参数: []
2023-06-21 10:21:57.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52302245932437504 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:21:57.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52302245932437504 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:21:57.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52302245932437504 [0;39m 请求参数: []
2023-06-21 10:21:57.463 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302245936631808 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:21:57.476 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302245936631808 [0;39m ==> Parameters: 
2023-06-21 10:21:57.476 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52302245932437504 [0;39m 访问Redis
2023-06-21 10:21:57.508 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52302245932437504 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:21:57.508 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:21:57.508 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52302245932437504 [0;39m ==> Parameters: 
2023-06-21 10:21:57.509 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:21:57.510 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:21:57.510 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:21:57.511 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:21:57.511 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:21:57.512 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:21:57.512 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:21:57.512 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:21:57.512 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:21:57.513 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:21:57.513 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:21:57.514 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:21:57.514 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:21:57.515 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:21:57.515 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:21:57.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:21:57.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302245936631808 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:21:57.517 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302245936631808 [0;39m <==      Total: 17
2023-06-21 10:21:57.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52302245936631808 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:21:57.549 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52302245932437504 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 10:22:00.031 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52302256900542464 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:22:00.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52302245936631808 [0;39m ------------- 结束 耗时：2665 ms -------------
2023-06-21 10:22:00.082 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52302245932437504 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 10:22:00.086 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52302245932437504 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 10:22:00.087 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52302245932437504 [0;39m <==      Total: 2
2023-06-21 10:22:00.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52302256900542464 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:22:00.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52302256900542464 [0;39m ==> Parameters: 
2023-06-21 10:22:00.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52302245932437504 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:22:00.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52302245932437504 [0;39m ------------- 结束 耗时：2708 ms -------------
2023-06-21 10:22:00.165 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52302256900542464 [0;39m <==    Updates: 5
2023-06-21 10:22:00.167 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52302256900542464 [0;39m 更新电子书下的文档数据结束，耗时：86毫秒
2023-06-21 10:22:24.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52302358515945472 [0;39m ------------- 开始 -------------
2023-06-21 10:22:24.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52302358515945473 [0;39m ------------- 开始 -------------
2023-06-21 10:22:24.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52302358515945473 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:22:24.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52302358515945473 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:22:24.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52302358515945473 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:22:24.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52302358515945473 [0;39m 请求参数: []
2023-06-21 10:22:24.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52302358515945472 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:22:24.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52302358515945472 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:22:24.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52302358515945472 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:22:24.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52302358515945472 [0;39m 请求参数: []
2023-06-21 10:22:24.335 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302358515945472 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:22:24.336 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302358515945472 [0;39m ==> Parameters: 
2023-06-21 10:22:24.342 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52302358515945473 [0;39m 访问Redis
2023-06-21 10:22:24.346 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52302358515945473 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:22:24.346 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52302358515945473 [0;39m ------------- 结束 耗时：88 ms -------------
2023-06-21 10:22:24.375 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:22:24.377 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:22:24.378 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:22:24.379 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:22:24.382 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:22:24.382 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:22:24.382 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:22:24.383 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:22:24.384 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:22:24.384 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:22:24.384 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:22:24.384 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:22:24.384 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:22:24.384 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:22:24.385 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:22:24.385 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:22:24.385 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:22:24.385 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302358515945472 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:22:24.385 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302358515945472 [0;39m <==      Total: 17
2023-06-21 10:22:24.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52302358515945472 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:22:24.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52302358515945472 [0;39m ------------- 结束 耗时：129 ms -------------
2023-06-21 10:23:00.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52302511050199041 [0;39m ------------- 开始 -------------
2023-06-21 10:23:00.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52302511050199040 [0;39m ------------- 开始 -------------
2023-06-21 10:23:00.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52302511050199041 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:23:00.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52302511050199041 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:23:00.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52302511050199040 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:23:00.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52302511050199041 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:23:00.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52302511050199040 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:23:00.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52302511050199041 [0;39m 请求参数: []
2023-06-21 10:23:00.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52302511050199040 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:23:00.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52302511050199040 [0;39m 请求参数: []
2023-06-21 10:23:00.653 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302511050199040 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:23:00.655 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302511050199040 [0;39m ==> Parameters: 
2023-06-21 10:23:00.682 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:23:00.682 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:23:00.683 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:23:00.683 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:23:00.684 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:23:00.684 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:23:00.684 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:23:00.684 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:23:00.684 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:23:00.685 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:23:00.685 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:23:00.685 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:23:00.685 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:23:00.685 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:23:00.685 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:23:00.686 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:23:00.686 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:23:00.687 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302511050199040 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:23:00.687 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302511050199040 [0;39m <==      Total: 17
2023-06-21 10:23:00.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52302511050199040 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:23:00.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52302511050199040 [0;39m ------------- 结束 耗时：63 ms -------------
2023-06-21 10:23:00.706 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52302511050199041 [0;39m 访问Redis
2023-06-21 10:23:00.708 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52302511050199041 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:23:00.708 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52302511050199041 [0;39m ------------- 结束 耗时：83 ms -------------
2023-06-21 10:24:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52302760133136384 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:24:00.053 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52302760133136384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:24:00.053 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52302760133136384 [0;39m ==> Parameters: 
2023-06-21 10:24:00.116 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52302760133136384 [0;39m <==    Updates: 5
2023-06-21 10:24:00.116 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52302760133136384 [0;39m 更新电子书下的文档数据结束，耗时：105毫秒
2023-06-21 10:24:42.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52302936772055041 [0;39m ------------- 开始 -------------
2023-06-21 10:24:42.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52302936772055041 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:24:42.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52302936772055040 [0;39m ------------- 开始 -------------
2023-06-21 10:24:42.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52302936772055041 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:24:42.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52302936772055040 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:24:42.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52302936772055040 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:24:42.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52302936772055041 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:24:42.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52302936772055040 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:24:42.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52302936772055041 [0;39m 请求参数: []
2023-06-21 10:24:42.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52302936772055040 [0;39m 请求参数: []
2023-06-21 10:24:42.230 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302936772055041 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:24:42.241 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302936772055041 [0;39m ==> Parameters: 
2023-06-21 10:24:42.250 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52302936772055040 [0;39m 访问Redis
2023-06-21 10:24:42.289 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:24:42.296 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:24:42.298 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52302936772055040 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:24:42.299 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52302936772055040 [0;39m ==> Parameters: 
2023-06-21 10:24:42.302 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:24:42.302 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:24:42.303 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:24:42.303 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:24:42.303 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:24:42.303 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:24:42.304 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:24:42.327 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52302936772055040 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 10:24:42.548 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:24:42.549 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:24:42.550 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:24:42.548 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52302936772055040 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 10:24:42.561 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52302936772055040 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 10:24:42.561 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:24:42.562 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52302936772055040 [0;39m <==      Total: 2
2023-06-21 10:24:42.567 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:24:42.569 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:24:42.569 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:24:42.570 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:24:42.570 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52302936772055041 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:24:42.571 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52302936772055041 [0;39m <==      Total: 17
2023-06-21 10:24:42.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52302936772055041 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:24:42.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52302936772055041 [0;39m ------------- 结束 耗时：453 ms -------------
2023-06-21 10:24:42.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52302936772055040 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:24:42.600 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52302936772055040 [0;39m ------------- 结束 耗时：483 ms -------------
2023-06-21 10:25:35.474 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52303160533979136 [0;39m ------------- 开始 -------------
2023-06-21 10:25:35.474 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52303160529784833 [0;39m ------------- 开始 -------------
2023-06-21 10:25:35.474 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52303160529784832 [0;39m ------------- 开始 -------------
2023-06-21 10:25:35.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52303160533979136 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 10:25:35.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52303160529784832 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:25:35.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52303160529784833 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:25:35.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52303160533979136 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 10:25:35.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52303160529784832 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:25:35.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52303160533979136 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:25:35.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52303160529784833 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:25:35.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52303160529784833 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:25:35.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52303160529784832 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:25:35.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52303160529784832 [0;39m 请求参数: []
2023-06-21 10:25:35.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52303160529784833 [0;39m 请求参数: []
2023-06-21 10:25:35.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52303160533979136 [0;39m 请求参数: []
2023-06-21 10:25:35.513 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52303160529784833 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:25:35.516 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52303160529784833 [0;39m ==> Parameters: 
2023-06-21 10:25:35.522 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52303160533979136 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 10:25:35.524 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52303160533979136 [0;39m ==> Parameters: 
2023-06-21 10:25:35.526 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52303160529784832 [0;39m 访问Redis
2023-06-21 10:25:35.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52303160529784832 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:25:35.527 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52303160529784832 [0;39m ------------- 结束 耗时：54 ms -------------
2023-06-21 10:25:35.537 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:25:35.537 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:25:35.550 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 10:25:35.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 10:25:35.705 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:25:35.705 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:25:35.705 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:25:35.705 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:25:35.706 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:25:35.706 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:25:35.706 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:25:35.706 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:25:35.707 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:25:35.707 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:25:35.708 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:25:35.708 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:25:35.708 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:25:35.708 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:25:35.709 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:25:35.709 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52303160529784833 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:25:35.710 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52303160529784833 [0;39m <==      Total: 17
2023-06-21 10:25:35.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52303160529784833 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:25:35.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52303160529784833 [0;39m ------------- 结束 耗时：237 ms -------------
2023-06-21 10:25:35.711 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 10:25:35.711 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 10:25:35.711 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 10:25:35.712 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 10:25:35.712 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 10:25:35.712 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 10:25:35.712 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 10:25:35.714 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 10:25:35.714 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 10:25:35.714 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 10:25:35.714 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 10:25:35.714 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 10:25:35.714 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 10:25:35.715 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 10:25:35.715 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52303160533979136 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 10:25:35.715 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52303160533979136 [0;39m <==      Total: 16
2023-06-21 10:25:35.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52303160533979136 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 10:25:35.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52303160533979136 [0;39m ------------- 结束 耗时：254 ms -------------
2023-06-21 10:26:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52303263466393600 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:26:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52303263466393600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:26:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52303263466393600 [0;39m ==> Parameters: 
2023-06-21 10:26:00.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52303263466393600 [0;39m <==    Updates: 5
2023-06-21 10:26:00.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52303263466393600 [0;39m 更新电子书下的文档数据结束，耗时：88毫秒
2023-06-21 10:28:00.060 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52303766971617280 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:28:00.086 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52303766971617280 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:28:00.087 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52303766971617280 [0;39m ==> Parameters: 
2023-06-21 10:28:00.140 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52303766971617280 [0;39m <==    Updates: 5
2023-06-21 10:28:00.140 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52303766971617280 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 10:30:00.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52304270107742208 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:30:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52304270107742208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:30:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52304270107742208 [0;39m ==> Parameters: 
2023-06-21 10:30:00.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52304270107742208 [0;39m <==    Updates: 5
2023-06-21 10:30:00.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52304270107742208 [0;39m 更新电子书下的文档数据结束，耗时：86毫秒
2023-06-21 10:31:21.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52304612975316992 [0;39m ------------- 开始 -------------
2023-06-21 10:31:21.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52304612975316993 [0;39m ------------- 开始 -------------
2023-06-21 10:31:21.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52304612975316994 [0;39m ------------- 开始 -------------
2023-06-21 10:31:21.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52304612975316993 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 10:31:21.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52304612975316994 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:31:21.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52304612975316992 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:31:21.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52304612975316993 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 10:31:21.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52304612975316994 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:31:21.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52304612975316992 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:31:21.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52304612975316994 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:31:21.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52304612975316993 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:31:21.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52304612975316992 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:31:21.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52304612975316993 [0;39m 请求参数: []
2023-06-21 10:31:21.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52304612975316994 [0;39m 请求参数: []
2023-06-21 10:31:21.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52304612975316992 [0;39m 请求参数: []
2023-06-21 10:31:21.805 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52304612975316994 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:31:21.805 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52304612975316993 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 10:31:21.823 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52304612975316993 [0;39m ==> Parameters: 
2023-06-21 10:31:21.823 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52304612975316994 [0;39m ==> Parameters: 
2023-06-21 10:31:21.838 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52304612975316992 [0;39m 访问Redis
2023-06-21 10:31:21.861 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 10:31:21.861 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:31:21.865 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 10:31:21.869 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:31:21.869 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 10:31:21.870 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:31:21.879 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52304612975316992 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:31:23.118 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:31:23.118 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 10:31:23.118 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:31:23.119 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:31:23.119 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:31:23.120 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:31:23.120 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:31:23.118 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 10:31:23.118 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52304612975316992 [0;39m ==> Parameters: 
2023-06-21 10:31:23.120 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:31:23.120 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 10:31:23.120 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 10:31:23.120 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:31:23.120 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 10:31:23.121 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:31:23.121 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:31:23.121 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 10:31:23.121 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 10:31:23.124 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 10:31:23.124 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:31:23.126 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 10:31:23.126 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 10:31:23.126 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:31:23.126 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:31:23.126 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 10:31:23.128 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 10:31:23.128 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 10:31:23.126 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:31:23.129 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304612975316994 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:31:23.129 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52304612975316994 [0;39m <==      Total: 17
2023-06-21 10:31:23.129 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304612975316993 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 10:31:23.129 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52304612975316993 [0;39m <==      Total: 16
2023-06-21 10:31:23.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52304612975316994 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:31:23.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52304612975316994 [0;39m ------------- 结束 耗时：1370 ms -------------
2023-06-21 10:31:23.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52304612975316993 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 10:31:23.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52304612975316993 [0;39m ------------- 结束 耗时：1374 ms -------------
2023-06-21 10:31:23.148 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52304612975316992 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 10:31:23.149 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52304612975316992 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 10:31:23.150 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52304612975316992 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 10:31:23.150 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52304612975316992 [0;39m <==      Total: 2
2023-06-21 10:31:23.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52304612975316992 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:31:23.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52304612975316992 [0;39m ------------- 结束 耗时：1482 ms -------------
2023-06-21 10:31:41.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52304696869785600 [0;39m ------------- 开始 -------------
2023-06-21 10:31:41.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52304696869785600 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:31:41.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52304696924311552 [0;39m ------------- 开始 -------------
2023-06-21 10:31:41.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52304696924311552 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:31:41.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52304696924311552 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:31:41.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52304696924311552 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:31:41.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52304696924311552 [0;39m 请求参数: []
2023-06-21 10:31:41.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52304696932700160 [0;39m ------------- 开始 -------------
2023-06-21 10:31:41.781 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52304696932700160 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 10:31:41.781 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52304696932700160 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 10:31:41.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52304696932700160 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:31:41.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52304696932700160 [0;39m 请求参数: []
2023-06-21 10:31:41.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52304696869785600 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:31:41.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52304696869785600 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:31:41.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52304696869785600 [0;39m 请求参数: []
2023-06-21 10:31:41.822 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52304696869785600 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:31:41.824 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52304696869785600 [0;39m ==> Parameters: 
2023-06-21 10:31:41.836 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52304696932700160 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 10:31:41.836 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52304696932700160 [0;39m ==> Parameters: 
2023-06-21 10:31:41.865 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52304696924311552 [0;39m 访问Redis
2023-06-21 10:31:41.866 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 10:31:41.866 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:31:41.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52304696924311552 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:31:41.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52304696924311552 [0;39m ------------- 结束 耗时：89 ms -------------
2023-06-21 10:31:41.867 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:31:41.867 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 10:31:42.992 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:31:42.991 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 10:31:42.994 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 10:31:42.993 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:31:42.995 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 10:31:42.995 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:31:42.996 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 10:31:42.996 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 10:31:42.996 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:31:42.996 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 10:31:42.997 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:31:42.997 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 10:31:42.997 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:31:42.998 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:31:42.997 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 10:31:42.999 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 10:31:42.999 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:31:42.999 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:31:42.999 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 10:31:43.001 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:31:43.002 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 10:31:43.002 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 10:31:43.003 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:31:43.003 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 10:31:43.003 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:31:43.003 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:31:43.004 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 10:31:43.004 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:31:43.004 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304696932700160 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 10:31:43.004 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:31:43.005 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52304696932700160 [0;39m <==      Total: 16
2023-06-21 10:31:43.004 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304696869785600 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:31:43.005 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52304696869785600 [0;39m <==      Total: 17
2023-06-21 10:31:43.006 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52304696869785600 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:31:43.006 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52304696869785600 [0;39m ------------- 结束 耗时：1241 ms -------------
2023-06-21 10:31:43.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52304696932700160 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 10:31:43.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52304696932700160 [0;39m ------------- 结束 耗时：1232 ms -------------
2023-06-21 10:32:00.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52304773424222208 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:32:00.059 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52304773424222208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:32:00.059 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52304773424222208 [0;39m ==> Parameters: 
2023-06-21 10:32:00.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52304773424222208 [0;39m <==    Updates: 5
2023-06-21 10:32:00.118 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52304773424222208 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-06-21 10:32:20.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52304859180961794 [0;39m ------------- 开始 -------------
2023-06-21 10:32:20.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52304859180961793 [0;39m ------------- 开始 -------------
2023-06-21 10:32:20.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52304859180961792 [0;39m ------------- 开始 -------------
2023-06-21 10:32:20.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52304859180961792 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:32:20.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52304859180961793 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 10:32:20.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52304859180961793 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 10:32:20.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52304859180961794 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:32:20.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52304859180961792 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:32:20.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52304859180961792 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:32:20.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52304859180961794 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:32:20.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52304859180961794 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:32:20.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52304859180961792 [0;39m 请求参数: []
2023-06-21 10:32:20.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52304859180961794 [0;39m 请求参数: []
2023-06-21 10:32:20.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52304859180961793 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:32:20.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52304859180961793 [0;39m 请求参数: []
2023-06-21 10:32:20.495 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52304859180961792 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:32:20.495 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52304859180961792 [0;39m ==> Parameters: 
2023-06-21 10:32:20.497 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52304859180961794 [0;39m 访问Redis
2023-06-21 10:32:20.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52304859180961794 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:32:20.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52304859180961794 [0;39m ------------- 结束 耗时：35 ms -------------
2023-06-21 10:32:20.507 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52304859180961793 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 10:32:20.509 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52304859180961793 [0;39m ==> Parameters: 
2023-06-21 10:32:20.526 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:32:20.528 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:32:20.529 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:32:20.529 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:32:20.530 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:32:20.530 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:32:20.531 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:32:20.532 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:32:20.533 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:32:20.533 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:32:20.533 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:32:20.533 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:32:20.534 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:32:20.534 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:32:20.534 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:32:20.534 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:32:20.534 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:32:20.535 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304859180961792 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:32:20.535 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52304859180961792 [0;39m <==      Total: 17
2023-06-21 10:32:20.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52304859180961792 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:32:20.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52304859180961792 [0;39m ------------- 结束 耗时：73 ms -------------
2023-06-21 10:32:20.543 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 10:32:20.544 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 10:32:20.545 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 10:32:20.546 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 10:32:20.546 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 10:32:20.546 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 10:32:20.546 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 10:32:20.546 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 10:32:20.546 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 10:32:20.546 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 10:32:20.547 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 10:32:20.547 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 10:32:20.547 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 10:32:20.548 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 10:32:20.548 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 10:32:20.548 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 10:32:20.550 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304859180961793 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 10:32:20.550 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52304859180961793 [0;39m <==      Total: 16
2023-06-21 10:32:20.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52304859180961793 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 10:32:20.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52304859180961793 [0;39m ------------- 结束 耗时：91 ms -------------
2023-06-21 10:32:31.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52304907214131200 [0;39m ------------- 开始 -------------
2023-06-21 10:32:31.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52304907214131200 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 10:32:31.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52304907214131200 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 10:32:31.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52304907214131200 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:32:31.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52304907214131200 [0;39m 请求参数: []
2023-06-21 10:32:31.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52304907327377408 [0;39m ------------- 开始 -------------
2023-06-21 10:32:31.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52304907331571712 [0;39m ------------- 开始 -------------
2023-06-21 10:32:31.944 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52304907331571712 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:32:31.944 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52304907327377408 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:32:31.944 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52304907331571712 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:32:31.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52304907327377408 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:32:31.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52304907331571712 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:32:31.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52304907327377408 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:32:31.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52304907331571712 [0;39m 请求参数: []
2023-06-21 10:32:31.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52304907327377408 [0;39m 请求参数: []
2023-06-21 10:32:31.946 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52304907214131200 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 10:32:31.947 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52304907214131200 [0;39m ==> Parameters: 
2023-06-21 10:32:31.974 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52304907331571712 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:32:31.975 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52304907331571712 [0;39m ==> Parameters: 
2023-06-21 10:32:31.976 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52304907327377408 [0;39m 访问Redis
2023-06-21 10:32:31.976 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 10:32:31.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52304907327377408 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:32:31.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52304907327377408 [0;39m ------------- 结束 耗时：34 ms -------------
2023-06-21 10:32:31.976 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 10:32:31.977 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 10:32:31.977 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 10:32:31.977 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 10:32:31.978 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 10:32:31.978 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 10:32:31.978 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 10:32:31.978 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 10:32:31.978 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 10:32:31.978 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 10:32:31.978 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 10:32:31.979 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 10:32:31.983 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 10:32:31.986 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 10:32:31.987 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 10:32:31.988 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52304907214131200 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 10:32:31.988 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52304907214131200 [0;39m <==      Total: 16
2023-06-21 10:32:31.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52304907214131200 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 10:32:31.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52304907214131200 [0;39m ------------- 结束 耗时：81 ms -------------
2023-06-21 10:32:32.002 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:32:32.003 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:32:32.007 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:32:32.007 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:32:32.008 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:32:32.008 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:32:32.008 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:32:32.008 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:32:32.008 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:32:32.008 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:32:32.008 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:32:32.010 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:32:32.011 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:32:32.011 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:32:32.011 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:32:32.011 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:32:32.012 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:32:32.012 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52304907331571712 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:32:32.012 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52304907331571712 [0;39m <==      Total: 17
2023-06-21 10:32:32.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52304907331571712 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:32:32.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52304907331571712 [0;39m ------------- 结束 耗时：70 ms -------------
2023-06-21 10:33:17.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52305097216102401 [0;39m ------------- 开始 -------------
2023-06-21 10:33:17.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52305097216102400 [0;39m ------------- 开始 -------------
2023-06-21 10:33:17.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52305097216102400 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:33:17.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52305097216102401 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:33:17.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52305097216102400 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:33:17.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52305097216102401 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:33:17.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52305097216102401 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:33:17.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52305097216102400 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:33:17.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52305097216102400 [0;39m 请求参数: []
2023-06-21 10:33:17.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52305097216102401 [0;39m 请求参数: []
2023-06-21 10:33:17.241 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52305097216102400 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:33:17.242 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52305097216102400 [0;39m ==> Parameters: 
2023-06-21 10:33:17.245 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52305097216102401 [0;39m 访问Redis
2023-06-21 10:33:17.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52305097216102401 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:33:17.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52305097216102401 [0;39m ------------- 结束 耗时：31 ms -------------
2023-06-21 10:33:17.268 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:33:17.268 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:33:17.269 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:33:17.269 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:33:17.270 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:33:17.270 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:33:17.270 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:33:17.270 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:33:17.270 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:33:17.270 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:33:17.271 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:33:17.272 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:33:17.272 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:33:17.273 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:33:17.273 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:33:17.273 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:33:17.273 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:33:17.274 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305097216102400 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:33:17.274 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52305097216102400 [0;39m <==      Total: 17
2023-06-21 10:33:17.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52305097216102400 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:33:17.320 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52305097216102400 [0;39m ------------- 结束 耗时：104 ms -------------
2023-06-21 10:33:32.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52305159748980736 [0;39m ------------- 开始 -------------
2023-06-21 10:33:32.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52305159748980736 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:33:32.127 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52305159748980736 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:33:32.127 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52305159748980736 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:33:32.127 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52305159748980736 [0;39m 请求参数: []
2023-06-21 10:33:32.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52305159845449728 [0;39m ------------- 开始 -------------
2023-06-21 10:33:32.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52305159845449728 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:33:32.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52305159845449728 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:33:32.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52305159845449728 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:33:32.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52305159845449728 [0;39m 请求参数: []
2023-06-21 10:33:32.184 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52305159748980736 [0;39m 访问Redis
2023-06-21 10:33:32.199 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52305159845449728 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:33:32.200 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52305159845449728 [0;39m ==> Parameters: 
2023-06-21 10:33:32.230 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52305159748980736 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:33:32.231 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52305159748980736 [0;39m ==> Parameters: 
2023-06-21 10:33:32.259 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:33:32.259 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:33:32.262 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:33:32.262 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:33:32.262 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:33:32.263 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:33:32.263 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:33:32.263 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:33:32.263 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:33:32.264 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:33:32.264 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:33:32.264 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:33:32.264 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:33:32.265 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:33:32.265 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:33:32.266 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:33:32.268 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:33:32.268 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305159845449728 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:33:32.268 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52305159845449728 [0;39m <==      Total: 17
2023-06-21 10:33:32.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52305159845449728 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:33:32.286 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52305159748980736 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 10:33:33.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52305159845449728 [0;39m ------------- 结束 耗时：1802 ms -------------
2023-06-21 10:33:33.949 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52305159748980736 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 10:33:33.951 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52305159748980736 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 10:33:33.951 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52305159748980736 [0;39m <==      Total: 2
2023-06-21 10:33:33.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52305159748980736 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:33:33.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52305159748980736 [0;39m ------------- 结束 耗时：1866 ms -------------
2023-06-21 10:34:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52305276715536384 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:34:00.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52305276715536384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:34:00.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52305276715536384 [0;39m ==> Parameters: 
2023-06-21 10:34:00.254 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52305276715536384 [0;39m <==    Updates: 5
2023-06-21 10:34:00.258 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52305276715536384 [0;39m 更新电子书下的文档数据结束，耗时：245毫秒
2023-06-21 10:34:59.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52305525278380032 [0;39m ------------- 开始 -------------
2023-06-21 10:34:59.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52305525278380033 [0;39m ------------- 开始 -------------
2023-06-21 10:34:59.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52305525278380032 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:34:59.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52305525278380033 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:34:59.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52305525278380033 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:34:59.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52305525278380032 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:34:59.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52305525278380033 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:34:59.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52305525278380033 [0;39m 请求参数: []
2023-06-21 10:34:59.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52305525278380032 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:34:59.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52305525278380032 [0;39m 请求参数: []
2023-06-21 10:34:59.390 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52305525278380032 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:34:59.390 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52305525278380032 [0;39m ==> Parameters: 
2023-06-21 10:34:59.488 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:34:59.488 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:34:59.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:34:59.519 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:34:59.520 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:34:59.520 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:34:59.520 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:34:59.520 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:34:59.520 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:34:59.520 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:34:59.520 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:34:59.520 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:34:59.520 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:34:59.655 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52305525278380033 [0;39m 访问Redis
2023-06-21 10:35:00.764 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:35:00.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52305525278380033 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:35:00.764 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:35:00.764 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:35:00.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52305525278380033 [0;39m ------------- 结束 耗时：1494 ms -------------
2023-06-21 10:35:00.764 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:35:00.780 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52305525278380032 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:35:00.780 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52305525278380032 [0;39m <==      Total: 17
2023-06-21 10:35:00.826 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52305525278380032 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:35:00.826 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52305525278380032 [0;39m ------------- 结束 耗时：1556 ms -------------
2023-06-21 10:36:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52305780027822080 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:36:00.081 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52305780027822080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:36:00.082 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52305780027822080 [0;39m ==> Parameters: 
2023-06-21 10:36:00.213 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52305780027822080 [0;39m <==    Updates: 5
2023-06-21 10:36:00.217 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52305780027822080 [0;39m 更新电子书下的文档数据结束，耗时：203毫秒
2023-06-21 10:38:00.037 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52306283428188160 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:38:00.175 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52306283428188160 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:38:00.193 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52306283428188160 [0;39m ==> Parameters: 
2023-06-21 10:38:00.261 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52306283428188160 [0;39m <==    Updates: 5
2023-06-21 10:38:00.266 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52306283428188160 [0;39m 更新电子书下的文档数据结束，耗时：203毫秒
2023-06-21 10:40:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52306786656587776 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:40:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52306786656587776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:40:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52306786656587776 [0;39m ==> Parameters: 
2023-06-21 10:40:00.115 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52306786656587776 [0;39m <==    Updates: 5
2023-06-21 10:40:00.118 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52306786656587776 [0;39m 更新电子书下的文档数据结束，耗时：103毫秒
2023-06-21 10:40:00.124 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52306787138932736 [0;39m 生成今日电子书快照开始
2023-06-21 10:40:00.128 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52306787138932736 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 10:40:00.135 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52306787138932736 [0;39m ==> Parameters: 
2023-06-21 10:40:00.194 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52306787138932736 [0;39m <==    Updates: 0
2023-06-21 10:40:00.194 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52306787138932736 [0;39m 生成今日电子书快照结束，耗时：69毫秒
2023-06-21 10:40:17.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52306862086950913 [0;39m ------------- 开始 -------------
2023-06-21 10:40:17.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52306862086950914 [0;39m ------------- 开始 -------------
2023-06-21 10:40:17.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52306862086950912 [0;39m ------------- 开始 -------------
2023-06-21 10:40:18.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52306862086950913 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:40:18.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52306862086950914 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 10:40:18.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52306862086950912 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:40:18.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52306862086950912 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:40:18.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52306862086950912 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:40:18.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52306862086950914 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 10:40:18.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52306862086950914 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:40:18.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52306862086950913 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:40:18.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52306862086950913 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:40:18.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52306862086950914 [0;39m 请求参数: []
2023-06-21 10:40:18.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52306862086950913 [0;39m 请求参数: []
2023-06-21 10:40:18.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52306862086950912 [0;39m 请求参数: []
2023-06-21 10:40:18.160 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52306862086950912 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:40:18.167 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52306862086950912 [0;39m ==> Parameters: 
2023-06-21 10:40:18.256 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52306862086950914 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 10:40:18.259 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52306862086950914 [0;39m ==> Parameters: 
2023-06-21 10:40:18.290 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 10:40:18.280 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:40:18.307 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 10:40:18.347 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:40:18.355 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 10:40:18.360 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:40:18.357 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 10:40:18.360 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 10:40:18.360 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:40:18.362 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 10:40:18.362 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 10:40:18.363 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 10:40:18.362 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:40:18.368 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:40:18.368 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 10:40:18.368 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:40:18.368 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 10:40:18.383 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 10:40:18.383 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:40:18.383 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 10:40:18.391 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 10:40:18.392 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 10:40:18.385 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:40:18.399 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:40:18.392 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 10:40:18.400 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 10:40:18.400 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52306862086950914 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 10:40:18.399 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:40:18.407 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:40:18.407 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52306862086950914 [0;39m <==      Total: 16
2023-06-21 10:40:18.408 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:40:18.419 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:40:18.419 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:40:18.420 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:40:18.436 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:40:18.436 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306862086950912 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:40:18.437 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52306862086950912 [0;39m <==      Total: 17
2023-06-21 10:40:18.472 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52306862086950913 [0;39m 访问Redis
2023-06-21 10:40:18.475 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52306862086950913 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:40:18.475 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52306862086950913 [0;39m ==> Parameters: 
2023-06-21 10:40:18.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52306862086950912 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:40:18.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52306862086950912 [0;39m ------------- 结束 耗时：488 ms -------------
2023-06-21 10:40:18.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52306862086950914 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 10:40:18.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52306862086950914 [0;39m ------------- 结束 耗时：498 ms -------------
2023-06-21 10:40:18.507 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52306862086950913 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 10:40:18.507 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52306862086950913 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 10:40:18.508 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52306862086950913 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 10:40:18.586 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52306862086950913 [0;39m <==      Total: 2
2023-06-21 10:40:18.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52306862086950913 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:40:18.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52306862086950913 [0;39m ------------- 结束 耗时：662 ms -------------
2023-06-21 10:40:37.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52306942495952896 [0;39m ------------- 开始 -------------
2023-06-21 10:40:37.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52306942495952897 [0;39m ------------- 开始 -------------
2023-06-21 10:40:37.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52306942495952897 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:40:37.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52306942495952896 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:40:37.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52306942495952896 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:40:37.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52306942495952897 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:40:37.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52306942495952896 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:40:37.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52306942495952897 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:40:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52306942495952896 [0;39m 请求参数: []
2023-06-21 10:40:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52306942495952897 [0;39m 请求参数: []
2023-06-21 10:40:37.202 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52306942495952897 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:40:37.205 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52306942495952897 [0;39m ==> Parameters: 
2023-06-21 10:40:37.221 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52306942495952896 [0;39m 访问Redis
2023-06-21 10:40:37.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52306942495952896 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:40:37.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52306942495952896 [0;39m ------------- 结束 耗时：60 ms -------------
2023-06-21 10:40:37.242 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:40:37.244 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:40:37.246 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:40:37.247 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:40:37.247 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:40:37.248 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:40:37.248 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:40:37.248 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:40:37.248 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:40:37.249 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:40:37.249 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:40:37.249 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:40:37.249 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:40:37.249 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:40:37.250 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:40:37.250 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:40:37.251 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:40:37.252 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306942495952897 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:40:37.252 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52306942495952897 [0;39m <==      Total: 17
2023-06-21 10:40:37.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52306942495952897 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:40:37.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52306942495952897 [0;39m ------------- 结束 耗时：126 ms -------------
2023-06-21 10:40:37.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52306943183818752 [0;39m ------------- 开始 -------------
2023-06-21 10:40:37.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52306943183818753 [0;39m ------------- 开始 -------------
2023-06-21 10:40:37.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52306943183818752 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:40:37.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52306943183818753 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:40:37.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52306943183818753 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:40:37.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52306943183818753 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:40:37.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52306943183818752 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:40:37.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52306943183818752 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:40:37.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52306943183818753 [0;39m 请求参数: []
2023-06-21 10:40:37.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52306943183818752 [0;39m 请求参数: []
2023-06-21 10:40:37.330 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52306943183818752 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:40:37.331 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52306943183818752 [0;39m ==> Parameters: 
2023-06-21 10:40:37.358 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52306943183818753 [0;39m 访问Redis
2023-06-21 10:40:37.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52306943183818753 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:40:37.359 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:40:37.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52306943183818753 [0;39m ------------- 结束 耗时：31 ms -------------
2023-06-21 10:40:37.360 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:40:37.360 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:40:37.360 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:40:37.360 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:40:37.361 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:40:37.361 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:40:37.362 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:40:37.362 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:40:37.362 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:40:37.362 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:40:37.363 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:40:37.363 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:40:37.363 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:40:37.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:40:37.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:40:37.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:40:37.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52306943183818752 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:40:37.364 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52306943183818752 [0;39m <==      Total: 17
2023-06-21 10:40:37.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52306943183818752 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:40:37.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52306943183818752 [0;39m ------------- 结束 耗时：37 ms -------------
2023-06-21 10:41:15.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52307103964073984 [0;39m ------------- 开始 -------------
2023-06-21 10:41:15.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52307103964073984 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 10:41:15.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52307103964073984 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 10:41:15.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52307103964073984 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:41:15.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52307103964073984 [0;39m 请求参数: []
2023-06-21 10:41:15.699 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52307103964073984 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 10:41:15.701 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52307103964073984 [0;39m ==> Parameters: 
2023-06-21 10:41:15.728 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 10:41:15.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 10:41:15.731 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 10:41:15.732 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 10:41:15.732 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 10:41:15.732 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 10:41:15.733 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 10:41:15.733 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 10:41:15.733 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 10:41:15.733 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 10:41:15.733 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 10:41:15.733 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 10:41:15.733 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 10:41:15.734 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 10:41:15.734 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 10:41:15.735 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 10:41:15.735 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307103964073984 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 10:41:15.735 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52307103964073984 [0;39m <==      Total: 16
2023-06-21 10:41:15.737 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52307103964073984 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 10:41:15.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52307103964073984 [0;39m ------------- 结束 耗时：77 ms -------------
2023-06-21 10:41:15.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52307104576442368 [0;39m ------------- 开始 -------------
2023-06-21 10:41:15.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52307104576442368 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:41:15.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52307104576442368 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:41:15.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52307104580636672 [0;39m ------------- 开始 -------------
2023-06-21 10:41:15.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52307104576442368 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:41:15.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52307104576442368 [0;39m 请求参数: []
2023-06-21 10:41:15.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52307104580636672 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:41:15.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52307104580636672 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:41:15.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52307104580636672 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:41:15.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52307104580636672 [0;39m 请求参数: []
2023-06-21 10:41:15.809 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52307104580636672 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:41:15.810 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52307104580636672 [0;39m ==> Parameters: 
2023-06-21 10:41:15.824 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52307104647745536 [0;39m ------------- 开始 -------------
2023-06-21 10:41:15.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52307104647745536 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 10:41:15.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52307104647745536 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 10:41:15.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52307104647745536 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:41:15.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52307104647745536 [0;39m 请求参数: []
2023-06-21 10:41:15.837 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:41:15.838 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52307104576442368 [0;39m 访问Redis
2023-06-21 10:41:15.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52307104576442368 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:41:15.838 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:41:15.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52307104576442368 [0;39m ------------- 结束 耗时：31 ms -------------
2023-06-21 10:41:15.839 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:41:15.840 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:41:15.840 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:41:15.840 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:41:15.840 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:41:15.840 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:41:15.840 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:41:15.841 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:41:15.842 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:41:15.842 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:41:15.842 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:41:15.842 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:41:15.842 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:41:15.843 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:41:15.843 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:41:15.843 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52307104580636672 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:41:15.843 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52307104580636672 [0;39m <==      Total: 17
2023-06-21 10:41:15.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52307104580636672 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:41:15.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52307104580636672 [0;39m ------------- 结束 耗时：37 ms -------------
2023-06-21 10:41:15.856 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52307104647745536 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 10:41:15.858 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52307104647745536 [0;39m ==> Parameters: 
2023-06-21 10:41:15.894 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 10:41:15.897 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 10:41:15.905 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 10:41:15.906 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 10:41:15.906 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 10:41:15.906 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 10:41:15.906 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 10:41:15.908 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 10:41:15.908 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 10:41:15.908 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 10:41:15.908 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 10:41:15.909 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 10:41:15.909 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 10:41:15.909 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 10:41:15.911 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 10:41:15.912 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 10:41:15.912 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52307104647745536 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 10:41:15.912 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52307104647745536 [0;39m <==      Total: 16
2023-06-21 10:41:15.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52307104647745536 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 10:41:15.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52307104647745536 [0;39m ------------- 结束 耗时：90 ms -------------
2023-06-21 10:42:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52307289985650688 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:42:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52307289985650688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:42:00.095 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52307289985650688 [0;39m ==> Parameters: 
2023-06-21 10:42:00.266 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52307289985650688 [0;39m <==    Updates: 5
2023-06-21 10:42:00.267 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52307289985650688 [0;39m 更新电子书下的文档数据结束，耗时：254毫秒
2023-06-21 10:44:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52307793314713600 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:44:00.063 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52307793314713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:44:00.064 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52307793314713600 [0;39m ==> Parameters: 
2023-06-21 10:44:00.167 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52307793314713600 [0;39m <==    Updates: 5
2023-06-21 10:44:00.169 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52307793314713600 [0;39m 更新电子书下的文档数据结束，耗时：153毫秒
2023-06-21 10:46:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52308296610222080 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:46:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52308296610222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:46:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52308296610222080 [0;39m ==> Parameters: 
2023-06-21 10:46:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52308296610222080 [0;39m <==    Updates: 5
2023-06-21 10:46:00.095 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52308296610222080 [0;39m 更新电子书下的文档数据结束，耗时：83毫秒
2023-06-21 10:48:00.036 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52308799989616640 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:48:00.142 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52308799989616640 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:48:00.157 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52308799989616640 [0;39m ==> Parameters: 
2023-06-21 10:48:00.210 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52308799989616640 [0;39m <==    Updates: 5
2023-06-21 10:48:00.212 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52308799989616640 [0;39m 更新电子书下的文档数据结束，耗时：131毫秒
2023-06-21 10:50:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52309303251570688 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:50:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52309303251570688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:50:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52309303251570688 [0;39m ==> Parameters: 
2023-06-21 10:50:00.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52309303251570688 [0;39m <==    Updates: 5
2023-06-21 10:50:00.094 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52309303251570688 [0;39m 更新电子书下的文档数据结束，耗时：81毫秒
2023-06-21 10:50:44.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52309488576892928 [0;39m ------------- 开始 -------------
2023-06-21 10:50:44.204 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52309488576892928 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-06-21 10:50:44.204 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52309488576892928 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-06-21 10:50:44.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52309488576892928 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:50:44.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52309488576892928 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-06-21 10:50:44.265 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52309488576892928 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-06-21 10:50:44.270 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52309488576892928 [0;39m ==> Parameters: 101(Long)
2023-06-21 10:50:44.302 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52309488576892928 [0;39m <==    Columns: count(0)
2023-06-21 10:50:44.303 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52309488576892928 [0;39m <==        Row: 1
2023-06-21 10:50:44.304 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52309488576892928 [0;39m <==      Total: 1
2023-06-21 10:50:44.305 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52309488576892928 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-06-21 10:50:44.306 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52309488576892928 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-06-21 10:50:44.334 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52309488576892928 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-06-21 10:50:44.335 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52309488576892928 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, , 1, 230, 6
2023-06-21 10:50:44.337 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52309488576892928 [0;39m <==      Total: 1
2023-06-21 10:50:44.338 INFO  com.jiawa.wiki.service.EbookService               :48   [32m52309488576892928 [0;39m 总行数：1
2023-06-21 10:50:44.339 INFO  com.jiawa.wiki.service.EbookService               :49   [32m52309488576892928 [0;39m 总页数：1
2023-06-21 10:50:44.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52309488576892928 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"cover":"","description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":230,"voteCount":6}],"total":1},"success":true}
2023-06-21 10:50:44.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52309488576892928 [0;39m ------------- 结束 耗时：146 ms -------------
2023-06-21 10:52:00.053 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52309806698074112 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:52:00.149 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52309806698074112 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:52:00.165 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52309806698074112 [0;39m ==> Parameters: 
2023-06-21 10:52:00.222 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52309806698074112 [0;39m <==    Updates: 5
2023-06-21 10:52:00.224 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52309806698074112 [0;39m 更新电子书下的文档数据结束，耗时：136毫秒
2023-06-21 10:54:00.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52310309884530688 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:54:00.067 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52310309884530688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:54:00.073 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52310309884530688 [0;39m ==> Parameters: 
2023-06-21 10:54:00.127 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52310309884530688 [0;39m <==    Updates: 5
2023-06-21 10:54:00.128 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52310309884530688 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-06-21 10:56:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52310813167456256 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:56:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52310813167456256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:56:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52310813167456256 [0;39m ==> Parameters: 
2023-06-21 10:56:00.091 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52310813167456256 [0;39m <==    Updates: 5
2023-06-21 10:56:00.092 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52310813167456256 [0;39m 更新电子书下的文档数据结束，耗时：83毫秒
2023-06-21 10:57:57.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52311305905901569 [0;39m ------------- 开始 -------------
2023-06-21 10:57:57.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52311305905901568 [0;39m ------------- 开始 -------------
2023-06-21 10:57:57.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52311305910095872 [0;39m ------------- 开始 -------------
2023-06-21 10:57:57.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52311305905901569 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:57:57.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52311305905901568 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 10:57:57.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52311305910095872 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:57:57.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52311305910095872 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:57:57.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52311305905901568 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 10:57:57.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52311305905901569 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:57:57.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52311305905901569 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:57:57.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52311305905901568 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:57:57.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52311305910095872 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:57:57.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52311305905901568 [0;39m 请求参数: []
2023-06-21 10:57:57.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52311305905901569 [0;39m 请求参数: []
2023-06-21 10:57:57.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52311305910095872 [0;39m 请求参数: []
2023-06-21 10:57:57.569 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52311305910095872 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:57:57.573 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52311305905901568 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 10:57:57.575 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52311305905901568 [0;39m ==> Parameters: 
2023-06-21 10:57:57.575 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52311305910095872 [0;39m ==> Parameters: 
2023-06-21 10:57:57.594 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52311305905901569 [0;39m 访问Redis
2023-06-21 10:57:57.606 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 10:57:57.606 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:57:57.608 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 10:57:57.610 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:57:57.610 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 10:57:57.611 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 10:57:57.611 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 10:57:57.611 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 10:57:57.611 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 10:57:57.612 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 10:57:57.612 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 10:57:57.612 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 10:57:57.612 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 10:57:57.612 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 10:57:57.612 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 10:57:57.612 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 10:57:57.613 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 10:57:57.614 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 10:57:57.614 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52311305905901568 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 10:57:57.615 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52311305905901568 [0;39m <==      Total: 16
2023-06-21 10:57:57.615 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:57:57.615 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:57:57.616 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:57:57.616 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:57:57.616 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:57:57.616 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:57:57.616 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:57:57.616 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:57:57.617 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:57:57.617 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:57:57.617 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:57:57.618 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:57:57.618 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:57:57.618 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:57:57.618 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:57:57.618 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311305910095872 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:57:57.618 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52311305910095872 [0;39m <==      Total: 17
2023-06-21 10:57:57.620 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52311305905901569 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:57:57.620 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52311305905901569 [0;39m ==> Parameters: 
2023-06-21 10:57:57.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52311305905901568 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 10:57:57.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52311305905901568 [0;39m ------------- 结束 耗时：141 ms -------------
2023-06-21 10:57:57.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52311305910095872 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:57:57.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52311305910095872 [0;39m ------------- 结束 耗时：142 ms -------------
2023-06-21 10:57:57.648 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52311305905901569 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 10:57:57.648 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52311305905901569 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 10:57:57.651 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52311305905901569 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 10:57:57.653 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52311305905901569 [0;39m <==      Total: 2
2023-06-21 10:57:57.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52311305905901569 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:57:57.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52311305905901569 [0;39m ------------- 结束 耗时：224 ms -------------
2023-06-21 10:58:00.118 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52311316899172352 [0;39m 更新电子书下的文档数据开始
2023-06-21 10:58:00.168 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52311316899172352 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 10:58:00.169 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52311316899172352 [0;39m ==> Parameters: 
2023-06-21 10:58:00.219 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52311316899172352 [0;39m <==    Updates: 5
2023-06-21 10:58:00.221 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52311316899172352 [0;39m 更新电子书下的文档数据结束，耗时：88毫秒
2023-06-21 10:59:33.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52311706642288641 [0;39m ------------- 开始 -------------
2023-06-21 10:59:33.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52311706642288640 [0;39m ------------- 开始 -------------
2023-06-21 10:59:33.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52311706642288641 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:59:33.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52311706642288640 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:59:33.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52311706642288640 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:59:33.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52311706642288641 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:59:33.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52311706642288640 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:59:33.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52311706642288641 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:59:33.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52311706642288641 [0;39m 请求参数: []
2023-06-21 10:59:33.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52311706642288640 [0;39m 请求参数: []
2023-06-21 10:59:33.072 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52311706642288641 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:59:33.116 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52311706642288641 [0;39m ==> Parameters: 
2023-06-21 10:59:33.253 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:59:33.253 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:59:33.271 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:59:33.271 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:59:33.272 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:59:33.272 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:59:33.285 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:59:33.286 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:59:33.287 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:59:33.287 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:59:33.287 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:59:33.307 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:59:33.320 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:59:33.321 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:59:33.321 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:59:33.324 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:59:33.324 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:59:33.325 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311706642288641 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:59:33.325 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52311706642288641 [0;39m <==      Total: 17
2023-06-21 10:59:33.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52311706642288641 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:59:33.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52311706642288641 [0;39m ------------- 结束 耗时：300 ms -------------
2023-06-21 10:59:33.551 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52311706642288640 [0;39m 访问Redis
2023-06-21 10:59:33.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52311706642288640 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:59:33.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52311706642288640 [0;39m ------------- 结束 耗时：528 ms -------------
2023-06-21 10:59:44.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52311756365762560 [0;39m ------------- 开始 -------------
2023-06-21 10:59:44.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52311756369956864 [0;39m ------------- 开始 -------------
2023-06-21 10:59:44.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52311756365762560 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 10:59:44.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52311756369956864 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 10:59:44.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52311756369956864 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 10:59:44.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52311756365762560 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 10:59:44.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52311756365762560 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:59:44.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52311756369956864 [0;39m 远程地址: 127.0.0.1
2023-06-21 10:59:44.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52311756365762560 [0;39m 请求参数: []
2023-06-21 10:59:44.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52311756369956864 [0;39m 请求参数: []
2023-06-21 10:59:44.910 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52311756365762560 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 10:59:44.911 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52311756365762560 [0;39m ==> Parameters: 
2023-06-21 10:59:44.912 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52311756369956864 [0;39m 访问Redis
2023-06-21 10:59:44.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52311756369956864 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 10:59:44.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52311756369956864 [0;39m ------------- 结束 耗时：31 ms -------------
2023-06-21 10:59:44.939 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 10:59:44.939 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 10:59:44.940 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 10:59:44.941 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 10:59:44.941 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 10:59:44.941 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 10:59:44.941 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 10:59:44.941 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 10:59:44.942 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 10:59:44.942 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 10:59:44.942 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 10:59:44.942 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 10:59:44.942 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 10:59:44.942 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 10:59:44.942 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 10:59:44.942 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 10:59:44.943 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 10:59:44.943 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52311756365762560 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 10:59:44.943 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52311756365762560 [0;39m <==      Total: 17
2023-06-21 10:59:44.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52311756365762560 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 10:59:44.944 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52311756365762560 [0;39m ------------- 结束 耗时：64 ms -------------
2023-06-21 11:00:00.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52311819867525120 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:00:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52311819867525120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:00:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52311819867525120 [0;39m ==> Parameters: 
2023-06-21 11:00:00.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52311819867525120 [0;39m <==    Updates: 5
2023-06-21 11:00:00.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52311819867525120 [0;39m 更新电子书下的文档数据结束，耗时：93毫秒
2023-06-21 11:00:00.121 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52311820291149824 [0;39m 生成今日电子书快照开始
2023-06-21 11:00:00.122 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52311820291149824 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 11:00:00.125 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52311820291149824 [0;39m ==> Parameters: 
2023-06-21 11:00:00.179 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52311820291149824 [0;39m <==    Updates: 0
2023-06-21 11:00:00.179 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52311820291149824 [0;39m 生成今日电子书快照结束，耗时：58毫秒
2023-06-21 11:02:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52312323146256384 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:02:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52312323146256384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:02:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52312323146256384 [0;39m ==> Parameters: 
2023-06-21 11:02:00.088 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52312323146256384 [0;39m <==    Updates: 5
2023-06-21 11:02:00.088 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52312323146256384 [0;39m 更新电子书下的文档数据结束，耗时：69毫秒
2023-06-21 11:02:09.346 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52312362300084225 [0;39m ------------- 开始 -------------
2023-06-21 11:02:09.346 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52312362300084224 [0;39m ------------- 开始 -------------
2023-06-21 11:02:09.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52312362300084225 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:02:09.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52312362300084225 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:02:09.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52312362300084224 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:02:09.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52312362300084225 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:02:09.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52312362300084224 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:02:09.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52312362300084224 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:02:09.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52312362300084225 [0;39m 请求参数: []
2023-06-21 11:02:09.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52312362300084224 [0;39m 请求参数: []
2023-06-21 11:02:09.377 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52312362300084225 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:02:09.377 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52312362300084225 [0;39m ==> Parameters: 
2023-06-21 11:02:09.377 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52312362300084224 [0;39m 访问Redis
2023-06-21 11:02:09.409 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52312362300084224 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:02:09.409 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52312362300084224 [0;39m ==> Parameters: 
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:02:09.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312362300084225 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:02:09.409 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52312362300084225 [0;39m <==      Total: 17
2023-06-21 11:02:09.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52312362300084225 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:02:09.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52312362300084225 [0;39m ------------- 结束 耗时：63 ms -------------
2023-06-21 11:02:09.440 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52312362300084224 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 11:02:09.440 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52312362300084224 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 11:02:09.440 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52312362300084224 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 11:02:09.440 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52312362300084224 [0;39m <==      Total: 2
2023-06-21 11:02:09.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52312362300084224 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:02:09.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52312362300084224 [0;39m ------------- 结束 耗时：127 ms -------------
2023-06-21 11:02:19.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52312406910701568 [0;39m ------------- 开始 -------------
2023-06-21 11:02:19.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52312406910701568 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:02:19.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52312406910701568 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:02:19.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52312406910701568 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:02:19.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52312406919090176 [0;39m ------------- 开始 -------------
2023-06-21 11:02:19.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52312406919090176 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:02:19.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52312406919090176 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:02:19.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52312406910701568 [0;39m 请求参数: []
2023-06-21 11:02:19.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52312406919090176 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:02:19.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52312406919090176 [0;39m 请求参数: []
2023-06-21 11:02:20.011 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52312406910701568 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:02:20.013 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52312406910701568 [0;39m ==> Parameters: 
2023-06-21 11:02:20.016 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52312406919090176 [0;39m 访问Redis
2023-06-21 11:02:20.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52312406919090176 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:02:20.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52312406919090176 [0;39m ------------- 结束 耗时：33 ms -------------
2023-06-21 11:02:20.039 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:02:20.039 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:02:20.040 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:02:20.040 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:02:20.040 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:02:20.040 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:02:20.040 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:02:20.040 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:02:20.041 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:02:20.041 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:02:20.041 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:02:20.041 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:02:20.041 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:02:20.041 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:02:20.041 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:02:20.041 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:02:20.041 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:02:20.042 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52312406910701568 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:02:20.042 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52312406910701568 [0;39m <==      Total: 17
2023-06-21 11:02:20.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52312406910701568 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:02:20.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52312406910701568 [0;39m ------------- 结束 耗时：60 ms -------------
2023-06-21 11:04:00.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52312826500485120 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:04:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52312826500485120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:04:00.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52312826500485120 [0;39m ==> Parameters: 
2023-06-21 11:04:00.092 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52312826500485120 [0;39m <==    Updates: 5
2023-06-21 11:04:00.104 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52312826500485120 [0;39m 更新电子书下的文档数据结束，耗时：82毫秒
2023-06-21 11:06:00.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52313329762439168 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:06:00.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52313329762439168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:06:00.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52313329762439168 [0;39m ==> Parameters: 
2023-06-21 11:06:00.080 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52313329762439168 [0;39m <==    Updates: 5
2023-06-21 11:06:00.080 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52313329762439168 [0;39m 更新电子书下的文档数据结束，耗时：72毫秒
2023-06-21 11:08:00.037 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52313833204748288 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:08:00.162 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52313833204748288 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:08:00.162 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52313833204748288 [0;39m ==> Parameters: 
2023-06-21 11:08:00.209 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52313833204748288 [0;39m <==    Updates: 5
2023-06-21 11:08:00.209 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52313833204748288 [0;39m 更新电子书下的文档数据结束，耗时：73毫秒
2023-06-21 11:09:46.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52314278023270401 [0;39m ------------- 开始 -------------
2023-06-21 11:09:46.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52314278023270400 [0;39m ------------- 开始 -------------
2023-06-21 11:09:46.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52314278023270401 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:09:46.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52314278023270400 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:09:46.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52314278023270401 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:09:46.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52314278023270400 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:09:46.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52314278023270401 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:09:46.121 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52314278023270400 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:09:46.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52314278023270400 [0;39m 请求参数: []
2023-06-21 11:09:46.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52314278023270401 [0;39m 请求参数: []
2023-06-21 11:09:46.156 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52314278023270401 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:09:46.156 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52314278023270401 [0;39m ==> Parameters: 
2023-06-21 11:09:46.156 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52314278023270400 [0;39m 访问Redis
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:09:46.190 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52314278023270400 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:09:46.190 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52314278023270400 [0;39m ==> Parameters: 
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:09:46.190 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314278023270401 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:09:46.190 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52314278023270401 [0;39m <==      Total: 17
2023-06-21 11:09:46.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52314278023270401 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:09:46.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52314278023270401 [0;39m ------------- 结束 耗时：100 ms -------------
2023-06-21 11:09:46.222 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52314278023270400 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 11:09:46.222 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52314278023270400 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 11:09:46.222 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52314278023270400 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 11:09:46.222 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52314278023270400 [0;39m <==      Total: 2
2023-06-21 11:09:46.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52314278023270400 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:09:46.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52314278023270400 [0;39m ------------- 结束 耗时：167 ms -------------
2023-06-21 11:10:00.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52314336391204864 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:10:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52314336391204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:10:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52314336391204864 [0;39m ==> Parameters: 
2023-06-21 11:10:00.106 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52314336391204864 [0;39m <==    Updates: 5
2023-06-21 11:10:00.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52314336391204864 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-06-21 11:11:50.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52314799861796865 [0;39m ------------- 开始 -------------
2023-06-21 11:11:50.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52314799865991168 [0;39m ------------- 开始 -------------
2023-06-21 11:11:50.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52314799861796864 [0;39m ------------- 开始 -------------
2023-06-21 11:11:50.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52314799865991168 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:11:50.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52314799861796864 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:11:50.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52314799861796865 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 11:11:50.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52314799861796864 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:11:50.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52314799865991168 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:11:50.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52314799861796865 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 11:11:50.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52314799861796864 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:11:50.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52314799865991168 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:11:50.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52314799861796865 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:11:50.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52314799861796864 [0;39m 请求参数: []
2023-06-21 11:11:50.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52314799861796865 [0;39m 请求参数: []
2023-06-21 11:11:50.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52314799865991168 [0;39m 请求参数: []
2023-06-21 11:11:50.558 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52314799865991168 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:11:50.563 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52314799865991168 [0;39m ==> Parameters: 
2023-06-21 11:11:50.575 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52314799861796865 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 11:11:50.576 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52314799861796864 [0;39m 访问Redis
2023-06-21 11:11:50.576 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52314799861796865 [0;39m ==> Parameters: 
2023-06-21 11:11:50.592 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:11:50.593 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:11:50.595 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314799865991168 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:11:50.595 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52314799865991168 [0;39m <==      Total: 17
2023-06-21 11:11:50.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52314799865991168 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:11:50.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52314799865991168 [0;39m ------------- 结束 耗时：91 ms -------------
2023-06-21 11:11:50.602 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52314799861796864 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:11:50.602 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52314799861796864 [0;39m ==> Parameters: 
2023-06-21 11:11:50.602 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 11:11:50.606 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 11:11:50.608 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 11:11:50.609 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 11:11:50.609 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 11:11:50.609 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 11:11:50.609 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 11:11:50.609 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 11:11:50.614 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 11:11:50.614 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 11:11:50.615 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 11:11:50.615 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 11:11:50.615 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 11:11:50.616 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 11:11:50.616 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 11:11:50.616 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 11:11:50.616 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52314799861796865 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 11:11:50.616 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52314799861796865 [0;39m <==      Total: 16
2023-06-21 11:11:50.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52314799861796865 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 11:11:50.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52314799861796865 [0;39m ------------- 结束 耗时：118 ms -------------
2023-06-21 11:11:50.630 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52314799861796864 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 11:11:50.630 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52314799861796864 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 11:11:50.630 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52314799861796864 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 11:11:50.630 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52314799861796864 [0;39m <==      Total: 2
2023-06-21 11:11:50.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52314799861796864 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:11:50.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52314799861796864 [0;39m ------------- 结束 耗时：156 ms -------------
2023-06-21 11:11:58.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52314832711585792 [0;39m ------------- 开始 -------------
2023-06-21 11:11:58.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52314832711585792 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:11:58.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52314832711585792 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:11:58.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52314832711585792 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:11:58.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52314832711585792 [0;39m 请求参数: []
2023-06-21 11:11:58.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52314832732557312 [0;39m ------------- 开始 -------------
2023-06-21 11:11:58.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52314832732557312 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:11:58.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52314832732557312 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:11:58.346 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52314832732557312 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:11:58.346 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52314832732557312 [0;39m 请求参数: []
2023-06-21 11:11:58.373 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52314832732557312 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:11:58.374 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52314832732557312 [0;39m ==> Parameters: 
2023-06-21 11:11:58.405 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:11:58.405 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52314832711585792 [0;39m 访问Redis
2023-06-21 11:11:58.406 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:11:58.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52314832711585792 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:11:58.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52314832711585792 [0;39m ------------- 结束 耗时：68 ms -------------
2023-06-21 11:11:58.407 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:11:58.407 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:11:58.407 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:11:58.408 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:11:58.408 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:11:58.408 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:11:58.408 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:11:58.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:11:58.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:11:58.409 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:11:58.410 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:11:58.410 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:11:58.410 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:11:58.410 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:11:58.410 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:11:58.411 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52314832732557312 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:11:58.411 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52314832732557312 [0;39m <==      Total: 17
2023-06-21 11:11:58.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52314832732557312 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:11:58.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52314832732557312 [0;39m ------------- 结束 耗时：70 ms -------------
2023-06-21 11:12:00.024 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52314839783182336 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:12:00.056 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52314839783182336 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:12:00.057 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52314839783182336 [0;39m ==> Parameters: 
2023-06-21 11:12:00.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52314839783182336 [0;39m <==    Updates: 5
2023-06-21 11:12:00.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52314839783182336 [0;39m 更新电子书下的文档数据结束，耗时：86毫秒
2023-06-21 11:13:21.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52315181279219712 [0;39m ------------- 开始 -------------
2023-06-21 11:13:21.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52315181258248192 [0;39m ------------- 开始 -------------
2023-06-21 11:13:21.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52315181279219712 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:13:21.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52315181279219712 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:13:21.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52315181258248192 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:13:21.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52315181279219712 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:13:21.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52315181258248192 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:13:21.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52315181258248192 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:13:21.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52315181279219712 [0;39m 请求参数: []
2023-06-21 11:13:21.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52315181258248192 [0;39m 请求参数: []
2023-06-21 11:13:21.785 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315181258248192 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:13:21.797 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315181258248192 [0;39m ==> Parameters: 
2023-06-21 11:13:21.802 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52315181279219712 [0;39m 访问Redis
2023-06-21 11:13:21.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52315181279219712 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:13:21.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52315181279219712 [0;39m ------------- 结束 耗时：360 ms -------------
2023-06-21 11:13:21.832 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:13:21.833 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:13:21.834 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:13:21.835 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:13:21.835 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:13:21.835 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:13:21.835 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:13:21.835 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:13:21.836 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:13:21.836 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:13:21.836 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:13:21.836 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:13:21.836 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:13:21.836 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:13:21.836 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:13:21.837 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:13:21.837 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:13:21.837 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315181258248192 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:13:21.838 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315181258248192 [0;39m <==      Total: 17
2023-06-21 11:13:21.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52315181258248192 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:13:21.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52315181258248192 [0;39m ------------- 结束 耗时：404 ms -------------
2023-06-21 11:13:33.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52315231422124033 [0;39m ------------- 开始 -------------
2023-06-21 11:13:33.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52315231422124032 [0;39m ------------- 开始 -------------
2023-06-21 11:13:33.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52315231422124032 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:13:33.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52315231422124033 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:13:33.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52315231422124033 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:13:33.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52315231422124032 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:13:33.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52315231422124033 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:13:33.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52315231422124032 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:13:33.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52315231422124033 [0;39m 请求参数: []
2023-06-21 11:13:33.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52315231422124032 [0;39m 请求参数: []
2023-06-21 11:13:33.425 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52315231422124032 [0;39m 访问Redis
2023-06-21 11:13:33.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52315231422124032 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:13:33.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52315231422124032 [0;39m ------------- 结束 耗时：33 ms -------------
2023-06-21 11:13:33.459 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315231422124033 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:13:33.459 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315231422124033 [0;39m ==> Parameters: 
2023-06-21 11:13:33.479 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:13:33.479 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:13:33.479 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:13:33.479 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:13:33.479 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:13:33.479 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:13:33.479 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:13:33.479 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:13:33.479 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:13:33.479 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:13:33.479 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:13:33.490 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:13:33.490 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:13:33.490 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:13:33.491 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:13:33.491 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:13:33.491 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:13:33.491 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315231422124033 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:13:33.491 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315231422124033 [0;39m <==      Total: 17
2023-06-21 11:13:33.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52315231422124033 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:13:33.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52315231422124033 [0;39m ------------- 结束 耗时：93 ms -------------
2023-06-21 11:13:51.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52315306428862464 [0;39m ------------- 开始 -------------
2023-06-21 11:13:51.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52315306428862465 [0;39m ------------- 开始 -------------
2023-06-21 11:13:51.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52315306428862464 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:13:51.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52315306428862465 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:13:51.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52315306428862464 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:13:51.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52315306428862464 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:13:51.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52315306428862465 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:13:51.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52315306428862465 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:13:51.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52315306428862464 [0;39m 请求参数: []
2023-06-21 11:13:51.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52315306428862465 [0;39m 请求参数: []
2023-06-21 11:13:51.316 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315306428862465 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:13:51.317 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52315306428862464 [0;39m 访问Redis
2023-06-21 11:13:51.317 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315306428862465 [0;39m ==> Parameters: 
2023-06-21 11:13:51.339 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52315306428862464 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:13:51.339 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52315306428862464 [0;39m ==> Parameters: 
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:13:51.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:13:51.355 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:13:51.355 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:13:51.355 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315306428862465 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:13:51.355 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315306428862465 [0;39m <==      Total: 17
2023-06-21 11:13:51.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52315306428862465 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:13:51.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52315306428862465 [0;39m ------------- 结束 耗时：74 ms -------------
2023-06-21 11:13:51.370 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52315306428862464 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 11:13:51.375 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52315306428862464 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 11:13:51.377 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52315306428862464 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 11:13:51.377 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52315306428862464 [0;39m <==      Total: 2
2023-06-21 11:13:51.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52315306428862464 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:13:51.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52315306428862464 [0;39m ------------- 结束 耗时：138 ms -------------
2023-06-21 11:14:00.191 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52315343737196544 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:14:00.358 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52315343737196544 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:14:00.358 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52315343737196544 [0;39m ==> Parameters: 
2023-06-21 11:14:00.414 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52315343737196544 [0;39m <==    Updates: 5
2023-06-21 11:14:00.438 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52315343737196544 [0;39m 更新电子书下的文档数据结束，耗时：199毫秒
2023-06-21 11:15:04.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52315613934260225 [0;39m ------------- 开始 -------------
2023-06-21 11:15:04.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52315613934260224 [0;39m ------------- 开始 -------------
2023-06-21 11:15:04.597 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52315613934260225 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:15:04.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52315613934260224 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:15:04.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52315613934260225 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:15:04.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52315613934260224 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:15:04.600 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52315613934260225 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:15:04.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52315613934260225 [0;39m 请求参数: []
2023-06-21 11:15:04.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52315613934260224 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:15:04.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52315613934260224 [0;39m 请求参数: []
2023-06-21 11:15:04.670 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315613934260224 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:15:04.677 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315613934260224 [0;39m ==> Parameters: 
2023-06-21 11:15:04.677 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52315613934260225 [0;39m 访问Redis
2023-06-21 11:15:04.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52315613934260225 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:15:04.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52315613934260225 [0;39m ------------- 结束 耗时：81 ms -------------
2023-06-21 11:15:04.781 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:15:04.781 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:15:04.781 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:15:04.792 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:15:04.800 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:15:04.800 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:15:04.800 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:15:04.815 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:15:04.816 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:15:04.817 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:15:04.820 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:15:04.821 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:15:04.822 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:15:04.823 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:15:04.824 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:15:04.824 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:15:04.824 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:15:04.831 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315613934260224 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:15:04.831 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315613934260224 [0;39m <==      Total: 17
2023-06-21 11:15:04.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52315613934260224 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:15:04.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52315613934260224 [0;39m ------------- 结束 耗时：316 ms -------------
2023-06-21 11:15:07.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52315627897098240 [0;39m ------------- 开始 -------------
2023-06-21 11:15:07.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52315627897098241 [0;39m ------------- 开始 -------------
2023-06-21 11:15:07.926 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52315627897098241 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:15:07.926 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52315627897098241 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:15:07.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52315627897098241 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:15:07.926 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52315627897098240 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:15:07.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52315627897098240 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:15:07.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52315627897098241 [0;39m 请求参数: []
2023-06-21 11:15:07.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52315627897098240 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:15:07.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52315627897098240 [0;39m 请求参数: []
2023-06-21 11:15:07.942 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315627897098241 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:15:07.942 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315627897098241 [0;39m ==> Parameters: 
2023-06-21 11:15:07.959 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52315627897098240 [0;39m 访问Redis
2023-06-21 11:15:07.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52315627897098240 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:15:07.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52315627897098240 [0;39m ------------- 结束 耗时：34 ms -------------
2023-06-21 11:15:07.979 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:15:07.979 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:15:07.979 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:15:07.979 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:15:07.979 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:15:07.979 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:15:07.979 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:15:07.979 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:15:07.979 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:15:07.979 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:15:07.979 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:15:07.979 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:15:07.990 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:15:07.990 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:15:07.991 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:15:07.991 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:15:07.991 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:15:07.991 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315627897098241 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:15:07.991 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315627897098241 [0;39m <==      Total: 17
2023-06-21 11:15:07.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52315627897098241 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:15:07.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52315627897098241 [0;39m ------------- 结束 耗时：66 ms -------------
2023-06-21 11:16:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52315846378393600 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:16:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52315846378393600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:16:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52315846378393600 [0;39m ==> Parameters: 
2023-06-21 11:16:00.089 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52315846378393600 [0;39m <==    Updates: 5
2023-06-21 11:16:00.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52315846378393600 [0;39m 更新电子书下的文档数据结束，耗时：86毫秒
2023-06-21 11:16:22.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52315941970776064 [0;39m ------------- 开始 -------------
2023-06-21 11:16:22.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52315941970776064 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:16:22.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52315941970776064 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:16:22.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52315941970776064 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:16:22.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52315941970776064 [0;39m 请求参数: []
2023-06-21 11:16:22.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52315942029496320 [0;39m ------------- 开始 -------------
2023-06-21 11:16:22.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52315942029496320 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:16:22.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52315942029496320 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:16:22.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52315942029496320 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:16:22.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52315942029496320 [0;39m 请求参数: []
2023-06-21 11:16:22.867 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315942029496320 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:16:22.867 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315942029496320 [0;39m ==> Parameters: 
2023-06-21 11:16:22.878 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52315941970776064 [0;39m 访问Redis
2023-06-21 11:16:22.894 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:16:22.894 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:16:22.894 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:16:22.894 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:16:22.894 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:16:22.894 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:16:22.894 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:16:22.894 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:16:22.894 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:16:22.894 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:16:22.894 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:16:22.894 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:16:22.910 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52315941970776064 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:16:22.980 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:16:22.980 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52315941970776064 [0;39m ==> Parameters: 
2023-06-21 11:16:22.980 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:16:22.980 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:16:22.980 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:16:22.982 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:16:22.982 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52315942029496320 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:16:22.982 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52315942029496320 [0;39m <==      Total: 17
2023-06-21 11:16:22.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52315942029496320 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:16:22.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52315942029496320 [0;39m ------------- 结束 耗时：163 ms -------------
2023-06-21 11:16:23.010 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52315941970776064 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 11:16:23.013 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52315941970776064 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 11:16:23.016 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52315941970776064 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 11:16:23.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52315941970776064 [0;39m <==      Total: 2
2023-06-21 11:16:23.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52315941970776064 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:16:23.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52315941970776064 [0;39m ------------- 结束 耗时：256 ms -------------
2023-06-21 11:17:14.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52316157482504192 [0;39m ------------- 开始 -------------
2023-06-21 11:17:14.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52316157495087104 [0;39m ------------- 开始 -------------
2023-06-21 11:17:14.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52316157482504192 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:17:14.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52316157495087104 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:17:14.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52316157482504192 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:17:14.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52316157482504192 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:17:14.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52316157495087104 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:17:14.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52316157482504192 [0;39m 请求参数: []
2023-06-21 11:17:14.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52316157495087104 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:17:14.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52316157495087104 [0;39m 请求参数: []
2023-06-21 11:17:14.231 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52316157495087104 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:17:14.235 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52316157495087104 [0;39m ==> Parameters: 
2023-06-21 11:17:14.252 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52316157482504192 [0;39m 访问Redis
2023-06-21 11:17:14.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52316157482504192 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:17:14.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52316157482504192 [0;39m ------------- 结束 耗时：64 ms -------------
2023-06-21 11:17:14.268 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:17:14.268 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:17:14.275 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:17:14.277 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:17:14.277 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:17:14.277 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:17:14.277 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:17:14.277 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:17:14.279 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:17:14.279 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:17:14.279 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:17:14.279 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:17:14.280 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:17:14.280 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:17:14.280 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:17:14.280 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:17:14.280 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:17:14.281 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316157495087104 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:17:14.281 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52316157495087104 [0;39m <==      Total: 17
2023-06-21 11:17:14.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52316157495087104 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:17:14.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52316157495087104 [0;39m ------------- 结束 耗时：93 ms -------------
2023-06-21 11:17:21.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52316189338243073 [0;39m ------------- 开始 -------------
2023-06-21 11:17:21.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52316189338243073 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:17:21.784 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52316189338243073 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:17:21.784 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52316189338243073 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:17:21.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52316189338243073 [0;39m 请求参数: []
2023-06-21 11:17:21.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52316189338243072 [0;39m ------------- 开始 -------------
2023-06-21 11:17:21.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52316189338243072 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:17:21.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52316189338243072 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:17:21.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52316189338243072 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:17:21.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52316189338243072 [0;39m 请求参数: []
2023-06-21 11:17:21.811 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52316189338243073 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:17:21.811 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52316189338243073 [0;39m ==> Parameters: 
2023-06-21 11:17:21.837 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52316189338243072 [0;39m 访问Redis
2023-06-21 11:17:21.837 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:17:21.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52316189338243072 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:17:21.838 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:17:21.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52316189338243072 [0;39m ------------- 结束 耗时：62 ms -------------
2023-06-21 11:17:21.846 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:17:21.846 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:17:21.847 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:17:21.847 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:17:21.851 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:17:21.868 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:17:21.868 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:17:21.869 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:17:21.872 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:17:21.880 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:17:21.880 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:17:21.902 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:17:21.902 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:17:21.907 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:17:21.907 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:17:21.908 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52316189338243073 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:17:21.925 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52316189338243073 [0;39m <==      Total: 17
2023-06-21 11:17:21.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52316189338243073 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:17:21.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52316189338243073 [0;39m ------------- 结束 耗时：166 ms -------------
2023-06-21 11:17:21.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52316190189686784 [0;39m ------------- 开始 -------------
2023-06-21 11:17:21.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52316190189686784 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 11:17:21.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52316190189686784 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 11:17:21.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52316190189686784 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:17:21.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52316190189686784 [0;39m 请求参数: []
2023-06-21 11:17:22.006 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52316190189686784 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 11:17:22.008 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52316190189686784 [0;39m ==> Parameters: 
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 11:17:22.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52316190189686784 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 11:17:22.029 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52316190189686784 [0;39m <==      Total: 16
2023-06-21 11:17:22.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52316190189686784 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 11:17:22.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52316190189686784 [0;39m ------------- 结束 耗时：57 ms -------------
2023-06-21 11:18:00.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52316349728428032 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:18:00.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52316349728428032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:18:00.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52316349728428032 [0;39m ==> Parameters: 
2023-06-21 11:18:00.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52316349728428032 [0;39m <==    Updates: 5
2023-06-21 11:18:00.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52316349728428032 [0;39m 更新电子书下的文档数据结束，耗时：85毫秒
2023-06-21 11:20:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52316852961021952 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:20:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52316852961021952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:20:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52316852961021952 [0;39m ==> Parameters: 
2023-06-21 11:20:00.097 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52316852961021952 [0;39m <==    Updates: 5
2023-06-21 11:20:00.098 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52316852961021952 [0;39m 更新电子书下的文档数据结束，耗时：94毫秒
2023-06-21 11:20:00.100 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52316853367869440 [0;39m 生成今日电子书快照开始
2023-06-21 11:20:00.103 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52316853367869440 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 11:20:00.108 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52316853367869440 [0;39m ==> Parameters: 
2023-06-21 11:20:00.179 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52316853367869440 [0;39m <==    Updates: 0
2023-06-21 11:20:00.180 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52316853367869440 [0;39m 生成今日电子书快照结束，耗时：77毫秒
2023-06-21 11:20:35.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317000634077184 [0;39m ------------- 开始 -------------
2023-06-21 11:20:35.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317000634077185 [0;39m ------------- 开始 -------------
2023-06-21 11:20:35.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317000634077186 [0;39m ------------- 开始 -------------
2023-06-21 11:20:35.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317000634077186 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:20:35.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317000634077186 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:20:35.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317000634077186 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:20:35.230 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317000634077185 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:20:35.230 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317000634077184 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 11:20:35.230 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317000634077185 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:20:35.230 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317000634077184 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 11:20:35.231 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317000634077185 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:20:35.231 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317000634077184 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:20:35.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317000634077184 [0;39m 请求参数: []
2023-06-21 11:20:35.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317000634077185 [0;39m 请求参数: []
2023-06-21 11:20:35.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317000634077186 [0;39m 请求参数: []
2023-06-21 11:20:35.282 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317000634077185 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:20:35.290 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317000634077185 [0;39m ==> Parameters: 
2023-06-21 11:20:35.309 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52317000634077184 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 11:20:35.311 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52317000634077184 [0;39m ==> Parameters: 
2023-06-21 11:20:35.351 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 11:20:35.351 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:20:35.360 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 11:20:35.365 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:20:35.369 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 11:20:35.369 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:20:35.370 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:20:35.370 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 11:20:35.370 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:20:35.371 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 11:20:35.373 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:20:35.376 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:20:35.376 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 11:20:35.376 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:20:35.376 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 11:20:35.376 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:20:35.376 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 11:20:35.377 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 11:20:35.377 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:20:35.377 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 11:20:35.377 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:20:35.378 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 11:20:35.378 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:20:35.378 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 11:20:35.414 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52317000634077186 [0;39m 访问Redis
2023-06-21 11:20:36.476 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:20:36.476 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 11:20:36.476 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:20:36.476 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 11:20:36.476 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:20:36.476 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 11:20:36.476 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 11:20:36.476 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:20:36.476 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:20:36.476 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317000634077185 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:20:36.476 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52317000634077184 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 11:20:36.476 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317000634077185 [0;39m <==      Total: 17
2023-06-21 11:20:36.476 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52317000634077184 [0;39m <==      Total: 16
2023-06-21 11:20:36.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317000634077185 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:20:36.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317000634077185 [0;39m ------------- 结束 耗时：1284 ms -------------
2023-06-21 11:20:36.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317000634077184 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 11:20:36.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317000634077184 [0;39m ------------- 结束 耗时：1282 ms -------------
2023-06-21 11:20:36.516 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52317000634077186 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:20:36.516 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52317000634077186 [0;39m ==> Parameters: 
2023-06-21 11:20:36.548 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52317000634077186 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 11:20:36.549 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52317000634077186 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 11:20:36.551 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52317000634077186 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 11:20:36.551 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52317000634077186 [0;39m <==      Total: 2
2023-06-21 11:20:36.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317000634077186 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:20:36.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317000634077186 [0;39m ------------- 结束 耗时：1377 ms -------------
2023-06-21 11:20:43.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317034998009856 [0;39m ------------- 开始 -------------
2023-06-21 11:20:43.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317034998009856 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:20:43.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317034998009856 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:20:43.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317034998009856 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:20:43.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317034998009856 [0;39m 请求参数: []
2023-06-21 11:20:43.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317035014787072 [0;39m ------------- 开始 -------------
2023-06-21 11:20:43.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317035014787072 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:20:43.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317035014787072 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:20:43.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317035014787072 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:20:43.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317035014787072 [0;39m 请求参数: []
2023-06-21 11:20:43.434 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317034998009856 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:20:43.440 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317034998009856 [0;39m ==> Parameters: 
2023-06-21 11:20:43.488 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:20:43.489 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:20:43.490 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:20:43.490 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:20:43.491 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:20:43.492 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:20:43.492 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:20:43.492 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:20:43.495 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52317035014787072 [0;39m 访问Redis
2023-06-21 11:20:43.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317035014787072 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:20:43.497 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:20:43.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317035014787072 [0;39m ------------- 结束 耗时：89 ms -------------
2023-06-21 11:20:43.499 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:20:43.499 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:20:43.499 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:20:43.500 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:20:43.500 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:20:43.502 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:20:43.503 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:20:43.503 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:20:43.506 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317034998009856 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:20:43.508 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317034998009856 [0;39m <==      Total: 17
2023-06-21 11:20:43.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317034998009856 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:20:43.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317034998009856 [0;39m ------------- 结束 耗时：107 ms -------------
2023-06-21 11:21:03.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317119102193664 [0;39m ------------- 开始 -------------
2023-06-21 11:21:03.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317119102193665 [0;39m ------------- 开始 -------------
2023-06-21 11:21:03.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317119102193665 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:21:03.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317119102193664 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:21:03.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317119102193665 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:21:03.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317119102193665 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:21:03.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317119102193665 [0;39m 请求参数: []
2023-06-21 11:21:03.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317119102193664 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:21:03.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317119102193664 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:21:03.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317119102193664 [0;39m 请求参数: []
2023-06-21 11:21:03.479 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317119102193664 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:21:03.479 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52317119102193665 [0;39m 访问Redis
2023-06-21 11:21:03.479 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317119102193664 [0;39m ==> Parameters: 
2023-06-21 11:21:03.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317119102193665 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:21:03.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317119102193665 [0;39m ------------- 结束 耗时：23 ms -------------
2023-06-21 11:21:03.514 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:21:03.514 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:21:03.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317119102193664 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:21:03.516 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317119102193664 [0;39m <==      Total: 17
2023-06-21 11:21:03.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317119102193664 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:21:03.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317119102193664 [0;39m ------------- 结束 耗时：475 ms -------------
2023-06-21 11:21:57.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317344885772288 [0;39m ------------- 开始 -------------
2023-06-21 11:21:57.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317344885772289 [0;39m ------------- 开始 -------------
2023-06-21 11:21:57.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317344885772288 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:21:57.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317344885772288 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:21:57.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317344885772289 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:21:57.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317344885772288 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:21:57.295 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317344885772288 [0;39m 请求参数: []
2023-06-21 11:21:57.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317344885772289 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:21:57.295 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317344885772289 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:21:57.295 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317344885772289 [0;39m 请求参数: []
2023-06-21 11:21:57.319 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317344885772288 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:21:57.327 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317344885772288 [0;39m ==> Parameters: 
2023-06-21 11:21:57.331 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52317344885772289 [0;39m 访问Redis
2023-06-21 11:21:57.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317344885772289 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:21:57.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317344885772289 [0;39m ------------- 结束 耗时：48 ms -------------
2023-06-21 11:21:57.352 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:21:57.352 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:21:57.359 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:21:57.360 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:21:57.361 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:21:57.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:21:57.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:21:57.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:21:57.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:21:57.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:21:57.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:21:57.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:21:57.376 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:21:57.376 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:21:57.376 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:21:57.376 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:21:57.376 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:21:57.380 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317344885772288 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:21:57.381 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317344885772288 [0;39m <==      Total: 17
2023-06-21 11:21:57.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317344885772288 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:21:57.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317344885772288 [0;39m ------------- 结束 耗时：97 ms -------------
2023-06-21 11:22:00.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52317356273307648 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:22:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52317356273307648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:22:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52317356273307648 [0;39m ==> Parameters: 
2023-06-21 11:22:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52317356273307648 [0;39m <==    Updates: 5
2023-06-21 11:22:00.095 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52317356273307648 [0;39m 更新电子书下的文档数据结束，耗时：93毫秒
2023-06-21 11:22:22.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317452171874304 [0;39m ------------- 开始 -------------
2023-06-21 11:22:22.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317452171874305 [0;39m ------------- 开始 -------------
2023-06-21 11:22:22.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317452171874304 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:22:22.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317452171874305 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:22:22.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317452171874304 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:22:22.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317452171874304 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:22:22.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317452171874305 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:22:22.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317452171874305 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:22:22.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317452171874305 [0;39m 请求参数: []
2023-06-21 11:22:22.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317452171874304 [0;39m 请求参数: []
2023-06-21 11:22:22.961 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317452171874304 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:22:22.961 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317452171874304 [0;39m ==> Parameters: 
2023-06-21 11:22:22.961 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52317452171874305 [0;39m 访问Redis
2023-06-21 11:22:22.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317452171874305 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:22:22.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317452171874305 [0;39m ------------- 结束 耗时：95 ms -------------
2023-06-21 11:22:23.027 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:22:23.027 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:22:23.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:22:23.045 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:22:23.051 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:22:23.051 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:22:23.051 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:22:23.051 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:22:23.053 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:22:23.053 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:22:23.053 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:22:23.053 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:22:23.053 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:22:23.053 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:22:23.053 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:22:23.054 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:22:23.054 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:22:23.054 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317452171874304 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:22:23.055 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317452171874304 [0;39m <==      Total: 17
2023-06-21 11:22:23.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317452171874304 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:22:23.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317452171874304 [0;39m ------------- 结束 耗时：190 ms -------------
2023-06-21 11:22:49.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317562956025856 [0;39m ------------- 开始 -------------
2023-06-21 11:22:49.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317562956025857 [0;39m ------------- 开始 -------------
2023-06-21 11:22:49.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317562956025857 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:22:49.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317562956025856 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:22:49.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317562956025857 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:22:49.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317562956025856 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:22:49.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317562956025857 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:22:49.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317562956025856 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:22:49.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317562956025857 [0;39m 请求参数: []
2023-06-21 11:22:49.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317562956025856 [0;39m 请求参数: []
2023-06-21 11:22:49.410 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317562956025856 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:22:49.410 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52317562956025857 [0;39m 访问Redis
2023-06-21 11:22:49.412 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317562956025856 [0;39m ==> Parameters: 
2023-06-21 11:22:49.444 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52317562956025857 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:22:49.444 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52317562956025857 [0;39m ==> Parameters: 
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:22:49.444 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317562956025856 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:22:49.444 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317562956025856 [0;39m <==      Total: 17
2023-06-21 11:22:49.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317562956025856 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:22:49.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317562956025856 [0;39m ------------- 结束 耗时：180 ms -------------
2023-06-21 11:22:49.480 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52317562956025857 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 11:22:49.481 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52317562956025857 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 11:22:49.482 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52317562956025857 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 11:22:49.482 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52317562956025857 [0;39m <==      Total: 2
2023-06-21 11:22:49.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317562956025857 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:22:49.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317562956025857 [0;39m ------------- 结束 耗时：271 ms -------------
2023-06-21 11:23:02.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317617930768385 [0;39m ------------- 开始 -------------
2023-06-21 11:23:02.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317617930768384 [0;39m ------------- 开始 -------------
2023-06-21 11:23:02.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317617930768385 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:23:02.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317617930768385 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:23:02.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317617930768384 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:23:02.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317617930768384 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:23:02.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317617930768385 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:23:02.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317617930768384 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:23:02.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317617930768385 [0;39m 请求参数: []
2023-06-21 11:23:02.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317617930768384 [0;39m 请求参数: []
2023-06-21 11:23:02.414 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52317617930768384 [0;39m 访问Redis
2023-06-21 11:23:02.414 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317617930768385 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:23:02.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317617930768384 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:23:02.414 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317617930768385 [0;39m ==> Parameters: 
2023-06-21 11:23:02.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317617930768384 [0;39m ------------- 结束 耗时：28 ms -------------
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:23:02.449 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:23:02.455 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:23:02.455 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:23:02.455 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317617930768385 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:23:02.455 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317617930768385 [0;39m <==      Total: 17
2023-06-21 11:23:02.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317617930768385 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:23:02.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317617930768385 [0;39m ------------- 结束 耗时：69 ms -------------
2023-06-21 11:23:08.972 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317645554454528 [0;39m ------------- 开始 -------------
2023-06-21 11:23:08.972 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317645554454529 [0;39m ------------- 开始 -------------
2023-06-21 11:23:08.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317645554454529 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:23:08.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317645554454528 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:23:08.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317645554454529 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:23:08.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317645554454528 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:23:08.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317645554454528 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:23:08.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317645554454529 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:23:08.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317645554454529 [0;39m 请求参数: []
2023-06-21 11:23:08.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317645554454528 [0;39m 请求参数: []
2023-06-21 11:23:08.998 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317645554454528 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:23:08.998 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317645554454528 [0;39m ==> Parameters: 
2023-06-21 11:23:08.998 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52317645554454529 [0;39m 访问Redis
2023-06-21 11:23:08.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317645554454529 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:23:08.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317645554454529 [0;39m ------------- 结束 耗时：26 ms -------------
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:23:09.044 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317645554454528 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:23:09.044 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317645554454528 [0;39m <==      Total: 17
2023-06-21 11:23:09.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317645554454528 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:23:09.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317645554454528 [0;39m ------------- 结束 耗时：72 ms -------------
2023-06-21 11:23:15.427 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317672628686848 [0;39m ------------- 开始 -------------
2023-06-21 11:23:15.427 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317672628686849 [0;39m ------------- 开始 -------------
2023-06-21 11:23:15.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317672628686848 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:23:15.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317672628686849 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:23:15.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317672628686849 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:23:15.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317672628686848 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:23:15.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317672628686849 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:23:15.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317672628686848 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:23:15.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317672628686849 [0;39m 请求参数: []
2023-06-21 11:23:15.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317672628686848 [0;39m 请求参数: []
2023-06-21 11:23:15.457 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317672628686848 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:23:15.457 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317672628686848 [0;39m ==> Parameters: 
2023-06-21 11:23:15.462 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52317672628686849 [0;39m 访问Redis
2023-06-21 11:23:15.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317672628686849 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:23:15.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317672628686849 [0;39m ------------- 结束 耗时：37 ms -------------
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:23:15.485 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317672628686848 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:23:15.485 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317672628686848 [0;39m <==      Total: 17
2023-06-21 11:23:15.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317672628686848 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:23:15.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317672628686848 [0;39m ------------- 结束 耗时：58 ms -------------
2023-06-21 11:23:24.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317710599720960 [0;39m ------------- 开始 -------------
2023-06-21 11:23:24.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52317710599720961 [0;39m ------------- 开始 -------------
2023-06-21 11:23:24.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317710599720960 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:23:24.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52317710599720961 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:23:24.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317710599720961 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:23:24.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52317710599720960 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:23:24.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317710599720961 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:23:24.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52317710599720960 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:23:24.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317710599720961 [0;39m 请求参数: []
2023-06-21 11:23:24.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52317710599720960 [0;39m 请求参数: []
2023-06-21 11:23:24.518 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317710599720961 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:23:24.518 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52317710599720960 [0;39m 访问Redis
2023-06-21 11:23:24.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317710599720960 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:23:24.518 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317710599720961 [0;39m ==> Parameters: 
2023-06-21 11:23:24.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317710599720960 [0;39m ------------- 结束 耗时：38 ms -------------
2023-06-21 11:23:24.560 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:23:24.561 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:23:24.564 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:23:24.565 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:23:24.566 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:23:24.567 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:23:24.567 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:23:24.567 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:23:24.567 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:23:24.568 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:23:24.568 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:23:24.569 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:23:24.569 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:23:24.569 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:23:24.569 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:23:24.569 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:23:24.570 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:23:24.570 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52317710599720961 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:23:24.570 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52317710599720961 [0;39m <==      Total: 17
2023-06-21 11:23:24.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52317710599720961 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:23:24.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52317710599720961 [0;39m ------------- 结束 耗时：92 ms -------------
2023-06-21 11:24:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52317859623342080 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:24:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52317859623342080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:24:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52317859623342080 [0;39m ==> Parameters: 
2023-06-21 11:24:00.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52317859623342080 [0;39m <==    Updates: 5
2023-06-21 11:24:00.094 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52317859623342080 [0;39m 更新电子书下的文档数据结束，耗时：83毫秒
2023-06-21 11:26:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52318362944016384 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:26:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52318362944016384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:26:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52318362944016384 [0;39m ==> Parameters: 
2023-06-21 11:26:00.080 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52318362944016384 [0;39m <==    Updates: 5
2023-06-21 11:26:00.080 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52318362944016384 [0;39m 更新电子书下的文档数据结束，耗时：67毫秒
2023-06-21 11:28:00.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52318866310828032 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:28:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52318866310828032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:28:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52318866310828032 [0;39m ==> Parameters: 
2023-06-21 11:28:00.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52318866310828032 [0;39m <==    Updates: 5
2023-06-21 11:28:00.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52318866310828032 [0;39m 更新电子书下的文档数据结束，耗时：82毫秒
2023-06-21 11:30:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52319369576976384 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:30:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52319369576976384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:30:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52319369576976384 [0;39m ==> Parameters: 
2023-06-21 11:30:00.096 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52319369576976384 [0;39m <==    Updates: 5
2023-06-21 11:30:00.096 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52319369576976384 [0;39m 更新电子书下的文档数据结束，耗时：84毫秒
2023-06-21 11:32:00.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52319872931205120 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:32:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52319872931205120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:32:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52319872931205120 [0;39m ==> Parameters: 
2023-06-21 11:32:00.100 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52319872931205120 [0;39m <==    Updates: 5
2023-06-21 11:32:00.100 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52319872931205120 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 11:32:23.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52319971958722562 [0;39m ------------- 开始 -------------
2023-06-21 11:32:23.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52319971958722560 [0;39m ------------- 开始 -------------
2023-06-21 11:32:23.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52319971958722561 [0;39m ------------- 开始 -------------
2023-06-21 11:32:23.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52319971958722562 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:32:23.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52319971958722561 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 11:32:23.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52319971958722560 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:32:23.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52319971958722562 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:32:23.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52319971958722561 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 11:32:23.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52319971958722560 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:32:23.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52319971958722562 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:32:23.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52319971958722561 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:32:23.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52319971958722560 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:32:23.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52319971958722561 [0;39m 请求参数: []
2023-06-21 11:32:23.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52319971958722560 [0;39m 请求参数: []
2023-06-21 11:32:23.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52319971958722562 [0;39m 请求参数: []
2023-06-21 11:32:23.682 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52319971958722562 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:32:23.682 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52319971958722562 [0;39m ==> Parameters: 
2023-06-21 11:32:23.698 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52319971958722561 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 11:32:23.698 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52319971958722561 [0;39m ==> Parameters: 
2023-06-21 11:32:23.713 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:32:23.728 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:32:23.730 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52319971958722562 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:32:23.730 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52319971958722562 [0;39m <==      Total: 17
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 11:32:23.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52319971958722561 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 11:32:23.730 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52319971958722561 [0;39m <==      Total: 16
2023-06-21 11:32:23.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52319971958722562 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:32:23.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52319971958722562 [0;39m ------------- 结束 耗时：100 ms -------------
2023-06-21 11:32:23.730 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52319971958722560 [0;39m 访问Redis
2023-06-21 11:32:23.730 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52319971958722560 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:32:23.745 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52319971958722560 [0;39m ==> Parameters: 
2023-06-21 11:32:23.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52319971958722561 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 11:32:23.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52319971958722561 [0;39m ------------- 结束 耗时：116 ms -------------
2023-06-21 11:32:23.764 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52319971958722560 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 11:32:23.764 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52319971958722560 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 11:32:23.764 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52319971958722560 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 11:32:23.764 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52319971958722560 [0;39m <==      Total: 2
2023-06-21 11:32:23.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52319971958722560 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:32:23.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52319971958722560 [0;39m ------------- 结束 耗时：180 ms -------------
2023-06-21 11:32:37.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52320030796419072 [0;39m ------------- 开始 -------------
2023-06-21 11:32:37.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52320030796419072 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:32:37.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52320030796419072 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:32:37.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52320030796419073 [0;39m ------------- 开始 -------------
2023-06-21 11:32:37.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52320030796419073 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:32:37.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52320030796419072 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:32:37.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52320030796419073 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:32:37.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52320030796419072 [0;39m 请求参数: []
2023-06-21 11:32:37.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52320030796419073 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:32:37.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52320030796419073 [0;39m 请求参数: []
2023-06-21 11:32:37.779 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52320030796419072 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:32:37.779 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52320030796419072 [0;39m ==> Parameters: 
2023-06-21 11:32:37.779 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52320030796419073 [0;39m 访问Redis
2023-06-21 11:32:37.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52320030796419073 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:32:37.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52320030796419073 [0;39m ------------- 结束 耗时：121 ms -------------
2023-06-21 11:32:37.811 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:32:37.812 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:32:37.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320030796419072 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:32:37.813 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52320030796419072 [0;39m <==      Total: 17
2023-06-21 11:32:37.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52320030796419072 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:32:37.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52320030796419072 [0;39m ------------- 结束 耗时：155 ms -------------
2023-06-21 11:33:18.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52320201273905153 [0;39m ------------- 开始 -------------
2023-06-21 11:33:18.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52320201273905152 [0;39m ------------- 开始 -------------
2023-06-21 11:33:18.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52320201273905153 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:33:18.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52320201273905152 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:33:18.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52320201273905153 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:33:18.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52320201273905152 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:33:18.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52320201273905153 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:33:18.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52320201273905152 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:33:18.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52320201273905153 [0;39m 请求参数: []
2023-06-21 11:33:18.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52320201273905152 [0;39m 请求参数: []
2023-06-21 11:33:18.331 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52320201273905153 [0;39m 访问Redis
2023-06-21 11:33:18.331 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52320201273905152 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:33:18.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52320201273905153 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:33:18.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52320201273905153 [0;39m ------------- 结束 耗时：29 ms -------------
2023-06-21 11:33:18.332 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52320201273905152 [0;39m ==> Parameters: 
2023-06-21 11:33:18.353 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:33:18.353 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:33:18.353 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:33:18.353 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:33:18.353 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:33:18.353 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:33:18.353 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:33:18.353 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:33:18.353 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:33:18.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:33:18.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:33:18.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:33:18.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:33:18.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:33:18.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:33:18.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:33:18.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:33:18.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52320201273905152 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:33:18.364 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52320201273905152 [0;39m <==      Total: 17
2023-06-21 11:33:18.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52320201273905152 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:33:18.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52320201273905152 [0;39m ------------- 结束 耗时：61 ms -------------
2023-06-21 11:34:00.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52320376239296512 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:34:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52320376239296512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:34:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52320376239296512 [0;39m ==> Parameters: 
2023-06-21 11:34:00.097 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52320376239296512 [0;39m <==    Updates: 5
2023-06-21 11:34:00.097 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52320376239296512 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 11:36:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52320879538999296 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:36:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52320879538999296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:36:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52320879538999296 [0;39m ==> Parameters: 
2023-06-21 11:36:00.083 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52320879538999296 [0;39m <==    Updates: 5
2023-06-21 11:36:00.083 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52320879538999296 [0;39m 更新电子书下的文档数据结束，耗时：66毫秒
2023-06-21 11:38:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52321382859673600 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:38:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52321382859673600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:38:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52321382859673600 [0;39m ==> Parameters: 
2023-06-21 11:38:00.098 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52321382859673600 [0;39m <==    Updates: 5
2023-06-21 11:38:00.099 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52321382859673600 [0;39m 更新电子书下的文档数据结束，耗时：82毫秒
2023-06-21 11:40:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52321886163570688 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:40:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52321886163570688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:40:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52321886163570688 [0;39m ==> Parameters: 
2023-06-21 11:40:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52321886163570688 [0;39m <==    Updates: 5
2023-06-21 11:40:00.094 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52321886163570688 [0;39m 更新电子书下的文档数据结束，耗时：81毫秒
2023-06-21 11:40:00.097 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52321886520086528 [0;39m 生成今日电子书快照开始
2023-06-21 11:40:00.099 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52321886520086528 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 11:40:00.101 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52321886520086528 [0;39m ==> Parameters: 
2023-06-21 11:40:00.156 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52321886520086528 [0;39m <==    Updates: 0
2023-06-21 11:40:00.156 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52321886520086528 [0;39m 生成今日电子书快照结束，耗时：58毫秒
2023-06-21 11:42:00.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52322389433913344 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:42:00.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52322389433913344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:42:00.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52322389433913344 [0;39m ==> Parameters: 
2023-06-21 11:42:00.082 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52322389433913344 [0;39m <==    Updates: 5
2023-06-21 11:42:00.083 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52322389433913344 [0;39m 更新电子书下的文档数据结束，耗时：82毫秒
2023-06-21 11:44:00.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52322892771364864 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:44:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52322892771364864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:44:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52322892771364864 [0;39m ==> Parameters: 
2023-06-21 11:44:00.092 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52322892771364864 [0;39m <==    Updates: 5
2023-06-21 11:44:00.092 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52322892771364864 [0;39m 更新电子书下的文档数据结束，耗时：85毫秒
2023-06-21 11:45:17.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52323217959948290 [0;39m ------------- 开始 -------------
2023-06-21 11:45:17.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52323217959948288 [0;39m ------------- 开始 -------------
2023-06-21 11:45:17.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52323217959948289 [0;39m ------------- 开始 -------------
2023-06-21 11:45:17.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52323217959948288 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 11:45:17.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52323217959948290 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 11:45:17.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52323217959948289 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 11:45:17.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52323217959948288 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 11:45:17.568 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52323217959948289 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 11:45:17.568 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52323217959948290 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 11:45:17.568 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52323217959948290 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:45:17.568 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52323217959948289 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:45:17.568 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52323217959948288 [0;39m 远程地址: 127.0.0.1
2023-06-21 11:45:17.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52323217959948288 [0;39m 请求参数: []
2023-06-21 11:45:17.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52323217959948289 [0;39m 请求参数: []
2023-06-21 11:45:17.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52323217959948290 [0;39m 请求参数: []
2023-06-21 11:45:17.607 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52323217959948289 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:45:17.611 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52323217959948289 [0;39m ==> Parameters: 
2023-06-21 11:45:17.621 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52323217959948290 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 11:45:17.622 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52323217959948290 [0;39m ==> Parameters: 
2023-06-21 11:45:17.638 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52323217959948288 [0;39m 访问Redis
2023-06-21 11:45:17.643 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 11:45:17.647 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 11:45:17.647 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 11:45:17.648 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 11:45:17.649 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 11:45:17.649 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 11:45:17.650 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 11:45:17.650 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 11:45:17.650 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 11:45:17.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 11:45:17.651 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 11:45:17.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 11:45:17.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 11:45:17.651 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 11:45:17.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 11:45:17.651 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 11:45:17.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 11:45:17.651 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 11:45:17.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 11:45:17.651 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 11:45:17.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 11:45:17.651 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 11:45:17.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 11:45:17.651 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 11:45:17.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 11:45:17.652 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 11:45:17.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 11:45:17.652 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 11:45:17.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 11:45:17.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 11:45:17.652 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 11:45:17.653 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 11:45:17.653 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52323217959948289 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 11:45:17.653 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 11:45:17.653 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52323217959948289 [0;39m <==      Total: 17
2023-06-21 11:45:17.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52323217959948290 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 11:45:17.654 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52323217959948290 [0;39m <==      Total: 16
2023-06-21 11:45:17.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52323217959948289 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 11:45:17.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52323217959948289 [0;39m ------------- 结束 耗时：122 ms -------------
2023-06-21 11:45:17.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52323217959948290 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 11:45:17.663 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52323217959948290 [0;39m ------------- 结束 耗时：127 ms -------------
2023-06-21 11:45:17.665 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52323217959948288 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 11:45:17.666 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52323217959948288 [0;39m ==> Parameters: 
2023-06-21 11:45:17.694 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52323217959948288 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 11:45:17.694 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52323217959948288 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 11:45:17.698 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52323217959948288 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 11:45:17.698 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52323217959948288 [0;39m <==      Total: 2
2023-06-21 11:45:17.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52323217959948288 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 11:45:17.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52323217959948288 [0;39m ------------- 结束 耗时：198 ms -------------
2023-06-21 11:46:00.024 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52323396159148032 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:46:00.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52323396159148032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:46:00.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52323396159148032 [0;39m ==> Parameters: 
2023-06-21 11:46:00.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52323396159148032 [0;39m <==    Updates: 5
2023-06-21 11:46:00.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52323396159148032 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 11:48:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52323899433684992 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:48:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52323899433684992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:48:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52323899433684992 [0;39m ==> Parameters: 
2023-06-21 11:48:00.097 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52323899433684992 [0;39m <==    Updates: 5
2023-06-21 11:48:00.098 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52323899433684992 [0;39m 更新电子书下的文档数据结束，耗时：84毫秒
2023-06-21 11:50:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52324402754359296 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:50:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52324402754359296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:50:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52324402754359296 [0;39m ==> Parameters: 
2023-06-21 11:50:00.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52324402754359296 [0;39m <==    Updates: 5
2023-06-21 11:50:00.093 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52324402754359296 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 11:52:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52324906054062080 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:52:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52324906054062080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:52:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52324906054062080 [0;39m ==> Parameters: 
2023-06-21 11:52:00.088 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52324906054062080 [0;39m <==    Updates: 5
2023-06-21 11:52:00.088 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52324906054062080 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 11:54:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52325409374736384 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:54:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52325409374736384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:54:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52325409374736384 [0;39m ==> Parameters: 
2023-06-21 11:54:00.077 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52325409374736384 [0;39m <==    Updates: 5
2023-06-21 11:54:00.077 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52325409374736384 [0;39m 更新电子书下的文档数据结束，耗时：66毫秒
2023-06-21 11:56:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52325912703799296 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:56:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52325912703799296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:56:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52325912703799296 [0;39m ==> Parameters: 
2023-06-21 11:56:00.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52325912703799296 [0;39m <==    Updates: 5
2023-06-21 11:56:00.093 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52325912703799296 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 11:58:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52326416024473600 [0;39m 更新电子书下的文档数据开始
2023-06-21 11:58:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52326416024473600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 11:58:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52326416024473600 [0;39m ==> Parameters: 
2023-06-21 11:58:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52326416024473600 [0;39m <==    Updates: 5
2023-06-21 11:58:00.094 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52326416024473600 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 12:00:00.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52326919349342208 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:00:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52326919349342208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:00:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52326919349342208 [0;39m ==> Parameters: 
2023-06-21 12:00:00.096 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52326919349342208 [0;39m <==    Updates: 5
2023-06-21 12:00:00.096 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52326919349342208 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:00:00.096 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52326919680692224 [0;39m 生成今日电子书快照开始
2023-06-21 12:00:00.096 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52326919680692224 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 12:00:00.112 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52326919680692224 [0;39m ==> Parameters: 
2023-06-21 12:00:00.163 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52326919680692224 [0;39m <==    Updates: 0
2023-06-21 12:00:00.163 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52326919680692224 [0;39m 生成今日电子书快照结束，耗时：67毫秒
2023-06-21 12:02:00.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52327422665822208 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:02:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52327422665822208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:02:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52327422665822208 [0;39m ==> Parameters: 
2023-06-21 12:02:00.096 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52327422665822208 [0;39m <==    Updates: 5
2023-06-21 12:02:00.096 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52327422665822208 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:04:00.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52327925994885120 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:04:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52327925994885120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:04:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52327925994885120 [0;39m ==> Parameters: 
2023-06-21 12:04:00.098 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52327925994885120 [0;39m <==    Updates: 5
2023-06-21 12:04:00.100 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52327925994885120 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 12:06:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52328429240061952 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:06:00.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52328429240061952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:06:00.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52328429240061952 [0;39m ==> Parameters: 
2023-06-21 12:06:00.070 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52328429240061952 [0;39m <==    Updates: 5
2023-06-21 12:06:00.070 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52328429240061952 [0;39m 更新电子书下的文档数据结束，耗时：67毫秒
2023-06-21 12:08:00.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52328932640428032 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:08:00.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52328932640428032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:08:00.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52328932640428032 [0;39m ==> Parameters: 
2023-06-21 12:08:00.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52328932640428032 [0;39m <==    Updates: 5
2023-06-21 12:08:00.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52328932640428032 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:10:00.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52329435927547904 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:10:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52329435927547904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:10:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52329435927547904 [0;39m ==> Parameters: 
2023-06-21 12:10:00.080 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52329435927547904 [0;39m <==    Updates: 5
2023-06-21 12:10:00.080 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52329435927547904 [0;39m 更新电子书下的文档数据结束，耗时：64毫秒
2023-06-21 12:12:00.022 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52329939269193728 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:12:00.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52329939269193728 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:12:00.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52329939269193728 [0;39m ==> Parameters: 
2023-06-21 12:12:00.118 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52329939269193728 [0;39m <==    Updates: 5
2023-06-21 12:12:00.118 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52329939269193728 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-06-21 12:14:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52330442531147776 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:14:00.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52330442531147776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:14:00.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52330442531147776 [0;39m ==> Parameters: 
2023-06-21 12:14:00.088 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52330442531147776 [0;39m <==    Updates: 5
2023-06-21 12:14:00.088 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52330442531147776 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:16:00.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52330945893765120 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:16:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52330945893765120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:16:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52330945893765120 [0;39m ==> Parameters: 
2023-06-21 12:16:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52330945893765120 [0;39m <==    Updates: 5
2023-06-21 12:16:00.094 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52330945893765120 [0;39m 更新电子书下的文档数据结束，耗时：74毫秒
2023-06-21 12:18:00.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52331449147330560 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:18:00.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52331449147330560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:18:00.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52331449147330560 [0;39m ==> Parameters: 
2023-06-21 12:18:00.084 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52331449147330560 [0;39m <==    Updates: 5
2023-06-21 12:18:00.084 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52331449147330560 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:20:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52331952493170688 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:20:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52331952493170688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:20:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52331952493170688 [0;39m ==> Parameters: 
2023-06-21 12:20:00.091 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52331952493170688 [0;39m <==    Updates: 5
2023-06-21 12:20:00.091 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52331952493170688 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:20:00.091 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52331952824520704 [0;39m 生成今日电子书快照开始
2023-06-21 12:20:00.091 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52331952824520704 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 12:20:00.091 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52331952824520704 [0;39m ==> Parameters: 
2023-06-21 12:20:00.139 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52331952824520704 [0;39m <==    Updates: 0
2023-06-21 12:20:00.155 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52331952824520704 [0;39m 生成今日电子书快照结束，耗时：64毫秒
2023-06-21 12:22:00.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52332455826427904 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:22:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52332455826427904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:22:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52332455826427904 [0;39m ==> Parameters: 
2023-06-21 12:22:00.095 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52332455826427904 [0;39m <==    Updates: 5
2023-06-21 12:22:00.095 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52332455826427904 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:24:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52332959117742080 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:24:00.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52332959117742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:24:00.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52332959117742080 [0;39m ==> Parameters: 
2023-06-21 12:24:00.089 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52332959117742080 [0;39m <==    Updates: 5
2023-06-21 12:24:00.089 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52332959117742080 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:26:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52333462442610688 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:26:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52333462442610688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:26:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52333462442610688 [0;39m ==> Parameters: 
2023-06-21 12:26:00.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52333462442610688 [0;39m <==    Updates: 5
2023-06-21 12:26:00.093 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52333462442610688 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 12:28:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52333965763284992 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:28:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52333965763284992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:28:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52333965763284992 [0;39m ==> Parameters: 
2023-06-21 12:28:00.092 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52333965763284992 [0;39m <==    Updates: 5
2023-06-21 12:28:00.092 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52333965763284992 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:30:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52334469067182080 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:30:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52334469067182080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:30:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52334469067182080 [0;39m ==> Parameters: 
2023-06-21 12:30:00.092 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52334469067182080 [0;39m <==    Updates: 5
2023-06-21 12:30:00.092 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52334469067182080 [0;39m 更新电子书下的文档数据结束，耗时：82毫秒
2023-06-21 12:32:00.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52334972408827904 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:32:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52334972408827904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:32:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52334972408827904 [0;39m ==> Parameters: 
2023-06-21 12:32:00.080 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52334972408827904 [0;39m <==    Updates: 5
2023-06-21 12:32:00.080 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52334972408827904 [0;39m 更新电子书下的文档数据结束，耗时：64毫秒
2023-06-21 12:34:00.027 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52335475771445248 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:34:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52335475771445248 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:34:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52335475771445248 [0;39m ==> Parameters: 
2023-06-21 12:34:00.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52335475771445248 [0;39m <==    Updates: 5
2023-06-21 12:34:00.122 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52335475771445248 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-06-21 12:36:00.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52335978999844864 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:36:00.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52335978999844864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:36:00.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52335978999844864 [0;39m ==> Parameters: 
2023-06-21 12:36:00.085 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52335978999844864 [0;39m <==    Updates: 5
2023-06-21 12:36:00.085 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52335978999844864 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:38:00.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52336482358267904 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:38:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52336482358267904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:38:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52336482358267904 [0;39m ==> Parameters: 
2023-06-21 12:38:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52336482358267904 [0;39m <==    Updates: 5
2023-06-21 12:38:00.094 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52336482358267904 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 12:40:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52336985670553600 [0;39m 生成今日电子书快照开始
2023-06-21 12:40:00.030 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52336985670553600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 12:40:00.030 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52336985670553600 [0;39m ==> Parameters: 
2023-06-21 12:40:00.093 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52336985670553600 [0;39m <==    Updates: 0
2023-06-21 12:40:00.093 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52336985670553600 [0;39m 生成今日电子书快照结束，耗时：78毫秒
2023-06-21 12:40:00.093 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52336985997709312 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:40:00.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52336985997709312 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:40:00.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52336985997709312 [0;39m ==> Parameters: 
2023-06-21 12:40:00.142 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52336985997709312 [0;39m <==    Updates: 5
2023-06-21 12:40:00.142 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52336985997709312 [0;39m 更新电子书下的文档数据结束，耗时：49毫秒
2023-06-21 12:42:00.024 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52337489024782336 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:42:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52337489024782336 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:42:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52337489024782336 [0;39m ==> Parameters: 
2023-06-21 12:42:00.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52337489024782336 [0;39m <==    Updates: 5
2023-06-21 12:42:00.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52337489024782336 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:44:00.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52337992269959168 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:44:00.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52337992269959168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:44:00.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52337992269959168 [0;39m ==> Parameters: 
2023-06-21 12:44:00.086 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52337992269959168 [0;39m <==    Updates: 5
2023-06-21 12:44:00.086 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52337992269959168 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:46:00.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52338495582244864 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:46:00.070 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52338495582244864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:46:00.070 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52338495582244864 [0;39m ==> Parameters: 
2023-06-21 12:46:00.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52338495582244864 [0;39m <==    Updates: 5
2023-06-21 12:46:00.117 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52338495582244864 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 12:48:00.030 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52338998999388160 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:48:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52338998999388160 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:48:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52338998999388160 [0;39m ==> Parameters: 
2023-06-21 12:48:00.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52338998999388160 [0;39m <==    Updates: 5
2023-06-21 12:48:00.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52338998999388160 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 12:50:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52339502252953600 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:50:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52339502252953600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:50:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52339502252953600 [0;39m ==> Parameters: 
2023-06-21 12:50:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52339502252953600 [0;39m <==    Updates: 5
2023-06-21 12:50:00.094 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52339502252953600 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:52:00.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52340005577822208 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:52:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52340005577822208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:52:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52340005577822208 [0;39m ==> Parameters: 
2023-06-21 12:52:00.081 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52340005577822208 [0;39m <==    Updates: 5
2023-06-21 12:52:00.096 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52340005577822208 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 12:54:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52340508839776256 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:54:00.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52340508839776256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:54:00.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52340508839776256 [0;39m ==> Parameters: 
2023-06-21 12:54:00.084 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52340508839776256 [0;39m <==    Updates: 5
2023-06-21 12:54:00.084 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52340508839776256 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 12:56:00.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52341012219170816 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:56:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52341012219170816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:56:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52341012219170816 [0;39m ==> Parameters: 
2023-06-21 12:56:00.099 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52341012219170816 [0;39m <==    Updates: 5
2023-06-21 12:56:00.099 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52341012219170816 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 12:58:00.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52341515531456512 [0;39m 更新电子书下的文档数据开始
2023-06-21 12:58:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52341515531456512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 12:58:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52341515531456512 [0;39m ==> Parameters: 
2023-06-21 12:58:00.096 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52341515531456512 [0;39m <==    Updates: 5
2023-06-21 12:58:00.096 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52341515531456512 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 13:00:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52342018852130816 [0;39m 生成今日电子书快照开始
2023-06-21 13:00:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52342018852130816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 13:00:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52342018852130816 [0;39m ==> Parameters: 
2023-06-21 13:00:00.103 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52342018852130816 [0;39m <==    Updates: 0
2023-06-21 13:00:00.103 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52342018852130816 [0;39m 生成今日电子书快照结束，耗时：84毫秒
2023-06-21 13:00:00.104 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52342019208646656 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:00:00.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52342019208646656 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:00:00.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52342019208646656 [0;39m ==> Parameters: 
2023-06-21 13:00:00.158 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52342019208646656 [0;39m <==    Updates: 5
2023-06-21 13:00:00.159 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52342019208646656 [0;39m 更新电子书下的文档数据结束，耗时：55毫秒
2023-06-21 13:02:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52342522143444992 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:02:00.053 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52342522143444992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:02:00.058 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52342522143444992 [0;39m ==> Parameters: 
2023-06-21 13:02:00.115 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52342522143444992 [0;39m <==    Updates: 5
2023-06-21 13:02:00.115 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52342522143444992 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-06-21 13:04:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52343025447342080 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:04:00.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52343025447342080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:04:00.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52343025447342080 [0;39m ==> Parameters: 
2023-06-21 13:04:00.089 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52343025447342080 [0;39m <==    Updates: 5
2023-06-21 13:04:00.089 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52343025447342080 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 13:06:00.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52343528801570816 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:06:00.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52343528801570816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:06:00.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52343528801570816 [0;39m ==> Parameters: 
2023-06-21 13:06:00.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52343528801570816 [0;39m <==    Updates: 5
2023-06-21 13:06:00.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52343528801570816 [0;39m 更新电子书下的文档数据结束，耗时：91毫秒
2023-06-21 13:06:03.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52343542185594880 [0;39m ------------- 开始 -------------
2023-06-21 13:06:03.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52343542185594881 [0;39m ------------- 开始 -------------
2023-06-21 13:06:03.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52343542185594881 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 13:06:03.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52343542185594881 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 13:06:03.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52343542185594880 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 13:06:03.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52343542185594881 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:06:03.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52343542185594880 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 13:06:03.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52343542185594880 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:06:03.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52343542185594880 [0;39m 请求参数: []
2023-06-21 13:06:03.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52343542185594881 [0;39m 请求参数: []
2023-06-21 13:06:03.265 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52343542185594880 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 13:06:03.269 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52343542185594880 [0;39m ==> Parameters: 
2023-06-21 13:06:03.306 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52343542185594881 [0;39m 访问Redis
2023-06-21 13:06:03.306 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 13:06:03.313 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 13:06:03.318 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 13:06:03.318 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 13:06:03.318 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 13:06:03.318 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 13:06:03.318 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 13:06:03.318 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 13:06:03.318 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 13:06:03.318 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 13:06:03.319 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 13:06:03.330 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 13:06:03.330 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 13:06:03.330 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 13:06:03.330 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 13:06:03.330 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 13:06:03.330 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 13:06:03.330 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52343542185594880 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 13:06:03.331 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52343542185594880 [0;39m <==      Total: 17
2023-06-21 13:06:03.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52343542185594880 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 13:06:03.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52343542185594880 [0;39m ------------- 结束 耗时：126 ms -------------
2023-06-21 13:06:03.334 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52343542185594881 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 13:06:03.334 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52343542185594881 [0;39m ==> Parameters: 
2023-06-21 13:06:03.361 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52343542185594881 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 13:06:03.362 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52343542185594881 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 13:06:03.363 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52343542185594881 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 13:06:03.363 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52343542185594881 [0;39m <==      Total: 2
2023-06-21 13:06:03.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52343542185594881 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 13:06:03.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52343542185594881 [0;39m ------------- 结束 耗时：193 ms -------------
2023-06-21 13:08:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52344032097079296 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:08:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52344032097079296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:08:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52344032097079296 [0;39m ==> Parameters: 
2023-06-21 13:08:00.137 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52344032097079296 [0;39m <==    Updates: 5
2023-06-21 13:08:00.137 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52344032097079296 [0;39m 更新电子书下的文档数据结束，耗时：122毫秒
2023-06-21 13:08:07.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52344061654339585 [0;39m ------------- 开始 -------------
2023-06-21 13:08:07.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52344061654339584 [0;39m ------------- 开始 -------------
2023-06-21 13:08:07.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52344061654339585 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 13:08:07.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52344061654339584 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 13:08:07.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52344061654339585 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 13:08:07.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52344061654339584 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 13:08:07.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52344061654339585 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:08:07.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52344061654339584 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:08:07.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52344061654339585 [0;39m 请求参数: []
2023-06-21 13:08:07.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52344061654339584 [0;39m 请求参数: []
2023-06-21 13:08:07.096 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52344061654339584 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 13:08:07.098 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52344061654339584 [0;39m ==> Parameters: 
2023-06-21 13:08:07.103 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52344061654339585 [0;39m 访问Redis
2023-06-21 13:08:07.129 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 13:08:07.130 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52344061654339585 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 13:08:07.130 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52344061654339585 [0;39m ==> Parameters: 
2023-06-21 13:08:07.131 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 13:08:07.133 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 13:08:07.134 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 13:08:07.134 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 13:08:07.135 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 13:08:07.135 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 13:08:07.135 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 13:08:07.157 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52344061654339585 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 13:08:07.618 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 13:08:07.620 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 13:08:07.619 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52344061654339585 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 13:08:07.620 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 13:08:07.620 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 13:08:07.620 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 13:08:07.621 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 13:08:07.621 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 13:08:07.621 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 13:08:07.621 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52344061654339585 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 13:08:07.621 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 13:08:07.622 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52344061654339585 [0;39m <==      Total: 2
2023-06-21 13:08:07.622 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52344061654339584 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 13:08:07.622 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52344061654339584 [0;39m <==      Total: 17
2023-06-21 13:08:07.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52344061654339584 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 13:08:07.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52344061654339584 [0;39m ------------- 结束 耗时：562 ms -------------
2023-06-21 13:08:07.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52344061654339585 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 13:08:07.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52344061654339585 [0;39m ------------- 结束 耗时：638 ms -------------
2023-06-21 13:10:00.054 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52344535363227648 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:10:00.357 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52344535363227648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:10:00.358 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52344535363227648 [0;39m ==> Parameters: 
2023-06-21 13:10:00.415 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52344535363227648 [0;39m <==    Updates: 5
2023-06-21 13:10:00.416 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52344535363227648 [0;39m 更新电子书下的文档数据结束，耗时：361毫秒
2023-06-21 13:12:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52345038725844992 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:12:00.123 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52345038725844992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:12:00.123 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52345038725844992 [0;39m ==> Parameters: 
2023-06-21 13:12:00.329 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52345038725844992 [0;39m <==    Updates: 5
2023-06-21 13:12:00.329 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52345038725844992 [0;39m 更新电子书下的文档数据结束，耗时：316毫秒
2023-06-21 13:14:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52345542046519296 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:14:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52345542046519296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:14:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52345542046519296 [0;39m ==> Parameters: 
2023-06-21 13:14:00.086 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52345542046519296 [0;39m <==    Updates: 5
2023-06-21 13:14:00.086 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52345542046519296 [0;39m 更新电子书下的文档数据结束，耗时：72毫秒
2023-06-21 13:16:00.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52346045388165120 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:16:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52346045388165120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:16:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52346045388165120 [0;39m ==> Parameters: 
2023-06-21 13:16:00.097 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52346045388165120 [0;39m <==    Updates: 5
2023-06-21 13:16:00.099 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52346045388165120 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 13:18:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52346548679479296 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:18:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52346548679479296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:18:00.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52346548679479296 [0;39m ==> Parameters: 
2023-06-21 13:18:00.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52346548679479296 [0;39m <==    Updates: 5
2023-06-21 13:18:00.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52346548679479296 [0;39m 更新电子书下的文档数据结束，耗时：86毫秒
2023-06-21 13:20:00.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52347051937239040 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:20:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52347051937239040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:20:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52347051937239040 [0;39m ==> Parameters: 
2023-06-21 13:20:00.082 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52347051937239040 [0;39m <==    Updates: 5
2023-06-21 13:20:00.082 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52347051937239040 [0;39m 更新电子书下的文档数据结束，耗时：82毫秒
2023-06-21 13:20:00.087 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52347052302143488 [0;39m 生成今日电子书快照开始
2023-06-21 13:20:00.091 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52347052302143488 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 13:20:00.097 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52347052302143488 [0;39m ==> Parameters: 
2023-06-21 13:20:00.156 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52347052302143488 [0;39m <==    Updates: 0
2023-06-21 13:20:00.157 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52347052302143488 [0;39m 生成今日电子书快照结束，耗时：67毫秒
2023-06-21 13:21:10.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347347929272320 [0;39m ------------- 开始 -------------
2023-06-21 13:21:10.587 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347347929272320 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-06-21 13:21:10.587 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347347929272320 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-06-21 13:21:10.587 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347347929272320 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:10.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347347929272320 [0;39m 请求参数: [{"categoryId2":504,"page":1,"size":1000}]
2023-06-21 13:21:10.653 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52347347929272320 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-06-21 13:21:10.669 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52347347929272320 [0;39m ==> Parameters: 504(Long)
2023-06-21 13:21:10.708 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52347347929272320 [0;39m <==    Columns: count(0)
2023-06-21 13:21:10.712 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52347347929272320 [0;39m <==        Row: 1
2023-06-21 13:21:10.717 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52347347929272320 [0;39m <==      Total: 1
2023-06-21 13:21:10.722 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52347347929272320 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-06-21 13:21:10.723 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52347347929272320 [0;39m ==> Parameters: 504(Long), 1000(Integer)
2023-06-21 13:21:10.749 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52347347929272320 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-06-21 13:21:10.750 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52347347929272320 [0;39m <==        Row: 7, JS防抖策略和节流策略, 100, 504, JS实战, http://127.0.0.1:8880/file/image-20220202111056036.png, 5, 152, 17
2023-06-21 13:21:10.755 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52347347929272320 [0;39m <==      Total: 1
2023-06-21 13:21:10.755 INFO  com.jiawa.wiki.service.EbookService               :48   [32m52347347929272320 [0;39m 总行数：1
2023-06-21 13:21:10.756 INFO  com.jiawa.wiki.service.EbookService               :49   [32m52347347929272320 [0;39m 总页数：1
2023-06-21 13:21:10.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347347929272320 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":504,"cover":"http://127.0.0.1:8880/file/image-20220202111056036.png","description":"JS实战","docCount":5,"id":7,"name":"JS防抖策略和节流策略","viewCount":152,"voteCount":17}],"total":1},"success":true}
2023-06-21 13:21:10.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347347929272320 [0;39m ------------- 结束 耗时：191 ms -------------
2023-06-21 13:21:10.820 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52343542185594880 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 13:21:10.824 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m52343542185594880 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/error
2023-06-21 13:21:10.824 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m52343542185594880 [0;39m 登录校验开始，token：null
2023-06-21 13:21:10.824 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m52343542185594880 [0;39m token为空，请求被拦截
2023-06-21 13:21:11.841 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52323217959948290 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 13:21:11.842 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m52323217959948290 [0;39m ------------- LoginInterceptor 结束 耗时：1 ms -------------
2023-06-21 13:21:11.850 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52317452171874305 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 13:21:11.850 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m52317452171874305 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2023-06-21 13:21:11.850 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m52317452171874305 [0;39m 登录校验开始，token：52296009044332544
2023-06-21 13:21:11.851 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347353302175744 [0;39m ------------- 开始 -------------
2023-06-21 13:21:11.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347353302175744 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/7 GET
2023-06-21 13:21:11.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347353302175744 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-06-21 13:21:11.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347353302175744 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:11.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347353302175744 [0;39m 请求参数: [7]
2023-06-21 13:21:11.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347353318952960 [0;39m ------------- 开始 -------------
2023-06-21 13:21:11.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347353318952960 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/7 GET
2023-06-21 13:21:11.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347353318952960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-06-21 13:21:11.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347353318952960 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:11.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347353318952960 [0;39m 请求参数: [7]
2023-06-21 13:21:11.884 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m52347353302175744 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-06-21 13:21:11.886 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m52347353302175744 [0;39m ==> Parameters: 7(Long)
2023-06-21 13:21:11.887 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52347353318952960 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-06-21 13:21:11.887 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52347353318952960 [0;39m ==> Parameters: 7(Long)
2023-06-21 13:21:11.899 WARN  com.jiawa.wiki.interceptor.LoginInterceptor       :55   [32m52317452171874305 [0;39m token无效，请求被拦截
2023-06-21 13:21:11.924 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m52347353302175744 [0;39m <==      Total: 0
2023-06-21 13:21:11.924 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52347353318952960 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 13:21:11.925 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52347353318952960 [0;39m <==        Row: 41260598448754688, 7, 0, JS的优化策略, 1, 72, 5
2023-06-21 13:21:11.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52347353318952960 [0;39m <==        Row: 41261844488392704, 7, 41260702874341376, JS实战防抖策略基础, 1, 35, 5
2023-06-21 13:21:11.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52347353318952960 [0;39m <==        Row: 41265633660375040, 7, 41260840728530944, JS节流策略实战, 1, 20, 3
2023-06-21 13:21:11.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52347353318952960 [0;39m <==        Row: 41260702874341376, 7, 0, JS的防抖策略, 2, 13, 2
2023-06-21 13:21:11.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52347353318952960 [0;39m <==        Row: 41260840728530944, 7, 0, JS的节流策略, 3, 12, 2
2023-06-21 13:21:11.928 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52347353318952960 [0;39m <==      Total: 5
2023-06-21 13:21:11.928 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByIds      :137  [32m52347353302175744 [0;39m ==>  Preparing: select * from user where id IN
2023-06-21 13:21:11.928 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByIds      :137  [32m52347353302175744 [0;39m ==> Parameters: 
2023-06-21 13:21:11.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347353318952960 [0;39m 返回结果: {"content":[{"ebookId":7,"id":41260598448754688,"name":"JS的优化策略","parent":0,"sort":1,"viewCount":72,"voteCount":5},{"ebookId":7,"id":41261844488392704,"name":"JS实战防抖策略基础","parent":41260702874341376,"sort":1,"viewCount":35,"voteCount":5},{"ebookId":7,"id":41265633660375040,"name":"JS节流策略实战","parent":41260840728530944,"sort":1,"viewCount":20,"voteCount":3},{"ebookId":7,"id":41260702874341376,"name":"JS的防抖策略","parent":0,"sort":2,"viewCount":13,"voteCount":2},{"ebookId":7,"id":41260840728530944,"name":"JS的节流策略","parent":0,"sort":3,"viewCount":12,"voteCount":2}],"success":true}
2023-06-21 13:21:11.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347353318952960 [0;39m ------------- 结束 耗时：76 ms -------------
2023-06-21 13:21:11.984 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m52347353302175744 [0;39m 系统异常：
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.selectByIds-Inline
### The error occurred while setting parameters
### SQL: select *     from user     where id IN
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy91.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy3/jdk.proxy3.$Proxy103.selectByIds(Unknown Source)
	at com.jiawa.wiki.service.CommentService.selectByEbookId(CommentService.java:56)
	at com.jiawa.wiki.controller.DocController.CommentResp(DocController.java:79)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor117.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$ebe26a30.CommentResp(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at jdk.internal.reflect.GeneratedMethodAccessor99.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at jdk.proxy4/jdk.proxy4.$Proxy136.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor118.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
2023-06-21 13:21:12.023 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m52347353302175744 [0;39m Resolved [org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
### The error may exist in file [D:\Coun-Vue\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.selectByIds-Inline
### The error occurred while setting parameters
### SQL: select *     from user     where id IN
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3]
2023-06-21 13:21:12.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347354048761856 [0;39m ------------- 开始 -------------
2023-06-21 13:21:12.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347354048761857 [0;39m ------------- 开始 -------------
2023-06-21 13:21:12.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347354048761857 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 13:21:12.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347354048761857 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 13:21:12.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347354048761857 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:12.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347354048761856 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 13:21:12.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347354048761856 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 13:21:12.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347354048761857 [0;39m 请求参数: []
2023-06-21 13:21:12.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347354048761856 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:12.033 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347354048761856 [0;39m 请求参数: []
2023-06-21 13:21:12.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347354094899200 [0;39m ------------- 开始 -------------
2023-06-21 13:21:12.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347354094899200 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 13:21:12.038 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52347354048761856 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 13:21:12.048 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52347354048761856 [0;39m ==> Parameters: 
2023-06-21 13:21:12.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347354094899200 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 13:21:12.050 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347354094899200 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:12.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347354094899200 [0;39m 请求参数: []
2023-06-21 13:21:12.053 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52347354094899200 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 13:21:12.054 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52347354094899200 [0;39m ==> Parameters: 
2023-06-21 13:21:12.065 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52347354048761857 [0;39m 访问Redis
2023-06-21 13:21:12.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 13:21:12.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 13:21:12.089 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 13:21:12.090 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 13:21:12.090 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 13:21:12.090 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 13:21:12.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 13:21:12.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 13:21:12.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 13:21:12.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 13:21:12.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 13:21:12.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 13:21:12.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 13:21:12.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 13:21:12.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 13:21:12.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 13:21:12.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347354094899200 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 13:21:12.092 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52347354094899200 [0;39m <==      Total: 16
2023-06-21 13:21:12.099 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52347354048761857 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 13:21:12.099 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52347354048761857 [0;39m ==> Parameters: 
2023-06-21 13:21:12.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347354094899200 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 13:21:12.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347354094899200 [0;39m ------------- 结束 耗时：60 ms -------------
2023-06-21 13:21:12.107 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 13:21:12.111 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 13:21:12.113 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 13:21:12.115 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 13:21:12.116 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 13:21:12.116 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 13:21:12.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 13:21:12.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 13:21:12.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 13:21:12.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 13:21:12.118 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 13:21:12.118 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 13:21:12.118 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 13:21:12.118 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 13:21:12.118 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 13:21:12.118 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 13:21:12.118 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 13:21:12.118 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347354048761856 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 13:21:12.118 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52347354048761856 [0;39m <==      Total: 17
2023-06-21 13:21:12.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347354422054912 [0;39m ------------- 开始 -------------
2023-06-21 13:21:12.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347354422054912 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41260598448754688 GET
2023-06-21 13:21:12.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347354422054912 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 13:21:12.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347354422054912 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:12.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347354422054912 [0;39m 请求参数: [41260598448754688]
2023-06-21 13:21:12.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347354048761856 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 13:21:12.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347354048761856 [0;39m ------------- 结束 耗时：91 ms -------------
2023-06-21 13:21:12.120 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347354422054912 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 13:21:12.121 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347354422054912 [0;39m ==> Parameters: 41260598448754688(Long)
2023-06-21 13:21:12.129 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52347354048761857 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 13:21:12.129 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52347354048761857 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 13:21:12.130 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52347354048761857 [0;39m <==        Row: 2023-06-21, 1518, 67, 14, 6
2023-06-21 13:21:12.130 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52347354048761857 [0;39m <==      Total: 2
2023-06-21 13:21:12.160 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347354422054912 [0;39m <==    Columns: id, content
2023-06-21 13:21:12.161 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347354422054912 [0;39m <==        Row: 41260598448754688, <<BLOB>>
2023-06-21 13:21:12.162 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347354422054912 [0;39m <==      Total: 1
2023-06-21 13:21:12.165 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347354422054912 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 13:21:12.166 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347354422054912 [0;39m ==> Parameters: 41260598448754688(Long)
2023-06-21 13:21:12.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347354048761857 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 13:21:12.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347354048761857 [0;39m ------------- 结束 耗时：137 ms -------------
2023-06-21 13:21:12.221 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347354422054912 [0;39m <==    Updates: 1
2023-06-21 13:21:12.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347354422054912 [0;39m 返回结果: {"content":"<p>防抖（Debounce）和节流（Throttle）是在 JavaScript 中常见的两种优化策略，它们的主要目的是控制函数的执行频率。这两种策略在处理一些高频率事件（如滚动、输入、点击等）时非常有用，可以帮助我们避免因为频繁的函数执行而导致的性能问题。<br></p>","success":true}
2023-06-21 13:21:12.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347354422054912 [0;39m ------------- 结束 耗时：105 ms -------------
2023-06-21 13:21:16.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347373225119744 [0;39m ------------- 开始 -------------
2023-06-21 13:21:16.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347373225119744 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-06-21 13:21:16.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347373225119744 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-06-21 13:21:16.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347373225119744 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:16.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347373225119744 [0;39m 请求参数: [{"categoryId2":504,"page":1,"size":1000}]
2023-06-21 13:21:16.628 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52347373225119744 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-06-21 13:21:16.628 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52347373225119744 [0;39m ==> Parameters: 504(Long)
2023-06-21 13:21:16.644 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52347373225119744 [0;39m <==    Columns: count(0)
2023-06-21 13:21:16.644 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m52347373225119744 [0;39m <==        Row: 1
2023-06-21 13:21:16.644 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m52347373225119744 [0;39m <==      Total: 1
2023-06-21 13:21:16.644 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52347373225119744 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-06-21 13:21:16.659 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52347373225119744 [0;39m ==> Parameters: 504(Long), 1000(Integer)
2023-06-21 13:21:16.678 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52347373225119744 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-06-21 13:21:16.678 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m52347373225119744 [0;39m <==        Row: 7, JS防抖策略和节流策略, 100, 504, JS实战, http://127.0.0.1:8880/file/image-20220202111056036.png, 5, 152, 17
2023-06-21 13:21:16.678 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m52347373225119744 [0;39m <==      Total: 1
2023-06-21 13:21:16.678 INFO  com.jiawa.wiki.service.EbookService               :48   [32m52347373225119744 [0;39m 总行数：1
2023-06-21 13:21:16.678 INFO  com.jiawa.wiki.service.EbookService               :49   [32m52347373225119744 [0;39m 总页数：1
2023-06-21 13:21:16.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347373225119744 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":504,"cover":"http://127.0.0.1:8880/file/image-20220202111056036.png","description":"JS实战","docCount":5,"id":7,"name":"JS防抖策略和节流策略","viewCount":152,"voteCount":17}],"total":1},"success":true}
2023-06-21 13:21:16.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347373225119744 [0;39m ------------- 结束 耗时：77 ms -------------
2023-06-21 13:21:16.694 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m52347353302175744 [0;39m ------------- LoginInterceptor 开始 -------------
2023-06-21 13:21:16.694 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m52347353302175744 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/error
2023-06-21 13:21:16.694 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m52347353302175744 [0;39m 登录校验开始，token：null
2023-06-21 13:21:16.694 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m52347353302175744 [0;39m token为空，请求被拦截
2023-06-21 13:21:17.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347376710586368 [0;39m ------------- 开始 -------------
2023-06-21 13:21:17.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347376710586368 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/7 GET
2023-06-21 13:21:17.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347376710586368 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-06-21 13:21:17.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347376710586368 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:17.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347376710586368 [0;39m 请求参数: [7]
2023-06-21 13:21:17.477 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52347376710586368 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-06-21 13:21:17.492 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52347376710586368 [0;39m ==> Parameters: 7(Long)
2023-06-21 13:21:17.508 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52347376710586368 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 13:21:17.508 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52347376710586368 [0;39m <==        Row: 41260598448754688, 7, 0, JS的优化策略, 1, 73, 5
2023-06-21 13:21:17.508 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52347376710586368 [0;39m <==        Row: 41261844488392704, 7, 41260702874341376, JS实战防抖策略基础, 1, 35, 5
2023-06-21 13:21:17.508 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52347376710586368 [0;39m <==        Row: 41265633660375040, 7, 41260840728530944, JS节流策略实战, 1, 20, 3
2023-06-21 13:21:17.508 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52347376710586368 [0;39m <==        Row: 41260702874341376, 7, 0, JS的防抖策略, 2, 13, 2
2023-06-21 13:21:17.508 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m52347376710586368 [0;39m <==        Row: 41260840728530944, 7, 0, JS的节流策略, 3, 12, 2
2023-06-21 13:21:17.508 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m52347376710586368 [0;39m <==      Total: 5
2023-06-21 13:21:17.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347376710586368 [0;39m 返回结果: {"content":[{"ebookId":7,"id":41260598448754688,"name":"JS的优化策略","parent":0,"sort":1,"viewCount":73,"voteCount":5},{"ebookId":7,"id":41261844488392704,"name":"JS实战防抖策略基础","parent":41260702874341376,"sort":1,"viewCount":35,"voteCount":5},{"ebookId":7,"id":41265633660375040,"name":"JS节流策略实战","parent":41260840728530944,"sort":1,"viewCount":20,"voteCount":3},{"ebookId":7,"id":41260702874341376,"name":"JS的防抖策略","parent":0,"sort":2,"viewCount":13,"voteCount":2},{"ebookId":7,"id":41260840728530944,"name":"JS的节流策略","parent":0,"sort":3,"viewCount":12,"voteCount":2}],"success":true}
2023-06-21 13:21:17.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347376710586368 [0;39m ------------- 结束 耗时：93 ms -------------
2023-06-21 13:21:17.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347377192931328 [0;39m ------------- 开始 -------------
2023-06-21 13:21:17.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347377192931328 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41260598448754688 GET
2023-06-21 13:21:17.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347377192931328 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 13:21:17.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347377192931328 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:17.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347377192931328 [0;39m 请求参数: [41260598448754688]
2023-06-21 13:21:17.547 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347377192931328 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 13:21:17.547 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347377192931328 [0;39m ==> Parameters: 41260598448754688(Long)
2023-06-21 13:21:17.586 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347377192931328 [0;39m <==    Columns: id, content
2023-06-21 13:21:17.586 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347377192931328 [0;39m <==        Row: 41260598448754688, <<BLOB>>
2023-06-21 13:21:17.594 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347377192931328 [0;39m <==      Total: 1
2023-06-21 13:21:17.594 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347377192931328 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 13:21:17.594 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347377192931328 [0;39m ==> Parameters: 41260598448754688(Long)
2023-06-21 13:21:17.661 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347377192931328 [0;39m <==    Updates: 1
2023-06-21 13:21:17.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347377192931328 [0;39m 返回结果: {"content":"<p>防抖（Debounce）和节流（Throttle）是在 JavaScript 中常见的两种优化策略，它们的主要目的是控制函数的执行频率。这两种策略在处理一些高频率事件（如滚动、输入、点击等）时非常有用，可以帮助我们避免因为频繁的函数执行而导致的性能问题。<br></p>","success":true}
2023-06-21 13:21:17.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347377192931328 [0;39m ------------- 结束 耗时：115 ms -------------
2023-06-21 13:21:18.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347381257211904 [0;39m ------------- 开始 -------------
2023-06-21 13:21:18.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347381257211904 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41260702874341376 GET
2023-06-21 13:21:18.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347381257211904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 13:21:18.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347381257211904 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:18.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347381257211904 [0;39m 请求参数: [41260702874341376]
2023-06-21 13:21:18.528 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347381257211904 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 13:21:18.528 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347381257211904 [0;39m ==> Parameters: 41260702874341376(Long)
2023-06-21 13:21:18.562 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347381257211904 [0;39m <==    Columns: id, content
2023-06-21 13:21:18.562 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347381257211904 [0;39m <==        Row: 41260702874341376, <<BLOB>>
2023-06-21 13:21:18.562 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347381257211904 [0;39m <==      Total: 1
2023-06-21 13:21:18.562 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347381257211904 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 13:21:18.562 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347381257211904 [0;39m ==> Parameters: 41260702874341376(Long)
2023-06-21 13:21:18.613 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347381257211904 [0;39m <==    Updates: 1
2023-06-21 13:21:18.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347381257211904 [0;39m 返回结果: {"content":"<ol><li><p>防抖（Debounce）：防抖的主要思想是，在某段时间内，不论你触发了多少次函数，我都只认最后一次。在这段时间结束后，才会执行函数。这在用户输入或者窗口大小调整等操作时非常有用。例如，在用户完成输入后自动触发搜索，而不是每输入一个字符就触发搜索。</p></li></ol>","success":true}
2023-06-21 13:21:18.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347381257211904 [0;39m ------------- 结束 耗时：97 ms -------------
2023-06-21 13:21:19.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347386659475456 [0;39m ------------- 开始 -------------
2023-06-21 13:21:19.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347386659475456 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41265633660375040 GET
2023-06-21 13:21:19.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347386659475456 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 13:21:19.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347386659475456 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:19.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347386659475456 [0;39m 请求参数: [41265633660375040]
2023-06-21 13:21:19.828 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347386659475456 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 13:21:19.828 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347386659475456 [0;39m ==> Parameters: 41265633660375040(Long)
2023-06-21 13:21:19.845 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347386659475456 [0;39m <==    Columns: id, content
2023-06-21 13:21:19.861 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347386659475456 [0;39m <==        Row: 41265633660375040, <<BLOB>>
2023-06-21 13:21:19.861 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347386659475456 [0;39m <==      Total: 1
2023-06-21 13:21:19.863 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347386659475456 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 13:21:19.863 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347386659475456 [0;39m ==> Parameters: 41265633660375040(Long)
2023-06-21 13:21:19.913 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347386659475456 [0;39m <==    Updates: 1
2023-06-21 13:21:19.913 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347386659475456 [0;39m 返回结果: {"content":"<p>let lastCallTime;<br><br>function throttle(func, delay) {<br>    return function(...args) {<br>        const now = Date.now();<br>        if (!lastCallTime || (now - lastCallTime) &gt; delay) {<br>            lastCallTime = now;<br>            return func.apply(this, args);<br>        }<br>    }<br>}<br><br>// 使用示例：<br>const throttledFunction = throttle(() =&gt; console.log('Function Executed'), 2000);<br><br>// 然后你就可以按照正常方式调用这个被节流的函数了：<br>throttledFunction();<br>throttledFunction();<br>throttledFunction();<br>// 以上三次调用，只有第一次会被执行，后两次调用因为在2秒之内，所以不会执行<br></p>","success":true}
2023-06-21 13:21:19.913 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347386659475456 [0;39m ------------- 结束 耗时：109 ms -------------
2023-06-21 13:21:20.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347389041840128 [0;39m ------------- 开始 -------------
2023-06-21 13:21:20.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347389041840128 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41260840728530944 GET
2023-06-21 13:21:20.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347389041840128 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 13:21:20.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347389041840128 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:20.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347389041840128 [0;39m 请求参数: [41260840728530944]
2023-06-21 13:21:20.394 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347389041840128 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 13:21:20.394 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347389041840128 [0;39m ==> Parameters: 41260840728530944(Long)
2023-06-21 13:21:20.427 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347389041840128 [0;39m <==    Columns: id, content
2023-06-21 13:21:20.429 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347389041840128 [0;39m <==        Row: 41260840728530944, <<BLOB>>
2023-06-21 13:21:20.429 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347389041840128 [0;39m <==      Total: 1
2023-06-21 13:21:20.429 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347389041840128 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 13:21:20.429 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347389041840128 [0;39m ==> Parameters: 41260840728530944(Long)
2023-06-21 13:21:20.479 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347389041840128 [0;39m <==    Updates: 1
2023-06-21 13:21:20.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347389041840128 [0;39m 返回结果: {"content":"<ol><li><p>节流（Throttle）：节流的主要思想是，在一段时间内，函数只执行一次，即使这段时间内触发了多次函数。这在处理滚动事件时非常有用，可以避免每次滚动都触发函数执行。</p></li></ol>","success":true}
2023-06-21 13:21:20.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347389041840128 [0;39m ------------- 结束 耗时：107 ms -------------
2023-06-21 13:21:21.362 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347393194201088 [0;39m ------------- 开始 -------------
2023-06-21 13:21:21.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347393194201088 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/41260840728530944 GET
2023-06-21 13:21:21.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347393194201088 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-06-21 13:21:21.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347393194201088 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:21.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347393194201088 [0;39m 请求参数: [41260840728530944]
2023-06-21 13:21:21.394 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m52347393194201088 [0;39m key不存在，放入：DOC_VOTE_41260840728530944_127.0.0.1，过期 5000 秒
2023-06-21 13:21:21.446 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52347393194201088 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-06-21 13:21:21.446 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52347393194201088 [0;39m ==> Parameters: 41260840728530944(Long)
2023-06-21 13:21:21.497 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52347393194201088 [0;39m <==    Updates: 1
2023-06-21 13:21:21.497 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52347393194201088 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-06-21 13:21:21.497 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52347393194201088 [0;39m ==> Parameters: 41260840728530944(Long)
2023-06-21 13:21:21.529 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52347393194201088 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 13:21:21.529 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52347393194201088 [0;39m <==        Row: 41260840728530944, 7, 0, JS的节流策略, 3, 13, 3
2023-06-21 13:21:21.529 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52347393194201088 [0;39m <==      Total: 1
2023-06-21 13:21:21.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347393194201088 [0;39m 返回结果: {"success":true}
2023-06-21 13:21:21.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347393194201088 [0;39m ------------- 结束 耗时：167 ms -------------
2023-06-21 13:21:22.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347398516772864 [0;39m ------------- 开始 -------------
2023-06-21 13:21:22.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347398516772864 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41261844488392704 GET
2023-06-21 13:21:22.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347398516772864 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 13:21:22.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347398516772864 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:22.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347398516772864 [0;39m 请求参数: [41261844488392704]
2023-06-21 13:21:22.645 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347398516772864 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 13:21:22.645 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347398516772864 [0;39m ==> Parameters: 41261844488392704(Long)
2023-06-21 13:21:22.678 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347398516772864 [0;39m <==    Columns: id, content
2023-06-21 13:21:22.678 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347398516772864 [0;39m <==        Row: 41261844488392704, <<BLOB>>
2023-06-21 13:21:22.678 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347398516772864 [0;39m <==      Total: 1
2023-06-21 13:21:22.678 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347398516772864 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 13:21:22.678 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347398516772864 [0;39m ==> Parameters: 41261844488392704(Long)
2023-06-21 13:21:22.727 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347398516772864 [0;39m <==    Updates: 1
2023-06-21 13:21:22.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347398516772864 [0;39m 返回结果: {"content":"<h1 id=\"hh0ah\">直接说我们的一个实战应用需求：</h1><h2 id=\"gtq2e\">&nbsp; &nbsp;目前我们需要保存用户的最后一次退出页面的文档记录，但是我们不能每次都一直执行，如果用户一直点文档的话，会造成我们的一个性能损耗，所以我们需要有这么一个防抖策略</h2><p>&nbsp; &nbsp;<b> 1. 定义一个值<span style=\"font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 1em;\">let timeoutId: number | undefined; // 这是一个全局变量，用于储存当前的定时器ID</span></b></p><p><span style=\"font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 1em;\"><b>&nbsp; 2.设置一个防抖方法</b></span></p><p><b><span style=\"font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 1em;\">&nbsp; &nbsp;</span>const debounceSaveDoc = () =&gt; {</b></p><b>&nbsp; &nbsp; &nbsp;clearTimeout(timeoutId)// 如果已有定时器，清除它<br>&nbsp; &nbsp; &nbsp;// 设定一个新的定时器，在一段时间后再次调用saveDoc函数<br>&nbsp; &nbsp; &nbsp;timeoutId = setTimeout(saveDoc, 3000);<br>&nbsp; &nbsp; &nbsp; }</b><p><b>&nbsp; &nbsp; &nbsp; 3.在应用到他的地方将这个方法替换成debounceSaveDoc&nbsp;</b></p><p><b>&nbsp; &nbsp; &nbsp; &nbsp;const onSelect = (selectedKey: any, info: any) =&gt; {</b></p><b>        if (Tool.isNotEmpty(selectedKey)) {<br>          // 选中某一节点时，加载该节点的文档信息<br>          doc.value = info.selectedNodes[0].props;<br>          // 加载内容<br>          handleQueryContent(selectedKey[0]);<br>          if (store.state.user.id !=null) {<br>            debounceSaveDoc();<br>          }<br>          // 更新选中的节点<br>          defaultSelectedKeys.value = selectedKey;<br>        }<br>      };</b><h1 id=\"m3inf\">&nbsp;总结：这么一来，用户在点击文档后，停留三秒才会去执行saveDocId的方法，减少了性能损耗</h1>","success":true}
2023-06-21 13:21:22.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347398516772864 [0;39m ------------- 结束 耗时：112 ms -------------
2023-06-21 13:21:26.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347413867925504 [0;39m ------------- 开始 -------------
2023-06-21 13:21:26.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347413867925504 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/41261844488392704 GET
2023-06-21 13:21:26.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347413867925504 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-06-21 13:21:26.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347413867925504 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:26.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347413867925504 [0;39m 请求参数: [41261844488392704]
2023-06-21 13:21:26.314 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m52347413867925504 [0;39m key不存在，放入：DOC_VOTE_41261844488392704_127.0.0.1，过期 5000 秒
2023-06-21 13:21:26.363 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52347413867925504 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-06-21 13:21:26.363 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52347413867925504 [0;39m ==> Parameters: 41261844488392704(Long)
2023-06-21 13:21:26.429 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m52347413867925504 [0;39m <==    Updates: 1
2023-06-21 13:21:26.430 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52347413867925504 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-06-21 13:21:26.430 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52347413867925504 [0;39m ==> Parameters: 41261844488392704(Long)
2023-06-21 13:21:26.446 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52347413867925504 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-06-21 13:21:26.446 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m52347413867925504 [0;39m <==        Row: 41261844488392704, 7, 41260702874341376, JS实战防抖策略基础, 1, 36, 6
2023-06-21 13:21:26.460 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m52347413867925504 [0;39m <==      Total: 1
2023-06-21 13:21:26.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347413867925504 [0;39m 返回结果: {"success":true}
2023-06-21 13:21:26.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347413867925504 [0;39m ------------- 结束 耗时：170 ms -------------
2023-06-21 13:21:27.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347418309693440 [0;39m ------------- 开始 -------------
2023-06-21 13:21:27.351 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347418309693440 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41260840728530944 GET
2023-06-21 13:21:27.351 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347418309693440 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-06-21 13:21:27.351 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347418309693440 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:27.351 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347418309693440 [0;39m 请求参数: [41260840728530944]
2023-06-21 13:21:27.377 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347418309693440 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-06-21 13:21:27.378 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347418309693440 [0;39m ==> Parameters: 41260840728530944(Long)
2023-06-21 13:21:27.396 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347418309693440 [0;39m <==    Columns: id, content
2023-06-21 13:21:27.396 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m52347418309693440 [0;39m <==        Row: 41260840728530944, <<BLOB>>
2023-06-21 13:21:27.396 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m52347418309693440 [0;39m <==      Total: 1
2023-06-21 13:21:27.396 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347418309693440 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-06-21 13:21:27.396 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347418309693440 [0;39m ==> Parameters: 41260840728530944(Long)
2023-06-21 13:21:27.462 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m52347418309693440 [0;39m <==    Updates: 1
2023-06-21 13:21:27.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347418309693440 [0;39m 返回结果: {"content":"<ol><li><p>节流（Throttle）：节流的主要思想是，在一段时间内，函数只执行一次，即使这段时间内触发了多次函数。这在处理滚动事件时非常有用，可以避免每次滚动都触发函数执行。</p></li></ol>","success":true}
2023-06-21 13:21:27.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347418309693440 [0;39m ------------- 结束 耗时：113 ms -------------
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347422210396160 [0;39m ------------- 开始 -------------
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347422210396161 [0;39m ------------- 开始 -------------
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52347422210396162 [0;39m ------------- 开始 -------------
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347422210396160 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347422210396161 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52347422210396162 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347422210396160 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347422210396161 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52347422210396162 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347422210396160 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347422210396161 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52347422210396162 [0;39m 远程地址: 127.0.0.1
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347422210396161 [0;39m 请求参数: []
2023-06-21 13:21:28.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347422210396160 [0;39m 请求参数: []
2023-06-21 13:21:28.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52347422210396162 [0;39m 请求参数: []
2023-06-21 13:21:28.305 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52347422210396162 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 13:21:28.305 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52347422210396162 [0;39m ==> Parameters: 
2023-06-21 13:21:28.311 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52347422210396161 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 13:21:28.312 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52347422210396161 [0;39m ==> Parameters: 
2023-06-21 13:21:28.316 INFO  com.jiawa.wiki.service.EbookSnapshotService       :36   [32m52347422210396160 [0;39m 访问Redis
2023-06-21 13:21:28.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347422210396160 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1518,"viewIncrease":14,"voteCount":67,"voteIncrease":6}],"success":true}
2023-06-21 13:21:28.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347422210396160 [0;39m ------------- 结束 耗时：36 ms -------------
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 13:21:28.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52347422210396162 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 13:21:28.328 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52347422210396162 [0;39m <==      Total: 16
2023-06-21 13:21:28.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347422210396162 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 13:21:28.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347422210396162 [0;39m ------------- 结束 耗时：48 ms -------------
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 13:21:28.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52347422210396161 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 13:21:28.328 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52347422210396161 [0;39m <==      Total: 17
2023-06-21 13:21:28.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52347422210396161 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 13:21:28.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52347422210396161 [0;39m ------------- 结束 耗时：48 ms -------------
2023-06-21 13:22:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52347555270496256 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:22:00.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52347555270496256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:22:00.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52347555270496256 [0;39m ==> Parameters: 
2023-06-21 13:22:00.084 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52347555270496256 [0;39m <==    Updates: 5
2023-06-21 13:22:00.084 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52347555270496256 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 13:24:00.026 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52348058679250944 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:24:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52348058679250944 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:24:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52348058679250944 [0;39m ==> Parameters: 
2023-06-21 13:24:00.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52348058679250944 [0;39m <==    Updates: 5
2023-06-21 13:24:00.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52348058679250944 [0;39m 更新电子书下的文档数据结束，耗时：82毫秒
2023-06-21 13:26:00.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52348561916039168 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:26:00.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52348561916039168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:26:00.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52348561916039168 [0;39m ==> Parameters: 
2023-06-21 13:26:00.096 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52348561916039168 [0;39m <==    Updates: 5
2023-06-21 13:26:00.096 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52348561916039168 [0;39m 更新电子书下的文档数据结束，耗时：88毫秒
2023-06-21 13:28:00.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52349065270267904 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:28:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52349065270267904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:28:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52349065270267904 [0;39m ==> Parameters: 
2023-06-21 13:28:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52349065270267904 [0;39m <==    Updates: 5
2023-06-21 13:28:00.094 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52349065270267904 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 13:30:00.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52349568603525120 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:30:00.085 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52349568603525120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:30:00.086 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52349568603525120 [0;39m ==> Parameters: 
2023-06-21 13:30:00.211 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52349568603525120 [0;39m <==    Updates: 5
2023-06-21 13:30:00.211 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52349568603525120 [0;39m 更新电子书下的文档数据结束，耗时：191毫秒
2023-06-21 13:32:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52350071852896256 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:32:00.068 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52350071852896256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:32:00.068 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52350071852896256 [0;39m ==> Parameters: 
2023-06-21 13:32:00.507 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52350071852896256 [0;39m <==    Updates: 5
2023-06-21 13:32:00.507 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52350071852896256 [0;39m 更新电子书下的文档数据结束，耗时：502毫秒
2023-06-21 13:34:00.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52350575160987648 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:34:00.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52350575160987648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:34:00.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52350575160987648 [0;39m ==> Parameters: 
2023-06-21 13:34:00.081 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52350575160987648 [0;39m <==    Updates: 5
2023-06-21 13:34:00.081 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52350575160987648 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 13:36:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52351078506827776 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:36:00.056 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52351078506827776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:36:00.056 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52351078506827776 [0;39m ==> Parameters: 
2023-06-21 13:36:00.187 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52351078506827776 [0;39m <==    Updates: 5
2023-06-21 13:36:00.187 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52351078506827776 [0;39m 更新电子书下的文档数据结束，耗时：178毫秒
2023-06-21 13:38:00.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52351581852667904 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:38:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52351581852667904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:38:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52351581852667904 [0;39m ==> Parameters: 
2023-06-21 13:38:00.097 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52351581852667904 [0;39m <==    Updates: 5
2023-06-21 13:38:00.126 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52351581852667904 [0;39m 更新电子书下的文档数据结束，耗时：110毫秒
2023-06-21 13:40:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52352085110427648 [0;39m 生成今日电子书快照开始
2023-06-21 13:40:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52352085110427648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 13:40:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52352085110427648 [0;39m ==> Parameters: 
2023-06-21 13:40:00.095 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52352085110427648 [0;39m <==    Updates: 0
2023-06-21 13:40:00.095 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52352085110427648 [0;39m 生成今日电子书快照结束，耗时：93毫秒
2023-06-21 13:40:00.102 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52352085529858048 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:40:00.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52352085529858048 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:40:00.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52352085529858048 [0;39m ==> Parameters: 
2023-06-21 13:40:00.144 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52352085529858048 [0;39m <==    Updates: 5
2023-06-21 13:40:00.144 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52352085529858048 [0;39m 更新电子书下的文档数据结束，耗时：42毫秒
2023-06-21 13:42:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52352588477239296 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:42:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52352588477239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:42:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52352588477239296 [0;39m ==> Parameters: 
2023-06-21 13:42:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52352588477239296 [0;39m <==    Updates: 5
2023-06-21 13:42:00.094 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52352588477239296 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 13:44:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52353091789524992 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:44:00.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52353091789524992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:44:00.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52353091789524992 [0;39m ==> Parameters: 
2023-06-21 13:44:00.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52353091789524992 [0;39m <==    Updates: 5
2023-06-21 13:44:00.093 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52353091789524992 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 13:46:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52353595106004992 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:46:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52353595106004992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:46:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52353595106004992 [0;39m ==> Parameters: 
2023-06-21 13:46:00.077 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52353595106004992 [0;39m <==    Updates: 5
2023-06-21 13:46:00.093 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52353595106004992 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 13:48:00.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52354098435067904 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:48:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52354098435067904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:48:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52354098435067904 [0;39m ==> Parameters: 
2023-06-21 13:48:00.095 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52354098435067904 [0;39m <==    Updates: 5
2023-06-21 13:48:00.095 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52354098435067904 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 13:50:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52354601722187776 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:50:00.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52354601722187776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:50:00.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52354601722187776 [0;39m ==> Parameters: 
2023-06-21 13:50:00.088 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52354601722187776 [0;39m <==    Updates: 5
2023-06-21 13:50:00.088 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52354601722187776 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 13:52:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52355105063833600 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:52:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52355105063833600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:52:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52355105063833600 [0;39m ==> Parameters: 
2023-06-21 13:52:00.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52355105063833600 [0;39m <==    Updates: 5
2023-06-21 13:52:00.093 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52355105063833600 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 13:54:00.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52355608388702208 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:54:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52355608388702208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:54:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52355608388702208 [0;39m ==> Parameters: 
2023-06-21 13:54:00.142 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52355608388702208 [0;39m <==    Updates: 5
2023-06-21 13:54:00.142 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52355608388702208 [0;39m 更新电子书下的文档数据结束，耗时：125毫秒
2023-06-21 13:56:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52356111696793600 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:56:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52356111696793600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:56:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52356111696793600 [0;39m ==> Parameters: 
2023-06-21 13:56:00.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52356111696793600 [0;39m <==    Updates: 5
2023-06-21 13:56:00.093 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52356111696793600 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 13:58:00.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52356615025856512 [0;39m 更新电子书下的文档数据开始
2023-06-21 13:58:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52356615025856512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 13:58:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52356615025856512 [0;39m ==> Parameters: 
2023-06-21 13:58:00.097 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52356615025856512 [0;39m <==    Updates: 5
2023-06-21 13:58:00.097 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52356615025856512 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 14:00:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52357118317170688 [0;39m 生成今日电子书快照开始
2023-06-21 14:00:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52357118317170688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 14:00:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52357118317170688 [0;39m ==> Parameters: 
2023-06-21 14:00:00.091 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52357118317170688 [0;39m <==    Updates: 0
2023-06-21 14:00:00.091 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52357118317170688 [0;39m 生成今日电子书快照结束，耗时：79毫秒
2023-06-21 14:00:00.091 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52357118648520704 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:00:00.091 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52357118648520704 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:00:00.091 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52357118648520704 [0;39m ==> Parameters: 
2023-06-21 14:00:00.138 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52357118648520704 [0;39m <==    Updates: 5
2023-06-21 14:00:00.138 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52357118648520704 [0;39m 更新电子书下的文档数据结束，耗时：47毫秒
2023-06-21 14:02:00.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52357621667205120 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:02:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52357621667205120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:02:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52357621667205120 [0;39m ==> Parameters: 
2023-06-21 14:02:00.085 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52357621667205120 [0;39m <==    Updates: 5
2023-06-21 14:02:00.100 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52357621667205120 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 14:04:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52358124912381952 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:04:00.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52358124912381952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:04:00.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52358124912381952 [0;39m ==> Parameters: 
2023-06-21 14:04:00.083 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52358124912381952 [0;39m <==    Updates: 5
2023-06-21 14:04:00.083 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52358124912381952 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 14:06:00.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52358628291776512 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:06:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52358628291776512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:06:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52358628291776512 [0;39m ==> Parameters: 
2023-06-21 14:06:00.097 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52358628291776512 [0;39m <==    Updates: 5
2023-06-21 14:06:00.097 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52358628291776512 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 14:08:00.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52359131566313472 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:08:00.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52359131566313472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:08:00.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52359131566313472 [0;39m ==> Parameters: 
2023-06-21 14:08:00.086 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52359131566313472 [0;39m <==    Updates: 5
2023-06-21 14:08:00.086 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52359131566313472 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 14:10:00.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52359634933125120 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:10:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52359634933125120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:10:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52359634933125120 [0;39m ==> Parameters: 
2023-06-21 14:10:00.100 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52359634933125120 [0;39m <==    Updates: 5
2023-06-21 14:10:00.101 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52359634933125120 [0;39m 更新电子书下的文档数据结束，耗时：81毫秒
2023-06-21 14:12:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52360138178301952 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:12:00.066 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52360138178301952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:12:00.066 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52360138178301952 [0;39m ==> Parameters: 
2023-06-21 14:12:00.239 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52360138178301952 [0;39m <==    Updates: 5
2023-06-21 14:12:00.239 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52360138178301952 [0;39m 更新电子书下的文档数据结束，耗时：236毫秒
2023-06-21 14:14:00.025 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52360641587056640 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:14:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52360641587056640 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:14:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52360641587056640 [0;39m ==> Parameters: 
2023-06-21 14:14:00.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52360641587056640 [0;39m <==    Updates: 5
2023-06-21 14:14:00.104 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52360641587056640 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 14:16:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52361144844816384 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:16:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52361144844816384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:16:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52361144844816384 [0;39m ==> Parameters: 
2023-06-21 14:16:00.089 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52361144844816384 [0;39m <==    Updates: 5
2023-06-21 14:16:00.089 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52361144844816384 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 14:18:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52361648169684992 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:18:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52361648169684992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:18:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52361648169684992 [0;39m ==> Parameters: 
2023-06-21 14:18:00.091 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52361648169684992 [0;39m <==    Updates: 5
2023-06-21 14:18:00.091 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52361648169684992 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 14:20:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52362151477776384 [0;39m 生成今日电子书快照开始
2023-06-21 14:20:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52362151477776384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 14:20:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52362151477776384 [0;39m ==> Parameters: 
2023-06-21 14:20:00.105 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52362151477776384 [0;39m <==    Updates: 0
2023-06-21 14:20:00.105 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52362151477776384 [0;39m 生成今日电子书快照结束，耗时：94毫秒
2023-06-21 14:20:00.105 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52362151872040960 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:20:00.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52362151872040960 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:20:00.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52362151872040960 [0;39m ==> Parameters: 
2023-06-21 14:20:00.152 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52362151872040960 [0;39m <==    Updates: 5
2023-06-21 14:20:00.152 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52362151872040960 [0;39m 更新电子书下的文档数据结束，耗时：47毫秒
2023-06-21 14:22:00.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52362654781673472 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:22:00.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52362654781673472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:22:00.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52362654781673472 [0;39m ==> Parameters: 
2023-06-21 14:22:00.073 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52362654781673472 [0;39m <==    Updates: 5
2023-06-21 14:22:00.073 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52362654781673472 [0;39m 更新电子书下的文档数据结束，耗时：65毫秒
2023-06-21 14:24:00.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52363158085570560 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:24:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52363158085570560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:24:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52363158085570560 [0;39m ==> Parameters: 
2023-06-21 14:24:00.084 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52363158085570560 [0;39m <==    Updates: 5
2023-06-21 14:24:00.084 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52363158085570560 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 14:26:00.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52363661452382208 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:26:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52363661452382208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:26:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52363661452382208 [0;39m ==> Parameters: 
2023-06-21 14:26:00.095 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52363661452382208 [0;39m <==    Updates: 5
2023-06-21 14:26:00.095 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52363661452382208 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 14:28:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52364164756279296 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:28:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52364164756279296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:28:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52364164756279296 [0;39m ==> Parameters: 
2023-06-21 14:28:00.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52364164756279296 [0;39m <==    Updates: 5
2023-06-21 14:28:00.093 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52364164756279296 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 14:30:00.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52364668081147904 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:30:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52364668081147904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:30:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52364668081147904 [0;39m ==> Parameters: 
2023-06-21 14:30:00.095 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52364668081147904 [0;39m <==    Updates: 5
2023-06-21 14:30:00.095 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52364668081147904 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 14:32:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52365171393433600 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:32:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52365171393433600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:32:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52365171393433600 [0;39m ==> Parameters: 
2023-06-21 14:32:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52365171393433600 [0;39m <==    Updates: 5
2023-06-21 14:32:00.094 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52365171393433600 [0;39m 更新电子书下的文档数据结束，耗时：73毫秒
2023-06-21 14:34:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52365674701524992 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:34:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52365674701524992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:34:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52365674701524992 [0;39m ==> Parameters: 
2023-06-21 14:34:00.091 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52365674701524992 [0;39m <==    Updates: 5
2023-06-21 14:34:00.091 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52365674701524992 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 14:35:07.834 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-06-21 14:35:07.834 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-06-21 14:35:07.850 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-06-21 14:35:08.116 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-06-21 14:35:14.215 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-06-21 14:35:14.292 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.5 on 康俊杰 with PID 28500 (D:\Coun-Vue\target\classes started by 82413 in D:\Coun-Vue)
2023-06-21 14:35:14.293 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-06-21 14:35:14.335 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-06-21 14:35:14.335 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-06-21 14:35:15.132 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-06-21 14:35:15.148 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-06-21 14:35:15.163 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2023-06-21 14:35:16.386 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-06-21 14:35:16.479 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-06-21 14:35:16.479 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-06-21 14:35:16.479 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-06-21 14:35:16.871 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-06-21 14:35:16.871 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2536 ms
2023-06-21 14:35:17.516 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-06-21 14:35:17.704 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-06-21 14:35:17.735 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-06-21 14:35:17.752 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-06-21 14:35:17.767 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-06-21 14:35:17.783 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 3.882 seconds (JVM running for 4.472)
2023-06-21 14:35:17.783 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-06-21 14:35:17.783 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-06-21 14:36:00.028 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52366178080919552 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:36:00.028 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m52366178080919552 [0;39m HikariPool-1 - Starting...
2023-06-21 14:36:00.563 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m52366178080919552 [0;39m HikariPool-1 - Start completed.
2023-06-21 14:36:00.563 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52366178080919552 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:36:00.579 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52366178080919552 [0;39m ==> Parameters: 
2023-06-21 14:36:00.641 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52366178080919552 [0;39m <==    Updates: 5
2023-06-21 14:36:00.641 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52366178080919552 [0;39m 更新电子书下的文档数据结束，耗时：613毫秒
2023-06-21 14:37:51.665 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-06-21 14:37:51.682 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-06-21 14:37:51.699 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 17 ms
2023-06-21 14:37:51.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52366646681145344 [0;39m ------------- 开始 -------------
2023-06-21 14:37:51.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52366646681145346 [0;39m ------------- 开始 -------------
2023-06-21 14:37:51.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52366646681145345 [0;39m ------------- 开始 -------------
2023-06-21 14:37:51.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52366646681145346 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 14:37:51.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52366646681145345 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 14:37:51.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52366646681145344 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 14:37:51.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52366646681145345 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 14:37:51.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52366646681145344 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 14:37:51.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52366646681145346 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 14:37:51.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52366646681145345 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:37:51.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52366646681145346 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:37:51.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52366646681145344 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:37:51.824 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52366646681145346 [0;39m 请求参数: []
2023-06-21 14:37:51.824 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52366646681145344 [0;39m 请求参数: []
2023-06-21 14:37:51.824 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52366646681145345 [0;39m 请求参数: []
2023-06-21 14:37:51.865 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52366646681145346 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 14:37:51.865 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52366646681145346 [0;39m ==> Parameters: 
2023-06-21 14:37:51.894 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52366646681145344 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 14:37:51.894 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52366646681145344 [0;39m ==> Parameters: 
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 14:37:51.910 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52366646681145346 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 14:37:51.910 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52366646681145346 [0;39m <==      Total: 17
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 14:37:51.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52366646681145344 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 14:37:51.926 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52366646681145344 [0;39m <==      Total: 16
2023-06-21 14:37:51.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52366646681145346 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 14:37:51.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52366646681145346 [0;39m ------------- 结束 耗时：206 ms -------------
2023-06-21 14:37:51.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52366646681145344 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 14:37:51.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52366646681145344 [0;39m ------------- 结束 耗时：206 ms -------------
2023-06-21 14:37:52.148 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m52366646681145345 [0;39m 访问Redis
2023-06-21 14:37:52.148 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52366646681145345 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 14:37:52.148 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52366646681145345 [0;39m ==> Parameters: 
2023-06-21 14:37:52.182 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52366646681145345 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 14:37:52.182 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52366646681145345 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 14:37:52.182 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52366646681145345 [0;39m <==        Row: 2023-06-21, 1525, 69, 21, 8
2023-06-21 14:37:52.186 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52366646681145345 [0;39m <==      Total: 2
2023-06-21 14:37:52.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52366646681145345 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1525,"viewIncrease":21,"voteCount":69,"voteIncrease":8}],"success":true}
2023-06-21 14:37:52.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52366646681145345 [0;39m ------------- 结束 耗时：464 ms -------------
2023-06-21 14:38:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52366681330290688 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:38:00.060 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52366681330290688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:38:00.060 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52366681330290688 [0;39m ==> Parameters: 
2023-06-21 14:38:00.199 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52366681330290688 [0;39m <==    Updates: 5
2023-06-21 14:38:00.199 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52366681330290688 [0;39m 更新电子书下的文档数据结束，耗时：187毫秒
2023-06-21 14:40:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52367184650964992 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:40:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52367184650964992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:40:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52367184650964992 [0;39m ==> Parameters: 
2023-06-21 14:40:00.092 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52367184650964992 [0;39m <==    Updates: 5
2023-06-21 14:40:00.092 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52367184650964992 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 14:40:00.092 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52367184982315008 [0;39m 生成今日电子书快照开始
2023-06-21 14:40:00.124 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52367184982315008 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 14:40:00.124 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52367184982315008 [0;39m ==> Parameters: 
2023-06-21 14:40:00.171 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52367184982315008 [0;39m <==    Updates: 0
2023-06-21 14:40:00.186 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52367184982315008 [0;39m 生成今日电子书快照结束，耗时：94毫秒
2023-06-21 14:41:01.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52367443984781313 [0;39m ------------- 开始 -------------
2023-06-21 14:41:01.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52367443984781314 [0;39m ------------- 开始 -------------
2023-06-21 14:41:01.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52367443984781312 [0;39m ------------- 开始 -------------
2023-06-21 14:41:01.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52367443984781312 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 14:41:01.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52367443984781314 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-06-21 14:41:01.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52367443984781313 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 14:41:01.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52367443984781313 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 14:41:01.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52367443984781312 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 14:41:01.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52367443984781314 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-06-21 14:41:01.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52367443984781313 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:41:01.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52367443984781314 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:41:01.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52367443984781312 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:41:01.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52367443984781314 [0;39m 请求参数: []
2023-06-21 14:41:01.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52367443984781313 [0;39m 请求参数: []
2023-06-21 14:41:01.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52367443984781312 [0;39m 请求参数: []
2023-06-21 14:41:01.947 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52367443984781314 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-06-21 14:41:01.946 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52367443984781312 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 14:41:01.954 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52367443984781312 [0;39m ==> Parameters: 
2023-06-21 14:41:01.954 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52367443984781314 [0;39m ==> Parameters: 
2023-06-21 14:41:01.960 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m52367443984781313 [0;39m 访问Redis
2023-06-21 14:41:01.988 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52367443984781313 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 14:41:01.989 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52367443984781313 [0;39m ==> Parameters: 
2023-06-21 14:41:01.988 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==    Columns: id, parent, name, sort
2023-06-21 14:41:01.988 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 14:41:01.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-06-21 14:41:01.995 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 14:41:01.997 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 14:41:01.998 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 14:41:01.999 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 14:41:01.999 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 14:41:02.000 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 14:41:02.000 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 14:41:02.000 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 14:41:02.000 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 14:41:02.000 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 14:41:02.000 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 14:41:02.000 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 14:41:02.000 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 14:41:02.000 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 14:41:02.000 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 14:41:02.000 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 14:41:02.000 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367443984781312 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 14:41:02.000 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52367443984781312 [0;39m <==      Total: 17
2023-06-21 14:41:02.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52367443984781312 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 14:41:02.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52367443984781312 [0;39m ------------- 结束 耗时：158 ms -------------
2023-06-21 14:41:02.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 101, 100, Vue, 101
2023-06-21 14:41:02.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-06-21 14:41:02.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 504, 100, JavaScript, 103
2023-06-21 14:41:02.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 200, 0, Java, 200
2023-06-21 14:41:02.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-06-21 14:41:02.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-06-21 14:41:02.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 300, 0, Python, 300
2023-06-21 14:41:02.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-06-21 14:41:02.000 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-06-21 14:41:02.014 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 400, 0, 数据库, 400
2023-06-21 14:41:02.014 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 401, 400, MySQL, 401
2023-06-21 14:41:02.014 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 500, 0, 其它, 500
2023-06-21 14:41:02.015 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 501, 500, 服务器, 501
2023-06-21 14:41:02.016 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-06-21 14:41:02.016 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m52367443984781314 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-06-21 14:41:02.016 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m52367443984781314 [0;39m <==      Total: 16
2023-06-21 14:41:02.016 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52367443984781313 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 14:41:02.017 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52367443984781313 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 14:41:02.020 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52367443984781313 [0;39m <==        Row: 2023-06-21, 1525, 69, 21, 8
2023-06-21 14:41:02.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52367443984781313 [0;39m <==      Total: 2
2023-06-21 14:41:02.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52367443984781314 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-06-21 14:41:02.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52367443984781314 [0;39m ------------- 结束 耗时：218 ms -------------
2023-06-21 14:41:02.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52367443984781313 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1525,"viewIncrease":21,"voteCount":69,"voteIncrease":8}],"success":true}
2023-06-21 14:41:02.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52367443984781313 [0;39m ------------- 结束 耗时：224 ms -------------
2023-06-21 14:41:46.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52367629746311169 [0;39m ------------- 开始 -------------
2023-06-21 14:41:46.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52367629746311169 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 14:41:46.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52367629746311168 [0;39m ------------- 开始 -------------
2023-06-21 14:41:46.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52367629746311169 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 14:41:46.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52367629746311168 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 14:41:46.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52367629746311169 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:41:46.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52367629746311168 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 14:41:46.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52367629746311169 [0;39m 请求参数: []
2023-06-21 14:41:46.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52367629746311168 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:41:46.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52367629746311168 [0;39m 请求参数: []
2023-06-21 14:41:46.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52367629796642816 [0;39m ------------- 开始 -------------
2023-06-21 14:41:46.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52367629796642816 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2023-06-21 14:41:46.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52367629796642816 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2023-06-21 14:41:46.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52367629796642816 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:41:46.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52367629796642816 [0;39m 请求参数: []
2023-06-21 14:41:46.165 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52367629746311169 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 14:41:46.166 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52367629746311169 [0;39m ==> Parameters: 
2023-06-21 14:41:46.180 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52367629796642816 [0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, (e.view_count / t.total_view_count) * 100 AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2023-06-21 14:41:46.181 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52367629796642816 [0;39m ==> Parameters: 
2023-06-21 14:41:46.184 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m52367629746311168 [0;39m 访问Redis
2023-06-21 14:41:46.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52367629746311168 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1525,"viewIncrease":21,"voteCount":69,"voteIncrease":8}],"success":true}
2023-06-21 14:41:46.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52367629746311168 [0;39m ------------- 结束 耗时：53 ms -------------
2023-06-21 14:41:46.193 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 14:41:46.194 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 14:41:46.195 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 14:41:46.196 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 14:41:46.196 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 14:41:46.196 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 14:41:46.197 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 14:41:46.197 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 14:41:46.197 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 14:41:46.198 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 14:41:46.198 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 14:41:46.198 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 14:41:46.198 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 14:41:46.199 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 14:41:46.199 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 14:41:46.199 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 14:41:46.200 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 14:41:46.200 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52367629746311169 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 14:41:46.200 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52367629746311169 [0;39m <==      Total: 17
2023-06-21 14:41:46.201 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52367629746311169 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 14:41:46.201 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52367629746311169 [0;39m ------------- 结束 耗时：69 ms -------------
2023-06-21 14:41:46.208 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52367629796642816 [0;39m <==    Columns: id, name, view_count, percentage
2023-06-21 14:41:46.212 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52367629796642816 [0;39m <==        Row: 1, Spring Boot 入门教程, 917, 60.1311
2023-06-21 14:41:46.220 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52367629796642816 [0;39m <==        Row: 2, Vue 入门教程, 230, 15.0820
2023-06-21 14:41:46.221 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52367629796642816 [0;39m <==        Row: 3, Python 入门教程, 0, 0.0000
2023-06-21 14:41:46.222 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52367629796642816 [0;39m <==        Row: 4, Mysql 入门教程, 10, 0.6557
2023-06-21 14:41:46.222 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52367629796642816 [0;39m <==        Row: 5, Oracle 入门教程, 0, 0.0000
2023-06-21 14:41:46.222 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52367629796642816 [0;39m <==        Row: 6, RocketMq实战基础, 209, 13.7049
2023-06-21 14:41:46.222 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52367629796642816 [0;39m <==        Row: 7, JS防抖策略和节流策略, 159, 10.4262
2023-06-21 14:41:46.222 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52367629796642816 [0;39m <==      Total: 7
2023-06-21 14:41:46.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52367629796642816 [0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":60.1311,"viewCount":917},{"id":2,"name":"Vue 入门教程","percentage":15.082,"viewCount":230},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.6557,"viewCount":10},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.7049,"viewCount":209},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.4262,"viewCount":159}],"success":true}
2023-06-21 14:41:46.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52367629796642816 [0;39m ------------- 结束 耗时：110 ms -------------
2023-06-21 14:42:00.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52367688000999424 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:42:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52367688000999424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:42:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52367688000999424 [0;39m ==> Parameters: 
2023-06-21 14:42:00.100 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52367688000999424 [0;39m <==    Updates: 5
2023-06-21 14:42:00.100 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52367688000999424 [0;39m 更新电子书下的文档数据结束，耗时：77毫秒
2023-06-21 14:44:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52368191288119296 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:44:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52368191288119296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:44:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52368191288119296 [0;39m ==> Parameters: 
2023-06-21 14:44:00.097 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52368191288119296 [0;39m <==    Updates: 5
2023-06-21 14:44:00.097 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52368191288119296 [0;39m 更新电子书下的文档数据结束，耗时：81毫秒
2023-06-21 14:46:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52368694604599296 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:46:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52368694604599296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:46:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52368694604599296 [0;39m ==> Parameters: 
2023-06-21 14:46:00.092 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52368694604599296 [0;39m <==    Updates: 5
2023-06-21 14:46:00.092 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52368694604599296 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 14:48:00.022 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52369197954633728 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:48:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52369197954633728 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:48:00.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52369197954633728 [0;39m ==> Parameters: 
2023-06-21 14:48:00.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52369197954633728 [0;39m <==    Updates: 5
2023-06-21 14:48:00.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52369197954633728 [0;39m 更新电子书下的文档数据结束，耗时：85毫秒
2023-06-21 14:48:13.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52369252983902209 [0;39m ------------- 开始 -------------
2023-06-21 14:48:13.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52369252983902210 [0;39m ------------- 开始 -------------
2023-06-21 14:48:13.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52369252983902208 [0;39m ------------- 开始 -------------
2023-06-21 14:48:13.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52369252983902210 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 14:48:13.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52369252983902208 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 14:48:13.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52369252983902209 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2023-06-21 14:48:13.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52369252983902210 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 14:48:13.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52369252983902208 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 14:48:13.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52369252983902209 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2023-06-21 14:48:13.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52369252983902209 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:48:13.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52369252983902210 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:48:13.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52369252983902208 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:48:13.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52369252983902209 [0;39m 请求参数: []
2023-06-21 14:48:13.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52369252983902208 [0;39m 请求参数: []
2023-06-21 14:48:13.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52369252983902210 [0;39m 请求参数: []
2023-06-21 14:48:13.173 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52369252983902209 [0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, (e.view_count / t.total_view_count) * 100 AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2023-06-21 14:48:13.173 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52369252983902210 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 14:48:13.174 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52369252983902210 [0;39m ==> Parameters: 
2023-06-21 14:48:13.174 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52369252983902209 [0;39m ==> Parameters: 
2023-06-21 14:48:13.203 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369252983902209 [0;39m <==    Columns: id, name, view_count, percentage
2023-06-21 14:48:13.203 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 14:48:13.204 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369252983902209 [0;39m <==        Row: 1, Spring Boot 入门教程, 917, 60.1311
2023-06-21 14:48:13.205 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 14:48:13.207 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369252983902209 [0;39m <==        Row: 2, Vue 入门教程, 230, 15.0820
2023-06-21 14:48:13.207 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 14:48:13.207 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369252983902209 [0;39m <==        Row: 3, Python 入门教程, 0, 0.0000
2023-06-21 14:48:13.207 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369252983902209 [0;39m <==        Row: 4, Mysql 入门教程, 10, 0.6557
2023-06-21 14:48:13.207 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 14:48:13.207 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369252983902209 [0;39m <==        Row: 5, Oracle 入门教程, 0, 0.0000
2023-06-21 14:48:13.207 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 14:48:13.207 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 14:48:13.207 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369252983902209 [0;39m <==        Row: 6, RocketMq实战基础, 209, 13.7049
2023-06-21 14:48:13.207 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 14:48:13.207 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369252983902209 [0;39m <==        Row: 7, JS防抖策略和节流策略, 159, 10.4262
2023-06-21 14:48:13.208 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 14:48:13.208 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52369252983902209 [0;39m <==      Total: 7
2023-06-21 14:48:13.208 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 14:48:13.208 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 14:48:13.208 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 14:48:13.208 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 14:48:13.208 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 14:48:13.208 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 14:48:13.208 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 14:48:13.208 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 14:48:13.209 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 14:48:13.209 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369252983902210 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 14:48:13.209 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52369252983902210 [0;39m <==      Total: 17
2023-06-21 14:48:13.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52369252983902209 [0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":60.1311,"viewCount":917},{"id":2,"name":"Vue 入门教程","percentage":15.082,"viewCount":230},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.6557,"viewCount":10},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.7049,"viewCount":209},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.4262,"viewCount":159}],"success":true}
2023-06-21 14:48:13.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52369252983902209 [0;39m ------------- 结束 耗时：68 ms -------------
2023-06-21 14:48:13.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52369252983902210 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 14:48:13.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52369252983902210 [0;39m ------------- 结束 耗时：69 ms -------------
2023-06-21 14:48:13.214 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m52369252983902208 [0;39m 访问Redis
2023-06-21 14:48:13.215 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52369252983902208 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 14:48:13.215 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52369252983902208 [0;39m ==> Parameters: 
2023-06-21 14:48:13.241 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52369252983902208 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 14:48:13.242 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52369252983902208 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 14:48:13.242 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52369252983902208 [0;39m <==        Row: 2023-06-21, 1525, 69, 21, 8
2023-06-21 14:48:13.242 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52369252983902208 [0;39m <==      Total: 2
2023-06-21 14:48:13.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52369252983902208 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1525,"viewIncrease":21,"voteCount":69,"voteIncrease":8}],"success":true}
2023-06-21 14:48:13.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52369252983902208 [0;39m ------------- 结束 耗时：131 ms -------------
2023-06-21 14:49:20.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52369535931650050 [0;39m ------------- 开始 -------------
2023-06-21 14:49:20.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52369535931650048 [0;39m ------------- 开始 -------------
2023-06-21 14:49:20.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52369535931650049 [0;39m ------------- 开始 -------------
2023-06-21 14:49:20.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52369535931650050 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2023-06-21 14:49:20.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52369535931650049 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 14:49:20.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52369535931650048 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 14:49:20.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52369535931650050 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2023-06-21 14:49:20.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52369535931650048 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 14:49:20.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52369535931650048 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:49:20.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52369535931650050 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:49:20.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52369535931650050 [0;39m 请求参数: []
2023-06-21 14:49:20.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52369535931650048 [0;39m 请求参数: []
2023-06-21 14:49:20.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52369535931650049 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 14:49:20.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52369535931650049 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:49:20.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52369535931650049 [0;39m 请求参数: []
2023-06-21 14:49:20.632 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52369535931650050 [0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, (e.view_count / t.total_view_count) * 100 AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2023-06-21 14:49:20.632 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52369535931650048 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 14:49:20.633 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52369535931650050 [0;39m ==> Parameters: 
2023-06-21 14:49:20.633 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52369535931650048 [0;39m ==> Parameters: 
2023-06-21 14:49:20.651 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m52369535931650049 [0;39m 访问Redis
2023-06-21 14:49:20.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52369535931650049 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1525,"viewIncrease":21,"voteCount":69,"voteIncrease":8}],"success":true}
2023-06-21 14:49:20.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52369535931650049 [0;39m ------------- 结束 耗时：50 ms -------------
2023-06-21 14:49:20.655 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369535931650050 [0;39m <==    Columns: id, name, view_count, percentage
2023-06-21 14:49:20.655 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 14:49:20.662 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369535931650050 [0;39m <==        Row: 1, Spring Boot 入门教程, 917, 60.1311
2023-06-21 14:49:20.662 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 14:49:20.662 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369535931650050 [0;39m <==        Row: 2, Vue 入门教程, 230, 15.0820
2023-06-21 14:49:20.662 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 14:49:20.662 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 14:49:20.662 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 14:49:20.662 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 14:49:20.662 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 14:49:20.665 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 14:49:20.665 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 14:49:20.665 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 14:49:20.665 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 14:49:20.666 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 14:49:20.666 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 14:49:20.666 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 14:49:20.667 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 14:49:20.667 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 14:49:20.667 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 14:49:20.667 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369535931650048 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 14:49:20.667 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52369535931650048 [0;39m <==      Total: 17
2023-06-21 14:49:20.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52369535931650048 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 14:49:20.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52369535931650048 [0;39m ------------- 结束 耗时：66 ms -------------
2023-06-21 14:49:20.686 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369535931650050 [0;39m <==        Row: 3, Python 入门教程, 0, 0.0000
2023-06-21 14:49:20.687 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369535931650050 [0;39m <==        Row: 4, Mysql 入门教程, 10, 0.6557
2023-06-21 14:49:20.688 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369535931650050 [0;39m <==        Row: 5, Oracle 入门教程, 0, 0.0000
2023-06-21 14:49:20.688 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369535931650050 [0;39m <==        Row: 6, RocketMq实战基础, 209, 13.7049
2023-06-21 14:49:20.688 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369535931650050 [0;39m <==        Row: 7, JS防抖策略和节流策略, 159, 10.4262
2023-06-21 14:49:20.688 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52369535931650050 [0;39m <==      Total: 7
2023-06-21 14:49:20.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52369535931650050 [0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":60.1311,"viewCount":917},{"id":2,"name":"Vue 入门教程","percentage":15.082,"viewCount":230},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.6557,"viewCount":10},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.7049,"viewCount":209},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.4262,"viewCount":159}],"success":true}
2023-06-21 14:49:20.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52369535931650050 [0;39m ------------- 结束 耗时：86 ms -------------
2023-06-21 14:49:33.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52369588133957632 [0;39m ------------- 开始 -------------
2023-06-21 14:49:33.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52369588133957632 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 14:49:33.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52369588133957632 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 14:49:33.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52369588133957632 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:49:33.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52369588133957632 [0;39m 请求参数: []
2023-06-21 14:49:33.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52369588159123456 [0;39m ------------- 开始 -------------
2023-06-21 14:49:33.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52369588159123457 [0;39m ------------- 开始 -------------
2023-06-21 14:49:33.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52369588159123456 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 14:49:33.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52369588159123456 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 14:49:33.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52369588159123456 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:49:33.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52369588159123457 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2023-06-21 14:49:33.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52369588159123456 [0;39m 请求参数: []
2023-06-21 14:49:33.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52369588159123457 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2023-06-21 14:49:33.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52369588159123457 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:49:33.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52369588159123457 [0;39m 请求参数: []
2023-06-21 14:49:33.076 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m52369588133957632 [0;39m 访问Redis
2023-06-21 14:49:33.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52369588133957632 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1525,"viewIncrease":21,"voteCount":69,"voteIncrease":8}],"success":true}
2023-06-21 14:49:33.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52369588133957632 [0;39m ------------- 结束 耗时：30 ms -------------
2023-06-21 14:49:33.081 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52369588159123456 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 14:49:33.082 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52369588159123456 [0;39m ==> Parameters: 
2023-06-21 14:49:33.083 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52369588159123457 [0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, (e.view_count / t.total_view_count) * 100 AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2023-06-21 14:49:33.083 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52369588159123457 [0;39m ==> Parameters: 
2023-06-21 14:49:33.109 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 14:49:33.109 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369588159123457 [0;39m <==    Columns: id, name, view_count, percentage
2023-06-21 14:49:33.109 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369588159123457 [0;39m <==        Row: 1, Spring Boot 入门教程, 917, 60.1311
2023-06-21 14:49:33.112 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369588159123457 [0;39m <==        Row: 2, Vue 入门教程, 230, 15.0820
2023-06-21 14:49:33.112 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 14:49:33.112 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 14:49:33.112 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 14:49:33.112 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 14:49:33.112 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 14:49:33.113 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 14:49:33.113 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 14:49:33.113 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369588159123457 [0;39m <==        Row: 3, Python 入门教程, 0, 0.0000
2023-06-21 14:49:33.113 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 14:49:33.113 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369588159123457 [0;39m <==        Row: 4, Mysql 入门教程, 10, 0.6557
2023-06-21 14:49:33.113 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369588159123457 [0;39m <==        Row: 5, Oracle 入门教程, 0, 0.0000
2023-06-21 14:49:33.113 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 14:49:33.115 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 14:49:33.115 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369588159123457 [0;39m <==        Row: 6, RocketMq实战基础, 209, 13.7049
2023-06-21 14:49:33.115 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369588159123457 [0;39m <==        Row: 7, JS防抖策略和节流策略, 159, 10.4262
2023-06-21 14:49:33.115 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 14:49:33.115 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52369588159123457 [0;39m <==      Total: 7
2023-06-21 14:49:33.115 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 14:49:33.115 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 14:49:33.115 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 14:49:33.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52369588159123457 [0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":60.1311,"viewCount":917},{"id":2,"name":"Vue 入门教程","percentage":15.082,"viewCount":230},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.6557,"viewCount":10},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.7049,"viewCount":209},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.4262,"viewCount":159}],"success":true}
2023-06-21 14:49:33.116 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 14:49:33.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52369588159123457 [0;39m ------------- 结束 耗时：225 ms -------------
2023-06-21 14:49:33.280 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 14:49:33.281 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369588159123456 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 14:49:33.281 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52369588159123456 [0;39m <==      Total: 17
2023-06-21 14:49:33.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52369588159123456 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 14:49:33.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52369588159123456 [0;39m ------------- 结束 耗时：232 ms -------------
2023-06-21 14:50:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52369701241753600 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:50:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52369701241753600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:50:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52369701241753600 [0;39m ==> Parameters: 
2023-06-21 14:50:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52369701241753600 [0;39m <==    Updates: 5
2023-06-21 14:50:00.094 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52369701241753600 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 14:50:29.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52369824273272832 [0;39m ------------- 开始 -------------
2023-06-21 14:50:29.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52369824273272832 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 14:50:29.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52369824273272832 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 14:50:29.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52369824273272832 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:50:29.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52369824273272832 [0;39m 请求参数: []
2023-06-21 14:50:29.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52369824344576000 [0;39m ------------- 开始 -------------
2023-06-21 14:50:29.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52369824344576000 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 14:50:29.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52369824344576000 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 14:50:29.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52369824340381696 [0;39m ------------- 开始 -------------
2023-06-21 14:50:29.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52369824344576000 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:50:29.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52369824344576000 [0;39m 请求参数: []
2023-06-21 14:50:29.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52369824340381696 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2023-06-21 14:50:29.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52369824340381696 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2023-06-21 14:50:29.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52369824340381696 [0;39m 远程地址: 127.0.0.1
2023-06-21 14:50:29.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52369824340381696 [0;39m 请求参数: []
2023-06-21 14:50:29.377 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m52369824273272832 [0;39m 访问Redis
2023-06-21 14:50:29.392 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52369824344576000 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 14:50:29.392 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52369824344576000 [0;39m ==> Parameters: 
2023-06-21 14:50:29.392 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52369824340381696 [0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, (e.view_count / t.total_view_count) * 100 AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2023-06-21 14:50:29.392 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52369824340381696 [0;39m ==> Parameters: 
2023-06-21 14:50:29.406 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52369824273272832 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 14:50:29.407 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52369824273272832 [0;39m ==> Parameters: 
2023-06-21 14:50:29.420 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 14:50:29.421 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 14:50:29.421 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 14:50:29.421 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 14:50:29.421 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 14:50:29.421 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 14:50:29.422 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 14:50:29.422 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 14:50:29.422 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 14:50:29.422 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 14:50:29.422 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 14:50:29.422 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 14:50:29.422 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 14:50:29.422 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 14:50:29.422 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 14:50:29.422 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 14:50:29.423 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 14:50:29.423 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52369824344576000 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 14:50:29.423 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52369824344576000 [0;39m <==      Total: 17
2023-06-21 14:50:29.426 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369824340381696 [0;39m <==    Columns: id, name, view_count, percentage
2023-06-21 14:50:29.427 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369824340381696 [0;39m <==        Row: 1, Spring Boot 入门教程, 917, 60.1311
2023-06-21 14:50:29.427 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369824340381696 [0;39m <==        Row: 2, Vue 入门教程, 230, 15.0820
2023-06-21 14:50:29.427 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369824340381696 [0;39m <==        Row: 3, Python 入门教程, 0, 0.0000
2023-06-21 14:50:29.427 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369824340381696 [0;39m <==        Row: 4, Mysql 入门教程, 10, 0.6557
2023-06-21 14:50:29.427 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369824340381696 [0;39m <==        Row: 5, Oracle 入门教程, 0, 0.0000
2023-06-21 14:50:29.427 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369824340381696 [0;39m <==        Row: 6, RocketMq实战基础, 209, 13.7049
2023-06-21 14:50:29.427 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52369824340381696 [0;39m <==        Row: 7, JS防抖策略和节流策略, 159, 10.4262
2023-06-21 14:50:29.427 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52369824340381696 [0;39m <==      Total: 7
2023-06-21 14:50:29.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52369824340381696 [0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":60.1311,"viewCount":917},{"id":2,"name":"Vue 入门教程","percentage":15.082,"viewCount":230},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.6557,"viewCount":10},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.7049,"viewCount":209},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.4262,"viewCount":159}],"success":true}
2023-06-21 14:50:29.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52369824344576000 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 14:50:29.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52369824340381696 [0;39m ------------- 结束 耗时：64 ms -------------
2023-06-21 14:50:29.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52369824344576000 [0;39m ------------- 结束 耗时：63 ms -------------
2023-06-21 14:50:29.436 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52369824273272832 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 14:50:29.437 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52369824273272832 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 14:50:29.437 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52369824273272832 [0;39m <==        Row: 2023-06-21, 1525, 69, 21, 8
2023-06-21 14:50:29.437 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52369824273272832 [0;39m <==      Total: 2
2023-06-21 14:50:29.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52369824273272832 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1525,"viewIncrease":21,"voteCount":69,"voteIncrease":8}],"success":true}
2023-06-21 14:50:29.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52369824273272832 [0;39m ------------- 结束 耗时：108 ms -------------
2023-06-21 14:52:00.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52370204566622208 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:52:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52370204566622208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:52:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52370204566622208 [0;39m ==> Parameters: 
2023-06-21 14:52:00.097 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52370204566622208 [0;39m <==    Updates: 5
2023-06-21 14:52:00.098 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52370204566622208 [0;39m 更新电子书下的文档数据结束，耗时：81毫秒
2023-06-21 14:54:00.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52370707820187648 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:54:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52370707820187648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:54:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52370707820187648 [0;39m ==> Parameters: 
2023-06-21 14:54:00.082 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52370707820187648 [0;39m <==    Updates: 5
2023-06-21 14:54:00.083 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52370707820187648 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 14:56:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52371211145056256 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:56:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52371211145056256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:56:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52371211145056256 [0;39m ==> Parameters: 
2023-06-21 14:56:00.086 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52371211145056256 [0;39m <==    Updates: 5
2023-06-21 14:56:00.086 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52371211145056256 [0;39m 更新电子书下的文档数据结束，耗时：82毫秒
2023-06-21 14:58:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52371714495090688 [0;39m 更新电子书下的文档数据开始
2023-06-21 14:58:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52371714495090688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 14:58:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52371714495090688 [0;39m ==> Parameters: 
2023-06-21 14:58:00.096 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52371714495090688 [0;39m <==    Updates: 5
2023-06-21 14:58:00.096 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52371714495090688 [0;39m 更新电子书下的文档数据结束，耗时：82毫秒
2023-06-21 15:00:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52372217782210560 [0;39m 生成今日电子书快照开始
2023-06-21 15:00:00.034 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52372217782210560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 15:00:00.034 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52372217782210560 [0;39m ==> Parameters: 
2023-06-21 15:00:00.092 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52372217782210560 [0;39m <==    Updates: 0
2023-06-21 15:00:00.092 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52372217782210560 [0;39m 生成今日电子书快照结束，耗时：86毫秒
2023-06-21 15:00:00.093 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52372218151309312 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:00:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52372218151309312 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:00:00.095 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52372218151309312 [0;39m ==> Parameters: 
2023-06-21 15:00:00.150 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52372218151309312 [0;39m <==    Updates: 5
2023-06-21 15:00:00.150 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52372218151309312 [0;39m 更新电子书下的文档数据结束，耗时：56毫秒
2023-06-21 15:02:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52372721123856384 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:02:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52372721123856384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:02:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52372721123856384 [0;39m ==> Parameters: 
2023-06-21 15:02:00.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52372721123856384 [0;39m <==    Updates: 5
2023-06-21 15:02:00.093 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52372721123856384 [0;39m 更新电子书下的文档数据结束，耗时：82毫秒
2023-06-21 15:04:00.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52373224394199040 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:04:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52373224394199040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:04:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52373224394199040 [0;39m ==> Parameters: 
2023-06-21 15:04:00.083 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52373224394199040 [0;39m <==    Updates: 5
2023-06-21 15:04:00.084 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52373224394199040 [0;39m 更新电子书下的文档数据结束，耗时：81毫秒
2023-06-21 15:06:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52373727769399296 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:06:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52373727769399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:06:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52373727769399296 [0;39m ==> Parameters: 
2023-06-21 15:06:00.094 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52373727769399296 [0;39m <==    Updates: 5
2023-06-21 15:06:00.094 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52373727769399296 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 15:08:00.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52374231027159040 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:08:00.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52374231027159040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:08:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52374231027159040 [0;39m ==> Parameters: 
2023-06-21 15:08:00.081 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52374231027159040 [0;39m <==    Updates: 5
2023-06-21 15:08:00.081 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52374231027159040 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 15:10:00.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52374734372999168 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:10:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52374734372999168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:10:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52374734372999168 [0;39m ==> Parameters: 
2023-06-21 15:10:00.092 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52374734372999168 [0;39m <==    Updates: 5
2023-06-21 15:10:00.092 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52374734372999168 [0;39m 更新电子书下的文档数据结束，耗时：83毫秒
2023-06-21 15:11:55.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52375220807405570 [0;39m ------------- 开始 -------------
2023-06-21 15:11:55.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52375220807405568 [0;39m ------------- 开始 -------------
2023-06-21 15:11:55.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52375220807405569 [0;39m ------------- 开始 -------------
2023-06-21 15:11:56.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52375220807405570 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 15:11:56.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52375220807405569 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2023-06-21 15:11:56.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52375220807405568 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 15:11:56.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52375220807405570 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 15:11:56.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52375220807405569 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2023-06-21 15:11:56.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52375220807405568 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 15:11:56.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52375220807405569 [0;39m 远程地址: 127.0.0.1
2023-06-21 15:11:56.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52375220807405568 [0;39m 远程地址: 127.0.0.1
2023-06-21 15:11:56.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52375220807405570 [0;39m 远程地址: 127.0.0.1
2023-06-21 15:11:56.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52375220807405569 [0;39m 请求参数: []
2023-06-21 15:11:56.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52375220807405568 [0;39m 请求参数: []
2023-06-21 15:11:56.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52375220807405570 [0;39m 请求参数: []
2023-06-21 15:11:56.050 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52375220807405569 [0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, (e.view_count / t.total_view_count) * 100 AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2023-06-21 15:11:56.050 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52375220807405570 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 15:11:56.067 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52375220807405569 [0;39m ==> Parameters: 
2023-06-21 15:11:56.067 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52375220807405570 [0;39m ==> Parameters: 
2023-06-21 15:11:56.083 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m52375220807405568 [0;39m 访问Redis
2023-06-21 15:11:56.100 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 15:11:56.100 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375220807405569 [0;39m <==    Columns: id, name, view_count, percentage
2023-06-21 15:11:56.100 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375220807405569 [0;39m <==        Row: 1, Spring Boot 入门教程, 917, 60.1311
2023-06-21 15:11:56.100 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 15:11:56.100 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375220807405569 [0;39m <==        Row: 2, Vue 入门教程, 230, 15.0820
2023-06-21 15:11:56.100 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 15:11:56.100 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375220807405569 [0;39m <==        Row: 3, Python 入门教程, 0, 0.0000
2023-06-21 15:11:56.100 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375220807405569 [0;39m <==        Row: 4, Mysql 入门教程, 10, 0.6557
2023-06-21 15:11:56.100 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 15:11:56.100 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375220807405569 [0;39m <==        Row: 5, Oracle 入门教程, 0, 0.0000
2023-06-21 15:11:56.100 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 15:11:56.115 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 15:11:56.115 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375220807405569 [0;39m <==        Row: 6, RocketMq实战基础, 209, 13.7049
2023-06-21 15:11:56.116 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 15:11:56.116 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 15:11:56.116 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375220807405569 [0;39m <==        Row: 7, JS防抖策略和节流策略, 159, 10.4262
2023-06-21 15:11:56.116 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 15:11:56.116 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52375220807405569 [0;39m <==      Total: 7
2023-06-21 15:11:56.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 15:11:56.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 15:11:56.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 15:11:56.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 15:11:56.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 15:11:56.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 15:11:56.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 15:11:56.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 15:11:56.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52375220807405569 [0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":60.1311,"viewCount":917},{"id":2,"name":"Vue 入门教程","percentage":15.082,"viewCount":230},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.6557,"viewCount":10},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.7049,"viewCount":209},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.4262,"viewCount":159}],"success":true}
2023-06-21 15:11:56.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52375220807405569 [0;39m ------------- 结束 耗时：151 ms -------------
2023-06-21 15:11:56.117 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52375220807405568 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 15:11:56.117 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52375220807405568 [0;39m ==> Parameters: 
2023-06-21 15:11:56.117 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375220807405570 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 15:11:56.117 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52375220807405570 [0;39m <==      Total: 17
2023-06-21 15:11:56.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52375220807405570 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 15:11:56.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52375220807405570 [0;39m ------------- 结束 耗时：151 ms -------------
2023-06-21 15:11:56.149 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52375220807405568 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-06-21 15:11:56.150 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52375220807405568 [0;39m <==        Row: 2023-06-20, 1504, 61, 10, 2
2023-06-21 15:11:56.150 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m52375220807405568 [0;39m <==        Row: 2023-06-21, 1525, 69, 21, 8
2023-06-21 15:11:56.150 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m52375220807405568 [0;39m <==      Total: 2
2023-06-21 15:11:56.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52375220807405568 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1525,"viewIncrease":21,"voteCount":69,"voteIncrease":8}],"success":true}
2023-06-21 15:11:56.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52375220807405568 [0;39m ------------- 结束 耗时：228 ms -------------
2023-06-21 15:12:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52375237676896256 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:12:00.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52375237676896256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:12:00.056 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52375237676896256 [0;39m ==> Parameters: 
2023-06-21 15:12:00.099 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52375237676896256 [0;39m <==    Updates: 5
2023-06-21 15:12:00.099 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52375237676896256 [0;39m 更新电子书下的文档数据结束，耗时：86毫秒
2023-06-21 15:12:00.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52375239941820416 [0;39m ------------- 开始 -------------
2023-06-21 15:12:00.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52375239941820417 [0;39m ------------- 开始 -------------
2023-06-21 15:12:00.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52375239941820417 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-06-21 15:12:00.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52375239941820417 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-06-21 15:12:00.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52375239941820416 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-06-21 15:12:00.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52375239941820417 [0;39m 远程地址: 127.0.0.1
2023-06-21 15:12:00.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52375239941820416 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-06-21 15:12:00.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52375239941820417 [0;39m 请求参数: []
2023-06-21 15:12:00.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52375239941820416 [0;39m 远程地址: 127.0.0.1
2023-06-21 15:12:00.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52375239941820416 [0;39m 请求参数: []
2023-06-21 15:12:00.546 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52375239941820416 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-06-21 15:12:00.546 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52375239941820416 [0;39m ==> Parameters: 
2023-06-21 15:12:00.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m52375239992152064 [0;39m ------------- 开始 -------------
2023-06-21 15:12:00.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m52375239992152064 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2023-06-21 15:12:00.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m52375239992152064 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2023-06-21 15:12:00.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m52375239992152064 [0;39m 远程地址: 127.0.0.1
2023-06-21 15:12:00.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m52375239992152064 [0;39m 请求参数: []
2023-06-21 15:12:00.575 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-06-21 15:12:00.576 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-05-22, 0, 0
2023-06-21 15:12:00.576 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-05-23, 14, 3
2023-06-21 15:12:00.576 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-05-24, 46, 2
2023-06-21 15:12:00.577 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-05-25, 57, 3
2023-06-21 15:12:00.577 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-05-26, 4, 0
2023-06-21 15:12:00.577 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-05-27, 1, 0
2023-06-21 15:12:00.577 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-05-28, 42, 1
2023-06-21 15:12:00.579 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-05-29, 0, 0
2023-06-21 15:12:00.579 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-05-31, 1443, 46
2023-06-21 15:12:00.579 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-06-04, 1449, 46
2023-06-21 15:12:00.581 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-06-05, 0, 0
2023-06-21 15:12:00.581 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-06-08, 1481, 54
2023-06-21 15:12:00.581 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-06-11, 1481, 54
2023-06-21 15:12:00.581 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-06-17, 1482, 54
2023-06-21 15:12:00.582 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-06-18, 12, 5
2023-06-21 15:12:00.583 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-06-19, 0, 0
2023-06-21 15:12:00.583 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m52375239941820416 [0;39m <==        Row: 2023-06-20, 10, 2
2023-06-21 15:12:00.583 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m52375239941820416 [0;39m <==      Total: 17
2023-06-21 15:12:00.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52375239941820416 [0;39m 返回结果: {"content":[{"date":1684684800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1684771200000,"viewCount":0,"viewIncrease":14,"voteCount":0,"voteIncrease":3},{"date":1684857600000,"viewCount":0,"viewIncrease":46,"voteCount":0,"voteIncrease":2},{"date":1684944000000,"viewCount":0,"viewIncrease":57,"voteCount":0,"voteIncrease":3},{"date":1685030400000,"viewCount":0,"viewIncrease":4,"voteCount":0,"voteIncrease":0},{"date":1685116800000,"viewCount":0,"viewIncrease":1,"voteCount":0,"voteIncrease":0},{"date":1685203200000,"viewCount":0,"viewIncrease":42,"voteCount":0,"voteIncrease":1},{"date":1685289600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1685462400000,"viewCount":0,"viewIncrease":1443,"voteCount":0,"voteIncrease":46},{"date":1685808000000,"viewCount":0,"viewIncrease":1449,"voteCount":0,"voteIncrease":46},{"date":1685894400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1686153600000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686412800000,"viewCount":0,"viewIncrease":1481,"voteCount":0,"voteIncrease":54},{"date":1686931200000,"viewCount":0,"viewIncrease":1482,"voteCount":0,"voteIncrease":54},{"date":1687017600000,"viewCount":0,"viewIncrease":12,"voteCount":0,"voteIncrease":5},{"date":1687104000000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1687190400000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":2}],"success":true}
2023-06-21 15:12:00.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52375239941820416 [0;39m ------------- 结束 耗时：42 ms -------------
2023-06-21 15:12:00.588 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52375239992152064 [0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, (e.view_count / t.total_view_count) * 100 AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2023-06-21 15:12:00.589 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52375239992152064 [0;39m ==> Parameters: 
2023-06-21 15:12:00.597 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m52375239941820417 [0;39m 访问Redis
2023-06-21 15:12:00.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52375239941820417 [0;39m 返回结果: {"content":[{"date":1687190400000,"viewCount":1504,"viewIncrease":10,"voteCount":61,"voteIncrease":2},{"date":1687276800000,"viewCount":1525,"viewIncrease":21,"voteCount":69,"voteIncrease":8}],"success":true}
2023-06-21 15:12:00.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52375239941820417 [0;39m ------------- 结束 耗时：55 ms -------------
2023-06-21 15:12:00.618 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375239992152064 [0;39m <==    Columns: id, name, view_count, percentage
2023-06-21 15:12:00.619 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375239992152064 [0;39m <==        Row: 1, Spring Boot 入门教程, 917, 60.1311
2023-06-21 15:12:00.620 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375239992152064 [0;39m <==        Row: 2, Vue 入门教程, 230, 15.0820
2023-06-21 15:12:00.620 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375239992152064 [0;39m <==        Row: 3, Python 入门教程, 0, 0.0000
2023-06-21 15:12:00.620 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375239992152064 [0;39m <==        Row: 4, Mysql 入门教程, 10, 0.6557
2023-06-21 15:12:00.621 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375239992152064 [0;39m <==        Row: 5, Oracle 入门教程, 0, 0.0000
2023-06-21 15:12:00.621 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375239992152064 [0;39m <==        Row: 6, RocketMq实战基础, 209, 13.7049
2023-06-21 15:12:00.621 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m52375239992152064 [0;39m <==        Row: 7, JS防抖策略和节流策略, 159, 10.4262
2023-06-21 15:12:00.622 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m52375239992152064 [0;39m <==      Total: 7
2023-06-21 15:12:00.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m52375239992152064 [0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":60.1311,"viewCount":917},{"id":2,"name":"Vue 入门教程","percentage":15.082,"viewCount":230},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.6557,"viewCount":10},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.7049,"viewCount":209},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.4262,"viewCount":159}],"success":true}
2023-06-21 15:12:00.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m52375239992152064 [0;39m ------------- 结束 耗时：66 ms -------------
2023-06-21 15:14:00.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52375740997570560 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:14:00.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52375740997570560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:14:00.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52375740997570560 [0;39m ==> Parameters: 
2023-06-21 15:14:00.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52375740997570560 [0;39m <==    Updates: 5
2023-06-21 15:14:00.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52375740997570560 [0;39m 更新电子书下的文档数据结束，耗时：90毫秒
2023-06-21 15:16:00.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52376244351799296 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:16:00.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52376244351799296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:16:00.118 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52376244351799296 [0;39m ==> Parameters: 
2023-06-21 15:16:00.173 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52376244351799296 [0;39m <==    Updates: 5
2023-06-21 15:16:00.176 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52376244351799296 [0;39m 更新电子书下的文档数据结束，耗时：122毫秒
2023-06-21 15:18:00.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52376747630530560 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:18:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52376747630530560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:18:00.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52376747630530560 [0;39m ==> Parameters: 
2023-06-21 15:18:00.089 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52376747630530560 [0;39m <==    Updates: 5
2023-06-21 15:18:00.090 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52376747630530560 [0;39m 更新电子书下的文档数据结束，耗时：84毫秒
2023-06-21 15:20:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52377250942816256 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:20:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52377250942816256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:20:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52377250942816256 [0;39m ==> Parameters: 
2023-06-21 15:20:00.082 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52377250942816256 [0;39m <==    Updates: 5
2023-06-21 15:20:00.082 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52377250942816256 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 15:20:00.083 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52377251274166272 [0;39m 生成今日电子书快照开始
2023-06-21 15:20:00.084 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52377251274166272 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 15:20:00.085 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52377251274166272 [0;39m ==> Parameters: 
2023-06-21 15:20:00.139 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52377251274166272 [0;39m <==    Updates: 0
2023-06-21 15:20:00.139 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52377251274166272 [0;39m 生成今日电子书快照结束，耗时：56毫秒
2023-06-21 15:22:00.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52377754267684864 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:22:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52377754267684864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:22:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52377754267684864 [0;39m ==> Parameters: 
2023-06-21 15:22:00.089 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52377754267684864 [0;39m <==    Updates: 5
2023-06-21 15:22:00.089 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52377754267684864 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 15:24:00.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52378257579970560 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:24:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52378257579970560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:24:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52378257579970560 [0;39m ==> Parameters: 
2023-06-21 15:24:00.090 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52378257579970560 [0;39m <==    Updates: 5
2023-06-21 15:24:00.090 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52378257579970560 [0;39m 更新电子书下的文档数据结束，耗时：84毫秒
2023-06-21 15:26:00.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52378760909033472 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:26:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52378760909033472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:26:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52378760909033472 [0;39m ==> Parameters: 
2023-06-21 15:26:00.085 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52378760909033472 [0;39m <==    Updates: 5
2023-06-21 15:26:00.086 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52378760909033472 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 15:28:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52379264208736256 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:28:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52379264208736256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:28:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52379264208736256 [0;39m ==> Parameters: 
2023-06-21 15:28:00.090 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52379264208736256 [0;39m <==    Updates: 5
2023-06-21 15:28:00.090 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52379264208736256 [0;39m 更新电子书下的文档数据结束，耗时：85毫秒
2023-06-21 15:30:00.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52379767541993472 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:30:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52379767541993472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:30:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52379767541993472 [0;39m ==> Parameters: 
2023-06-21 15:30:00.091 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52379767541993472 [0;39m <==    Updates: 5
2023-06-21 15:30:00.092 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52379767541993472 [0;39m 更新电子书下的文档数据结束，耗时：83毫秒
2023-06-21 15:32:00.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52380270892027904 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:32:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52380270892027904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:32:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52380270892027904 [0;39m ==> Parameters: 
2023-06-21 15:32:00.096 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52380270892027904 [0;39m <==    Updates: 5
2023-06-21 15:32:00.097 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52380270892027904 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 15:34:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52380774195924992 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:34:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52380774195924992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:34:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52380774195924992 [0;39m ==> Parameters: 
2023-06-21 15:34:00.096 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52380774195924992 [0;39m <==    Updates: 5
2023-06-21 15:34:00.096 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52380774195924992 [0;39m 更新电子书下的文档数据结束，耗时：82毫秒
2023-06-21 15:36:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52381277504016384 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:36:00.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52381277504016384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:36:00.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52381277504016384 [0;39m ==> Parameters: 
2023-06-21 15:36:00.091 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52381277504016384 [0;39m <==    Updates: 5
2023-06-21 15:36:00.091 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52381277504016384 [0;39m 更新电子书下的文档数据结束，耗时：78毫秒
2023-06-21 15:38:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52381780786941952 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:38:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52381780786941952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:38:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52381780786941952 [0;39m ==> Parameters: 
2023-06-21 15:38:00.087 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52381780786941952 [0;39m <==    Updates: 5
2023-06-21 15:38:00.088 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52381780786941952 [0;39m 更新电子书下的文档数据结束，耗时：84毫秒
2023-06-21 15:40:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52382284107616256 [0;39m 生成今日电子书快照开始
2023-06-21 15:40:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52382284107616256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 15:40:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52382284107616256 [0;39m ==> Parameters: 
2023-06-21 15:40:00.088 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52382284107616256 [0;39m <==    Updates: 0
2023-06-21 15:40:00.090 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52382284107616256 [0;39m 生成今日电子书快照结束，耗时：84毫秒
2023-06-21 15:40:00.090 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52382284468326400 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:40:00.091 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52382284468326400 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:40:00.091 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52382284468326400 [0;39m ==> Parameters: 
2023-06-21 15:40:00.145 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52382284468326400 [0;39m <==    Updates: 5
2023-06-21 15:40:00.145 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52382284468326400 [0;39m 更新电子书下的文档数据结束，耗时：54毫秒
2023-06-21 15:42:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52382787419901952 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:42:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52382787419901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:42:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52382787419901952 [0;39m ==> Parameters: 
2023-06-21 15:42:00.084 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52382787419901952 [0;39m <==    Updates: 5
2023-06-21 15:42:00.085 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52382787419901952 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 15:44:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52383290782519296 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:44:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52383290782519296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:44:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52383290782519296 [0;39m ==> Parameters: 
2023-06-21 15:44:00.092 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52383290782519296 [0;39m <==    Updates: 5
2023-06-21 15:44:00.093 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52383290782519296 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 15:46:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52383794086416384 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:46:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52383794086416384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:46:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52383794086416384 [0;39m ==> Parameters: 
2023-06-21 15:46:00.089 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52383794086416384 [0;39m <==    Updates: 5
2023-06-21 15:46:00.090 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52383794086416384 [0;39m 更新电子书下的文档数据结束，耗时：77毫秒
2023-06-21 15:48:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52384297394507776 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:48:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52384297394507776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:48:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52384297394507776 [0;39m ==> Parameters: 
2023-06-21 15:48:00.089 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52384297394507776 [0;39m <==    Updates: 5
2023-06-21 15:48:00.089 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52384297394507776 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
2023-06-21 15:50:00.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52384800677433344 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:50:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52384800677433344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:50:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52384800677433344 [0;39m ==> Parameters: 
2023-06-21 15:50:00.084 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52384800677433344 [0;39m <==    Updates: 5
2023-06-21 15:50:00.084 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52384800677433344 [0;39m 更新电子书下的文档数据结束，耗时：79毫秒
2023-06-21 15:52:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52385304044244992 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:52:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52385304044244992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:52:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52385304044244992 [0;39m ==> Parameters: 
2023-06-21 15:52:00.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52385304044244992 [0;39m <==    Updates: 5
2023-06-21 15:52:00.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52385304044244992 [0;39m 更新电子书下的文档数据结束，耗时：89毫秒
2023-06-21 15:54:00.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52385807339753472 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:54:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52385807339753472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:54:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52385807339753472 [0;39m ==> Parameters: 
2023-06-21 15:54:00.092 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52385807339753472 [0;39m <==    Updates: 5
2023-06-21 15:54:00.092 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52385807339753472 [0;39m 更新电子书下的文档数据结束，耗时：82毫秒
2023-06-21 15:56:00.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52386310622679040 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:56:00.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52386310622679040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:56:00.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52386310622679040 [0;39m ==> Parameters: 
2023-06-21 15:56:00.082 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52386310622679040 [0;39m <==    Updates: 5
2023-06-21 15:56:00.082 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52386310622679040 [0;39m 更新电子书下的文档数据结束，耗时：81毫秒
2023-06-21 15:58:00.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52386813947547648 [0;39m 更新电子书下的文档数据开始
2023-06-21 15:58:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52386813947547648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 15:58:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52386813947547648 [0;39m ==> Parameters: 
2023-06-21 15:58:00.088 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52386813947547648 [0;39m <==    Updates: 5
2023-06-21 15:58:00.088 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52386813947547648 [0;39m 更新电子书下的文档数据结束，耗时：85毫秒
2023-06-21 16:00:00.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52387317293387776 [0;39m 更新电子书下的文档数据开始
2023-06-21 16:00:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52387317293387776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 16:00:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52387317293387776 [0;39m ==> Parameters: 
2023-06-21 16:00:00.088 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52387317293387776 [0;39m <==    Updates: 5
2023-06-21 16:00:00.088 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52387317293387776 [0;39m 更新电子书下的文档数据结束，耗时：77毫秒
2023-06-21 16:00:00.089 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m52387317628932096 [0;39m 生成今日电子书快照开始
2023-06-21 16:00:00.089 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52387317628932096 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-06-21 16:00:00.132 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52387317628932096 [0;39m ==> Parameters: 
2023-06-21 16:00:00.185 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m52387317628932096 [0;39m <==    Updates: 0
2023-06-21 16:00:00.186 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m52387317628932096 [0;39m 生成今日电子书快照结束，耗时：97毫秒
2023-06-21 16:02:00.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52387820572119040 [0;39m 更新电子书下的文档数据开始
2023-06-21 16:02:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52387820572119040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 16:02:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52387820572119040 [0;39m ==> Parameters: 
2023-06-21 16:02:00.082 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52387820572119040 [0;39m <==    Updates: 5
2023-06-21 16:02:00.082 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52387820572119040 [0;39m 更新电子书下的文档数据结束，耗时：81毫秒
2023-06-21 16:04:00.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52388323901181952 [0;39m 更新电子书下的文档数据开始
2023-06-21 16:04:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52388323901181952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 16:04:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52388323901181952 [0;39m ==> Parameters: 
2023-06-21 16:04:00.087 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52388323901181952 [0;39m <==    Updates: 5
2023-06-21 16:04:00.087 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52388323901181952 [0;39m 更新电子书下的文档数据结束，耗时：82毫秒
2023-06-21 16:06:00.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52388827209273344 [0;39m 更新电子书下的文档数据开始
2023-06-21 16:06:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52388827209273344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 16:06:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52388827209273344 [0;39m ==> Parameters: 
2023-06-21 16:06:00.085 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52388827209273344 [0;39m <==    Updates: 5
2023-06-21 16:06:00.086 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52388827209273344 [0;39m 更新电子书下的文档数据结束，耗时：84毫秒
2023-06-21 16:08:00.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m52389330529947648 [0;39m 更新电子书下的文档数据开始
2023-06-21 16:08:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52389330529947648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-06-21 16:08:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52389330529947648 [0;39m ==> Parameters: 
2023-06-21 16:08:00.083 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m52389330529947648 [0;39m <==    Updates: 5
2023-06-21 16:08:00.083 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m52389330529947648 [0;39m 更新电子书下的文档数据结束，耗时：80毫秒
