2023-05-18 00:00:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39824537981947904 [0;39m 生成今日电子书快照开始
2023-05-18 00:00:00.091 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39824537981947904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:00:00.092 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39824537981947904 [0;39m ==> Parameters: 
2023-05-18 00:00:00.162 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39824537981947904 [0;39m <==    Updates: 0
2023-05-18 00:00:00.162 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39824537981947904 [0;39m 生成今日电子书快照结束，耗时：107毫秒
2023-05-18 00:00:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39824558945079296 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:00:05.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39824558945079296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:00:05.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39824558945079296 [0;39m ==> Parameters: 
2023-05-18 00:00:05.122 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39824558945079296 [0;39m <==    Updates: 3
2023-05-18 00:00:05.122 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39824558945079296 [0;39m 更新电子书下的文档数据结束，耗时：107毫秒
2023-05-18 00:00:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39824684761616384 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:00:35.055 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39824684761616384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:00:35.056 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39824684761616384 [0;39m ==> Parameters: 
2023-05-18 00:00:35.137 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39824684761616384 [0;39m <==    Updates: 3
2023-05-18 00:00:35.137 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39824684761616384 [0;39m 更新电子书下的文档数据结束，耗时：125毫秒
2023-05-18 00:01:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39824789635993600 [0;39m 生成今日电子书快照开始
2023-05-18 00:01:00.052 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39824789635993600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:01:00.053 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39824789635993600 [0;39m ==> Parameters: 
2023-05-18 00:01:00.129 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39824789635993600 [0;39m <==    Updates: 0
2023-05-18 00:01:00.129 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39824789635993600 [0;39m 生成今日电子书快照结束，耗时：113毫秒
2023-05-18 00:01:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39824810594930688 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:01:05.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39824810594930688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:01:05.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39824810594930688 [0;39m ==> Parameters: 
2023-05-18 00:01:05.116 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39824810594930688 [0;39m <==    Updates: 3
2023-05-18 00:01:05.116 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39824810594930688 [0;39m 更新电子书下的文档数据结束，耗时：103毫秒
2023-05-18 00:01:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39824936415662080 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:01:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39824936415662080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:01:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39824936415662080 [0;39m ==> Parameters: 
2023-05-18 00:01:35.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39824936415662080 [0;39m <==    Updates: 3
2023-05-18 00:01:35.118 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39824936415662080 [0;39m 更新电子书下的文档数据结束，耗时：106毫秒
2023-05-18 00:02:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39825041260679168 [0;39m 生成今日电子书快照开始
2023-05-18 00:02:00.045 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39825041260679168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:02:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39825041260679168 [0;39m ==> Parameters: 
2023-05-18 00:02:00.114 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39825041260679168 [0;39m <==    Updates: 0
2023-05-18 00:02:00.114 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39825041260679168 [0;39m 生成今日电子书快照结束，耗时：106毫秒
2023-05-18 00:02:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39825062248976384 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:02:05.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825062248976384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:02:05.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825062248976384 [0;39m ==> Parameters: 
2023-05-18 00:02:05.118 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825062248976384 [0;39m <==    Updates: 3
2023-05-18 00:02:05.122 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39825062248976384 [0;39m 更新电子书下的文档数据结束，耗时：111毫秒
2023-05-18 00:02:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39825188044541952 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:02:35.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825188044541952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:02:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825188044541952 [0;39m ==> Parameters: 
2023-05-18 00:02:35.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825188044541952 [0;39m <==    Updates: 3
2023-05-18 00:02:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39825188044541952 [0;39m 更新电子书下的文档数据结束，耗时：106毫秒
2023-05-18 00:03:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39825292902141952 [0;39m 生成今日电子书快照开始
2023-05-18 00:03:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39825292902141952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:03:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39825292902141952 [0;39m ==> Parameters: 
2023-05-18 00:03:00.114 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39825292902141952 [0;39m <==    Updates: 0
2023-05-18 00:03:00.115 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39825292902141952 [0;39m 生成今日电子书快照结束，耗时：111毫秒
2023-05-18 00:03:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39825313865273344 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:03:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825313865273344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:03:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825313865273344 [0;39m ==> Parameters: 
2023-05-18 00:03:05.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825313865273344 [0;39m <==    Updates: 3
2023-05-18 00:03:05.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39825313865273344 [0;39m 更新电子书下的文档数据结束，耗时：112毫秒
2023-05-18 00:03:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39825439715364864 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:03:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825439715364864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:03:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825439715364864 [0;39m ==> Parameters: 
2023-05-18 00:03:35.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825439715364864 [0;39m <==    Updates: 3
2023-05-18 00:03:35.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39825439715364864 [0;39m 更新电子书下的文档数据结束，耗时：105毫秒
2023-05-18 00:04:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39825544572964864 [0;39m 生成今日电子书快照开始
2023-05-18 00:04:00.040 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39825544572964864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:04:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39825544572964864 [0;39m ==> Parameters: 
2023-05-18 00:04:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39825544572964864 [0;39m <==    Updates: 0
2023-05-18 00:04:00.112 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39825544572964864 [0;39m 生成今日电子书快照结束，耗时：105毫秒
2023-05-18 00:04:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39825565527707648 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:04:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825565527707648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:04:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825565527707648 [0;39m ==> Parameters: 
2023-05-18 00:04:05.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825565527707648 [0;39m <==    Updates: 3
2023-05-18 00:04:05.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39825565527707648 [0;39m 更新电子书下的文档数据结束，耗时：108毫秒
2023-05-18 00:04:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39825691369410560 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:04:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825691369410560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:04:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825691369410560 [0;39m ==> Parameters: 
2023-05-18 00:04:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825691369410560 [0;39m <==    Updates: 3
2023-05-18 00:04:35.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39825691369410560 [0;39m 更新电子书下的文档数据结束，耗时：104毫秒
2023-05-18 00:05:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39825796260564992 [0;39m 生成今日电子书快照开始
2023-05-18 00:05:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39825796260564992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:05:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39825796260564992 [0;39m ==> Parameters: 
2023-05-18 00:05:00.119 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39825796260564992 [0;39m <==    Updates: 0
2023-05-18 00:05:00.120 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39825796260564992 [0;39m 生成今日电子书快照结束，耗时：106毫秒
2023-05-18 00:05:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39825817194336256 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:05:05.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825817194336256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:05:05.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825817194336256 [0;39m ==> Parameters: 
2023-05-18 00:05:05.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825817194336256 [0;39m <==    Updates: 3
2023-05-18 00:05:05.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39825817194336256 [0;39m 更新电子书下的文档数据结束，耗时：107毫秒
2023-05-18 00:05:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39825943027650560 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:05:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825943027650560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:05:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825943027650560 [0;39m ==> Parameters: 
2023-05-18 00:05:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39825943027650560 [0;39m <==    Updates: 3
2023-05-18 00:05:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39825943027650560 [0;39m 更新电子书下的文档数据结束，耗时：104毫秒
2023-05-18 00:06:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39826047881056256 [0;39m 生成今日电子书快照开始
2023-05-18 00:06:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39826047881056256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:06:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39826047881056256 [0;39m ==> Parameters: 
2023-05-18 00:06:00.113 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39826047881056256 [0;39m <==    Updates: 0
2023-05-18 00:06:00.113 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39826047881056256 [0;39m 生成今日电子书快照结束，耗时：107毫秒
2023-05-18 00:06:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39826068848381952 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:06:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826068848381952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:06:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826068848381952 [0;39m ==> Parameters: 
2023-05-18 00:06:05.122 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826068848381952 [0;39m <==    Updates: 3
2023-05-18 00:06:05.122 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39826068848381952 [0;39m 更新电子书下的文档数据结束，耗时：119毫秒
2023-05-18 00:06:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39826194669113344 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:06:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826194669113344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:06:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826194669113344 [0;39m ==> Parameters: 
2023-05-18 00:06:35.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826194669113344 [0;39m <==    Updates: 3
2023-05-18 00:06:35.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39826194669113344 [0;39m 更新电子书下的文档数据结束，耗时：104毫秒
2023-05-18 00:07:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39826299539296256 [0;39m 生成今日电子书快照开始
2023-05-18 00:07:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39826299539296256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:07:00.049 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39826299539296256 [0;39m ==> Parameters: 
2023-05-18 00:07:00.122 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39826299539296256 [0;39m <==    Updates: 0
2023-05-18 00:07:00.122 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39826299539296256 [0;39m 生成今日电子书快照结束，耗时：116毫秒
2023-05-18 00:07:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39826320519204864 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:07:05.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826320519204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:07:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826320519204864 [0;39m ==> Parameters: 
2023-05-18 00:07:05.120 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826320519204864 [0;39m <==    Updates: 3
2023-05-18 00:07:05.121 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39826320519204864 [0;39m 更新电子书下的文档数据结束，耗时：114毫秒
2023-05-18 00:07:35.035 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39826446469959680 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:07:35.071 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826446469959680 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:07:35.072 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826446469959680 [0;39m ==> Parameters: 
2023-05-18 00:07:35.153 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826446469959680 [0;39m <==    Updates: 3
2023-05-18 00:07:35.154 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39826446469959680 [0;39m 更新电子书下的文档数据结束，耗时：119毫秒
2023-05-18 00:08:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39826551205924864 [0;39m 生成今日电子书快照开始
2023-05-18 00:08:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39826551205924864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:08:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39826551205924864 [0;39m ==> Parameters: 
2023-05-18 00:08:00.120 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39826551205924864 [0;39m <==    Updates: 0
2023-05-18 00:08:00.120 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39826551205924864 [0;39m 生成今日电子书快照结束，耗时：114毫秒
2023-05-18 00:08:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39826572198416384 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:08:05.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826572198416384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:08:05.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826572198416384 [0;39m ==> Parameters: 
2023-05-18 00:08:05.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826572198416384 [0;39m <==    Updates: 3
2023-05-18 00:08:05.117 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39826572198416384 [0;39m 更新电子书下的文档数据结束，耗时：105毫秒
2023-05-18 00:08:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39826697998176256 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:08:35.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826697998176256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:08:35.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826697998176256 [0;39m ==> Parameters: 
2023-05-18 00:08:35.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826697998176256 [0;39m <==    Updates: 3
2023-05-18 00:08:35.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39826697998176256 [0;39m 更新电子书下的文档数据结束，耗时：106毫秒
2023-05-18 00:09:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39826802876747776 [0;39m 生成今日电子书快照开始
2023-05-18 00:09:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39826802876747776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:09:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39826802876747776 [0;39m ==> Parameters: 
2023-05-18 00:09:00.119 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39826802876747776 [0;39m <==    Updates: 0
2023-05-18 00:09:00.120 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39826802876747776 [0;39m 生成今日电子书快照结束，耗时：111毫秒
2023-05-18 00:09:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39826823827296256 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:09:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826823827296256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:09:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826823827296256 [0;39m ==> Parameters: 
2023-05-18 00:09:05.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826823827296256 [0;39m <==    Updates: 3
2023-05-18 00:09:05.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39826823827296256 [0;39m 更新电子书下的文档数据结束，耗时：103毫秒
2023-05-18 00:09:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39826949643833344 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:09:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826949643833344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:09:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826949643833344 [0;39m ==> Parameters: 
2023-05-18 00:09:35.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39826949643833344 [0;39m <==    Updates: 3
2023-05-18 00:09:35.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39826949643833344 [0;39m 更新电子书下的文档数据结束，耗时：109毫秒
2023-05-18 00:10:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39827054501433344 [0;39m 生成今日电子书快照开始
2023-05-18 00:10:00.045 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39827054501433344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:10:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39827054501433344 [0;39m ==> Parameters: 
2023-05-18 00:10:00.120 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39827054501433344 [0;39m <==    Updates: 0
2023-05-18 00:10:00.120 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39827054501433344 [0;39m 生成今日电子书快照结束，耗时：118毫秒
2023-05-18 00:10:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39827075481341952 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:10:05.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827075481341952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:10:05.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827075481341952 [0;39m ==> Parameters: 
2023-05-18 00:10:05.114 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827075481341952 [0;39m <==    Updates: 3
2023-05-18 00:10:05.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39827075481341952 [0;39m 更新电子书下的文档数据结束，耗时：110毫秒
2023-05-18 00:10:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39827201344016384 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:10:35.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827201344016384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:10:35.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827201344016384 [0;39m ==> Parameters: 
2023-05-18 00:10:35.126 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827201344016384 [0;39m <==    Updates: 3
2023-05-18 00:10:35.126 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39827201344016384 [0;39m 更新电子书下的文档数据结束，耗时：111毫秒
2023-05-18 00:11:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39827306155479040 [0;39m 生成今日电子书快照开始
2023-05-18 00:11:00.038 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39827306155479040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:11:00.039 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39827306155479040 [0;39m ==> Parameters: 
2023-05-18 00:11:00.120 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39827306155479040 [0;39m <==    Updates: 0
2023-05-18 00:11:00.121 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39827306155479040 [0;39m 生成今日电子书快照结束，耗时：120毫秒
2023-05-18 00:11:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39827327160553472 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:11:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827327160553472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:11:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827327160553472 [0;39m ==> Parameters: 
2023-05-18 00:11:05.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827327160553472 [0;39m <==    Updates: 3
2023-05-18 00:11:05.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39827327160553472 [0;39m 更新电子书下的文档数据结束，耗时：105毫秒
2023-05-18 00:11:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39827452956119040 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:11:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827452956119040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:11:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827452956119040 [0;39m ==> Parameters: 
2023-05-18 00:11:35.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827452956119040 [0;39m <==    Updates: 3
2023-05-18 00:11:35.104 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39827452956119040 [0;39m 更新电子书下的文档数据结束，耗时：103毫秒
2023-05-18 00:12:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39827557830496256 [0;39m 生成今日电子书快照开始
2023-05-18 00:12:00.058 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39827557830496256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:12:00.059 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39827557830496256 [0;39m ==> Parameters: 
2023-05-18 00:12:00.131 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39827557830496256 [0;39m <==    Updates: 0
2023-05-18 00:12:00.132 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39827557830496256 [0;39m 生成今日电子书快照结束，耗时：127毫秒
2023-05-18 00:12:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39827578806210560 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:12:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827578806210560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:12:05.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827578806210560 [0;39m ==> Parameters: 
2023-05-18 00:12:05.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827578806210560 [0;39m <==    Updates: 3
2023-05-18 00:12:05.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39827578806210560 [0;39m 更新电子书下的文档数据结束，耗时：105毫秒
2023-05-18 00:12:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39827704652107776 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:12:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827704652107776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:12:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827704652107776 [0;39m ==> Parameters: 
2023-05-18 00:12:35.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827704652107776 [0;39m <==    Updates: 3
2023-05-18 00:12:35.117 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39827704652107776 [0;39m 更新电子书下的文档数据结束，耗时：107毫秒
2023-05-18 00:13:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39827809526484992 [0;39m 生成今日电子书快照开始
2023-05-18 00:13:00.054 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39827809526484992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:13:00.054 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39827809526484992 [0;39m ==> Parameters: 
2023-05-18 00:13:00.136 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39827809526484992 [0;39m <==    Updates: 0
2023-05-18 00:13:00.136 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39827809526484992 [0;39m 生成今日电子书快照结束，耗时：123毫秒
2023-05-18 00:13:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39827830451867648 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:13:05.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827830451867648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:13:05.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827830451867648 [0;39m ==> Parameters: 
2023-05-18 00:13:05.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827830451867648 [0;39m <==    Updates: 3
2023-05-18 00:13:05.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39827830451867648 [0;39m 更新电子书下的文档数据结束，耗时：104毫秒
2023-05-18 00:13:17.520 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39823639557836800 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-18 00:13:17.524 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39823639557836800 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-18 00:13:17.524 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39823639557836800 [0;39m 登录校验开始，token：39810535654559744
2023-05-18 00:13:19.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39827889985818624 [0;39m ------------- 开始 -------------
2023-05-18 00:13:19.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39827889985818624 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:13:19.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39827889985818624 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:13:19.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39827889985818624 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:13:19.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39827889985818624 [0;39m 请求参数: []
2023-05-18 00:13:21.463 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39823643257212928 [0;39m 连接关闭，token：xncsTRoH1N，session id：4！当前连接数：0
2023-05-18 00:13:22.653 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39823644058324992 [0;39m 有新连接：token：foD8alQ6cW，session id：5，当前连接数：1
2023-05-18 00:13:22.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39827904972066816 [0;39m ------------- 开始 -------------
2023-05-18 00:13:22.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39827904972066816 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:13:22.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39827904972066816 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:13:22.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39827904972066816 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:13:22.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39827904972066816 [0;39m 请求参数: []
2023-05-18 00:13:24.202 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39827889985818624 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@168cec2b (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:13:24.236 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39827889985818624 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:13:24.237 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39827889985818624 [0;39m ==> Parameters: 
2023-05-18 00:13:24.272 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:13:24.272 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:13:24.273 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:13:24.273 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:13:24.273 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:13:24.273 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:13:24.273 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:13:24.273 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:13:24.274 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:13:24.274 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:13:24.274 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:13:24.274 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:13:24.274 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:13:24.274 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:13:24.275 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:13:24.275 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827889985818624 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:13:24.275 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39827889985818624 [0;39m <==      Total: 15
2023-05-18 00:13:24.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39827889985818624 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:13:24.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39827889985818624 [0;39m ------------- 结束 耗时：5079 ms -------------
2023-05-18 00:13:27.778 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39827904972066816 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3dc909d7 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:13:27.812 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39827904972066816 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:13:27.812 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39827904972066816 [0;39m ==> Parameters: 
2023-05-18 00:13:27.845 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:13:27.846 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:13:27.846 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:13:27.846 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:13:27.846 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:13:27.847 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:13:27.847 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:13:27.847 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:13:27.847 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:13:27.847 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:13:27.847 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:13:27.848 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:13:27.848 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:13:27.848 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:13:27.848 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:13:27.848 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39827904972066816 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:13:27.848 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39827904972066816 [0;39m <==      Total: 15
2023-05-18 00:13:27.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39827904972066816 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:13:27.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39827904972066816 [0;39m ------------- 结束 耗时：5081 ms -------------
2023-05-18 00:13:27.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39827926346240000 [0;39m ------------- 开始 -------------
2023-05-18 00:13:27.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39827926346240000 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:13:27.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39827926346240000 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:13:27.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39827926346240000 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:13:27.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39827926346240000 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-18 00:13:27.866 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39827926346240000 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-18 00:13:27.867 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39827926346240000 [0;39m ==> Parameters: 
2023-05-18 00:13:27.901 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39827926346240000 [0;39m <==    Columns: count(0)
2023-05-18 00:13:27.901 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39827926346240000 [0;39m <==        Row: 6
2023-05-18 00:13:27.901 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39827926346240000 [0;39m <==      Total: 1
2023-05-18 00:13:27.902 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39827926346240000 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-18 00:13:27.902 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39827926346240000 [0;39m ==> Parameters: 10(Integer)
2023-05-18 00:13:27.936 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39827926346240000 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-18 00:13:27.936 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39827926346240000 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-18 00:13:27.936 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39827926346240000 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 210, 3
2023-05-18 00:13:27.936 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39827926346240000 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-18 00:13:27.938 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39827926346240000 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-18 00:13:27.938 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39827926346240000 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-18 00:13:27.938 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39827926346240000 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 9, 36, 4
2023-05-18 00:13:27.938 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39827926346240000 [0;39m <==      Total: 6
2023-05-18 00:13:27.938 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39827926346240000 [0;39m 总行数：6
2023-05-18 00:13:27.938 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39827926346240000 [0;39m 总页数：1
2023-05-18 00:13:27.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39827926346240000 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":210,"voteCount":3},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":200,"category2Id":202,"docCount":9,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":36,"voteCount":4}],"total":6},"success":true}
2023-05-18 00:13:27.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39827926346240000 [0;39m ------------- 结束 耗时：74 ms -------------
2023-05-18 00:13:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39827956310347776 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:13:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827956310347776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:13:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827956310347776 [0;39m ==> Parameters: 
2023-05-18 00:13:35.114 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39827956310347776 [0;39m <==    Updates: 3
2023-05-18 00:13:35.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39827956310347776 [0;39m 更新电子书下的文档数据结束，耗时：105毫秒
2023-05-18 00:13:36.746 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39823639557836800 [0;39m 系统异常：
org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:74)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:272)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.convertLettuceAccessException(LettuceStringCommands.java:800)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:70)
	at org.springframework.data.redis.connection.DefaultedRedisConnection.get(DefaultedRedisConnection.java:267)
	at org.springframework.data.redis.core.DefaultValueOperations$1.inRedis(DefaultValueOperations.java:57)
	at org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:60)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:229)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:189)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:96)
	at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:53)
	at com.jiawa.wiki.interceptor.LoginInterceptor.preHandle(LoginInterceptor.java:53)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1056)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at io.lettuce.core.internal.Exceptions.bubble(Exceptions.java:83)
	at io.lettuce.core.internal.Futures.awaitOrCancel(Futures.java:250)
	at io.lettuce.core.FutureSyncInvocationHandler.handleInvocation(FutureSyncInvocationHandler.java:75)
	at io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80)
	at com.sun.proxy.$Proxy142.get(Unknown Source)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:68)
	... 49 common frames omitted
Caused by: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at sun.nio.ch.SocketDispatcher.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)
	at sun.nio.ch.IOUtil.read(IOUtil.java:192)
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:378)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1134)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-18 00:13:36.749 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39823639557836800 [0;39m Resolved [org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。]
2023-05-18 00:13:36.777 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was /106.14.183.201:6379
2023-05-18 00:13:36.850 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to 106.14.183.201:6379
2023-05-18 00:14:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39828061167947776 [0;39m 生成今日电子书快照开始
2023-05-18 00:14:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39828061167947776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:14:00.049 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39828061167947776 [0;39m ==> Parameters: 
2023-05-18 00:14:00.119 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39828061167947776 [0;39m <==    Updates: 0
2023-05-18 00:14:00.119 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39828061167947776 [0;39m 生成今日电子书快照结束，耗时：109毫秒
2023-05-18 00:14:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39828082105913344 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:14:05.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828082105913344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:14:05.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828082105913344 [0;39m ==> Parameters: 
2023-05-18 00:14:05.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828082105913344 [0;39m <==    Updates: 3
2023-05-18 00:14:05.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39828082105913344 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-18 00:14:13.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39828117317095424 [0;39m ------------- 开始 -------------
2023-05-18 00:14:13.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39828117317095425 [0;39m ------------- 开始 -------------
2023-05-18 00:14:13.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39828117317095424 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:14:13.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39828117317095425 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:14:13.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39828117317095424 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:14:13.397 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39828117317095425 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:14:13.397 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39828117317095425 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:14:13.397 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39828117317095426 [0;39m ------------- 开始 -------------
2023-05-18 00:14:13.397 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39828117317095424 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:14:13.397 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39828117317095426 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:14:13.397 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39828117317095425 [0;39m 请求参数: []
2023-05-18 00:14:13.397 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39828117317095424 [0;39m 请求参数: []
2023-05-18 00:14:13.397 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39828117317095426 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:14:13.397 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39828117317095426 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:14:13.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39828117317095426 [0;39m 请求参数: []
2023-05-18 00:14:13.435 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39828117317095425 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:14:13.436 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39828117317095425 [0;39m ==> Parameters: 
2023-05-18 00:14:13.472 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39828117317095425 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:14:13.472 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39828117317095425 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:14:13.472 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39828117317095425 [0;39m <==        Row: 2023-05-17, 707, 22, 112, 6
2023-05-18 00:14:13.473 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39828117317095425 [0;39m <==      Total: 2
2023-05-18 00:14:13.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39828117317095425 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":707,"viewIncrease":112,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:14:13.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39828117317095425 [0;39m ------------- 结束 耗时：77 ms -------------
2023-05-18 00:14:15.546 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39823636143673344 [0;39m 连接关闭，token：foD8alQ6cW，session id：5！当前连接数：0
2023-05-18 00:14:16.452 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39823643257212928 [0;39m 有新连接：token：VN1SD7IJqU，session id：6，当前连接数：1
2023-05-18 00:14:16.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39828130420101120 [0;39m ------------- 开始 -------------
2023-05-18 00:14:16.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39828130420101120 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:14:16.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39828130420101120 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:14:16.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39828130424295424 [0;39m ------------- 开始 -------------
2023-05-18 00:14:16.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39828130420101120 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:14:16.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39828130424295424 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:14:16.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39828130420101120 [0;39m 请求参数: []
2023-05-18 00:14:16.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39828130424295424 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:14:16.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39828130424295424 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:14:16.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39828130424295424 [0;39m 请求参数: []
2023-05-18 00:14:16.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39828130436878336 [0;39m ------------- 开始 -------------
2023-05-18 00:14:16.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39828130436878336 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:14:16.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39828130436878336 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:14:16.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39828130436878336 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:14:16.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39828130436878336 [0;39m 请求参数: []
2023-05-18 00:14:16.554 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39828130420101120 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:14:16.555 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39828130420101120 [0;39m ==> Parameters: 
2023-05-18 00:14:16.591 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828130420101120 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:14:16.591 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828130420101120 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:14:16.593 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828130420101120 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:14:16.593 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828130420101120 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:14:16.593 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828130420101120 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:14:16.593 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828130420101120 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:14:16.594 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828130420101120 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:14:16.594 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828130420101120 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:14:16.594 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828130420101120 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:14:16.594 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39828130420101120 [0;39m <==      Total: 8
2023-05-18 00:14:16.594 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39828130420101120 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:14:16.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39828130420101120 [0;39m ------------- 结束 耗时：75 ms -------------
2023-05-18 00:14:18.414 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39828117317095424 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@1b1ada7c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:14:18.416 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39828117317095426 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@21e112e5 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:14:18.448 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39828117317095424 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:14:18.449 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39828117317095424 [0;39m ==> Parameters: 
2023-05-18 00:14:18.490 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828117317095424 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:14:18.490 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828117317095424 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:14:18.491 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828117317095424 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:14:18.491 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828117317095424 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:14:18.491 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828117317095424 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:14:18.491 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828117317095424 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:14:18.492 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828117317095424 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:14:18.492 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828117317095424 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:14:18.492 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828117317095424 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:14:18.493 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39828117317095424 [0;39m <==      Total: 8
2023-05-18 00:14:18.493 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39828117317095424 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:14:18.493 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39828117317095424 [0;39m ------------- 结束 耗时：5097 ms -------------
2023-05-18 00:14:21.533 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39828130424295424 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7a6034ea (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:14:21.533 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39828130436878336 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@449e268b (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:14:21.579 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39828130436878336 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:14:21.579 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39828130436878336 [0;39m ==> Parameters: 
2023-05-18 00:14:21.626 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:14:21.627 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:14:21.627 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:14:21.627 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:14:21.627 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:14:21.628 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:14:21.628 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:14:21.628 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:14:21.628 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:14:21.628 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:14:21.629 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:14:21.629 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:14:21.629 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:14:21.629 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:14:21.630 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:14:21.630 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828130436878336 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:14:21.632 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39828130436878336 [0;39m <==      Total: 15
2023-05-18 00:14:21.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39828130436878336 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:14:21.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39828130436878336 [0;39m ------------- 结束 耗时：5109 ms -------------
2023-05-18 00:14:23.429 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39828117317095426 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@1a1fb8b7 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:14:23.462 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39828117317095426 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:14:23.463 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39828117317095426 [0;39m ==> Parameters: 
2023-05-18 00:14:23.497 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:14:23.497 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:14:23.497 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:14:23.498 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:14:23.498 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:14:23.498 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:14:23.498 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:14:23.498 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:14:23.498 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:14:23.498 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:14:23.499 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:14:23.499 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:14:23.499 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:14:23.499 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:14:23.499 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:14:23.500 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828117317095426 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:14:23.500 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39828117317095426 [0;39m <==      Total: 15
2023-05-18 00:14:23.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39828117317095426 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:14:23.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39828117317095426 [0;39m ------------- 结束 耗时：10105 ms -------------
2023-05-18 00:14:26.547 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39828130424295424 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@1b90a523 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:14:26.591 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39828130424295424 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:14:26.592 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39828130424295424 [0;39m ==> Parameters: 
2023-05-18 00:14:26.642 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39828130424295424 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:14:26.642 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39828130424295424 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:14:26.643 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39828130424295424 [0;39m <==        Row: 2023-05-17, 707, 22, 112, 6
2023-05-18 00:14:26.643 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39828130424295424 [0;39m <==      Total: 2
2023-05-18 00:14:26.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39828130424295424 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":707,"viewIncrease":112,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:14:26.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39828130424295424 [0;39m ------------- 结束 耗时：10123 ms -------------
2023-05-18 00:14:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39828207968587776 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:14:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828207968587776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:14:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828207968587776 [0;39m ==> Parameters: 
2023-05-18 00:14:35.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828207968587776 [0;39m <==    Updates: 3
2023-05-18 00:14:35.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39828207968587776 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-18 00:15:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39828312801021952 [0;39m 生成今日电子书快照开始
2023-05-18 00:15:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39828312801021952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:15:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39828312801021952 [0;39m ==> Parameters: 
2023-05-18 00:15:00.106 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39828312801021952 [0;39m <==    Updates: 0
2023-05-18 00:15:00.107 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39828312801021952 [0;39m 生成今日电子书快照结束，耗时：104毫秒
2023-05-18 00:15:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39828333822873600 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:15:05.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828333822873600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:15:05.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828333822873600 [0;39m ==> Parameters: 
2023-05-18 00:15:05.116 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828333822873600 [0;39m <==    Updates: 3
2023-05-18 00:15:05.117 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39828333822873600 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:15:19.674 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39823639557836800 [0;39m 连接关闭，token：VN1SD7IJqU，session id：6！当前连接数：0
2023-05-18 00:15:19.960 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39828117317095425 [0;39m 有新连接：token：hnkKwHgAR5，session id：7，当前连接数：1
2023-05-18 00:15:20.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39828396737433600 [0;39m ------------- 开始 -------------
2023-05-18 00:15:20.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39828396737433600 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:15:20.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39828396737433600 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:15:20.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39828396737433600 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:15:20.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39828396737433600 [0;39m 请求参数: []
2023-05-18 00:15:20.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39828396754210816 [0;39m ------------- 开始 -------------
2023-05-18 00:15:20.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39828396754210817 [0;39m ------------- 开始 -------------
2023-05-18 00:15:20.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39828396754210816 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:15:20.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39828396754210817 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:15:20.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39828396754210816 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:15:20.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39828396754210817 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:15:20.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39828396754210816 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:15:20.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39828396754210817 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:15:20.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39828396754210816 [0;39m 请求参数: []
2023-05-18 00:15:20.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39828396754210817 [0;39m 请求参数: []
2023-05-18 00:15:20.050 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39828396737433600 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:15:20.050 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39828396737433600 [0;39m ==> Parameters: 
2023-05-18 00:15:20.055 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39828396754210817 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:15:20.055 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39828396754210817 [0;39m ==> Parameters: 
2023-05-18 00:15:20.085 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39828396737433600 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:15:20.085 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39828396737433600 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:15:20.085 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39828396737433600 [0;39m <==        Row: 2023-05-17, 707, 22, 112, 6
2023-05-18 00:15:20.085 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39828396737433600 [0;39m <==      Total: 2
2023-05-18 00:15:20.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39828396737433600 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":707,"viewIncrease":112,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:15:20.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39828396737433600 [0;39m ------------- 结束 耗时：71 ms -------------
2023-05-18 00:15:20.089 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:15:20.090 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:15:20.090 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:15:20.090 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:15:20.090 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:15:20.090 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:15:20.090 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:15:20.090 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:15:20.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:15:20.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:15:20.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:15:20.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:15:20.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:15:20.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:15:20.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:15:20.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39828396754210817 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:15:20.092 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39828396754210817 [0;39m <==      Total: 15
2023-05-18 00:15:20.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39828396754210817 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:15:20.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39828396754210817 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-18 00:15:25.034 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39828396754210816 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@628d9ff4 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:15:25.068 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39828396754210816 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:15:25.068 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39828396754210816 [0;39m ==> Parameters: 
2023-05-18 00:15:25.102 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828396754210816 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:15:25.103 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828396754210816 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:15:25.103 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828396754210816 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:15:25.103 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828396754210816 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:15:25.104 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828396754210816 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:15:25.104 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828396754210816 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:15:25.104 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828396754210816 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:15:25.104 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828396754210816 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:15:25.104 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39828396754210816 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:15:25.105 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39828396754210816 [0;39m <==      Total: 8
2023-05-18 00:15:25.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39828396754210816 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:15:25.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39828396754210816 [0;39m ------------- 结束 耗时：5086 ms -------------
2023-05-18 00:15:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39828459593273344 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:15:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828459593273344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:15:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828459593273344 [0;39m ==> Parameters: 
2023-05-18 00:15:35.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828459593273344 [0;39m <==    Updates: 3
2023-05-18 00:15:35.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39828459593273344 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-18 00:16:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39828564484427776 [0;39m 生成今日电子书快照开始
2023-05-18 00:16:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39828564484427776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:16:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39828564484427776 [0;39m ==> Parameters: 
2023-05-18 00:16:00.113 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39828564484427776 [0;39m <==    Updates: 0
2023-05-18 00:16:00.113 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39828564484427776 [0;39m 生成今日电子书快照结束，耗时：104毫秒
2023-05-18 00:16:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39828585468530688 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:16:05.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828585468530688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:16:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828585468530688 [0;39m ==> Parameters: 
2023-05-18 00:16:05.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828585468530688 [0;39m <==    Updates: 3
2023-05-18 00:16:05.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39828585468530688 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:16:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39828711293456384 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:16:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828711293456384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:16:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828711293456384 [0;39m ==> Parameters: 
2023-05-18 00:16:35.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828711293456384 [0;39m <==    Updates: 3
2023-05-18 00:16:35.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39828711293456384 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-18 00:17:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39828816125890560 [0;39m 生成今日电子书快照开始
2023-05-18 00:17:00.039 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39828816125890560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:17:00.039 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39828816125890560 [0;39m ==> Parameters: 
2023-05-18 00:17:00.108 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39828816125890560 [0;39m <==    Updates: 0
2023-05-18 00:17:00.108 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39828816125890560 [0;39m 生成今日电子书快照结束，耗时：103毫秒
2023-05-18 00:17:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39828837139353600 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:17:05.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828837139353600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:17:05.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828837139353600 [0;39m ==> Parameters: 
2023-05-18 00:17:05.116 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828837139353600 [0;39m <==    Updates: 3
2023-05-18 00:17:05.116 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39828837139353600 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:17:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39828962955890688 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:17:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828962955890688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:17:35.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828962955890688 [0;39m ==> Parameters: 
2023-05-18 00:17:35.114 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39828962955890688 [0;39m <==    Updates: 3
2023-05-18 00:17:35.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39828962955890688 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:18:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39829067821879296 [0;39m 生成今日电子书快照开始
2023-05-18 00:18:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39829067821879296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:18:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39829067821879296 [0;39m ==> Parameters: 
2023-05-18 00:18:00.116 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39829067821879296 [0;39m <==    Updates: 0
2023-05-18 00:18:00.116 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39829067821879296 [0;39m 生成今日电子书快照结束，耗时：102毫秒
2023-05-18 00:18:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39829088780816384 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:18:05.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829088780816384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:18:05.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829088780816384 [0;39m ==> Parameters: 
2023-05-18 00:18:05.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829088780816384 [0;39m <==    Updates: 3
2023-05-18 00:18:05.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39829088780816384 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:18:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39829214588964864 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:18:35.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829214588964864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:18:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829214588964864 [0;39m ==> Parameters: 
2023-05-18 00:18:35.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829214588964864 [0;39m <==    Updates: 3
2023-05-18 00:18:35.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39829214588964864 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:19:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39829319459147776 [0;39m 生成今日电子书快照开始
2023-05-18 00:19:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39829319459147776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:19:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39829319459147776 [0;39m ==> Parameters: 
2023-05-18 00:19:00.112 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39829319459147776 [0;39m <==    Updates: 0
2023-05-18 00:19:00.113 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39829319459147776 [0;39m 生成今日电子书快照结束，耗时：104毫秒
2023-05-18 00:19:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39829340434862080 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:19:05.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829340434862080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:19:05.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829340434862080 [0;39m ==> Parameters: 
2023-05-18 00:19:05.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829340434862080 [0;39m <==    Updates: 3
2023-05-18 00:19:05.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39829340434862080 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:19:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39829466272370688 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:19:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829466272370688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:19:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829466272370688 [0;39m ==> Parameters: 
2023-05-18 00:19:35.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829466272370688 [0;39m <==    Updates: 3
2023-05-18 00:19:35.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39829466272370688 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:20:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39829571079639040 [0;39m 生成今日电子书快照开始
2023-05-18 00:20:00.036 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39829571079639040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:20:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39829571079639040 [0;39m ==> Parameters: 
2023-05-18 00:20:00.119 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39829571079639040 [0;39m <==    Updates: 0
2023-05-18 00:20:00.119 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39829571079639040 [0;39m 生成今日电子书快照结束，耗时：118毫秒
2023-05-18 00:20:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39829592118267904 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:20:05.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829592118267904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:20:05.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829592118267904 [0;39m ==> Parameters: 
2023-05-18 00:20:05.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829592118267904 [0;39m <==    Updates: 3
2023-05-18 00:20:05.118 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39829592118267904 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-18 00:20:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39829717913833472 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:20:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829717913833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:20:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829717913833472 [0;39m ==> Parameters: 
2023-05-18 00:20:35.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829717913833472 [0;39m <==    Updates: 3
2023-05-18 00:20:35.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39829717913833472 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-18 00:21:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39829822800793600 [0;39m 生成今日电子书快照开始
2023-05-18 00:21:05.019 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39829822800793600 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@21ff603c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:21:10.054 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39829822800793600 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@37810db2 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:21:15.064 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39829822800793600 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2b3ebfb1 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:21:20.079 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39829822800793600 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@71af1317 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:21:25.088 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39829822800793600 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@10e19144 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:21:30.095 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39829822800793600 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3ec1b4f5 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:21:30.096 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39829822800793600 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30080ms.
### The error may exist in file [D:\work\jiawawiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30080ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy92.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy106.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor227.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30080ms.
### The error may exist in file [D:\work\jiawawiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30080ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at sun.reflect.GeneratedMethodAccessor122.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30080ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor123.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy129.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 25 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30080ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 38 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2498)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:560)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:173)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 43 common frames omitted
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at sun.reflect.GeneratedConstructorAccessor76.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:1171)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:576)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2494)
	... 46 common frames omitted
2023-05-18 00:21:30.097 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39829948973846528 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:21:35.109 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39829948973846528 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@f0763bf (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:21:40.115 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39829948973846528 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@721614b6 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:21:45.118 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39829948973846528 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@508735fa (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:21:45.162 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829948973846528 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:21:45.162 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829948973846528 [0;39m ==> Parameters: 
2023-05-18 00:21:45.242 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39829948973846528 [0;39m <==    Updates: 3
2023-05-18 00:21:45.242 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39829948973846528 [0;39m 更新电子书下的文档数据结束，耗时：15145毫秒
2023-05-18 00:22:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39830074438062080 [0;39m 生成今日电子书快照开始
2023-05-18 00:22:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39830074438062080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:22:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39830074438062080 [0;39m ==> Parameters: 
2023-05-18 00:22:00.105 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39830074438062080 [0;39m <==    Updates: 0
2023-05-18 00:22:00.106 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39830074438062080 [0;39m 生成今日电子书快照结束，耗时：96毫秒
2023-05-18 00:22:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39830095422164992 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:22:05.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830095422164992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:22:05.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830095422164992 [0;39m ==> Parameters: 
2023-05-18 00:22:05.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830095422164992 [0;39m <==    Updates: 3
2023-05-18 00:22:05.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39830095422164992 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-18 00:22:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39830221234507776 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:22:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830221234507776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:22:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830221234507776 [0;39m ==> Parameters: 
2023-05-18 00:22:35.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830221234507776 [0;39m <==    Updates: 3
2023-05-18 00:22:35.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39830221234507776 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-18 00:23:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39830326113079296 [0;39m 生成今日电子书快照开始
2023-05-18 00:23:00.045 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39830326113079296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:23:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39830326113079296 [0;39m ==> Parameters: 
2023-05-18 00:23:00.110 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39830326113079296 [0;39m <==    Updates: 0
2023-05-18 00:23:00.110 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39830326113079296 [0;39m 生成今日电子书快照结束，耗时：96毫秒
2023-05-18 00:23:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39830347067822080 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:23:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830347067822080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:23:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830347067822080 [0;39m ==> Parameters: 
2023-05-18 00:23:05.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830347067822080 [0;39m <==    Updates: 3
2023-05-18 00:23:05.104 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39830347067822080 [0;39m 更新电子书下的文档数据结束，耗时：94毫秒
2023-05-18 00:23:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39830472917913600 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:23:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830472917913600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:23:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830472917913600 [0;39m ==> Parameters: 
2023-05-18 00:23:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830472917913600 [0;39m <==    Updates: 3
2023-05-18 00:23:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39830472917913600 [0;39m 更新电子书下的文档数据结束，耗时：94毫秒
2023-05-18 00:24:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39830577754542080 [0;39m 生成今日电子书快照开始
2023-05-18 00:24:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39830577754542080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:24:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39830577754542080 [0;39m ==> Parameters: 
2023-05-18 00:24:00.106 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39830577754542080 [0;39m <==    Updates: 0
2023-05-18 00:24:00.107 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39830577754542080 [0;39m 生成今日电子书快照结束，耗时：97毫秒
2023-05-18 00:24:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39830598738644992 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:24:05.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830598738644992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:24:05.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830598738644992 [0;39m ==> Parameters: 
2023-05-18 00:24:05.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830598738644992 [0;39m <==    Updates: 3
2023-05-18 00:24:05.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39830598738644992 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-05-18 00:24:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39830724546793472 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:24:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830724546793472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:24:35.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830724546793472 [0;39m ==> Parameters: 
2023-05-18 00:24:35.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830724546793472 [0;39m <==    Updates: 3
2023-05-18 00:24:35.101 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39830724546793472 [0;39m 更新电子书下的文档数据结束，耗时：93毫秒
2023-05-18 00:25:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39830829387616256 [0;39m 生成今日电子书快照开始
2023-05-18 00:25:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39830829387616256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:25:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39830829387616256 [0;39m ==> Parameters: 
2023-05-18 00:25:00.099 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39830829387616256 [0;39m <==    Updates: 0
2023-05-18 00:25:00.099 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39830829387616256 [0;39m 生成今日电子书快照结束，耗时：95毫秒
2023-05-18 00:25:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39830850405273600 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:25:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830850405273600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:25:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830850405273600 [0;39m ==> Parameters: 
2023-05-18 00:25:05.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830850405273600 [0;39m <==    Updates: 3
2023-05-18 00:25:05.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39830850405273600 [0;39m 更新电子书下的文档数据结束，耗时：93毫秒
2023-05-18 00:25:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39830976188256256 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:25:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830976188256256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:25:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830976188256256 [0;39m ==> Parameters: 
2023-05-18 00:25:35.098 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39830976188256256 [0;39m <==    Updates: 3
2023-05-18 00:25:35.098 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39830976188256256 [0;39m 更新电子书下的文档数据结束，耗时：94毫秒
2023-05-18 00:26:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39831081066827776 [0;39m 生成今日电子书快照开始
2023-05-18 00:26:00.309 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39831081066827776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:26:00.309 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39831081066827776 [0;39m ==> Parameters: 
2023-05-18 00:26:00.645 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39831081066827776 [0;39m <==    Updates: 0
2023-05-18 00:26:00.645 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39831081066827776 [0;39m 生成今日电子书快照结束，耗时：636毫秒
2023-05-18 00:26:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39831102004793344 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:26:05.086 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831102004793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:26:05.087 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831102004793344 [0;39m ==> Parameters: 
2023-05-18 00:26:05.277 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831102004793344 [0;39m <==    Updates: 3
2023-05-18 00:26:05.277 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39831102004793344 [0;39m 更新电子书下的文档数据结束，耗时：276毫秒
2023-05-18 00:26:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39831227888439296 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:26:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831227888439296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:26:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831227888439296 [0;39m ==> Parameters: 
2023-05-18 00:26:35.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831227888439296 [0;39m <==    Updates: 3
2023-05-18 00:26:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39831227888439296 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-18 00:27:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39831332733456384 [0;39m 生成今日电子书快照开始
2023-05-18 00:27:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39831332733456384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:27:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39831332733456384 [0;39m ==> Parameters: 
2023-05-18 00:27:00.106 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39831332733456384 [0;39m <==    Updates: 0
2023-05-18 00:27:00.108 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39831332733456384 [0;39m 生成今日电子书快照结束，耗时：96毫秒
2023-05-18 00:27:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39831353679810560 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:27:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831353679810560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:27:05.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831353679810560 [0;39m ==> Parameters: 
2023-05-18 00:27:05.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831353679810560 [0;39m <==    Updates: 3
2023-05-18 00:27:05.101 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39831353679810560 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-05-18 00:27:12.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831384847683584 [0;39m ------------- 开始 -------------
2023-05-18 00:27:12.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831384847683584 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:27:12.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831384847683584 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:27:12.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831384847683584 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:12.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831384847683584 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-18 00:27:12.470 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39831384847683584 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-18 00:27:12.470 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39831384847683584 [0;39m ==> Parameters: 102(Long)
2023-05-18 00:27:12.502 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39831384847683584 [0;39m <==    Columns: count(0)
2023-05-18 00:27:12.502 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39831384847683584 [0;39m <==        Row: 0
2023-05-18 00:27:12.502 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39831384847683584 [0;39m <==      Total: 1
2023-05-18 00:27:12.502 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39831384847683584 [0;39m 总行数：0
2023-05-18 00:27:12.503 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39831384847683584 [0;39m 总页数：0
2023-05-18 00:27:12.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831384847683584 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-18 00:27:12.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831384847683584 [0;39m ------------- 结束 耗时：67 ms -------------
2023-05-18 00:27:12.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831386986778624 [0;39m ------------- 开始 -------------
2023-05-18 00:27:12.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831386986778624 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:27:12.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831386986778624 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:27:12.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831386986778624 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:12.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831386986778624 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-18 00:27:12.949 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39831386986778624 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-18 00:27:12.950 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39831386986778624 [0;39m ==> Parameters: 101(Long)
2023-05-18 00:27:12.982 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39831386986778624 [0;39m <==    Columns: count(0)
2023-05-18 00:27:12.982 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39831386986778624 [0;39m <==        Row: 1
2023-05-18 00:27:12.983 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39831386986778624 [0;39m <==      Total: 1
2023-05-18 00:27:12.983 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39831386986778624 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-18 00:27:12.984 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39831386986778624 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-18 00:27:13.015 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39831386986778624 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-18 00:27:13.015 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39831386986778624 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 210, 3
2023-05-18 00:27:13.016 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39831386986778624 [0;39m <==      Total: 1
2023-05-18 00:27:13.016 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39831386986778624 [0;39m 总行数：1
2023-05-18 00:27:13.017 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39831386986778624 [0;39m 总页数：1
2023-05-18 00:27:13.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831386986778624 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":210,"voteCount":3}],"total":1},"success":true}
2023-05-18 00:27:13.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831386986778624 [0;39m ------------- 结束 耗时：71 ms -------------
2023-05-18 00:27:13.792 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831390535159808 [0;39m ------------- 开始 -------------
2023-05-18 00:27:13.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831390530965504 [0;39m ------------- 开始 -------------
2023-05-18 00:27:13.792 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831390535159808 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-18 00:27:13.792 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831390530965504 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-18 00:27:13.792 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831390535159808 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-18 00:27:13.792 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831390530965504 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-18 00:27:13.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831390535159808 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:13.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831390530965504 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:13.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831390530965504 [0;39m 请求参数: [2]
2023-05-18 00:27:13.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831390535159808 [0;39m 请求参数: [2]
2023-05-18 00:27:13.825 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831390535159808 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-18 00:27:13.826 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831390535159808 [0;39m ==> Parameters: 2(Long)
2023-05-18 00:27:13.858 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831390535159808 [0;39m <==      Total: 0
2023-05-18 00:27:13.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831390535159808 [0;39m 返回结果: {"content":[],"success":true}
2023-05-18 00:27:13.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831390535159808 [0;39m ------------- 结束 耗时：66 ms -------------
2023-05-18 00:27:15.971 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39828396737433600 [0;39m 连接关闭，token：hnkKwHgAR5，session id：7！当前连接数：0
2023-05-18 00:27:16.209 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39828396754210817 [0;39m 有新连接：token：NlKwOkJXgg，session id：8，当前连接数：1
2023-05-18 00:27:16.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831400832176128 [0;39m ------------- 开始 -------------
2023-05-18 00:27:16.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831400832176128 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-18 00:27:16.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831400836370432 [0;39m ------------- 开始 -------------
2023-05-18 00:27:16.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831400832176128 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-18 00:27:16.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831400836370432 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-18 00:27:16.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831400832176128 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:16.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831400836370432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-18 00:27:16.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831400832176128 [0;39m 请求参数: [2]
2023-05-18 00:27:16.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831400836370432 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:16.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831400836370432 [0;39m 请求参数: [2]
2023-05-18 00:27:16.279 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831400836370432 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-18 00:27:16.280 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831400836370432 [0;39m ==> Parameters: 2(Long)
2023-05-18 00:27:16.311 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831400836370432 [0;39m <==      Total: 0
2023-05-18 00:27:16.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831400836370432 [0;39m 返回结果: {"content":[],"success":true}
2023-05-18 00:27:16.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831400836370432 [0;39m ------------- 结束 耗时：65 ms -------------
2023-05-18 00:27:17.419 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831405747900416 [0;39m ------------- 开始 -------------
2023-05-18 00:27:17.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831405747900416 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:27:17.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831405752094720 [0;39m ------------- 开始 -------------
2023-05-18 00:27:17.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831405747900416 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:27:17.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831405752094720 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:27:17.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831405747900416 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:17.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831405752094720 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:27:17.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831405752094721 [0;39m ------------- 开始 -------------
2023-05-18 00:27:17.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831405747900416 [0;39m 请求参数: []
2023-05-18 00:27:17.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831405752094720 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:17.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831405752094721 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:27:17.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831405752094720 [0;39m 请求参数: []
2023-05-18 00:27:17.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831405752094721 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:27:17.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831405752094721 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:17.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831405752094721 [0;39m 请求参数: []
2023-05-18 00:27:17.451 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39831405747900416 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:27:17.451 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39831405747900416 [0;39m ==> Parameters: 
2023-05-18 00:27:17.484 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39831405747900416 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:27:17.484 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39831405747900416 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:27:17.485 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39831405747900416 [0;39m <==        Row: 2023-05-17, 707, 22, 112, 6
2023-05-18 00:27:17.485 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39831405747900416 [0;39m <==      Total: 2
2023-05-18 00:27:17.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831405747900416 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":707,"viewIncrease":112,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:27:17.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831405747900416 [0;39m ------------- 结束 耗时：66 ms -------------
2023-05-18 00:27:18.811 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39831390530965504 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7bd37ea5 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:27:18.844 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39831390530965504 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-18 00:27:18.845 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39831390530965504 [0;39m ==> Parameters: 2(Long)
2023-05-18 00:27:18.880 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39831390530965504 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-18 00:27:18.880 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39831390530965504 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 210, 3
2023-05-18 00:27:18.880 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39831390530965504 [0;39m <==      Total: 1
2023-05-18 00:27:18.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831390530965504 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":210,"voteCount":3}],"success":true}
2023-05-18 00:27:18.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831390530965504 [0;39m ------------- 结束 耗时：5090 ms -------------
2023-05-18 00:27:21.255 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39831400832176128 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4b7f0802 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:27:21.288 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39831400832176128 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-18 00:27:21.288 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39831400832176128 [0;39m ==> Parameters: 2(Long)
2023-05-18 00:27:21.320 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39831400832176128 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-18 00:27:21.320 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39831400832176128 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 210, 3
2023-05-18 00:27:21.320 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39831400832176128 [0;39m <==      Total: 1
2023-05-18 00:27:21.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831400832176128 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":210,"voteCount":3}],"success":true}
2023-05-18 00:27:21.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831400832176128 [0;39m ------------- 结束 耗时：5075 ms -------------
2023-05-18 00:27:21.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831422143434752 [0;39m ------------- 开始 -------------
2023-05-18 00:27:21.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831422143434752 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-18 00:27:21.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831422143434752 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-18 00:27:21.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831422143434752 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:21.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831422143434752 [0;39m 请求参数: [38625501966897152]
2023-05-18 00:27:21.329 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39831422143434752 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-18 00:27:21.329 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39831422143434752 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-18 00:27:21.361 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39831422143434752 [0;39m <==    Columns: id, content
2023-05-18 00:27:21.362 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39831422143434752 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-18 00:27:21.362 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39831422143434752 [0;39m <==      Total: 1
2023-05-18 00:27:21.362 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39831422143434752 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-18 00:27:21.363 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39831422143434752 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-18 00:27:21.427 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39831422143434752 [0;39m <==    Updates: 1
2023-05-18 00:27:21.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831422143434752 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-18 00:27:21.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831422143434752 [0;39m ------------- 结束 耗时：100 ms -------------
2023-05-18 00:27:22.432 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39831405752094720 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3eb330b9 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:27:22.432 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39831405752094721 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4dfa0e58 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:27:22.464 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39831405752094720 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:27:22.464 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39831405752094720 [0;39m ==> Parameters: 
2023-05-18 00:27:22.497 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39831405752094720 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:27:22.497 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39831405752094720 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:27:22.498 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39831405752094720 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:27:22.498 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39831405752094720 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:27:22.498 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39831405752094720 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:27:22.498 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39831405752094720 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:27:22.499 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39831405752094720 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:27:22.499 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39831405752094720 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:27:22.499 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39831405752094720 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:27:22.500 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39831405752094720 [0;39m <==      Total: 8
2023-05-18 00:27:22.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831405752094720 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:27:22.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831405752094720 [0;39m ------------- 结束 耗时：5081 ms -------------
2023-05-18 00:27:27.449 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39831405752094721 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2529ce25 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:27:27.480 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39831405752094721 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:27:27.480 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39831405752094721 [0;39m ==> Parameters: 
2023-05-18 00:27:27.512 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:27:27.512 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:27:27.512 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:27:27.512 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:27:27.512 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:27:27.513 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:27:27.513 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:27:27.513 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:27:27.513 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:27:27.513 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:27:27.513 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:27:27.515 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:27:27.515 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:27:27.515 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:27:27.515 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:27:27.515 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39831405752094721 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:27:27.515 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39831405752094721 [0;39m <==      Total: 15
2023-05-18 00:27:27.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831405752094721 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:27:27.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831405752094721 [0;39m ------------- 结束 耗时：10096 ms -------------
2023-05-18 00:27:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39831479534096384 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:27:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831479534096384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:27:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831479534096384 [0;39m ==> Parameters: 
2023-05-18 00:27:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831479534096384 [0;39m <==    Updates: 3
2023-05-18 00:27:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39831479534096384 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-18 00:27:37.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831491831795712 [0;39m ------------- 开始 -------------
2023-05-18 00:27:37.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831491831795712 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:27:37.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831491831795712 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:27:37.944 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831491831795712 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:37.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831491831795712 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-18 00:27:37.977 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39831491831795712 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-18 00:27:37.977 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39831491831795712 [0;39m ==> Parameters: 101(Long)
2023-05-18 00:27:38.010 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39831491831795712 [0;39m <==    Columns: count(0)
2023-05-18 00:27:38.011 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39831491831795712 [0;39m <==        Row: 1
2023-05-18 00:27:38.011 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39831491831795712 [0;39m <==      Total: 1
2023-05-18 00:27:38.011 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39831491831795712 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-18 00:27:38.012 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39831491831795712 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-18 00:27:38.042 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39831491831795712 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-18 00:27:38.043 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39831491831795712 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 211, 3
2023-05-18 00:27:38.043 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39831491831795712 [0;39m <==      Total: 1
2023-05-18 00:27:38.046 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39831491831795712 [0;39m 总行数：1
2023-05-18 00:27:38.046 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39831491831795712 [0;39m 总页数：1
2023-05-18 00:27:38.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831491831795712 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":211,"voteCount":3}],"total":1},"success":true}
2023-05-18 00:27:38.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831491831795712 [0;39m ------------- 结束 耗时：103 ms -------------
2023-05-18 00:27:38.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831494490984448 [0;39m ------------- 开始 -------------
2023-05-18 00:27:38.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831494490984448 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-18 00:27:38.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831494490984448 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-18 00:27:38.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831494490984448 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:38.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831494490984448 [0;39m 请求参数: [2]
2023-05-18 00:27:38.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831494507761664 [0;39m ------------- 开始 -------------
2023-05-18 00:27:38.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831494507761664 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-18 00:27:38.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831494507761664 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-18 00:27:38.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831494507761664 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:38.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831494507761664 [0;39m 请求参数: [2]
2023-05-18 00:27:38.609 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39831494490984448 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-18 00:27:38.611 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39831494490984448 [0;39m ==> Parameters: 2(Long)
2023-05-18 00:27:38.642 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39831494490984448 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-18 00:27:38.642 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39831494490984448 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 211, 3
2023-05-18 00:27:38.642 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39831494490984448 [0;39m <==      Total: 1
2023-05-18 00:27:38.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831494490984448 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":211,"voteCount":3}],"success":true}
2023-05-18 00:27:38.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831494490984448 [0;39m ------------- 结束 耗时：66 ms -------------
2023-05-18 00:27:38.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831494830723072 [0;39m ------------- 开始 -------------
2023-05-18 00:27:38.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831494830723072 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-18 00:27:38.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831494830723072 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-18 00:27:38.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831494830723072 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:38.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831494830723072 [0;39m 请求参数: [38625501966897152]
2023-05-18 00:27:38.660 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39831494830723072 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-18 00:27:38.663 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39831494830723072 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-18 00:27:38.694 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39831494830723072 [0;39m <==    Columns: id, content
2023-05-18 00:27:38.694 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39831494830723072 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-18 00:27:38.695 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39831494830723072 [0;39m <==      Total: 1
2023-05-18 00:27:38.696 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39831494830723072 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-18 00:27:38.696 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39831494830723072 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-18 00:27:38.761 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39831494830723072 [0;39m <==    Updates: 1
2023-05-18 00:27:38.761 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831494830723072 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-18 00:27:38.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831494830723072 [0;39m ------------- 结束 耗时：104 ms -------------
2023-05-18 00:27:43.585 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39831494507761664 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@62944170 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:27:43.616 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831494507761664 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-18 00:27:43.616 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831494507761664 [0;39m ==> Parameters: 2(Long)
2023-05-18 00:27:43.654 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831494507761664 [0;39m <==      Total: 0
2023-05-18 00:27:43.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831494507761664 [0;39m 返回结果: {"content":[],"success":true}
2023-05-18 00:27:43.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831494507761664 [0;39m ------------- 结束 耗时：5073 ms -------------
2023-05-18 00:27:43.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831515806437376 [0;39m ------------- 开始 -------------
2023-05-18 00:27:43.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831515806437376 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-18 00:27:43.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831515806437376 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-18 00:27:43.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831515806437376 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:43.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831515806437376 [0;39m 请求参数: [2]
2023-05-18 00:27:43.660 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831515806437376 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-18 00:27:43.660 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831515806437376 [0;39m ==> Parameters: 2(Long)
2023-05-18 00:27:43.691 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831515806437376 [0;39m <==      Total: 0
2023-05-18 00:27:43.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831515806437376 [0;39m 返回结果: {"content":[],"success":true}
2023-05-18 00:27:43.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831515806437376 [0;39m ------------- 结束 耗时：33 ms -------------
2023-05-18 00:27:51.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831548152909825 [0;39m ------------- 开始 -------------
2023-05-18 00:27:51.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831548152909824 [0;39m ------------- 开始 -------------
2023-05-18 00:27:51.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831548152909825 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-18 00:27:51.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831548152909824 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-18 00:27:51.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831548152909825 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-18 00:27:51.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831548152909824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-18 00:27:51.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831548152909825 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:51.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831548152909824 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:51.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831548152909825 [0;39m 请求参数: [2]
2023-05-18 00:27:51.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831548152909824 [0;39m 请求参数: [2]
2023-05-18 00:27:51.403 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831548152909825 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-18 00:27:51.403 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831548152909825 [0;39m ==> Parameters: 2(Long)
2023-05-18 00:27:51.436 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39831548152909825 [0;39m <==      Total: 0
2023-05-18 00:27:51.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831548152909825 [0;39m 返回结果: {"content":[],"success":true}
2023-05-18 00:27:51.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831548152909825 [0;39m ------------- 结束 耗时：65 ms -------------
2023-05-18 00:27:56.374 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39831548152909824 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@62fcc069 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:27:56.405 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39831548152909824 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-18 00:27:56.406 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39831548152909824 [0;39m ==> Parameters: 2(Long)
2023-05-18 00:27:56.437 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39831548152909824 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-18 00:27:56.437 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39831548152909824 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 212, 3
2023-05-18 00:27:56.439 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39831548152909824 [0;39m <==      Total: 1
2023-05-18 00:27:56.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831548152909824 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":212,"voteCount":3}],"success":true}
2023-05-18 00:27:56.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831548152909824 [0;39m ------------- 结束 耗时：5068 ms -------------
2023-05-18 00:27:56.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39831569455779840 [0;39m ------------- 开始 -------------
2023-05-18 00:27:56.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39831569455779840 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-18 00:27:56.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39831569455779840 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-18 00:27:56.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39831569455779840 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:27:56.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39831569455779840 [0;39m 请求参数: [38625501966897152]
2023-05-18 00:27:56.451 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39831569455779840 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-18 00:27:56.451 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39831569455779840 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-18 00:27:56.482 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39831569455779840 [0;39m <==    Columns: id, content
2023-05-18 00:27:56.483 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39831569455779840 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-18 00:27:56.483 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39831569455779840 [0;39m <==      Total: 1
2023-05-18 00:27:56.484 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39831569455779840 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-18 00:27:56.484 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39831569455779840 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-18 00:27:56.549 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39831569455779840 [0;39m <==    Updates: 1
2023-05-18 00:27:56.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39831569455779840 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-18 00:27:56.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39831569455779840 [0;39m ------------- 结束 耗时：100 ms -------------
2023-05-18 00:28:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39831584387502080 [0;39m 生成今日电子书快照开始
2023-05-18 00:28:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39831584387502080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:28:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39831584387502080 [0;39m ==> Parameters: 
2023-05-18 00:28:00.112 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39831584387502080 [0;39m <==    Updates: 0
2023-05-18 00:28:00.112 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39831584387502080 [0;39m 生成今日电子书快照结束，耗时：101毫秒
2023-05-18 00:28:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39831605325467648 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:28:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831605325467648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:28:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831605325467648 [0;39m ==> Parameters: 
2023-05-18 00:28:05.099 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831605325467648 [0;39m <==    Updates: 3
2023-05-18 00:28:05.100 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39831605325467648 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-18 00:28:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39831731188142080 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:28:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831731188142080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:28:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831731188142080 [0;39m ==> Parameters: 
2023-05-18 00:28:35.106 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831731188142080 [0;39m <==    Updates: 3
2023-05-18 00:28:35.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39831731188142080 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-18 00:29:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39831836028964864 [0;39m 生成今日电子书快照开始
2023-05-18 00:29:00.036 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39831836028964864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:29:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39831836028964864 [0;39m ==> Parameters: 
2023-05-18 00:29:00.107 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39831836028964864 [0;39m <==    Updates: 0
2023-05-18 00:29:00.107 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39831836028964864 [0;39m 生成今日电子书快照结束，耗时：101毫秒
2023-05-18 00:29:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39831857008873472 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:29:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831857008873472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:29:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831857008873472 [0;39m ==> Parameters: 
2023-05-18 00:29:05.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831857008873472 [0;39m <==    Updates: 3
2023-05-18 00:29:05.101 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39831857008873472 [0;39m 更新电子书下的文档数据结束，耗时：93毫秒
2023-05-18 00:29:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39831982846382080 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:29:35.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831982846382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:29:35.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831982846382080 [0;39m ==> Parameters: 
2023-05-18 00:29:35.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39831982846382080 [0;39m <==    Updates: 3
2023-05-18 00:29:35.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39831982846382080 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-18 00:30:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39832087712370688 [0;39m 生成今日电子书快照开始
2023-05-18 00:30:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39832087712370688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:30:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39832087712370688 [0;39m ==> Parameters: 
2023-05-18 00:30:00.108 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39832087712370688 [0;39m <==    Updates: 0
2023-05-18 00:30:00.109 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39832087712370688 [0;39m 生成今日电子书快照结束，耗时：97毫秒
2023-05-18 00:30:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39832108675502080 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:30:05.301 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832108675502080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:30:05.301 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832108675502080 [0;39m ==> Parameters: 
2023-05-18 00:30:05.607 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832108675502080 [0;39m <==    Updates: 3
2023-05-18 00:30:05.607 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39832108675502080 [0;39m 更新电子书下的文档数据结束，耗时：596毫秒
2023-05-18 00:30:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39832234508816384 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:30:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832234508816384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:30:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832234508816384 [0;39m ==> Parameters: 
2023-05-18 00:30:35.106 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832234508816384 [0;39m <==    Updates: 3
2023-05-18 00:30:35.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39832234508816384 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-18 00:31:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39832339387387904 [0;39m 生成今日电子书快照开始
2023-05-18 00:31:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39832339387387904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:31:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39832339387387904 [0;39m ==> Parameters: 
2023-05-18 00:31:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39832339387387904 [0;39m <==    Updates: 0
2023-05-18 00:31:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39832339387387904 [0;39m 生成今日电子书快照结束，耗时：95毫秒
2023-05-18 00:31:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39832360354713600 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:31:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832360354713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:31:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832360354713600 [0;39m ==> Parameters: 
2023-05-18 00:31:05.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832360354713600 [0;39m <==    Updates: 3
2023-05-18 00:31:05.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39832360354713600 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-18 00:31:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39832486137696256 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:31:35.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832486137696256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:31:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832486137696256 [0;39m ==> Parameters: 
2023-05-18 00:31:35.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832486137696256 [0;39m <==    Updates: 3
2023-05-18 00:31:35.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39832486137696256 [0;39m 更新电子书下的文档数据结束，耗时：107毫秒
2023-05-18 00:32:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39832591020462080 [0;39m 生成今日电子书快照开始
2023-05-18 00:32:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39832591020462080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:32:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39832591020462080 [0;39m ==> Parameters: 
2023-05-18 00:32:00.106 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39832591020462080 [0;39m <==    Updates: 0
2023-05-18 00:32:00.106 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39832591020462080 [0;39m 生成今日电子书快照结束，耗时：96毫秒
2023-05-18 00:32:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39832611979399168 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:32:05.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832611979399168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:32:05.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832611979399168 [0;39m ==> Parameters: 
2023-05-18 00:32:05.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832611979399168 [0;39m <==    Updates: 3
2023-05-18 00:32:05.101 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39832611979399168 [0;39m 更新电子书下的文档数据结束，耗时：94毫秒
2023-05-18 00:32:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39832737800130560 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:32:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832737800130560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:32:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832737800130560 [0;39m ==> Parameters: 
2023-05-18 00:32:35.099 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832737800130560 [0;39m <==    Updates: 3
2023-05-18 00:32:35.100 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39832737800130560 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-18 00:33:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39832842678702080 [0;39m 生成今日电子书快照开始
2023-05-18 00:33:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39832842678702080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:33:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39832842678702080 [0;39m ==> Parameters: 
2023-05-18 00:33:00.107 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39832842678702080 [0;39m <==    Updates: 0
2023-05-18 00:33:00.107 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39832842678702080 [0;39m 生成今日电子书快照结束，耗时：97毫秒
2023-05-18 00:33:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39832863662804992 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:33:05.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832863662804992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:33:05.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832863662804992 [0;39m ==> Parameters: 
2023-05-18 00:33:05.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832863662804992 [0;39m <==    Updates: 3
2023-05-18 00:33:05.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39832863662804992 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-18 00:33:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39832989470953472 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:33:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832989470953472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:33:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832989470953472 [0;39m ==> Parameters: 
2023-05-18 00:33:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39832989470953472 [0;39m <==    Updates: 3
2023-05-18 00:33:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39832989470953472 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:34:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39833094353719296 [0;39m 生成今日电子书快照开始
2023-05-18 00:34:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39833094353719296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:34:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39833094353719296 [0;39m ==> Parameters: 
2023-05-18 00:34:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39833094353719296 [0;39m <==    Updates: 0
2023-05-18 00:34:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39833094353719296 [0;39m 生成今日电子书快照结束，耗时：97毫秒
2023-05-18 00:34:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39833115287490560 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:34:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833115287490560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:34:05.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833115287490560 [0;39m ==> Parameters: 
2023-05-18 00:34:05.099 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833115287490560 [0;39m <==    Updates: 3
2023-05-18 00:34:05.100 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39833115287490560 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-18 00:34:07.160 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：NlKwOkJXgg，session id：8！当前连接数：0
2023-05-18 00:34:07.223 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-18 00:34:07.224 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-18 00:34:07.226 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-18 00:34:07.252 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-18 00:34:11.662 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-18 00:34:11.670 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 26048 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-18 00:34:11.671 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-18 00:34:11.715 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-18 00:34:11.716 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-18 00:34:12.335 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-18 00:34:12.338 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-18 00:34:12.364 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2023-05-18 00:34:13.044 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-18 00:34:13.050 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-18 00:34:13.050 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-18 00:34:13.050 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-18 00:34:13.131 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-18 00:34:13.132 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1416 ms
2023-05-18 00:34:13.896 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-18 00:34:14.193 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-18 00:34:14.231 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-18 00:34:14.251 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-18 00:34:14.263 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-18 00:34:14.273 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 3.101 seconds (JVM running for 4.155)
2023-05-18 00:34:14.275 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-18 00:34:14.275 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-18 00:34:21.259 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-18 00:34:21.260 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-18 00:34:21.261 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-18 00:34:21.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39833183663034369 [0;39m ------------- 开始 -------------
2023-05-18 00:34:21.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39833183663034368 [0;39m ------------- 开始 -------------
2023-05-18 00:34:21.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39833183663034369 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-18 00:34:21.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39833183663034368 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-18 00:34:21.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39833183663034369 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-18 00:34:21.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39833183663034368 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-18 00:34:21.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39833183663034368 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:34:21.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39833183663034369 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:34:21.318 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：Xgb8YGrx6A，session id：0，当前连接数：1
2023-05-18 00:34:21.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39833183663034369 [0;39m 请求参数: [2]
2023-05-18 00:34:21.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39833183663034368 [0;39m 请求参数: [2]
2023-05-18 00:34:21.389 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39833183663034368 [0;39m HikariPool-1 - Starting...
2023-05-18 00:34:22.319 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39833183663034368 [0;39m HikariPool-1 - Start completed.
2023-05-18 00:34:22.333 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39833183663034369 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-18 00:34:22.355 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39833183663034369 [0;39m ==> Parameters: 2(Long)
2023-05-18 00:34:22.402 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39833183663034369 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-18 00:34:22.402 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39833183663034369 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 213, 3
2023-05-18 00:34:22.403 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39833183663034369 [0;39m <==      Total: 1
2023-05-18 00:34:22.406 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39833183663034368 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-18 00:34:22.407 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39833183663034368 [0;39m ==> Parameters: 2(Long)
2023-05-18 00:34:22.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39833183663034369 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":213,"voteCount":3}],"success":true}
2023-05-18 00:34:22.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39833183663034369 [0;39m ------------- 结束 耗时：1118 ms -------------
2023-05-18 00:34:22.440 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39833183663034368 [0;39m <==      Total: 0
2023-05-18 00:34:22.440 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39833183663034368 [0;39m 返回结果: {"content":[],"success":true}
2023-05-18 00:34:22.440 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39833183663034368 [0;39m ------------- 结束 耗时：1133 ms -------------
2023-05-18 00:34:22.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39833188578758656 [0;39m ------------- 开始 -------------
2023-05-18 00:34:22.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39833188578758656 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-18 00:34:22.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39833188578758656 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-18 00:34:22.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39833188578758656 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:34:22.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39833188578758656 [0;39m 请求参数: [38625501966897152]
2023-05-18 00:34:22.480 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39833188578758656 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-18 00:34:22.480 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39833188578758656 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-18 00:34:22.514 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39833188578758656 [0;39m <==    Columns: id, content
2023-05-18 00:34:22.514 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39833188578758656 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-18 00:34:22.514 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39833188578758656 [0;39m <==      Total: 1
2023-05-18 00:34:22.517 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39833188578758656 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-18 00:34:22.517 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39833188578758656 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-18 00:34:22.587 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39833188578758656 [0;39m <==    Updates: 1
2023-05-18 00:34:22.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39833188578758656 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-18 00:34:22.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39833188578758656 [0;39m ------------- 结束 耗时：109 ms -------------
2023-05-18 00:34:23.878 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-18 00:34:23.878 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-18 00:34:23.878 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39810535654559744
2023-05-18 00:34:24.686 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39810535654559744"}
2023-05-18 00:34:24.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39833198074662912 [0;39m ------------- 开始 -------------
2023-05-18 00:34:24.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39833198074662912 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-18 00:34:24.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39833198074662912 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-18 00:34:24.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39833198074662912 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:34:24.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39833198074662912 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-18 00:34:24.806 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39833198074662912 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-18 00:34:24.807 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39833198074662912 [0;39m ==> Parameters: 
2023-05-18 00:34:24.839 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39833198074662912 [0;39m <==    Columns: count(0)
2023-05-18 00:34:24.840 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39833198074662912 [0;39m <==        Row: 2
2023-05-18 00:34:24.841 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39833198074662912 [0;39m <==      Total: 1
2023-05-18 00:34:24.843 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39833198074662912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-18 00:34:24.844 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39833198074662912 [0;39m ==> Parameters: 10(Integer)
2023-05-18 00:34:24.877 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39833198074662912 [0;39m <==    Columns: id, login_name, name, password
2023-05-18 00:34:24.878 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39833198074662912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-18 00:34:24.878 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39833198074662912 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-18 00:34:24.879 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39833198074662912 [0;39m <==      Total: 2
2023-05-18 00:34:24.881 INFO  com.jiawa.wiki.service.UserService                :50   [32m39833198074662912 [0;39m 总行数：2
2023-05-18 00:34:24.881 INFO  com.jiawa.wiki.service.UserService                :51   [32m39833198074662912 [0;39m 总页数：1
2023-05-18 00:34:24.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39833198074662912 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-18 00:34:24.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39833198074662912 [0;39m ------------- 结束 耗时：147 ms -------------
2023-05-18 00:34:24.893 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39833198074662912 [0;39m ------------- LoginInterceptor 结束 耗时：1015 ms -------------
2023-05-18 00:34:25.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39833201069395969 [0;39m ------------- 开始 -------------
2023-05-18 00:34:25.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39833201069395969 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:34:25.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39833201069395969 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:34:25.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39833201073590272 [0;39m ------------- 开始 -------------
2023-05-18 00:34:25.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39833201069395969 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:34:25.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39833201069395968 [0;39m ------------- 开始 -------------
2023-05-18 00:34:25.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39833201069395969 [0;39m 请求参数: []
2023-05-18 00:34:25.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39833201073590272 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:34:25.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39833201069395968 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:34:25.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39833201069395968 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:34:25.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39833201069395968 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:34:25.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39833201073590272 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:34:25.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39833201069395968 [0;39m 请求参数: []
2023-05-18 00:34:25.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39833201073590272 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:34:25.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39833201073590272 [0;39m 请求参数: []
2023-05-18 00:34:25.494 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39833201069395968 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:34:25.494 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39833201069395968 [0;39m ==> Parameters: 
2023-05-18 00:34:25.495 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39833201073590272 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:34:25.496 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39833201073590272 [0;39m ==> Parameters: 
2023-05-18 00:34:25.496 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39833201069395969 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:34:25.496 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39833201069395969 [0;39m ==> Parameters: 
2023-05-18 00:34:25.528 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39833201069395968 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:34:25.529 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39833201069395968 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:34:25.531 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39833201073590272 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:34:25.531 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39833201073590272 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:34:25.531 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:34:25.532 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:34:25.532 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:34:25.532 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:34:25.533 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39833201069395968 [0;39m <==        Row: 2023-05-17, 710, 22, 115, 6
2023-05-18 00:34:25.533 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:34:25.533 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39833201069395968 [0;39m <==      Total: 2
2023-05-18 00:34:25.533 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:34:25.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:34:25.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:34:25.532 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39833201073590272 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:34:25.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:34:25.534 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39833201073590272 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:34:25.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:34:25.535 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:34:25.535 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:34:25.535 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:34:25.535 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39833201073590272 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:34:25.535 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:34:25.536 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39833201073590272 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:34:25.536 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:34:25.536 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833201069395969 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:34:25.536 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39833201069395969 [0;39m <==      Total: 15
2023-05-18 00:34:25.537 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39833201073590272 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:34:25.537 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39833201073590272 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:34:25.538 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39833201073590272 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:34:25.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39833201069395968 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":710,"viewIncrease":115,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:34:25.538 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39833201073590272 [0;39m <==      Total: 8
2023-05-18 00:34:25.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39833201069395968 [0;39m ------------- 结束 耗时：81 ms -------------
2023-05-18 00:34:25.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39833201073590272 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:34:25.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39833201073590272 [0;39m ------------- 结束 耗时：81 ms -------------
2023-05-18 00:34:25.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39833201069395969 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:34:25.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39833201069395969 [0;39m ------------- 结束 耗时：92 ms -------------
2023-05-18 00:34:26.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39833205242728448 [0;39m ------------- 开始 -------------
2023-05-18 00:34:26.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39833205242728448 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:34:26.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39833205242728448 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:34:26.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39833205242728448 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:34:26.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39833205242728448 [0;39m 请求参数: []
2023-05-18 00:34:26.489 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39833205242728448 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:34:26.489 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39833205242728448 [0;39m ==> Parameters: 
2023-05-18 00:34:26.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:34:26.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:34:26.524 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:34:26.525 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:34:26.525 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:34:26.525 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:34:26.526 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:34:26.526 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:34:26.526 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:34:26.526 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:34:26.526 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:34:26.526 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:34:26.527 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:34:26.527 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:34:26.527 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:34:26.527 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39833205242728448 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:34:26.527 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39833205242728448 [0;39m <==      Total: 15
2023-05-18 00:34:26.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39833205242728448 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:34:26.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39833205242728448 [0;39m ------------- 结束 耗时：78 ms -------------
2023-05-18 00:34:26.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39833205636993024 [0;39m ------------- 开始 -------------
2023-05-18 00:34:26.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39833205636993024 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:34:26.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39833205636993024 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:34:26.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39833205636993024 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:34:26.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39833205636993024 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-18 00:34:26.555 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39833205636993024 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-18 00:34:26.555 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39833205636993024 [0;39m ==> Parameters: 
2023-05-18 00:34:26.588 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39833205636993024 [0;39m <==    Columns: count(0)
2023-05-18 00:34:26.588 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39833205636993024 [0;39m <==        Row: 6
2023-05-18 00:34:26.589 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39833205636993024 [0;39m <==      Total: 1
2023-05-18 00:34:26.589 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39833205636993024 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-18 00:34:26.589 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39833205636993024 [0;39m ==> Parameters: 10(Integer)
2023-05-18 00:34:26.623 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39833205636993024 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-18 00:34:26.623 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39833205636993024 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-18 00:34:26.624 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39833205636993024 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 213, 3
2023-05-18 00:34:26.626 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39833205636993024 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-18 00:34:26.627 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39833205636993024 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-18 00:34:26.627 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39833205636993024 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-18 00:34:26.628 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39833205636993024 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 9, 36, 4
2023-05-18 00:34:26.629 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39833205636993024 [0;39m <==      Total: 6
2023-05-18 00:34:26.629 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39833205636993024 [0;39m 总行数：6
2023-05-18 00:34:26.630 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39833205636993024 [0;39m 总页数：1
2023-05-18 00:34:26.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39833205636993024 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":213,"voteCount":3},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":200,"category2Id":202,"docCount":9,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":36,"voteCount":4}],"total":6},"success":true}
2023-05-18 00:34:26.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39833205636993024 [0;39m ------------- 结束 耗时：92 ms -------------
2023-05-18 00:34:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39833241120804864 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:34:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833241120804864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:34:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833241120804864 [0;39m ==> Parameters: 
2023-05-18 00:34:35.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833241120804864 [0;39m <==    Updates: 3
2023-05-18 00:34:35.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39833241120804864 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:35:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39833346007764992 [0;39m 生成今日电子书快照开始
2023-05-18 00:35:00.045 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39833346007764992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:35:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39833346007764992 [0;39m ==> Parameters: 
2023-05-18 00:35:00.118 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39833346007764992 [0;39m <==    Updates: 0
2023-05-18 00:35:00.120 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39833346007764992 [0;39m 生成今日电子书快照结束，耗时：106毫秒
2023-05-18 00:35:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39833366979284992 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:35:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833366979284992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:35:05.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833366979284992 [0;39m ==> Parameters: 
2023-05-18 00:35:05.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833366979284992 [0;39m <==    Updates: 3
2023-05-18 00:35:05.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39833366979284992 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-05-18 00:35:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39833492762267648 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:35:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833492762267648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:35:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833492762267648 [0;39m ==> Parameters: 
2023-05-18 00:35:35.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833492762267648 [0;39m <==    Updates: 3
2023-05-18 00:35:35.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39833492762267648 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-05-18 00:36:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39833597611479040 [0;39m 生成今日电子书快照开始
2023-05-18 00:36:00.034 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39833597611479040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:36:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39833597611479040 [0;39m ==> Parameters: 
2023-05-18 00:36:00.100 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39833597611479040 [0;39m <==    Updates: 0
2023-05-18 00:36:00.101 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39833597611479040 [0;39m 生成今日电子书快照结束，耗时：101毫秒
2023-05-18 00:36:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39833618603970560 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:36:05.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833618603970560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:36:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833618603970560 [0;39m ==> Parameters: 
2023-05-18 00:36:05.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833618603970560 [0;39m <==    Updates: 3
2023-05-18 00:36:05.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39833618603970560 [0;39m 更新电子书下的文档数据结束，耗时：103毫秒
2023-05-18 00:36:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39833744420507648 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:36:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833744420507648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:36:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833744420507648 [0;39m ==> Parameters: 
2023-05-18 00:36:35.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833744420507648 [0;39m <==    Updates: 3
2023-05-18 00:36:35.101 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39833744420507648 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-18 00:37:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39833849282301952 [0;39m 生成今日电子书快照开始
2023-05-18 00:37:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39833849282301952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:37:00.038 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39833849282301952 [0;39m ==> Parameters: 
2023-05-18 00:37:00.104 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39833849282301952 [0;39m <==    Updates: 0
2023-05-18 00:37:00.104 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39833849282301952 [0;39m 生成今日电子书快照结束，耗时：98毫秒
2023-05-18 00:37:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39833870274793472 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:37:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833870274793472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:37:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833870274793472 [0;39m ==> Parameters: 
2023-05-18 00:37:05.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833870274793472 [0;39m <==    Updates: 3
2023-05-18 00:37:05.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39833870274793472 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:37:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39833996070359040 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:37:35.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833996070359040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:37:35.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833996070359040 [0;39m ==> Parameters: 
2023-05-18 00:37:35.099 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39833996070359040 [0;39m <==    Updates: 3
2023-05-18 00:37:35.099 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39833996070359040 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-18 00:38:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39834100990873600 [0;39m 生成今日电子书快照开始
2023-05-18 00:38:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39834100990873600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:38:00.050 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39834100990873600 [0;39m ==> Parameters: 
2023-05-18 00:38:00.123 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39834100990873600 [0;39m <==    Updates: 0
2023-05-18 00:38:00.123 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39834100990873600 [0;39m 生成今日电子书快照结束，耗时：107毫秒
2023-05-18 00:38:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39834121954004992 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:38:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834121954004992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:38:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834121954004992 [0;39m ==> Parameters: 
2023-05-18 00:38:05.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834121954004992 [0;39m <==    Updates: 3
2023-05-18 00:38:05.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39834121954004992 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-18 00:38:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39834247732793344 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:38:35.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834247732793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:38:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834247732793344 [0;39m ==> Parameters: 
2023-05-18 00:38:35.100 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834247732793344 [0;39m <==    Updates: 3
2023-05-18 00:38:35.100 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39834247732793344 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-18 00:39:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39834352623947776 [0;39m 生成今日电子书快照开始
2023-05-18 00:39:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39834352623947776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:39:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39834352623947776 [0;39m ==> Parameters: 
2023-05-18 00:39:00.112 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39834352623947776 [0;39m <==    Updates: 0
2023-05-18 00:39:00.112 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39834352623947776 [0;39m 生成今日电子书快照结束，耗时：102毫秒
2023-05-18 00:39:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39834373570301952 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:39:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834373570301952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:39:05.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834373570301952 [0;39m ==> Parameters: 
2023-05-18 00:39:05.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834373570301952 [0;39m <==    Updates: 3
2023-05-18 00:39:05.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39834373570301952 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-18 00:39:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39834499416199168 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:39:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834499416199168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:39:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834499416199168 [0;39m ==> Parameters: 
2023-05-18 00:39:35.106 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834499416199168 [0;39m <==    Updates: 3
2023-05-18 00:39:35.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39834499416199168 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-18 00:40:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39834604261216256 [0;39m 生成今日电子书快照开始
2023-05-18 00:40:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39834604261216256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:40:00.039 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39834604261216256 [0;39m ==> Parameters: 
2023-05-18 00:40:00.105 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39834604261216256 [0;39m <==    Updates: 0
2023-05-18 00:40:00.105 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39834604261216256 [0;39m 生成今日电子书快照结束，耗时：101毫秒
2023-05-18 00:40:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39834625253707776 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:40:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834625253707776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:40:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834625253707776 [0;39m ==> Parameters: 
2023-05-18 00:40:05.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834625253707776 [0;39m <==    Updates: 3
2023-05-18 00:40:05.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39834625253707776 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-05-18 00:40:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39834751087022080 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:40:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834751087022080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:40:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834751087022080 [0;39m ==> Parameters: 
2023-05-18 00:40:35.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834751087022080 [0;39m <==    Updates: 3
2023-05-18 00:40:35.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39834751087022080 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-18 00:40:35.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39834751804248065 [0;39m ------------- 开始 -------------
2023-05-18 00:40:35.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39834751804248064 [0;39m ------------- 开始 -------------
2023-05-18 00:40:35.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39834751804248064 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:40:35.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39834751804248065 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:40:35.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39834751804248065 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:40:35.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39834751804248064 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:40:35.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39834751804248064 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:40:35.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39834751804248064 [0;39m 请求参数: []
2023-05-18 00:40:35.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39834751812636672 [0;39m ------------- 开始 -------------
2023-05-18 00:40:35.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39834751812636672 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:40:35.183 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39834751804248064 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:40:35.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39834751812636672 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:40:35.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39834751804248065 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:40:35.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39834751812636672 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:40:35.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39834751804248065 [0;39m 请求参数: []
2023-05-18 00:40:35.183 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39834751804248064 [0;39m ==> Parameters: 
2023-05-18 00:40:35.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39834751812636672 [0;39m 请求参数: []
2023-05-18 00:40:35.217 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834751804248064 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:40:35.217 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834751804248064 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:40:35.218 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834751804248064 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:40:35.218 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834751804248064 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:40:35.218 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834751804248064 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:40:35.218 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834751804248064 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:40:35.220 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834751804248064 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:40:35.220 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834751804248064 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:40:35.221 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834751804248064 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:40:35.221 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39834751804248064 [0;39m <==      Total: 8
2023-05-18 00:40:35.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39834751804248064 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:40:35.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39834751804248064 [0;39m ------------- 结束 耗时：41 ms -------------
2023-05-18 00:40:36.989 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39833201069395969 [0;39m 连接关闭，token：Xgb8YGrx6A，session id：0！当前连接数：0
2023-05-18 00:40:37.583 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39833201073590272 [0;39m 有新连接：token：WE53IdCTbT，session id：1，当前连接数：1
2023-05-18 00:40:37.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39834762130624512 [0;39m ------------- 开始 -------------
2023-05-18 00:40:37.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39834762130624512 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:40:37.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39834762130624512 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:40:37.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39834762130624512 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:40:37.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39834762130624512 [0;39m 请求参数: []
2023-05-18 00:40:37.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39834762147401728 [0;39m ------------- 开始 -------------
2023-05-18 00:40:37.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39834762147401728 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:40:37.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39834762147401728 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:40:37.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39834762147401728 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:40:37.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39834762147401728 [0;39m 请求参数: []
2023-05-18 00:40:37.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39834762147401729 [0;39m ------------- 开始 -------------
2023-05-18 00:40:37.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39834762147401729 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:40:37.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39834762147401729 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:40:37.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39834762147401729 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:40:37.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39834762147401729 [0;39m 请求参数: []
2023-05-18 00:40:37.679 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39834762130624512 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:40:37.680 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39834762130624512 [0;39m ==> Parameters: 
2023-05-18 00:40:37.714 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39834762130624512 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:40:37.715 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39834762130624512 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:40:37.715 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39834762130624512 [0;39m <==        Row: 2023-05-17, 711, 22, 116, 6
2023-05-18 00:40:37.716 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39834762130624512 [0;39m <==      Total: 2
2023-05-18 00:40:37.717 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39834762130624512 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":711,"viewIncrease":116,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:40:37.717 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39834762130624512 [0;39m ------------- 结束 耗时：74 ms -------------
2023-05-18 00:40:40.199 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39834751804248065 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4bbc6814 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:40:40.199 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39834751812636672 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@69ba0ddb (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:40:40.232 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39834751812636672 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:40:40.232 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39834751812636672 [0;39m ==> Parameters: 
2023-05-18 00:40:40.264 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:40:40.265 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:40:40.265 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:40:40.265 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:40:40.267 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:40:40.267 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:40:40.267 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:40:40.268 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:40:40.268 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:40:40.268 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:40:40.268 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:40:40.269 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:40:40.269 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:40:40.270 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:40:40.270 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:40:40.270 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834751812636672 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:40:40.270 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39834751812636672 [0;39m <==      Total: 15
2023-05-18 00:40:40.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39834751812636672 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:40:40.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39834751812636672 [0;39m ------------- 结束 耗时：5090 ms -------------
2023-05-18 00:40:42.666 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39834762147401728 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@72f41f03 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:40:42.666 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39834762147401729 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@37d92e8c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:40:42.700 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39834762147401728 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:40:42.700 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39834762147401728 [0;39m ==> Parameters: 
2023-05-18 00:40:42.735 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834762147401728 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:40:42.740 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834762147401728 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:40:42.742 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834762147401728 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:40:42.744 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834762147401728 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:40:42.745 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834762147401728 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:40:42.747 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834762147401728 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:40:42.747 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834762147401728 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:40:42.747 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834762147401728 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:40:42.748 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39834762147401728 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:40:42.748 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39834762147401728 [0;39m <==      Total: 8
2023-05-18 00:40:42.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39834762147401728 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:40:42.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39834762147401728 [0;39m ------------- 结束 耗时：5102 ms -------------
2023-05-18 00:40:44.762 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-18 00:40:44.763 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-18 00:40:44.763 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39810535654559744
2023-05-18 00:40:45.205 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39834751804248065 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@48eacd86 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:40:45.237 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39834751804248065 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:40:45.238 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39834751804248065 [0;39m ==> Parameters: 
2023-05-18 00:40:45.273 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39834751804248065 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:40:45.273 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39834751804248065 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:40:45.274 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39834751804248065 [0;39m <==        Row: 2023-05-17, 711, 22, 116, 6
2023-05-18 00:40:45.274 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39834751804248065 [0;39m <==      Total: 2
2023-05-18 00:40:45.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39834751804248065 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":711,"viewIncrease":116,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:40:45.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39834751804248065 [0;39m ------------- 结束 耗时：10094 ms -------------
2023-05-18 00:40:47.670 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39834762147401729 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@e7be9d3 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:40:47.702 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39834762147401729 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:40:47.704 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39834762147401729 [0;39m ==> Parameters: 
2023-05-18 00:40:47.737 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:40:47.737 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:40:47.737 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:40:47.739 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:40:47.739 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:40:47.740 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:40:47.740 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:40:47.740 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:40:47.741 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:40:47.741 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:40:47.741 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:40:47.742 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:40:47.742 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:40:47.742 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:40:47.743 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:40:47.743 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39834762147401729 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:40:47.744 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39834762147401729 [0;39m <==      Total: 15
2023-05-18 00:40:47.745 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39834762147401729 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:40:47.745 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39834762147401729 [0;39m ------------- 结束 耗时：10098 ms -------------
2023-05-18 00:41:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39834855940427776 [0;39m 生成今日电子书快照开始
2023-05-18 00:41:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39834855940427776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:41:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39834855940427776 [0;39m ==> Parameters: 
2023-05-18 00:41:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39834855940427776 [0;39m <==    Updates: 0
2023-05-18 00:41:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39834855940427776 [0;39m 生成今日电子书快照结束，耗时：102毫秒
2023-05-18 00:41:03.983 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m                  [0;39m 系统异常：
org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:74)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:272)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.convertLettuceAccessException(LettuceStringCommands.java:800)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:70)
	at org.springframework.data.redis.connection.DefaultedRedisConnection.get(DefaultedRedisConnection.java:267)
	at org.springframework.data.redis.core.DefaultValueOperations$1.inRedis(DefaultValueOperations.java:57)
	at org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:60)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:229)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:189)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:96)
	at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:53)
	at com.jiawa.wiki.interceptor.LoginInterceptor.preHandle(LoginInterceptor.java:53)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1056)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at io.lettuce.core.internal.Exceptions.bubble(Exceptions.java:83)
	at io.lettuce.core.internal.Futures.awaitOrCancel(Futures.java:250)
	at io.lettuce.core.FutureSyncInvocationHandler.handleInvocation(FutureSyncInvocationHandler.java:75)
	at io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80)
	at com.sun.proxy.$Proxy136.get(Unknown Source)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:68)
	... 49 common frames omitted
Caused by: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at sun.nio.ch.SocketDispatcher.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)
	at sun.nio.ch.IOUtil.read(IOUtil.java:192)
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:378)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1134)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-18 00:41:03.986 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m                  [0;39m Resolved [org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。]
2023-05-18 00:41:04.057 INFO  io.lettuce.core.protocol.ConnectionWatchdog       :171  [32m                  [0;39m Reconnecting, last destination was /106.14.183.201:6379
2023-05-18 00:41:04.134 INFO  io.lettuce.core.protocol.ReconnectionHandler      :164  [32m                  [0;39m Reconnected to 106.14.183.201:6379
2023-05-18 00:41:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39834876907753472 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:41:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834876907753472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:41:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834876907753472 [0;39m ==> Parameters: 
2023-05-18 00:41:05.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39834876907753472 [0;39m <==    Updates: 3
2023-05-18 00:41:05.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39834876907753472 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-18 00:41:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39835002753650688 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:41:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835002753650688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:41:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835002753650688 [0;39m ==> Parameters: 
2023-05-18 00:41:35.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835002753650688 [0;39m <==    Updates: 3
2023-05-18 00:41:35.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39835002753650688 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-18 00:42:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39835107598667776 [0;39m 生成今日电子书快照开始
2023-05-18 00:42:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39835107598667776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:42:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39835107598667776 [0;39m ==> Parameters: 
2023-05-18 00:42:00.112 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39835107598667776 [0;39m <==    Updates: 0
2023-05-18 00:42:00.112 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39835107598667776 [0;39m 生成今日电子书快照结束，耗时：103毫秒
2023-05-18 00:42:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39835128545021952 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:42:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835128545021952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:42:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835128545021952 [0;39m ==> Parameters: 
2023-05-18 00:42:05.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835128545021952 [0;39m <==    Updates: 3
2023-05-18 00:42:05.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39835128545021952 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-18 00:42:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39835254424473600 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:42:35.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835254424473600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:42:35.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835254424473600 [0;39m ==> Parameters: 
2023-05-18 00:42:35.115 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835254424473600 [0;39m <==    Updates: 3
2023-05-18 00:42:35.115 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39835254424473600 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-05-18 00:43:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39835359261102080 [0;39m 生成今日电子书快照开始
2023-05-18 00:43:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39835359261102080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:43:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39835359261102080 [0;39m ==> Parameters: 
2023-05-18 00:43:00.115 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39835359261102080 [0;39m <==    Updates: 0
2023-05-18 00:43:00.115 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39835359261102080 [0;39m 生成今日电子书快照结束，耗时：103毫秒
2023-05-18 00:43:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39835380224233472 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:43:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835380224233472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:43:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835380224233472 [0;39m ==> Parameters: 
2023-05-18 00:43:05.106 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835380224233472 [0;39m <==    Updates: 3
2023-05-18 00:43:05.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39835380224233472 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-18 00:43:16.750 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：WE53IdCTbT，session id：1！当前连接数：0
2023-05-18 00:43:16.799 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-18 00:43:16.800 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-18 00:43:16.802 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-18 00:43:16.810 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-18 00:43:20.864 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-18 00:43:20.868 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 17132 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-18 00:43:20.870 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-18 00:43:20.914 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-18 00:43:20.915 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-18 00:43:21.501 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-18 00:43:21.502 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-18 00:43:21.527 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2023-05-18 00:43:22.118 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-18 00:43:22.124 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-18 00:43:22.124 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-18 00:43:22.124 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-18 00:43:22.194 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-18 00:43:22.194 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1279 ms
2023-05-18 00:43:22.888 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-18 00:43:23.173 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-18 00:43:23.217 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-18 00:43:23.234 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-18 00:43:23.248 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-18 00:43:23.259 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 2.751 seconds (JVM running for 3.694)
2023-05-18 00:43:23.261 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-18 00:43:23.261 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-18 00:43:32.992 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-18 00:43:32.992 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-18 00:43:32.993 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-18 00:43:33.068 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：hHXRAsMtkx，session id：0，当前连接数：1
2023-05-18 00:43:33.107 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-18 00:43:33.108 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-18 00:43:33.108 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39810535654559744
2023-05-18 00:43:33.975 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39810535654559744"}
2023-05-18 00:43:34.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39835502177816576 [0;39m ------------- 开始 -------------
2023-05-18 00:43:34.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39835502177816576 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-18 00:43:34.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39835502177816576 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-18 00:43:34.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39835502177816576 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:43:34.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39835502177816576 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-18 00:43:34.127 WARN  com.zaxxer.hikari.HikariConfig                    :1017 [32m39835502177816576 [0;39m HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.
2023-05-18 00:43:34.127 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39835502177816576 [0;39m HikariPool-1 - Starting...
2023-05-18 00:43:35.046 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39835506212737024 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:43:35.208 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39835502177816576 [0;39m HikariPool-1 - Start completed.
2023-05-18 00:43:35.221 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835506212737024 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:43:35.250 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835506212737024 [0;39m ==> Parameters: 
2023-05-18 00:43:35.323 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835506212737024 [0;39m <==    Updates: 3
2023-05-18 00:43:35.324 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39835506212737024 [0;39m 更新电子书下的文档数据结束，耗时：276毫秒
2023-05-18 00:43:35.324 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39835502177816576 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-18 00:43:35.325 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39835502177816576 [0;39m ==> Parameters: 
2023-05-18 00:43:35.375 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39835502177816576 [0;39m <==    Columns: count(0)
2023-05-18 00:43:35.376 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39835502177816576 [0;39m <==        Row: 2
2023-05-18 00:43:35.378 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39835502177816576 [0;39m <==      Total: 1
2023-05-18 00:43:35.381 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39835502177816576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-18 00:43:35.381 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39835502177816576 [0;39m ==> Parameters: 10(Integer)
2023-05-18 00:43:35.414 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39835502177816576 [0;39m <==    Columns: id, login_name, name, password
2023-05-18 00:43:35.415 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39835502177816576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-18 00:43:35.416 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39835502177816576 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-18 00:43:35.416 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39835502177816576 [0;39m <==      Total: 2
2023-05-18 00:43:35.418 INFO  com.jiawa.wiki.service.UserService                :50   [32m39835502177816576 [0;39m 总行数：2
2023-05-18 00:43:35.418 INFO  com.jiawa.wiki.service.UserService                :51   [32m39835502177816576 [0;39m 总页数：1
2023-05-18 00:43:35.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39835502177816576 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-18 00:43:35.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39835502177816576 [0;39m ------------- 结束 耗时：1346 ms -------------
2023-05-18 00:43:35.483 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39835502177816576 [0;39m ------------- LoginInterceptor 结束 耗时：2375 ms -------------
2023-05-18 00:43:38.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39835520964104192 [0;39m ------------- 开始 -------------
2023-05-18 00:43:38.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39835520964104193 [0;39m ------------- 开始 -------------
2023-05-18 00:43:38.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39835520964104192 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:43:38.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39835520964104193 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:43:38.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39835520964104192 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:43:38.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39835520964104192 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:43:38.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39835520964104193 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:43:38.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39835520964104193 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:43:38.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39835520964104193 [0;39m 请求参数: []
2023-05-18 00:43:38.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39835520964104192 [0;39m 请求参数: []
2023-05-18 00:43:38.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39835521010241536 [0;39m ------------- 开始 -------------
2023-05-18 00:43:38.575 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39835521010241536 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:43:38.576 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39835521010241536 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:43:38.576 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39835521010241536 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:43:38.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39835521010241536 [0;39m 请求参数: []
2023-05-18 00:43:38.603 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39835520964104193 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:43:38.604 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39835520964104193 [0;39m ==> Parameters: 
2023-05-18 00:43:38.606 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39835520964104192 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:43:38.606 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39835520964104192 [0;39m ==> Parameters: 
2023-05-18 00:43:38.624 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39835521010241536 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:43:38.625 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39835521010241536 [0;39m ==> Parameters: 
2023-05-18 00:43:38.639 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835520964104193 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:43:38.640 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835520964104193 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:43:38.642 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39835520964104192 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:43:38.642 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39835520964104192 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:43:38.642 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835520964104193 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:43:38.643 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39835520964104192 [0;39m <==        Row: 2023-05-17, 711, 22, 116, 6
2023-05-18 00:43:38.643 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835520964104193 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:43:38.643 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39835520964104192 [0;39m <==      Total: 2
2023-05-18 00:43:38.643 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835520964104193 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:43:38.644 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835520964104193 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:43:38.644 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835520964104193 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:43:38.644 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835520964104193 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:43:38.645 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835520964104193 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:43:38.645 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39835520964104193 [0;39m <==      Total: 8
2023-05-18 00:43:38.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39835520964104192 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":711,"viewIncrease":116,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:43:38.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39835520964104193 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:43:38.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39835520964104192 [0;39m ------------- 结束 耗时：86 ms -------------
2023-05-18 00:43:38.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39835520964104193 [0;39m ------------- 结束 耗时：86 ms -------------
2023-05-18 00:43:38.663 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:43:38.663 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:43:38.663 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:43:38.665 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:43:38.665 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:43:38.665 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:43:38.666 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:43:38.666 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:43:38.667 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:43:38.667 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:43:38.668 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:43:38.668 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:43:38.668 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:43:38.669 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:43:38.669 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:43:38.669 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835521010241536 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:43:38.669 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39835521010241536 [0;39m <==      Total: 15
2023-05-18 00:43:38.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39835521010241536 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:43:38.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39835521010241536 [0;39m ------------- 结束 耗时：104 ms -------------
2023-05-18 00:43:41.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39835534109052928 [0;39m ------------- 开始 -------------
2023-05-18 00:43:41.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39835534109052928 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:43:41.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39835534109052928 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:43:41.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39835534109052928 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:43:41.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39835534109052928 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-18 00:43:41.749 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39835534109052928 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-18 00:43:41.749 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39835534109052928 [0;39m ==> Parameters: 202(Long)
2023-05-18 00:43:41.783 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39835534109052928 [0;39m <==    Columns: count(0)
2023-05-18 00:43:41.784 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39835534109052928 [0;39m <==        Row: 2
2023-05-18 00:43:41.784 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39835534109052928 [0;39m <==      Total: 1
2023-05-18 00:43:41.786 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39835534109052928 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-18 00:43:41.786 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39835534109052928 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-18 00:43:41.820 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39835534109052928 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-18 00:43:41.821 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39835534109052928 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-18 00:43:41.821 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39835534109052928 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 9, 36, 4
2023-05-18 00:43:41.822 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39835534109052928 [0;39m <==      Total: 2
2023-05-18 00:43:41.822 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39835534109052928 [0;39m 总行数：2
2023-05-18 00:43:41.823 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39835534109052928 [0;39m 总页数：1
2023-05-18 00:43:41.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39835534109052928 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":200,"category2Id":202,"docCount":9,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":36,"voteCount":4}],"total":2},"success":true}
2023-05-18 00:43:41.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39835534109052928 [0;39m ------------- 结束 耗时：134 ms -------------
2023-05-18 00:43:43.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39835542417969152 [0;39m ------------- 开始 -------------
2023-05-18 00:43:43.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39835542417969152 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/39789950677422080 GET
2023-05-18 00:43:43.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39835542417969152 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-18 00:43:43.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39835542417969152 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:43:43.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39835542422163456 [0;39m ------------- 开始 -------------
2023-05-18 00:43:43.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39835542417969152 [0;39m 请求参数: [39789950677422080]
2023-05-18 00:43:43.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39835542422163456 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-18 00:43:43.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39835542422163456 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-18 00:43:43.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39835542422163456 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:43:43.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39835542422163456 [0;39m 请求参数: [39789950677422080]
2023-05-18 00:43:43.716 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39835542417969152 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-18 00:43:43.717 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39835542417969152 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-18 00:43:43.725 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39835542422163456 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-18 00:43:43.726 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39835542422163456 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-18 00:43:43.751 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39835542417969152 [0;39m <==      Total: 0
2023-05-18 00:43:43.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39835542417969152 [0;39m 返回结果: {"content":[],"success":true}
2023-05-18 00:43:43.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39835542417969152 [0;39m ------------- 结束 耗时：75 ms -------------
2023-05-18 00:43:43.764 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39835542422163456 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-18 00:43:43.765 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39835542422163456 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 12, 1
2023-05-18 00:43:43.765 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39835542422163456 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-18 00:43:43.765 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39835542422163456 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 2, 1
2023-05-18 00:43:43.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39835542422163456 [0;39m <==        Row: 39791679196237824, 39789950677422080, 0, RocketMq在Springboot的基础应用, 1, 4, 1
2023-05-18 00:43:43.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39835542422163456 [0;39m <==        Row: 39791879704940544, 39789950677422080, 39791679196237824, 配置, 1, 4, 0
2023-05-18 00:43:43.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39835542422163456 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 6, 1
2023-05-18 00:43:43.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39835542422163456 [0;39m <==        Row: 39792357465526272, 39789950677422080, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 3, 0
2023-05-18 00:43:43.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39835542422163456 [0;39m <==        Row: 39794574159384576, 39789950677422080, 39791679196237824, 服务端, 3, 3, 0
2023-05-18 00:43:43.768 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39835542422163456 [0;39m <==        Row: 39800584710262784, 39789950677422080, 39791679196237824, 完结, 4, 2, 0
2023-05-18 00:43:43.768 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39835542422163456 [0;39m <==      Total: 9
2023-05-18 00:43:43.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39835542422163456 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":12,"voteCount":1},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":39789950677422080,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":39789950677422080,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":4,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":6,"voteCount":1},{"ebookId":39789950677422080,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39800584710262784,"name":"完结","parent":39791679196237824,"sort":4,"viewCount":2,"voteCount":0}],"success":true}
2023-05-18 00:43:43.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39835542422163456 [0;39m ------------- 结束 耗时：104 ms -------------
2023-05-18 00:43:43.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39835542967422976 [0;39m ------------- 开始 -------------
2023-05-18 00:43:43.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39835542967422976 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2023-05-18 00:43:43.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39835542967422976 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-18 00:43:43.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39835542967422976 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:43:43.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39835542967422976 [0;39m 请求参数: [39790662006214656]
2023-05-18 00:43:43.812 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39835542967422976 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-18 00:43:43.812 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39835542967422976 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-18 00:43:43.849 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39835542967422976 [0;39m <==    Columns: id, content
2023-05-18 00:43:43.851 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39835542967422976 [0;39m <==        Row: 39790662006214656, <<BLOB>>
2023-05-18 00:43:43.851 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39835542967422976 [0;39m <==      Total: 1
2023-05-18 00:43:43.853 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39835542967422976 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-18 00:43:43.853 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39835542967422976 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-18 00:43:43.926 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39835542967422976 [0;39m <==    Updates: 1
2023-05-18 00:43:43.926 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39835542967422976 [0;39m 返回结果: {"content":"","success":true}
2023-05-18 00:43:43.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39835542967422976 [0;39m ------------- 结束 耗时：118 ms -------------
2023-05-18 00:43:45.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39835549124661248 [0;39m ------------- 开始 -------------
2023-05-18 00:43:45.278 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39835549124661248 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790797704531968 GET
2023-05-18 00:43:45.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39835549124661248 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-18 00:43:45.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39835549124661248 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:43:45.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39835549124661248 [0;39m 请求参数: [39790797704531968]
2023-05-18 00:43:45.316 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39835549124661248 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-18 00:43:45.316 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39835549124661248 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-18 00:43:45.353 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39835549124661248 [0;39m <==    Columns: id, content
2023-05-18 00:43:45.354 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39835549124661248 [0;39m <==        Row: 39790797704531968, <<BLOB>>
2023-05-18 00:43:45.355 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39835549124661248 [0;39m <==      Total: 1
2023-05-18 00:43:45.356 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39835549124661248 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-18 00:43:45.357 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39835549124661248 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-18 00:43:45.429 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39835549124661248 [0;39m <==    Updates: 1
2023-05-18 00:43:45.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39835549124661248 [0;39m 返回结果: {"content":"<p>支持发布/订阅（Pub/Sub）和点对点（P2P）消息模型<br><br>在一个队列中可靠的先进先出（FIFO）和严格的顺序传递 （RocketMQ可以保证严格的消息顺序，而ActiveMQ无法保证）<br><br>支持拉（pull）和推（push）两种消息模式<br><br>pull其实就是消费者主动从MQ中去拉消息，而push则像rabbit MQ一样，是MQ给消费者推送消息。但是RocketMQ的push其实是基于pull来实现的。<br>它会先由一个业务代码从MQ中pull消息，然后再由业务代码push给特定的应用/消费者。其实底层就是一个pull模式<br><br>单一队列百万消息的堆积能力 （RocketMQ提供亿级消息的堆积能力，这不是重点，重点是堆积了亿级的消息后，依然保持写入低延迟）<br><br>支持多种消息协议，如 JMS、MQTT 等<br><br>分布式高可用的部署架构,满足至少一次消息传递语义（RocketMQ原生就是支持分布式的，而ActiveMQ原生存在单点性）<br><br>提供 docker 镜像用于隔离测试和云集群部署<br><br>提供配置、指标和监控等功能丰富的 Dashboard<br>————————————————<br>版权声明：本文为CSDN博主「fFee-ops」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：https://blog.csdn.net/qq_21040559/article/details/122703715</p>","success":true}
2023-05-18 00:43:45.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39835549124661248 [0;39m ------------- 结束 耗时：154 ms -------------
2023-05-18 00:43:46.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39835554036191233 [0;39m ------------- 开始 -------------
2023-05-18 00:43:46.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39835554036191233 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:43:46.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39835554036191233 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:43:46.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39835554036191232 [0;39m ------------- 开始 -------------
2023-05-18 00:43:46.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39835554036191233 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:43:46.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39835554040385536 [0;39m ------------- 开始 -------------
2023-05-18 00:43:46.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39835554036191233 [0;39m 请求参数: []
2023-05-18 00:43:46.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39835554036191232 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:43:46.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39835554040385536 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:43:46.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39835554036191232 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:43:46.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39835554040385536 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:43:46.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39835554036191232 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:43:46.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39835554040385536 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:43:46.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39835554036191232 [0;39m 请求参数: []
2023-05-18 00:43:46.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39835554040385536 [0;39m 请求参数: []
2023-05-18 00:43:46.488 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39835554040385536 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:43:46.488 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39835554036191232 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:43:46.488 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39835554036191233 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:43:46.488 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39835554036191232 [0;39m ==> Parameters: 
2023-05-18 00:43:46.488 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39835554040385536 [0;39m ==> Parameters: 
2023-05-18 00:43:46.488 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39835554036191233 [0;39m ==> Parameters: 
2023-05-18 00:43:46.523 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835554036191233 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:43:46.523 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39835554036191232 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:43:46.523 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:43:46.524 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:43:46.524 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835554036191233 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:43:46.524 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39835554036191232 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:43:46.524 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835554036191233 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:43:46.524 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39835554036191232 [0;39m <==        Row: 2023-05-17, 711, 22, 116, 6
2023-05-18 00:43:46.525 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39835554036191232 [0;39m <==      Total: 2
2023-05-18 00:43:46.525 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835554036191233 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:43:46.525 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835554036191233 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:43:46.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39835554036191232 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":711,"viewIncrease":116,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:43:46.525 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:43:46.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39835554036191232 [0;39m ------------- 结束 耗时：77 ms -------------
2023-05-18 00:43:46.525 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:43:46.525 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:43:46.525 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:43:46.527 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835554036191233 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:43:46.527 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:43:46.527 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:43:46.527 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:43:46.527 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:43:46.527 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835554036191233 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:43:46.528 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:43:46.528 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835554036191233 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:43:46.528 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:43:46.528 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:43:46.528 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39835554036191233 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:43:46.529 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:43:46.529 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39835554036191233 [0;39m <==      Total: 8
2023-05-18 00:43:46.529 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:43:46.529 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39835554040385536 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:43:46.529 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39835554040385536 [0;39m <==      Total: 15
2023-05-18 00:43:46.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39835554036191233 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:43:46.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39835554036191233 [0;39m ------------- 结束 耗时：81 ms -------------
2023-05-18 00:43:46.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39835554040385536 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:43:46.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39835554040385536 [0;39m ------------- 结束 耗时：82 ms -------------
2023-05-18 00:44:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39835610906759168 [0;39m 生成今日电子书快照开始
2023-05-18 00:44:00.040 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39835610906759168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:44:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39835610906759168 [0;39m ==> Parameters: 
2023-05-18 00:44:00.108 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39835610906759168 [0;39m <==    Updates: 0
2023-05-18 00:44:00.110 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39835610906759168 [0;39m 生成今日电子书快照结束，耗时：102毫秒
2023-05-18 00:44:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39835631853113344 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:44:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835631853113344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:44:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835631853113344 [0;39m ==> Parameters: 
2023-05-18 00:44:05.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835631853113344 [0;39m <==    Updates: 3
2023-05-18 00:44:05.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39835631853113344 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-18 00:44:35.033 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39835757816451072 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:44:35.268 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835757816451072 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:44:35.268 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835757816451072 [0;39m ==> Parameters: 
2023-05-18 00:44:35.361 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835757816451072 [0;39m <==    Updates: 3
2023-05-18 00:44:35.362 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39835757816451072 [0;39m 更新电子书下的文档数据结束，耗时：327毫秒
2023-05-18 00:45:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39835862590164992 [0;39m 生成今日电子书快照开始
2023-05-18 00:45:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39835862590164992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:45:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39835862590164992 [0;39m ==> Parameters: 
2023-05-18 00:45:00.123 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39835862590164992 [0;39m <==    Updates: 0
2023-05-18 00:45:00.123 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39835862590164992 [0;39m 生成今日电子书快照结束，耗时：110毫秒
2023-05-18 00:45:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39835883511353344 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:45:05.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835883511353344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:45:05.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835883511353344 [0;39m ==> Parameters: 
2023-05-18 00:45:05.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39835883511353344 [0;39m <==    Updates: 3
2023-05-18 00:45:05.101 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39835883511353344 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-18 00:45:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39836009369833472 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:45:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39836009369833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:45:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39836009369833472 [0;39m ==> Parameters: 
2023-05-18 00:45:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39836009369833472 [0;39m <==    Updates: 3
2023-05-18 00:45:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39836009369833472 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:46:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39836114206461952 [0;39m 生成今日电子书快照开始
2023-05-18 00:46:00.036 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39836114206461952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:46:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39836114206461952 [0;39m ==> Parameters: 
2023-05-18 00:46:00.104 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39836114206461952 [0;39m <==    Updates: 0
2023-05-18 00:46:00.104 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39836114206461952 [0;39m 生成今日电子书快照结束，耗时：101毫秒
2023-05-18 00:46:04.043 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：hHXRAsMtkx，session id：0！当前连接数：0
2023-05-18 00:46:04.106 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-18 00:46:04.107 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-18 00:46:04.107 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-18 00:46:04.117 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-18 00:46:08.270 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-18 00:46:08.326 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 18540 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-18 00:46:08.327 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-18 00:46:08.390 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-18 00:46:08.390 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-18 00:46:09.173 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-18 00:46:09.175 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-18 00:46:09.217 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
2023-05-18 00:46:09.876 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-18 00:46:09.882 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-18 00:46:09.882 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-18 00:46:09.882 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-18 00:46:09.959 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-18 00:46:09.959 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1568 ms
2023-05-18 00:46:10.124 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:596  [32m                  [0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springMvcConfig': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginInterceptor': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisTemplate' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redisTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisConnectionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory]: Factory method 'redisConnectionFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/pool2/impl/GenericObjectPoolConfig
2023-05-18 00:46:10.134 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Stopping service [Tomcat]
2023-05-18 00:46:10.151 INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener:136  [32m                  [0;39m 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-18 00:46:10.170 ERROR org.springframework.boot.SpringApplication        :856  [32m                  [0;39m Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springMvcConfig': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginInterceptor': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisTemplate' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redisTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisConnectionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory]: Factory method 'redisConnectionFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/pool2/impl/GenericObjectPoolConfig
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326)
	at com.jiawa.wiki.WikiApplication.main(WikiApplication.java:25)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginInterceptor': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisTemplate' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redisTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisConnectionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory]: Factory method 'redisConnectionFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/pool2/impl/GenericObjectPoolConfig
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:468)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:527)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:497)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:650)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:229)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:318)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisTemplate' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redisTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisConnectionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory]: Factory method 'redisConnectionFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/pool2/impl/GenericObjectPoolConfig
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:468)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:527)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:497)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:650)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:229)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:318)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisConnectionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory]: Factory method 'redisConnectionFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/pool2/impl/GenericObjectPoolConfig
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 51 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory]: Factory method 'redisConnectionFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/pool2/impl/GenericObjectPoolConfig
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)
	... 65 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/apache/commons/pool2/impl/GenericObjectPoolConfig
	at org.springframework.data.redis.connection.lettuce.LettucePoolingClientConfiguration$LettucePoolingClientConfigurationBuilder.<init>(LettucePoolingClientConfiguration.java:94)
	at org.springframework.data.redis.connection.lettuce.LettucePoolingClientConfiguration.builder(LettucePoolingClientConfiguration.java:51)
	at org.springframework.boot.autoconfigure.data.redis.LettuceConnectionConfiguration$PoolBuilderFactory.createBuilder(LettuceConnectionConfiguration.java:172)
	at org.springframework.boot.autoconfigure.data.redis.LettuceConnectionConfiguration.createBuilder(LettuceConnectionConfiguration.java:110)
	at org.springframework.boot.autoconfigure.data.redis.LettuceConnectionConfiguration.getLettuceClientConfiguration(LettuceConnectionConfiguration.java:95)
	at org.springframework.boot.autoconfigure.data.redis.LettuceConnectionConfiguration.redisConnectionFactory(LettuceConnectionConfiguration.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 66 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.apache.commons.pool2.impl.GenericObjectPoolConfig
	at java.net.URLClassLoader.findClass(URLClassLoader.java:382)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:418)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:351)
	... 77 common frames omitted
2023-05-18 00:47:49.160 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-18 00:47:49.167 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 23180 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-18 00:47:49.168 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-18 00:47:49.221 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-18 00:47:49.221 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-18 00:47:49.953 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-18 00:47:49.955 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-18 00:47:49.981 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2023-05-18 00:47:50.698 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-18 00:47:50.703 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-18 00:47:50.704 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-18 00:47:50.704 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-18 00:47:50.787 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-18 00:47:50.788 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1565 ms
2023-05-18 00:47:50.838 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:596  [32m                  [0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springMvcConfig': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginInterceptor': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisUtil': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'redisTemplate': Requested bean is currently in creation: Is there an unresolvable circular reference?
2023-05-18 00:47:50.840 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Stopping service [Tomcat]
2023-05-18 00:47:50.849 INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener:136  [32m                  [0;39m 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-18 00:47:50.863 ERROR org.springframework.boot.SpringApplication        :856  [32m                  [0;39m Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springMvcConfig': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginInterceptor': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisUtil': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'redisTemplate': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326)
	at com.jiawa.wiki.WikiApplication.main(WikiApplication.java:25)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginInterceptor': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisUtil': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'redisTemplate': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:468)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:527)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:497)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:650)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:229)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:318)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisUtil': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'redisTemplate': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:468)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:527)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:497)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:650)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:229)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:318)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'redisTemplate': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:468)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:527)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:497)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:650)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:229)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:318)
	... 58 common frames omitted
2023-05-18 00:47:59.608 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-18 00:47:59.615 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 12168 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-18 00:47:59.616 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-18 00:47:59.688 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-18 00:47:59.688 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-18 00:48:00.374 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-18 00:48:00.376 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-18 00:48:00.401 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2023-05-18 00:48:01.120 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-18 00:48:01.125 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-18 00:48:01.126 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-18 00:48:01.126 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-18 00:48:01.256 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-18 00:48:01.257 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1568 ms
2023-05-18 00:48:02.119 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-18 00:48:02.516 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-18 00:48:02.555 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-18 00:48:02.574 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-18 00:48:02.587 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-18 00:48:02.595 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 3.447 seconds (JVM running for 4.426)
2023-05-18 00:48:02.597 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-18 00:48:02.598 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-18 00:48:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39836638490267648 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:48:05.017 WARN  com.zaxxer.hikari.HikariConfig                    :1017 [32m39836638490267648 [0;39m HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.
2023-05-18 00:48:05.017 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39836638490267648 [0;39m HikariPool-1 - Starting...
2023-05-18 00:48:05.954 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39836638490267648 [0;39m HikariPool-1 - Start completed.
2023-05-18 00:48:05.960 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39836638490267648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:48:05.974 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39836638490267648 [0;39m ==> Parameters: 
2023-05-18 00:48:06.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39836638490267648 [0;39m <==    Updates: 3
2023-05-18 00:48:06.044 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39836638490267648 [0;39m 更新电子书下的文档数据结束，耗时：1042毫秒
2023-05-18 00:48:15.665 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-18 00:48:15.665 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-18 00:48:15.666 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-18 00:48:15.700 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-18 00:48:15.702 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-18 00:48:15.702 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39810535654559744
2023-05-18 00:48:16.333 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39810535654559744"}
2023-05-18 00:48:16.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39836686938673152 [0;39m ------------- 开始 -------------
2023-05-18 00:48:16.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39836686938673152 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-18 00:48:16.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39836686938673152 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-18 00:48:16.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39836686938673152 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:48:16.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39836686938673152 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-18 00:48:16.638 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39836686938673152 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-18 00:48:16.645 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39836686938673152 [0;39m ==> Parameters: 
2023-05-18 00:48:16.696 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39836686938673152 [0;39m <==    Columns: count(0)
2023-05-18 00:48:16.697 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39836686938673152 [0;39m <==        Row: 2
2023-05-18 00:48:16.698 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39836686938673152 [0;39m <==      Total: 1
2023-05-18 00:48:16.700 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39836686938673152 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-18 00:48:16.701 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39836686938673152 [0;39m ==> Parameters: 10(Integer)
2023-05-18 00:48:16.735 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39836686938673152 [0;39m <==    Columns: id, login_name, name, password
2023-05-18 00:48:16.736 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39836686938673152 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-18 00:48:16.736 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39836686938673152 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-18 00:48:16.737 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39836686938673152 [0;39m <==      Total: 2
2023-05-18 00:48:16.738 INFO  com.jiawa.wiki.service.UserService                :50   [32m39836686938673152 [0;39m 总行数：2
2023-05-18 00:48:16.739 INFO  com.jiawa.wiki.service.UserService                :51   [32m39836686938673152 [0;39m 总页数：1
2023-05-18 00:48:16.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39836686938673152 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-18 00:48:16.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39836686938673152 [0;39m ------------- 结束 耗时：196 ms -------------
2023-05-18 00:48:16.793 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39836686938673152 [0;39m ------------- LoginInterceptor 结束 耗时：1093 ms -------------
2023-05-18 00:48:17.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39836691032313856 [0;39m ------------- 开始 -------------
2023-05-18 00:48:17.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39836691032313856 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:48:17.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39836691036508160 [0;39m ------------- 开始 -------------
2023-05-18 00:48:17.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39836691032313856 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:48:17.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39836691036508160 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:48:17.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39836691036508160 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:48:17.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39836691032313856 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:48:17.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39836691036508160 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:48:17.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39836691032313856 [0;39m 请求参数: []
2023-05-18 00:48:17.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39836691036508160 [0;39m 请求参数: []
2023-05-18 00:48:17.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39836691049091072 [0;39m ------------- 开始 -------------
2023-05-18 00:48:17.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39836691049091072 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:48:17.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39836691049091072 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:48:17.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39836691049091072 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:48:17.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39836691049091072 [0;39m 请求参数: []
2023-05-18 00:48:17.572 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39836691032313856 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:48:17.572 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39836691036508160 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:48:17.573 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39836691036508160 [0;39m ==> Parameters: 
2023-05-18 00:48:17.573 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39836691032313856 [0;39m ==> Parameters: 
2023-05-18 00:48:17.578 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39836691049091072 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:48:17.579 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39836691049091072 [0;39m ==> Parameters: 
2023-05-18 00:48:17.606 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39836691032313856 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:48:17.606 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39836691036508160 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:48:17.607 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39836691036508160 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:48:17.607 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39836691032313856 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:48:17.610 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39836691036508160 [0;39m <==        Row: 2023-05-17, 713, 22, 118, 6
2023-05-18 00:48:17.610 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39836691032313856 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:48:17.611 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39836691032313856 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:48:17.611 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39836691036508160 [0;39m <==      Total: 2
2023-05-18 00:48:17.611 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39836691032313856 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:48:17.612 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39836691032313856 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:48:17.612 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39836691032313856 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:48:17.612 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:48:17.614 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:48:17.614 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39836691032313856 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:48:17.614 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:48:17.614 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39836691032313856 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:48:17.614 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:48:17.615 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39836691032313856 [0;39m <==      Total: 8
2023-05-18 00:48:17.615 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:48:17.615 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:48:17.615 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:48:17.615 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:48:17.616 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:48:17.617 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:48:17.618 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:48:17.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39836691036508160 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":713,"viewIncrease":118,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:48:17.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39836691036508160 [0;39m ------------- 结束 耗时：88 ms -------------
2023-05-18 00:48:17.618 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:48:17.618 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:48:17.619 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:48:17.619 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:48:17.619 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39836691049091072 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:48:17.621 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39836691049091072 [0;39m <==      Total: 15
2023-05-18 00:48:17.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39836691032313856 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:48:17.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39836691032313856 [0;39m ------------- 结束 耗时：92 ms -------------
2023-05-18 00:48:17.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39836691049091072 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:48:17.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39836691049091072 [0;39m ------------- 结束 耗时：100 ms -------------
2023-05-18 00:48:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39836764373913600 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:48:35.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39836764373913600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:48:35.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39836764373913600 [0;39m ==> Parameters: 
2023-05-18 00:48:35.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39836764373913600 [0;39m <==    Updates: 3
2023-05-18 00:48:35.118 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39836764373913600 [0;39m 更新电子书下的文档数据结束，耗时：103毫秒
2023-05-18 00:49:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39836869189570560 [0;39m 生成今日电子书快照开始
2023-05-18 00:49:00.039 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39836869189570560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:49:00.040 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39836869189570560 [0;39m ==> Parameters: 
2023-05-18 00:49:00.110 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39836869189570560 [0;39m <==    Updates: 0
2023-05-18 00:49:00.110 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39836869189570560 [0;39m 生成今日电子书快照结束，耗时：105毫秒
2023-05-18 00:49:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39836890190450688 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:49:05.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39836890190450688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:49:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39836890190450688 [0;39m ==> Parameters: 
2023-05-18 00:49:05.118 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39836890190450688 [0;39m <==    Updates: 3
2023-05-18 00:49:05.119 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39836890190450688 [0;39m 更新电子书下的文档数据结束，耗时：107毫秒
2023-05-18 00:49:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39837016023764992 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:49:35.086 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837016023764992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:49:35.087 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837016023764992 [0;39m ==> Parameters: 
2023-05-18 00:49:35.355 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837016023764992 [0;39m <==    Updates: 3
2023-05-18 00:49:35.355 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39837016023764992 [0;39m 更新电子书下的文档数据结束，耗时：342毫秒
2023-05-18 00:50:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39837120864587776 [0;39m 生成今日电子书快照开始
2023-05-18 00:50:00.222 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39837120864587776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:50:00.223 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39837120864587776 [0;39m ==> Parameters: 
2023-05-18 00:50:00.511 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39837120864587776 [0;39m <==    Updates: 0
2023-05-18 00:50:00.512 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39837120864587776 [0;39m 生成今日电子书快照结束，耗时：502毫秒
2023-05-18 00:50:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39837141840302080 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:50:05.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837141840302080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:50:05.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837141840302080 [0;39m ==> Parameters: 
2023-05-18 00:50:05.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837141840302080 [0;39m <==    Updates: 3
2023-05-18 00:50:05.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39837141840302080 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:50:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39837267648450560 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:50:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837267648450560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:50:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837267648450560 [0;39m ==> Parameters: 
2023-05-18 00:50:35.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837267648450560 [0;39m <==    Updates: 3
2023-05-18 00:50:35.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39837267648450560 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-05-18 00:51:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39837372501856256 [0;39m 生成今日电子书快照开始
2023-05-18 00:51:00.038 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39837372501856256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:51:00.038 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39837372501856256 [0;39m ==> Parameters: 
2023-05-18 00:51:00.106 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39837372501856256 [0;39m <==    Updates: 0
2023-05-18 00:51:00.106 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39837372501856256 [0;39m 生成今日电子书快照结束，耗时：101毫秒
2023-05-18 00:51:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39837393460793344 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:51:05.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837393460793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:51:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837393460793344 [0;39m ==> Parameters: 
2023-05-18 00:51:05.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837393460793344 [0;39m <==    Updates: 3
2023-05-18 00:51:05.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39837393460793344 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:51:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39837519294107648 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:51:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837519294107648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:51:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837519294107648 [0;39m ==> Parameters: 
2023-05-18 00:51:35.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837519294107648 [0;39m <==    Updates: 3
2023-05-18 00:51:35.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39837519294107648 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:52:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39837624181067776 [0;39m 生成今日电子书快照开始
2023-05-18 00:52:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39837624181067776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:52:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39837624181067776 [0;39m ==> Parameters: 
2023-05-18 00:52:00.109 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39837624181067776 [0;39m <==    Updates: 0
2023-05-18 00:52:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39837624181067776 [0;39m 生成今日电子书快照结束，耗时：102毫秒
2023-05-18 00:52:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39837645144199168 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:52:05.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837645144199168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:52:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837645144199168 [0;39m ==> Parameters: 
2023-05-18 00:52:05.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837645144199168 [0;39m <==    Updates: 3
2023-05-18 00:52:05.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39837645144199168 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:52:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39837770985902080 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:52:35.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837770985902080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:52:35.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837770985902080 [0;39m ==> Parameters: 
2023-05-18 00:52:35.119 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837770985902080 [0;39m <==    Updates: 3
2023-05-18 00:52:35.120 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39837770985902080 [0;39m 更新电子书下的文档数据结束，耗时：110毫秒
2023-05-18 00:53:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39837875860279296 [0;39m 生成今日电子书快照开始
2023-05-18 00:53:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39837875860279296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:53:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39837875860279296 [0;39m ==> Parameters: 
2023-05-18 00:53:00.114 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39837875860279296 [0;39m <==    Updates: 0
2023-05-18 00:53:00.115 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39837875860279296 [0;39m 生成今日电子书快照结束，耗时：101毫秒
2023-05-18 00:53:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39837896794050560 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:53:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837896794050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:53:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837896794050560 [0;39m ==> Parameters: 
2023-05-18 00:53:05.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39837896794050560 [0;39m <==    Updates: 3
2023-05-18 00:53:05.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39837896794050560 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:53:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39838022656724992 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:53:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838022656724992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:53:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838022656724992 [0;39m ==> Parameters: 
2023-05-18 00:53:35.115 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838022656724992 [0;39m <==    Updates: 3
2023-05-18 00:53:35.115 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39838022656724992 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-18 00:54:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39838127497547776 [0;39m 生成今日电子书快照开始
2023-05-18 00:54:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39838127497547776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:54:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39838127497547776 [0;39m ==> Parameters: 
2023-05-18 00:54:00.110 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39838127497547776 [0;39m <==    Updates: 0
2023-05-18 00:54:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39838127497547776 [0;39m 生成今日电子书快照结束，耗时：102毫秒
2023-05-18 00:54:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39838148435513344 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:54:05.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838148435513344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:54:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838148435513344 [0;39m ==> Parameters: 
2023-05-18 00:54:05.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838148435513344 [0;39m <==    Updates: 3
2023-05-18 00:54:05.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39838148435513344 [0;39m 更新电子书下的文档数据结束，耗时：108毫秒
2023-05-18 00:54:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39838274306576384 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:54:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838274306576384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:54:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838274306576384 [0;39m ==> Parameters: 
2023-05-18 00:54:35.125 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838274306576384 [0;39m <==    Updates: 3
2023-05-18 00:54:35.125 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39838274306576384 [0;39m 更新电子书下的文档数据结束，耗时：113毫秒
2023-05-18 00:55:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39838379164176384 [0;39m 生成今日电子书快照开始
2023-05-18 00:55:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39838379164176384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:55:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39838379164176384 [0;39m ==> Parameters: 
2023-05-18 00:55:00.137 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39838379164176384 [0;39m <==    Updates: 0
2023-05-18 00:55:00.138 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39838379164176384 [0;39m 生成今日电子书快照结束，耗时：127毫秒
2023-05-18 00:55:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39838400114724864 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:55:05.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838400114724864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:55:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838400114724864 [0;39m ==> Parameters: 
2023-05-18 00:55:05.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838400114724864 [0;39m <==    Updates: 3
2023-05-18 00:55:05.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39838400114724864 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-18 00:55:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39838525952233472 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:55:35.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838525952233472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:55:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838525952233472 [0;39m ==> Parameters: 
2023-05-18 00:55:35.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838525952233472 [0;39m <==    Updates: 3
2023-05-18 00:55:35.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39838525952233472 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-18 00:56:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39838630793056256 [0;39m 生成今日电子书快照开始
2023-05-18 00:56:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39838630793056256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:56:00.038 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39838630793056256 [0;39m ==> Parameters: 
2023-05-18 00:56:00.106 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39838630793056256 [0;39m <==    Updates: 0
2023-05-18 00:56:00.106 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39838630793056256 [0;39m 生成今日电子书快照结束，耗时：102毫秒
2023-05-18 00:56:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39838651756187648 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:56:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838651756187648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:56:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838651756187648 [0;39m ==> Parameters: 
2023-05-18 00:56:05.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838651756187648 [0;39m <==    Updates: 3
2023-05-18 00:56:05.101 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39838651756187648 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-18 00:56:13.159 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：94CxIQX3QY，session id：0，当前连接数：1
2023-05-18 00:56:13.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39838686589882368 [0;39m ------------- 开始 -------------
2023-05-18 00:56:13.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39838686589882368 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:56:13.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39838686589882368 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:56:13.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39838686589882368 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:56:13.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39838686589882368 [0;39m 请求参数: []
2023-05-18 00:56:13.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39838686627631104 [0;39m ------------- 开始 -------------
2023-05-18 00:56:13.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39838686627631104 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:56:13.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39838686627631104 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:56:13.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39838686636019712 [0;39m ------------- 开始 -------------
2023-05-18 00:56:13.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39838686627631104 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:56:13.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39838686636019712 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:56:13.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39838686627631104 [0;39m 请求参数: []
2023-05-18 00:56:13.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39838686636019712 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:56:13.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39838686636019712 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:56:13.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39838686636019712 [0;39m 请求参数: []
2023-05-18 00:56:13.352 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39838686627631104 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:56:13.352 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39838686627631104 [0;39m ==> Parameters: 
2023-05-18 00:56:13.388 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39838686627631104 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:56:13.388 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39838686627631104 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:56:13.389 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39838686627631104 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:56:13.390 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39838686627631104 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:56:13.391 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39838686627631104 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:56:13.391 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39838686627631104 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:56:13.392 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39838686627631104 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:56:13.393 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39838686627631104 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:56:13.394 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39838686627631104 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:56:13.394 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39838686627631104 [0;39m <==      Total: 8
2023-05-18 00:56:13.394 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39838686627631104 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:56:13.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39838686627631104 [0;39m ------------- 结束 耗时：79 ms -------------
2023-05-18 00:56:18.332 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39838686636019712 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@65945aed (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:56:18.332 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39838686589882368 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@ed99e22 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:56:18.365 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39838686589882368 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:56:18.366 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39838686589882368 [0;39m ==> Parameters: 
2023-05-18 00:56:18.400 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39838686589882368 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:56:18.401 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39838686589882368 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:56:18.401 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39838686589882368 [0;39m <==        Row: 2023-05-17, 713, 22, 118, 6
2023-05-18 00:56:18.402 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39838686589882368 [0;39m <==      Total: 2
2023-05-18 00:56:18.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39838686589882368 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":713,"viewIncrease":118,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:56:18.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39838686589882368 [0;39m ------------- 结束 耗时：5095 ms -------------
2023-05-18 00:56:23.350 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39838686636019712 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@40798222 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-18 00:56:23.383 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39838686636019712 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:56:23.383 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39838686636019712 [0;39m ==> Parameters: 
2023-05-18 00:56:23.416 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:56:23.418 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:56:23.419 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:56:23.420 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:56:23.420 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:56:23.420 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:56:23.420 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:56:23.421 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:56:23.421 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:56:23.421 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:56:23.421 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:56:23.421 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:56:23.421 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:56:23.422 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:56:23.422 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:56:23.422 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39838686636019712 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:56:23.423 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39838686636019712 [0;39m <==      Total: 15
2023-05-18 00:56:23.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39838686636019712 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:56:23.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39838686636019712 [0;39m ------------- 结束 耗时：10107 ms -------------
2023-05-18 00:56:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39838777627250688 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:56:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838777627250688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:56:35.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838777627250688 [0;39m ==> Parameters: 
2023-05-18 00:56:35.115 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838777627250688 [0;39m <==    Updates: 3
2023-05-18 00:56:35.115 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39838777627250688 [0;39m 更新电子书下的文档数据结束，耗时：103毫秒
2023-05-18 00:57:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39838882472267776 [0;39m 生成今日电子书快照开始
2023-05-18 00:57:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39838882472267776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 00:57:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39838882472267776 [0;39m ==> Parameters: 
2023-05-18 00:57:00.112 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39838882472267776 [0;39m <==    Updates: 0
2023-05-18 00:57:00.112 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39838882472267776 [0;39m 生成今日电子书快照结束，耗时：103毫秒
2023-05-18 00:57:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39838903406039040 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:57:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838903406039040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:57:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838903406039040 [0;39m ==> Parameters: 
2023-05-18 00:57:05.100 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39838903406039040 [0;39m <==    Updates: 3
2023-05-18 00:57:05.100 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39838903406039040 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-05-18 00:57:31.378 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：94CxIQX3QY，session id：0！当前连接数：0
2023-05-18 00:57:31.424 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-18 00:57:31.425 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-18 00:57:31.426 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-18 00:57:31.435 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-18 00:57:36.546 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-18 00:57:36.552 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 21276 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-18 00:57:36.553 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-18 00:57:36.607 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-18 00:57:36.608 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-18 00:57:37.393 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-18 00:57:37.395 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-18 00:57:37.421 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2023-05-18 00:57:38.128 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-18 00:57:38.134 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-18 00:57:38.135 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-18 00:57:38.135 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-18 00:57:38.218 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-18 00:57:38.218 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1610 ms
2023-05-18 00:57:38.913 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-18 00:57:39.185 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-18 00:57:39.225 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-18 00:57:39.246 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-18 00:57:39.260 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-18 00:57:39.269 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 3.202 seconds (JVM running for 4.269)
2023-05-18 00:57:39.271 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-18 00:57:39.271 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-18 00:57:43.182 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-18 00:57:43.182 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-18 00:57:43.184 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-18 00:57:43.260 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：ZU96WL0r2w，session id：0，当前连接数：1
2023-05-18 00:57:43.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839064198877185 [0;39m ------------- 开始 -------------
2023-05-18 00:57:43.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839064198877184 [0;39m ------------- 开始 -------------
2023-05-18 00:57:43.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839064198877185 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:57:43.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839064198877184 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:57:43.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839064198877184 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:57:43.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839064198877185 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:57:43.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839064211460096 [0;39m ------------- 开始 -------------
2023-05-18 00:57:43.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839064198877184 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:43.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839064198877185 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:43.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839064211460096 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:57:43.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839064211460096 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:57:43.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839064211460096 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:43.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839064211460096 [0;39m 请求参数: []
2023-05-18 00:57:43.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839064198877184 [0;39m 请求参数: []
2023-05-18 00:57:43.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839064198877185 [0;39m 请求参数: []
2023-05-18 00:57:43.445 WARN  com.zaxxer.hikari.HikariConfig                    :1017 [32m39839064198877184 [0;39m HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.
2023-05-18 00:57:43.445 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39839064198877184 [0;39m HikariPool-1 - Starting...
2023-05-18 00:57:44.454 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39839064198877184 [0;39m HikariPool-1 - Start completed.
2023-05-18 00:57:44.463 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39839064211460096 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:57:44.476 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39839064211460096 [0;39m ==> Parameters: 
2023-05-18 00:57:44.528 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839064211460096 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:57:44.528 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839064211460096 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:57:44.530 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839064211460096 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:57:44.530 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839064211460096 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:57:44.530 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839064211460096 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:57:44.530 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839064211460096 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:57:44.530 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839064211460096 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:57:44.531 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839064211460096 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:57:44.531 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839064211460096 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:57:44.532 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39839064211460096 [0;39m <==      Total: 8
2023-05-18 00:57:44.535 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39839064198877184 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:57:44.535 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39839064198877184 [0;39m ==> Parameters: 
2023-05-18 00:57:44.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839064211460096 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:57:44.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839064211460096 [0;39m ------------- 结束 耗时：1210 ms -------------
2023-05-18 00:57:44.569 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39839064198877184 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:57:44.570 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39839064198877184 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:57:44.570 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39839064198877184 [0;39m <==        Row: 2023-05-17, 713, 22, 118, 6
2023-05-18 00:57:44.572 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39839064198877184 [0;39m <==      Total: 2
2023-05-18 00:57:44.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839064198877184 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":713,"viewIncrease":118,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:57:44.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839064198877184 [0;39m ------------- 结束 耗时：1236 ms -------------
2023-05-18 00:57:44.573 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839064198877185 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:57:44.574 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839064198877185 [0;39m ==> Parameters: 
2023-05-18 00:57:44.608 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:57:44.608 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:57:44.609 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:57:44.609 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:57:44.610 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:57:44.610 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:57:44.610 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:57:44.611 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:57:44.611 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:57:44.612 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:57:44.612 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:57:44.612 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:57:44.613 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:57:44.613 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:57:44.614 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:57:44.614 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839064198877185 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:57:44.615 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839064198877185 [0;39m <==      Total: 15
2023-05-18 00:57:44.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839064198877185 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:57:44.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839064198877185 [0;39m ------------- 结束 耗时：1288 ms -------------
2023-05-18 00:57:46.536 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-18 00:57:46.537 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-18 00:57:46.545 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-18 00:57:46.546 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-18 00:57:46.546 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39810535654559744
2023-05-18 00:57:47.297 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39810535654559744"}
2023-05-18 00:57:47.356 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839081059979264 [0;39m ------------- 开始 -------------
2023-05-18 00:57:47.356 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839081059979264 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-18 00:57:47.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839081059979264 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-18 00:57:47.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839081059979264 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:47.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839081059979264 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-18 00:57:47.423 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39839081059979264 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-18 00:57:47.423 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39839081059979264 [0;39m ==> Parameters: 
2023-05-18 00:57:47.457 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39839081059979264 [0;39m <==    Columns: count(0)
2023-05-18 00:57:47.458 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39839081059979264 [0;39m <==        Row: 2
2023-05-18 00:57:47.459 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39839081059979264 [0;39m <==      Total: 1
2023-05-18 00:57:47.461 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39839081059979264 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-18 00:57:47.462 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39839081059979264 [0;39m ==> Parameters: 10(Integer)
2023-05-18 00:57:47.495 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39839081059979264 [0;39m <==    Columns: id, login_name, name, password
2023-05-18 00:57:47.497 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39839081059979264 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-18 00:57:47.498 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39839081059979264 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-18 00:57:47.498 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39839081059979264 [0;39m <==      Total: 2
2023-05-18 00:57:47.500 INFO  com.jiawa.wiki.service.UserService                :50   [32m39839081059979264 [0;39m 总行数：2
2023-05-18 00:57:47.500 INFO  com.jiawa.wiki.service.UserService                :51   [32m39839081059979264 [0;39m 总页数：1
2023-05-18 00:57:47.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839081059979264 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-18 00:57:47.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839081059979264 [0;39m ------------- 结束 耗时：154 ms -------------
2023-05-18 00:57:47.512 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39839081059979264 [0;39m ------------- LoginInterceptor 结束 耗时：966 ms -------------
2023-05-18 00:57:48.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839085313003520 [0;39m ------------- 开始 -------------
2023-05-18 00:57:48.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839085313003520 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:57:48.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839085313003520 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:57:48.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839085313003520 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:48.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839085313003520 [0;39m 请求参数: []
2023-05-18 00:57:48.406 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839085313003520 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:57:48.407 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839085313003520 [0;39m ==> Parameters: 
2023-05-18 00:57:48.441 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:57:48.441 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:57:48.443 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:57:48.443 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:57:48.444 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:57:48.444 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:57:48.444 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:57:48.444 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:57:48.445 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:57:48.445 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:57:48.445 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:57:48.445 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:57:48.445 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:57:48.446 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:57:48.446 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:57:48.446 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839085313003520 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:57:48.446 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839085313003520 [0;39m <==      Total: 15
2023-05-18 00:57:48.447 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839085313003520 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:57:48.447 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839085313003520 [0;39m ------------- 结束 耗时：77 ms -------------
2023-05-18 00:57:48.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839085774376960 [0;39m ------------- 开始 -------------
2023-05-18 00:57:48.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839085774376960 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:57:48.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839085774376960 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:57:48.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839085774376960 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:48.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839085774376960 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-18 00:57:48.488 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839085774376960 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-18 00:57:48.488 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839085774376960 [0;39m ==> Parameters: 
2023-05-18 00:57:48.523 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839085774376960 [0;39m <==    Columns: count(0)
2023-05-18 00:57:48.523 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839085774376960 [0;39m <==        Row: 6
2023-05-18 00:57:48.523 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839085774376960 [0;39m <==      Total: 1
2023-05-18 00:57:48.524 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839085774376960 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-18 00:57:48.524 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839085774376960 [0;39m ==> Parameters: 10(Integer)
2023-05-18 00:57:48.558 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839085774376960 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-18 00:57:48.559 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839085774376960 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-18 00:57:48.560 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839085774376960 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 214, 3
2023-05-18 00:57:48.561 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839085774376960 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-18 00:57:48.562 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839085774376960 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-18 00:57:48.562 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839085774376960 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-18 00:57:48.562 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839085774376960 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 9, 38, 4
2023-05-18 00:57:48.563 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839085774376960 [0;39m <==      Total: 6
2023-05-18 00:57:48.563 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39839085774376960 [0;39m 总行数：6
2023-05-18 00:57:48.564 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39839085774376960 [0;39m 总页数：1
2023-05-18 00:57:48.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839085774376960 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":214,"voteCount":3},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":200,"category2Id":202,"docCount":9,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":38,"voteCount":4}],"total":6},"success":true}
2023-05-18 00:57:48.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839085774376960 [0;39m ------------- 结束 耗时：92 ms -------------
2023-05-18 00:57:49.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839089524084736 [0;39m ------------- 开始 -------------
2023-05-18 00:57:49.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839089524084736 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:57:49.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839089524084736 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:57:49.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839089524084736 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:49.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839089524084736 [0;39m 请求参数: []
2023-05-18 00:57:49.411 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839089524084736 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:57:49.412 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839089524084736 [0;39m ==> Parameters: 
2023-05-18 00:57:49.444 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:57:49.445 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:57:49.445 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:57:49.446 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:57:49.446 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:57:49.446 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:57:49.446 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:57:49.446 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:57:49.446 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:57:49.447 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:57:49.447 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:57:49.448 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:57:49.448 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:57:49.449 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:57:49.450 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:57:49.450 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839089524084736 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:57:49.450 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839089524084736 [0;39m <==      Total: 15
2023-05-18 00:57:49.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839089524084736 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:57:49.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839089524084736 [0;39m ------------- 结束 耗时：77 ms -------------
2023-05-18 00:57:50.252 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-18 00:57:50.253 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-18 00:57:50.253 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39810535654559744
2023-05-18 00:57:50.294 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39810535654559744"}
2023-05-18 00:57:50.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839093391233024 [0;39m ------------- 开始 -------------
2023-05-18 00:57:50.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839093391233024 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-18 00:57:50.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839093391233024 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-18 00:57:50.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839093391233024 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:50.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839093391233024 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-18 00:57:50.331 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39839093391233024 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-18 00:57:50.332 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39839093391233024 [0;39m ==> Parameters: 
2023-05-18 00:57:50.366 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39839093391233024 [0;39m <==    Columns: count(0)
2023-05-18 00:57:50.367 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39839093391233024 [0;39m <==        Row: 2
2023-05-18 00:57:50.367 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39839093391233024 [0;39m <==      Total: 1
2023-05-18 00:57:50.367 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39839093391233024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-18 00:57:50.368 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39839093391233024 [0;39m ==> Parameters: 10(Integer)
2023-05-18 00:57:50.402 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39839093391233024 [0;39m <==    Columns: id, login_name, name, password
2023-05-18 00:57:50.403 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39839093391233024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-18 00:57:50.404 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39839093391233024 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-18 00:57:50.404 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39839093391233024 [0;39m <==      Total: 2
2023-05-18 00:57:50.405 INFO  com.jiawa.wiki.service.UserService                :50   [32m39839093391233024 [0;39m 总行数：2
2023-05-18 00:57:50.405 INFO  com.jiawa.wiki.service.UserService                :51   [32m39839093391233024 [0;39m 总页数：1
2023-05-18 00:57:50.405 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839093391233024 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-18 00:57:50.405 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839093391233024 [0;39m ------------- 结束 耗时：109 ms -------------
2023-05-18 00:57:50.406 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39839093391233024 [0;39m ------------- LoginInterceptor 结束 耗时：153 ms -------------
2023-05-18 00:57:50.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839095031205889 [0;39m ------------- 开始 -------------
2023-05-18 00:57:50.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839095031205888 [0;39m ------------- 开始 -------------
2023-05-18 00:57:50.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839095031205888 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:57:50.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839095031205889 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:57:50.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839095031205889 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:57:50.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839095031205888 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:57:50.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839095035400192 [0;39m ------------- 开始 -------------
2023-05-18 00:57:50.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839095031205889 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:50.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839095031205888 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:50.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839095035400192 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:57:50.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839095031205889 [0;39m 请求参数: []
2023-05-18 00:57:50.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839095031205888 [0;39m 请求参数: []
2023-05-18 00:57:50.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839095035400192 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:57:50.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839095035400192 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:50.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839095035400192 [0;39m 请求参数: []
2023-05-18 00:57:50.689 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39839095031205889 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:57:50.690 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39839095031205889 [0;39m ==> Parameters: 
2023-05-18 00:57:50.722 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839095035400192 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:57:50.722 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39839095031205888 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:57:50.723 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839095035400192 [0;39m ==> Parameters: 
2023-05-18 00:57:50.723 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39839095031205888 [0;39m ==> Parameters: 
2023-05-18 00:57:50.735 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839095031205889 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:57:50.735 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839095031205889 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:57:50.736 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839095031205889 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:57:50.737 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839095031205889 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:57:50.737 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839095031205889 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:57:50.738 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839095031205889 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:57:50.738 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839095031205889 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:57:50.740 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839095031205889 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:57:50.740 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839095031205889 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:57:50.740 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39839095031205889 [0;39m <==      Total: 8
2023-05-18 00:57:50.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839095031205889 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:57:50.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839095031205889 [0;39m ------------- 结束 耗时：55 ms -------------
2023-05-18 00:57:50.759 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39839095031205888 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:57:50.759 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:57:50.759 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:57:50.761 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39839095031205888 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:57:50.761 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:57:50.761 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:57:50.762 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39839095031205888 [0;39m <==        Row: 2023-05-17, 713, 22, 118, 6
2023-05-18 00:57:50.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:57:50.762 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39839095031205888 [0;39m <==      Total: 2
2023-05-18 00:57:50.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:57:50.763 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:57:50.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839095031205888 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":713,"viewIncrease":118,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:57:50.763 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:57:50.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839095031205888 [0;39m ------------- 结束 耗时：76 ms -------------
2023-05-18 00:57:50.763 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:57:50.763 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:57:50.764 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:57:50.764 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:57:50.764 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:57:50.764 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:57:50.765 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:57:50.765 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839095035400192 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:57:50.765 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839095035400192 [0;39m <==      Total: 15
2023-05-18 00:57:50.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839095035400192 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:57:50.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839095035400192 [0;39m ------------- 结束 耗时：78 ms -------------
2023-05-18 00:57:51.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839098160156672 [0;39m ------------- 开始 -------------
2023-05-18 00:57:51.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839098160156672 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:57:51.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839098160156672 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:57:51.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839098160156672 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:51.435 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839098160156672 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-18 00:57:51.480 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839098160156672 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-18 00:57:51.480 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839098160156672 [0;39m ==> Parameters: 102(Long)
2023-05-18 00:57:51.513 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839098160156672 [0;39m <==    Columns: count(0)
2023-05-18 00:57:51.513 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839098160156672 [0;39m <==        Row: 0
2023-05-18 00:57:51.514 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839098160156672 [0;39m <==      Total: 1
2023-05-18 00:57:51.514 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39839098160156672 [0;39m 总行数：0
2023-05-18 00:57:51.514 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39839098160156672 [0;39m 总页数：0
2023-05-18 00:57:51.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839098160156672 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-18 00:57:51.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839098160156672 [0;39m ------------- 结束 耗时：81 ms -------------
2023-05-18 00:57:52.435 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839102362849280 [0;39m ------------- 开始 -------------
2023-05-18 00:57:52.435 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839102362849280 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:57:52.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839102362849280 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:57:52.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839102362849280 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:52.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839102362849280 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-18 00:57:52.471 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839102362849280 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-18 00:57:52.472 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839102362849280 [0;39m ==> Parameters: 101(Long)
2023-05-18 00:57:52.509 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839102362849280 [0;39m <==    Columns: count(0)
2023-05-18 00:57:52.509 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839102362849280 [0;39m <==        Row: 1
2023-05-18 00:57:52.510 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839102362849280 [0;39m <==      Total: 1
2023-05-18 00:57:52.511 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839102362849280 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-18 00:57:52.511 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839102362849280 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-18 00:57:52.553 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839102362849280 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-18 00:57:52.554 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839102362849280 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 214, 3
2023-05-18 00:57:52.554 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839102362849280 [0;39m <==      Total: 1
2023-05-18 00:57:52.555 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39839102362849280 [0;39m 总行数：1
2023-05-18 00:57:52.555 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39839102362849280 [0;39m 总页数：1
2023-05-18 00:57:52.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839102362849280 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":214,"voteCount":3}],"total":1},"success":true}
2023-05-18 00:57:52.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839102362849280 [0;39m ------------- 结束 耗时：120 ms -------------
2023-05-18 00:57:53.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839105219170304 [0;39m ------------- 开始 -------------
2023-05-18 00:57:53.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839105219170304 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:57:53.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839105219170304 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:57:53.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839105219170304 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:53.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839105219170304 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-18 00:57:53.153 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839105219170304 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-18 00:57:53.154 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839105219170304 [0;39m ==> Parameters: 201(Long)
2023-05-18 00:57:53.187 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839105219170304 [0;39m <==    Columns: count(0)
2023-05-18 00:57:53.188 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839105219170304 [0;39m <==        Row: 0
2023-05-18 00:57:53.188 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839105219170304 [0;39m <==      Total: 1
2023-05-18 00:57:53.188 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39839105219170304 [0;39m 总行数：0
2023-05-18 00:57:53.188 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39839105219170304 [0;39m 总页数：0
2023-05-18 00:57:53.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839105219170304 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-18 00:57:53.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839105219170304 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-18 00:57:54.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839109153427456 [0;39m ------------- 开始 -------------
2023-05-18 00:57:54.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839109153427456 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:57:54.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839109153427456 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:57:54.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839109153427456 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:54.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839109153427456 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-18 00:57:54.090 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839109153427456 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-18 00:57:54.091 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839109153427456 [0;39m ==> Parameters: 202(Long)
2023-05-18 00:57:54.124 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839109153427456 [0;39m <==    Columns: count(0)
2023-05-18 00:57:54.124 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839109153427456 [0;39m <==        Row: 2
2023-05-18 00:57:54.125 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839109153427456 [0;39m <==      Total: 1
2023-05-18 00:57:54.125 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839109153427456 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-18 00:57:54.126 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839109153427456 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-18 00:57:54.169 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839109153427456 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-18 00:57:54.169 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839109153427456 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-18 00:57:54.170 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839109153427456 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 9, 38, 4
2023-05-18 00:57:54.170 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839109153427456 [0;39m <==      Total: 2
2023-05-18 00:57:54.171 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39839109153427456 [0;39m 总行数：2
2023-05-18 00:57:54.171 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39839109153427456 [0;39m 总页数：1
2023-05-18 00:57:54.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839109153427456 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":200,"category2Id":202,"docCount":9,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":38,"voteCount":4}],"total":2},"success":true}
2023-05-18 00:57:54.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839109153427456 [0;39m ------------- 结束 耗时：117 ms -------------
2023-05-18 00:57:54.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839111904890880 [0;39m ------------- 开始 -------------
2023-05-18 00:57:54.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839111904890880 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-18 00:57:54.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839111904890880 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-18 00:57:54.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839111904890880 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:54.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839111904890880 [0;39m 请求参数: [1]
2023-05-18 00:57:54.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839111955222528 [0;39m ------------- 开始 -------------
2023-05-18 00:57:54.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839111955222528 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-18 00:57:54.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839111955222528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-18 00:57:54.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839111955222528 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:54.723 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839111955222528 [0;39m 请求参数: [1]
2023-05-18 00:57:54.761 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39839111955222528 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-18 00:57:54.761 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39839111904890880 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-18 00:57:54.762 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39839111904890880 [0;39m ==> Parameters: 1(Long)
2023-05-18 00:57:54.762 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39839111955222528 [0;39m ==> Parameters: 1(Long)
2023-05-18 00:57:54.798 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839111904890880 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-18 00:57:54.798 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839111904890880 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 425, 8
2023-05-18 00:57:54.799 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839111904890880 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-18 00:57:54.799 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839111904890880 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-18 00:57:54.799 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839111904890880 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-18 00:57:54.799 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839111904890880 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-18 00:57:54.800 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839111904890880 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-18 00:57:54.800 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39839111955222528 [0;39m <==      Total: 0
2023-05-18 00:57:54.800 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839111904890880 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-18 00:57:54.800 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839111904890880 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-18 00:57:54.800 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39839111904890880 [0;39m <==      Total: 8
2023-05-18 00:57:54.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839111955222528 [0;39m 返回结果: {"content":[],"success":true}
2023-05-18 00:57:54.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839111955222528 [0;39m ------------- 结束 耗时：79 ms -------------
2023-05-18 00:57:54.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839111904890880 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":425,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-18 00:57:54.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839111904890880 [0;39m ------------- 结束 耗时：98 ms -------------
2023-05-18 00:57:54.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839112513064960 [0;39m ------------- 开始 -------------
2023-05-18 00:57:54.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839112513064960 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-18 00:57:54.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839112513064960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-18 00:57:54.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839112513064960 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:57:54.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839112513064960 [0;39m 请求参数: [1]
2023-05-18 00:57:54.858 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39839112513064960 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-18 00:57:54.858 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39839112513064960 [0;39m ==> Parameters: 1(Long)
2023-05-18 00:57:54.899 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39839112513064960 [0;39m <==    Columns: id, content
2023-05-18 00:57:54.899 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39839112513064960 [0;39m <==        Row: 1, <<BLOB>>
2023-05-18 00:57:54.900 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39839112513064960 [0;39m <==      Total: 1
2023-05-18 00:57:54.901 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39839112513064960 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-18 00:57:54.901 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39839112513064960 [0;39m ==> Parameters: 1(Long)
2023-05-18 00:57:54.975 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39839112513064960 [0;39m <==    Updates: 1
2023-05-18 00:57:54.975 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839112513064960 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-18 00:57:54.975 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839112513064960 [0;39m ------------- 结束 耗时：120 ms -------------
2023-05-18 00:58:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39839155106222080 [0;39m 更新电子书下的文档数据开始
2023-05-18 00:58:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39839155106222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 00:58:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39839155106222080 [0;39m ==> Parameters: 
2023-05-18 00:58:05.116 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39839155106222080 [0;39m <==    Updates: 3
2023-05-18 00:58:05.116 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39839155106222080 [0;39m 更新电子书下的文档数据结束，耗时：103毫秒
2023-05-18 00:58:54.819 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：ZU96WL0r2w，session id：0！当前连接数：0
2023-05-18 00:58:54.879 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-18 00:58:54.881 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-18 00:58:54.882 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-18 00:58:54.938 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-18 00:59:00.967 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 16924 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-18 00:59:00.972 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-18 00:59:00.986 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-18 00:59:01.031 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-18 00:59:01.031 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-18 00:59:01.641 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-18 00:59:01.642 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-18 00:59:01.670 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2023-05-18 00:59:02.551 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-18 00:59:02.606 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-18 00:59:02.607 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-18 00:59:02.607 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-18 00:59:02.784 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-18 00:59:02.784 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1751 ms
2023-05-18 00:59:04.188 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-18 00:59:04.480 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-18 00:59:04.527 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-18 00:59:04.550 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-18 00:59:04.568 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-18 00:59:04.582 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 4.204 seconds (JVM running for 5.883)
2023-05-18 00:59:04.584 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-18 00:59:04.584 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-18 00:59:25.777 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-18 00:59:25.779 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-18 00:59:25.782 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2023-05-18 00:59:25.831 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：wIIlJIwiPF，session id：0，当前连接数：1
2023-05-18 00:59:25.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839494651908097 [0;39m ------------- 开始 -------------
2023-05-18 00:59:25.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839494651908096 [0;39m ------------- 开始 -------------
2023-05-18 00:59:25.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839494651908097 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-18 00:59:25.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839494651908096 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-18 00:59:25.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839494651908097 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-18 00:59:25.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839494651908096 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-18 00:59:25.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839494651908097 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:59:25.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839494651908096 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:59:26.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839494651908096 [0;39m 请求参数: [1]
2023-05-18 00:59:26.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839494651908097 [0;39m 请求参数: [1]
2023-05-18 00:59:26.072 WARN  com.zaxxer.hikari.HikariConfig                    :1017 [32m39839494651908097 [0;39m HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.
2023-05-18 00:59:26.073 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39839494651908097 [0;39m HikariPool-1 - Starting...
2023-05-18 00:59:27.116 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39839494651908097 [0;39m HikariPool-1 - Start completed.
2023-05-18 00:59:27.124 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39839494651908097 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-18 00:59:27.144 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39839494651908097 [0;39m ==> Parameters: 1(Long)
2023-05-18 00:59:27.190 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39839494651908097 [0;39m <==      Total: 0
2023-05-18 00:59:27.194 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39839494651908096 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-18 00:59:27.194 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39839494651908096 [0;39m ==> Parameters: 1(Long)
2023-05-18 00:59:27.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839494651908097 [0;39m 返回结果: {"content":[],"success":true}
2023-05-18 00:59:27.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839494651908097 [0;39m ------------- 结束 耗时：1242 ms -------------
2023-05-18 00:59:27.234 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839494651908096 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-18 00:59:27.234 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839494651908096 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 426, 8
2023-05-18 00:59:27.235 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839494651908096 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-18 00:59:27.236 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839494651908096 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-18 00:59:27.236 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839494651908096 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-18 00:59:27.236 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839494651908096 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-18 00:59:27.237 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839494651908096 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-18 00:59:27.237 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839494651908096 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-18 00:59:27.237 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39839494651908096 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-18 00:59:27.238 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39839494651908096 [0;39m <==      Total: 8
2023-05-18 00:59:27.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839494651908096 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":426,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-18 00:59:27.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839494651908096 [0;39m ------------- 结束 耗时：1285 ms -------------
2023-05-18 00:59:27.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839500196777984 [0;39m ------------- 开始 -------------
2023-05-18 00:59:27.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839500196777984 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-18 00:59:27.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839500196777984 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-18 00:59:27.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839500196777984 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:59:27.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839500196777984 [0;39m 请求参数: [1]
2023-05-18 00:59:27.288 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39839500196777984 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-18 00:59:27.288 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39839500196777984 [0;39m ==> Parameters: 1(Long)
2023-05-18 00:59:27.324 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39839500196777984 [0;39m <==    Columns: id, content
2023-05-18 00:59:27.324 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39839500196777984 [0;39m <==        Row: 1, <<BLOB>>
2023-05-18 00:59:27.324 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39839500196777984 [0;39m <==      Total: 1
2023-05-18 00:59:27.327 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39839500196777984 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-18 00:59:27.328 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39839500196777984 [0;39m ==> Parameters: 1(Long)
2023-05-18 00:59:27.399 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39839500196777984 [0;39m <==    Updates: 1
2023-05-18 00:59:27.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839500196777984 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-18 00:59:27.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839500196777984 [0;39m ------------- 结束 耗时：114 ms -------------
2023-05-18 00:59:27.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839502985990145 [0;39m ------------- 开始 -------------
2023-05-18 00:59:27.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839502985990144 [0;39m ------------- 开始 -------------
2023-05-18 00:59:27.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839502985990145 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-18 00:59:27.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839502985990144 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-18 00:59:27.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839502985990145 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-18 00:59:27.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839502985990144 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-18 00:59:27.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839502985990145 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:59:27.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839502985990144 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:59:27.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839502985990145 [0;39m 请求参数: []
2023-05-18 00:59:27.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839502985990144 [0;39m 请求参数: []
2023-05-18 00:59:27.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839503006961664 [0;39m ------------- 开始 -------------
2023-05-18 00:59:27.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839503006961664 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-18 00:59:27.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839503006961664 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-18 00:59:27.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839503006961664 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:59:27.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839503006961664 [0;39m 请求参数: []
2023-05-18 00:59:27.989 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39839502985990145 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:59:27.991 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39839502985990145 [0;39m ==> Parameters: 
2023-05-18 00:59:28.025 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839502985990145 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-18 00:59:28.027 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839502985990145 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-18 00:59:28.028 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839502985990145 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-18 00:59:28.030 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839502985990145 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-18 00:59:28.031 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839502985990145 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-18 00:59:28.031 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839502985990145 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-18 00:59:28.031 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839502985990145 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-18 00:59:28.032 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839502985990145 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-18 00:59:28.032 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39839502985990145 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-18 00:59:28.032 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39839502985990145 [0;39m <==      Total: 8
2023-05-18 00:59:28.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39839502985990144 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-18 00:59:28.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39839502985990144 [0;39m ==> Parameters: 
2023-05-18 00:59:28.035 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839502985990145 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-18 00:59:28.035 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839502985990145 [0;39m ------------- 结束 耗时：84 ms -------------
2023-05-18 00:59:28.068 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39839502985990144 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-18 00:59:28.068 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39839502985990144 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-18 00:59:28.070 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39839502985990144 [0;39m <==        Row: 2023-05-17, 713, 22, 118, 6
2023-05-18 00:59:28.070 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39839502985990144 [0;39m <==      Total: 2
2023-05-18 00:59:28.071 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839502985990144 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":713,"viewIncrease":118,"voteCount":22,"voteIncrease":6}],"success":true}
2023-05-18 00:59:28.071 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839503006961664 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-18 00:59:28.071 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839502985990144 [0;39m ------------- 结束 耗时：120 ms -------------
2023-05-18 00:59:28.071 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839503006961664 [0;39m ==> Parameters: 
2023-05-18 00:59:28.120 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==    Columns: id, parent, name, sort
2023-05-18 00:59:28.120 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-18 00:59:28.121 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-18 00:59:28.121 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-18 00:59:28.122 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 200, 0, Java, 200
2023-05-18 00:59:28.122 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-18 00:59:28.122 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-18 00:59:28.123 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 300, 0, Python, 300
2023-05-18 00:59:28.123 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-18 00:59:28.123 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-18 00:59:28.124 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-18 00:59:28.124 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-18 00:59:28.124 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-18 00:59:28.125 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-18 00:59:28.125 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-18 00:59:28.125 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39839503006961664 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-18 00:59:28.126 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39839503006961664 [0;39m <==      Total: 15
2023-05-18 00:59:28.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839503006961664 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-18 00:59:28.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839503006961664 [0;39m ------------- 结束 耗时：178 ms -------------
2023-05-18 00:59:29.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839509638156288 [0;39m ------------- 开始 -------------
2023-05-18 00:59:29.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839509638156288 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:59:29.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839509638156288 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:59:29.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839509638156288 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:59:29.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839509638156288 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-18 00:59:29.600 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839509638156288 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-18 00:59:29.600 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839509638156288 [0;39m ==> Parameters: 101(Long)
2023-05-18 00:59:29.634 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839509638156288 [0;39m <==    Columns: count(0)
2023-05-18 00:59:29.635 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839509638156288 [0;39m <==        Row: 1
2023-05-18 00:59:29.635 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839509638156288 [0;39m <==      Total: 1
2023-05-18 00:59:29.637 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839509638156288 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-18 00:59:29.638 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839509638156288 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-18 00:59:29.671 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839509638156288 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-18 00:59:29.671 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839509638156288 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 214, 3
2023-05-18 00:59:29.672 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839509638156288 [0;39m <==      Total: 1
2023-05-18 00:59:29.673 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39839509638156288 [0;39m 总行数：1
2023-05-18 00:59:29.673 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39839509638156288 [0;39m 总页数：1
2023-05-18 00:59:29.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839509638156288 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":214,"voteCount":3}],"total":1},"success":true}
2023-05-18 00:59:29.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839509638156288 [0;39m ------------- 结束 耗时：143 ms -------------
2023-05-18 00:59:30.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839512070852608 [0;39m ------------- 开始 -------------
2023-05-18 00:59:30.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839512070852608 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:59:30.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839512070852608 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:59:30.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839512070852608 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:59:30.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839512070852608 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-18 00:59:30.119 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839512070852608 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-18 00:59:30.121 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839512070852608 [0;39m ==> Parameters: 102(Long)
2023-05-18 00:59:30.155 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839512070852608 [0;39m <==    Columns: count(0)
2023-05-18 00:59:30.155 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839512070852608 [0;39m <==        Row: 0
2023-05-18 00:59:30.156 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839512070852608 [0;39m <==      Total: 1
2023-05-18 00:59:30.156 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39839512070852608 [0;39m 总行数：0
2023-05-18 00:59:30.156 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39839512070852608 [0;39m 总页数：0
2023-05-18 00:59:30.157 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839512070852608 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-18 00:59:30.157 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839512070852608 [0;39m ------------- 结束 耗时：40 ms -------------
2023-05-18 00:59:31.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839516168687616 [0;39m ------------- 开始 -------------
2023-05-18 00:59:31.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839516168687616 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:59:31.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839516168687616 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:59:31.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839516168687616 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:59:31.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839516168687616 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-18 00:59:31.132 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839516168687616 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-18 00:59:31.133 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839516168687616 [0;39m ==> Parameters: 201(Long)
2023-05-18 00:59:31.167 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839516168687616 [0;39m <==    Columns: count(0)
2023-05-18 00:59:31.168 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839516168687616 [0;39m <==        Row: 0
2023-05-18 00:59:31.168 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839516168687616 [0;39m <==      Total: 1
2023-05-18 00:59:31.169 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39839516168687616 [0;39m 总行数：0
2023-05-18 00:59:31.169 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39839516168687616 [0;39m 总页数：0
2023-05-18 00:59:31.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839516168687616 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-18 00:59:31.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839516168687616 [0;39m ------------- 结束 耗时：76 ms -------------
2023-05-18 00:59:31.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39839519738040320 [0;39m ------------- 开始 -------------
2023-05-18 00:59:31.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39839519738040320 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-18 00:59:31.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39839519738040320 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-18 00:59:31.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39839519738040320 [0;39m 远程地址: 127.0.0.1
2023-05-18 00:59:31.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39839519738040320 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-18 00:59:31.981 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839519738040320 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-18 00:59:31.982 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839519738040320 [0;39m ==> Parameters: 202(Long)
2023-05-18 00:59:32.018 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839519738040320 [0;39m <==    Columns: count(0)
2023-05-18 00:59:32.018 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39839519738040320 [0;39m <==        Row: 2
2023-05-18 00:59:32.019 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39839519738040320 [0;39m <==      Total: 1
2023-05-18 00:59:32.020 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839519738040320 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-18 00:59:32.020 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839519738040320 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-18 00:59:32.054 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839519738040320 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-18 00:59:32.055 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839519738040320 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 462, 15
2023-05-18 00:59:32.056 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39839519738040320 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 9, 38, 4
2023-05-18 00:59:32.057 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39839519738040320 [0;39m <==      Total: 2
2023-05-18 00:59:32.057 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39839519738040320 [0;39m 总行数：2
2023-05-18 00:59:32.058 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39839519738040320 [0;39m 总页数：1
2023-05-18 00:59:32.058 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39839519738040320 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":462,"voteCount":15},{"category1Id":200,"category2Id":202,"docCount":9,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":38,"voteCount":4}],"total":2},"success":true}
2023-05-18 00:59:32.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39839519738040320 [0;39m ------------- 结束 耗时：114 ms -------------
2023-05-18 01:00:00.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39839637434404864 [0;39m 更新电子书下的文档数据开始
2023-05-18 01:00:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39839637434404864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-18 01:00:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39839637434404864 [0;39m ==> Parameters: 
2023-05-18 01:00:00.120 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39839637434404864 [0;39m <==    Updates: 3
2023-05-18 01:00:00.120 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39839637434404864 [0;39m 更新电子书下的文档数据结束，耗时：114毫秒
2023-05-18 01:00:00.121 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39839637916749824 [0;39m 生成今日电子书快照开始
2023-05-18 01:00:00.121 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39839637916749824 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-18 01:00:00.122 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39839637916749824 [0;39m ==> Parameters: 
2023-05-18 01:00:00.197 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39839637916749824 [0;39m <==    Updates: 0
2023-05-18 01:00:00.197 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39839637916749824 [0;39m 生成今日电子书快照结束，耗时：76毫秒
