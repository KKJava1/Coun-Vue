2023-05-17 00:00:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39462150095376384 [0;39m 生成今日电子书快照开始
2023-05-17 00:00:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462150095376384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:00:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462150095376384 [0;39m ==> Parameters: 
2023-05-17 00:00:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462150095376384 [0;39m <==    Updates: 5
2023-05-17 00:00:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39462150095376384 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-17 00:00:03.978 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39461163150479360 [0;39m 连接关闭，token：CjC5TWREzM，session id：15！当前连接数：0
2023-05-17 00:00:04.602 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39461163179839488 [0;39m 有新连接：token：KeaADuYVmC，session id：16，当前连接数：1
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462169707941888 [0;39m ------------- 开始 -------------
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462169707941889 [0;39m ------------- 开始 -------------
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462169707941888 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462169707941889 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462169707941888 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462169707941889 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462169707941888 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:00:04.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462169707941889 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:00:04.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462169707941889 [0;39m 请求参数: [2]
2023-05-17 00:00:04.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462169707941888 [0;39m 请求参数: [2]
2023-05-17 00:00:04.691 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462169707941888 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:00:04.691 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462169707941888 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:00:04.692 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462169707941889 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:00:04.692 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462169707941889 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:00:04.692 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462169707941888 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:00:04.693 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462169707941888 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:00:04.693 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462169707941889 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:00:04.693 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462169707941889 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 145, 1
2023-05-17 00:00:04.693 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462169707941888 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:00:04.693 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462169707941888 [0;39m <==      Total: 2
2023-05-17 00:00:04.693 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:00:04.694 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:00:04.694 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462169707941889 [0;39m <==      Total: 1
2023-05-17 00:00:04.694 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462169707941888 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:00:04.694 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462169707941888 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:00:04.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462169707941889 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":145,"voteCount":1}],"success":true}
2023-05-17 00:00:04.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462169707941889 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:00:04.694 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m <==      Total: 1
2023-05-17 00:00:04.694 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:00:04.694 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:00:04.695 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462169707941888 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:00:04.695 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462169707941888 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:00:04.695 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m <==      Total: 1
2023-05-17 00:00:04.695 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:00:04.696 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:00:04.696 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462169707941888 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:00:04.696 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462169707941888 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:00:04.696 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462169707941888 [0;39m <==      Total: 1
2023-05-17 00:00:04.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462169707941888 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:00:04.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462169707941888 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:00:04.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462169858936832 [0;39m ------------- 开始 -------------
2023-05-17 00:00:04.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462169858936832 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:00:04.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462169858936832 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:00:04.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462169858936832 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:00:04.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462169858936832 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:00:04.727 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462169858936832 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:00:04.728 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462169858936832 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:00:04.729 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462169858936832 [0;39m <==    Columns: id, content
2023-05-17 00:00:04.729 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462169858936832 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:00:04.729 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462169858936832 [0;39m <==      Total: 1
2023-05-17 00:00:04.730 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462169858936832 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:00:04.731 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462169858936832 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:00:04.732 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462169858936832 [0;39m <==    Updates: 1
2023-05-17 00:00:04.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462169858936832 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:00:04.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462169858936832 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:00:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462171033341952 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:00:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462171033341952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:00:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462171033341952 [0;39m ==> Parameters: 
2023-05-17 00:00:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462171033341952 [0;39m <==    Updates: 2
2023-05-17 00:00:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462171033341952 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:00:05.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462174564945920 [0;39m ------------- 开始 -------------
2023-05-17 00:00:05.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462174564945920 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:00:05.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462174564945920 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:00:05.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462174564945920 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:00:05.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462174564945920 [0;39m 请求参数: [2]
2023-05-17 00:00:05.846 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462174564945920 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:00:05.847 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462174564945920 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:00:05.847 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462174564945920 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:00:05.847 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462174564945920 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:00:05.849 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462174564945920 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:00:05.849 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462174564945920 [0;39m <==      Total: 2
2023-05-17 00:00:05.849 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:00:05.849 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:00:05.850 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462174564945920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:00:05.850 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462174564945920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:00:05.850 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m <==      Total: 1
2023-05-17 00:00:05.850 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:00:05.850 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:00:05.851 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462174564945920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:00:05.852 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462174564945920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:00:05.852 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m <==      Total: 1
2023-05-17 00:00:05.852 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:00:05.853 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:00:05.853 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462174564945920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:00:05.853 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462174564945920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:00:05.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462174564945920 [0;39m <==      Total: 1
2023-05-17 00:00:05.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462174564945920 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:00:05.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462174564945920 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:00:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462296900210688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:00:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462296900210688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:00:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462296900210688 [0;39m ==> Parameters: 
2023-05-17 00:00:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462296900210688 [0;39m <==    Updates: 2
2023-05-17 00:00:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462296900210688 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 00:01:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39462401728450560 [0;39m 生成今日电子书快照开始
2023-05-17 00:01:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462401728450560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:01:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462401728450560 [0;39m ==> Parameters: 
2023-05-17 00:01:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462401728450560 [0;39m <==    Updates: 0
2023-05-17 00:01:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39462401728450560 [0;39m 生成今日电子书快照结束，耗时：16毫秒
2023-05-17 00:01:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462422737719296 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:01:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462422737719296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:01:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462422737719296 [0;39m ==> Parameters: 
2023-05-17 00:01:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462422737719296 [0;39m <==    Updates: 2
2023-05-17 00:01:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462422737719296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:01:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462548550062080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:01:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462548550062080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:01:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462548550062080 [0;39m ==> Parameters: 
2023-05-17 00:01:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462548550062080 [0;39m <==    Updates: 2
2023-05-17 00:01:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462548550062080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:02:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39462653399273472 [0;39m 生成今日电子书快照开始
2023-05-17 00:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462653399273472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462653399273472 [0;39m ==> Parameters: 
2023-05-17 00:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462653399273472 [0;39m <==    Updates: 0
2023-05-17 00:02:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39462653399273472 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:02:01.203 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39461971757764608 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:02:01.203 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39461971757764608 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:02:01.203 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39461971757764608 [0;39m 登录校验开始，token：39402521571233792
2023-05-17 00:02:01.205 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39461971757764608 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-17 00:02:01.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462658419855360 [0;39m ------------- 开始 -------------
2023-05-17 00:02:01.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462658419855360 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:02:01.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462658419855360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:02:01.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462658419855360 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:01.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462658419855360 [0;39m 请求参数: [{"content":"ewq","ebookId":2,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:02:01.206 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658419855360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.206 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658419855360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.207 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658419855360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.207 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658419855360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.207 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658419855360 [0;39m <==      Total: 1
2023-05-17 00:02:01.208 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658419855360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.208 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658419855360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.208 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658419855360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.209 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658419855360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.209 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658419855360 [0;39m <==      Total: 1
2023-05-17 00:02:01.209 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39462658419855360 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:02:01.210 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39462658419855360 [0;39m ==> Parameters: 1(Long), 2(Long), 2(Long), 1(Long), ewq(String), 2023-05-17 00:02:01.209(Timestamp), null
2023-05-17 00:02:01.217 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39462658419855360 [0;39m <==    Updates: 1
2023-05-17 00:02:01.217 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39462658419855360 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:02:01.217 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39462658419855360 [0;39m ==> Parameters: 3(Long)
2023-05-17 00:02:01.217 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39462658419855360 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:01.217 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39462658419855360 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:01.217 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39462658419855360 [0;39m <==      Total: 1
2023-05-17 00:02:01.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462658419855360 [0;39m 返回结果: {"content":{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:02:01.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462658419855360 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:02:01.219 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39462658419855360 [0;39m ------------- LoginInterceptor 结束 耗时：16 ms -------------
2023-05-17 00:02:01.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462658499547136 [0;39m ------------- 开始 -------------
2023-05-17 00:02:01.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462658499547136 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:01.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462658499547136 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:01.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462658499547136 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:01.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462658499547136 [0;39m 请求参数: [2]
2023-05-17 00:02:01.226 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462658499547136 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:01.226 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462658499547136 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:01.226 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462658499547136 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:01.226 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462658499547136 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:01.226 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462658499547136 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:01.226 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462658499547136 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:01.226 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462658499547136 [0;39m <==      Total: 3
2023-05-17 00:02:01.228 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.228 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.228 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.228 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.229 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m <==      Total: 1
2023-05-17 00:02:01.229 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.229 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.229 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.230 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.230 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m <==      Total: 1
2023-05-17 00:02:01.230 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.230 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.230 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m <==      Total: 1
2023-05-17 00:02:01.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m <==      Total: 1
2023-05-17 00:02:01.232 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:01.232 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:01.232 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:01.232 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462658499547136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:01.232 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462658499547136 [0;39m <==      Total: 1
2023-05-17 00:02:01.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462658499547136 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:01.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462658499547136 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:02:03.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462668045783040 [0;39m ------------- 开始 -------------
2023-05-17 00:02:03.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462668045783040 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:03.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462668045783040 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:03.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462668045783040 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:03.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462668045783040 [0;39m 请求参数: [2]
2023-05-17 00:02:03.503 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462668045783040 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:03.503 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462668045783040 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:03.504 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462668045783040 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:03.504 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462668045783040 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:03.504 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462668045783040 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:03.504 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462668045783040 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:03.504 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462668045783040 [0;39m <==      Total: 3
2023-05-17 00:02:03.504 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:03.504 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:03.504 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:03.504 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:03.504 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m <==      Total: 1
2023-05-17 00:02:03.504 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:03.504 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:03.504 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:03.507 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:03.507 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m <==      Total: 1
2023-05-17 00:02:03.507 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:03.507 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:03.508 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:03.508 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:03.508 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m <==      Total: 1
2023-05-17 00:02:03.508 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:03.508 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:03.508 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:03.508 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:03.508 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m <==      Total: 1
2023-05-17 00:02:03.508 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:03.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:03.510 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:03.510 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462668045783040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:03.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462668045783040 [0;39m <==      Total: 1
2023-05-17 00:02:03.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462668045783040 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:03.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462668045783040 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:02:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462674374987776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:02:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462674374987776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:02:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462674374987776 [0;39m ==> Parameters: 
2023-05-17 00:02:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462674374987776 [0;39m <==    Updates: 2
2023-05-17 00:02:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462674374987776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:02:06.019 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39461163179839488 [0;39m 连接关闭，token：KeaADuYVmC，session id：16！当前连接数：0
2023-05-17 00:02:06.521 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39462169707941889 [0;39m 有新连接：token：oNupvqu0rA，session id：17，当前连接数：1
2023-05-17 00:02:06.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462680892936193 [0;39m ------------- 开始 -------------
2023-05-17 00:02:06.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462680892936192 [0;39m ------------- 开始 -------------
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462680892936193 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462680892936192 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462680892936193 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462680892936192 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462680892936192 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462680892936193 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462680892936192 [0;39m 请求参数: [2]
2023-05-17 00:02:06.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462680892936193 [0;39m 请求参数: [2]
2023-05-17 00:02:06.564 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462680892936192 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:06.565 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462680892936192 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:06.565 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462680892936193 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:02:06.565 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462680892936193 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:06.565 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462680892936192 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:06.565 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462680892936193 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:02:06.565 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462680892936192 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:06.565 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462680892936193 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 146, 1
2023-05-17 00:02:06.565 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462680892936192 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:06.565 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462680892936193 [0;39m <==      Total: 1
2023-05-17 00:02:06.566 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462680892936192 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:06.566 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462680892936192 [0;39m <==      Total: 3
2023-05-17 00:02:06.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462680892936193 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":146,"voteCount":1}],"success":true}
2023-05-17 00:02:06.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462680892936193 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:02:06.566 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:06.566 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:06.567 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:06.567 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:06.567 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m <==      Total: 1
2023-05-17 00:02:06.567 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:06.567 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:06.568 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:06.568 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:06.568 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m <==      Total: 1
2023-05-17 00:02:06.568 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:06.568 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:06.569 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:06.569 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:06.569 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m <==      Total: 1
2023-05-17 00:02:06.569 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:06.570 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:06.570 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:06.570 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:06.570 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m <==      Total: 1
2023-05-17 00:02:06.571 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:06.571 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:06.572 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:06.573 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462680892936192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:06.573 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462680892936192 [0;39m <==      Total: 1
2023-05-17 00:02:06.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462680892936192 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:06.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462680892936192 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:02:06.656 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462681283006464 [0;39m ------------- 开始 -------------
2023-05-17 00:02:06.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462681283006464 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:02:06.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462681283006464 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:02:06.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462681283006464 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:06.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462681283006464 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:02:06.661 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462681283006464 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:02:06.662 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462681283006464 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:02:06.663 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462681283006464 [0;39m <==    Columns: id, content
2023-05-17 00:02:06.663 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462681283006464 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:02:06.664 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462681283006464 [0;39m <==      Total: 1
2023-05-17 00:02:06.664 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462681283006464 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:02:06.666 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462681283006464 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:02:06.687 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462681283006464 [0;39m <==    Updates: 1
2023-05-17 00:02:06.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462681283006464 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:02:06.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462681283006464 [0;39m ------------- 结束 耗时：32 ms -------------
2023-05-17 00:02:16.898 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：oNupvqu0rA，session id：17！当前连接数：0
2023-05-17 00:02:16.945 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:02:16.949 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:02:16.950 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:02:16.950 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-17 00:02:16.959 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-17 00:02:17.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-17 00:02:17.082 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:02:17.082 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:02:22.698 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 22264 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:02:22.696 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:02:22.699 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:02:22.755 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:02:22.755 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:02:23.428 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:02:23.429 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:02:23.455 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2023-05-17 00:02:23.674 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$e349ded2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:23.685 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.000 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.004 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$858453d3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.005 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.006 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.008 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.009 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.010 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.013 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.013 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.025 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.025 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.028 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.031 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.044 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.936 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:24.937 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:02:25.357 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:02:25.363 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:02:25.364 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:02:25.369 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:02:25.450 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:02:25.450 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2693 ms
2023-05-17 00:02:26.215 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:02:26.551 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:02:26.596 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:02:26.936 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:02:26.936 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:02:26.945 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:02:26.954 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:02:26.963 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 4.71 seconds (JVM running for 5.648)
2023-05-17 00:02:26.965 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:02:26.965 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:02:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462800195719168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:02:35.030 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39462800195719168 [0;39m HikariPool-1 - Starting...
2023-05-17 00:02:35.494 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39462800195719168 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:02:35.499 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462800195719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:02:35.516 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462800195719168 [0;39m ==> Parameters: 
2023-05-17 00:02:35.524 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462800195719168 [0;39m <==    Updates: 2
2023-05-17 00:02:35.525 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462800195719168 [0;39m 更新电子书下的文档数据结束，耗时：518毫秒
2023-05-17 00:02:43.041 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:02:43.043 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:02:43.044 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-17 00:02:43.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462834148610049 [0;39m ------------- 开始 -------------
2023-05-17 00:02:43.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462834148610048 [0;39m ------------- 开始 -------------
2023-05-17 00:02:43.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462834148610049 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:02:43.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462834148610048 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:43.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462834148610048 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:43.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462834148610049 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:02:43.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462834148610049 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:43.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462834148610048 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:43.106 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：zCqNPIwWXA，session id：0，当前连接数：1
2023-05-17 00:02:43.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462834148610048 [0;39m 请求参数: [2]
2023-05-17 00:02:43.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462834148610049 [0;39m 请求参数: [2]
2023-05-17 00:02:43.119 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462834148610048 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:43.121 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462834148610048 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:43.139 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462834148610048 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:43.141 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462834148610048 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:43.144 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462834148610048 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:43.145 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462834148610048 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:43.146 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462834148610048 [0;39m <==      Total: 3
2023-05-17 00:02:43.151 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:43.152 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462834148610049 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:02:43.152 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:43.153 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462834148610049 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:43.153 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:43.154 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462834148610049 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:02:43.154 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:43.154 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462834148610049 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 147, 1
2023-05-17 00:02:43.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m <==      Total: 1
2023-05-17 00:02:43.155 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462834148610049 [0;39m <==      Total: 1
2023-05-17 00:02:43.155 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:43.155 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:43.156 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:43.157 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:43.157 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m <==      Total: 1
2023-05-17 00:02:43.158 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:43.158 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:43.159 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:43.160 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:43.160 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m <==      Total: 1
2023-05-17 00:02:43.161 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:43.161 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:43.162 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:43.162 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:43.163 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m <==      Total: 1
2023-05-17 00:02:43.163 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:43.164 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:43.165 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:43.165 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462834148610048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:43.166 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462834148610048 [0;39m <==      Total: 1
2023-05-17 00:02:43.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462834148610049 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":147,"voteCount":1}],"success":true}
2023-05-17 00:02:43.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462834148610049 [0;39m ------------- 结束 耗时：70 ms -------------
2023-05-17 00:02:43.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462834148610048 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:43.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462834148610048 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-17 00:02:43.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462834748395520 [0;39m ------------- 开始 -------------
2023-05-17 00:02:43.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462834748395520 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:02:43.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462834748395520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:02:43.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462834748395520 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:43.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462834748395520 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:02:43.247 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462834748395520 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:02:43.248 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462834748395520 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:02:43.250 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462834748395520 [0;39m <==    Columns: id, content
2023-05-17 00:02:43.250 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462834748395520 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:02:43.251 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462834748395520 [0;39m <==      Total: 1
2023-05-17 00:02:43.252 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462834748395520 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:02:43.253 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462834748395520 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:02:43.256 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462834748395520 [0;39m <==    Updates: 1
2023-05-17 00:02:43.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462834748395520 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:02:43.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462834748395520 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:02:44.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462839106277376 [0;39m ------------- 开始 -------------
2023-05-17 00:02:44.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462839106277376 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:44.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462839106277376 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:44.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462839106277376 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:44.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462839106277376 [0;39m 请求参数: [2]
2023-05-17 00:02:44.287 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462839106277376 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:44.287 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462839106277376 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:44.288 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462839106277376 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:44.288 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462839106277376 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:44.290 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462839106277376 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:44.291 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462839106277376 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:44.291 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462839106277376 [0;39m <==      Total: 3
2023-05-17 00:02:44.292 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:44.292 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:44.292 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:44.292 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:44.292 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m <==      Total: 1
2023-05-17 00:02:44.292 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:44.292 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:44.292 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:44.292 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:44.297 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m <==      Total: 1
2023-05-17 00:02:44.297 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:44.297 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:44.297 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:44.297 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:44.297 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m <==      Total: 1
2023-05-17 00:02:44.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:44.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:44.300 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:44.300 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:44.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m <==      Total: 1
2023-05-17 00:02:44.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:44.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:44.304 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:44.304 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462839106277376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:44.304 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462839106277376 [0;39m <==      Total: 1
2023-05-17 00:02:44.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462839106277376 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:44.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462839106277376 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-17 00:02:52.056 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：zCqNPIwWXA，session id：0！当前连接数：0
2023-05-17 00:02:52.503 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：DJrH2nXRp5，session id：1，当前连接数：1
2023-05-17 00:02:52.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462873944166401 [0;39m ------------- 开始 -------------
2023-05-17 00:02:52.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462873944166400 [0;39m ------------- 开始 -------------
2023-05-17 00:02:52.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462873944166400 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:52.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462873944166401 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:02:52.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462873944166400 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:52.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462873944166401 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:02:52.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462873944166401 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:52.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462873944166400 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:52.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462873944166400 [0;39m 请求参数: [2]
2023-05-17 00:02:52.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462873944166401 [0;39m 请求参数: [2]
2023-05-17 00:02:52.593 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462873944166400 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:52.594 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462873944166400 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:52.593 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462873944166401 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:02:52.596 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462873944166400 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:52.597 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462873944166400 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:52.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462873944166400 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:52.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462873944166400 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:52.598 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462873944166400 [0;39m <==      Total: 3
2023-05-17 00:02:52.598 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462873944166401 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:52.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:52.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:52.601 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:52.601 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:52.601 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462873944166401 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:02:52.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m <==      Total: 1
2023-05-17 00:02:52.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:52.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:52.603 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462873944166401 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 148, 1
2023-05-17 00:02:52.604 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:52.605 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462873944166401 [0;39m <==      Total: 1
2023-05-17 00:02:52.605 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:52.605 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m <==      Total: 1
2023-05-17 00:02:52.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462873944166401 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":148,"voteCount":1}],"success":true}
2023-05-17 00:02:52.606 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:52.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462873944166401 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:02:52.606 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:52.607 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:52.607 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:52.614 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m <==      Total: 1
2023-05-17 00:02:52.615 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:52.616 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:52.617 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:52.617 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:52.618 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m <==      Total: 1
2023-05-17 00:02:52.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:52.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:52.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:52.623 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462873944166400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:52.625 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462873944166400 [0;39m <==      Total: 1
2023-05-17 00:02:52.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462873944166400 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:52.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462873944166400 [0;39m ------------- 结束 耗时：36 ms -------------
2023-05-17 00:02:52.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462874707529728 [0;39m ------------- 开始 -------------
2023-05-17 00:02:52.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462874707529728 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:02:52.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462874707529728 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:02:52.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462874707529728 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:52.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462874707529728 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:02:52.773 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462874707529728 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:02:52.774 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462874707529728 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:02:52.776 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462874707529728 [0;39m <==    Columns: id, content
2023-05-17 00:02:52.776 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462874707529728 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:02:52.776 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462874707529728 [0;39m <==      Total: 1
2023-05-17 00:02:52.777 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462874707529728 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:02:52.778 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462874707529728 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:02:52.822 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462874707529728 [0;39m <==    Updates: 1
2023-05-17 00:02:52.824 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462874707529728 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:02:52.824 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462874707529728 [0;39m ------------- 结束 耗时：52 ms -------------
2023-05-17 00:02:56.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462890671050752 [0;39m ------------- 开始 -------------
2023-05-17 00:02:56.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462890671050752 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:02:56.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462890671050752 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:02:56.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462890671050752 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:02:56.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462890671050752 [0;39m 请求参数: [2]
2023-05-17 00:02:56.581 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462890671050752 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:02:56.581 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462890671050752 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:02:56.582 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462890671050752 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:02:56.583 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462890671050752 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:02:56.583 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462890671050752 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:02:56.584 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462890671050752 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:02:56.584 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462890671050752 [0;39m <==      Total: 3
2023-05-17 00:02:56.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:56.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:56.584 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:56.584 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:56.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m <==      Total: 1
2023-05-17 00:02:56.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:56.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:56.589 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:56.589 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m <==      Total: 1
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:56.589 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:56.589 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m <==      Total: 1
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:56.589 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:56.589 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m <==      Total: 1
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:02:56.589 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:02:56.596 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:02:56.596 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462890671050752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:02:56.596 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462890671050752 [0;39m <==      Total: 1
2023-05-17 00:02:56.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462890671050752 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:02:56.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462890671050752 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:03:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39462905044930560 [0;39m 生成今日电子书快照开始
2023-05-17 00:03:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462905044930560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:03:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462905044930560 [0;39m ==> Parameters: 
2023-05-17 00:03:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39462905044930560 [0;39m <==    Updates: 0
2023-05-17 00:03:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39462905044930560 [0;39m 生成今日电子书快照结束，耗时：13毫秒
2023-05-17 00:03:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39462926058393600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:03:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462926058393600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:03:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462926058393600 [0;39m ==> Parameters: 
2023-05-17 00:03:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39462926058393600 [0;39m <==    Updates: 2
2023-05-17 00:03:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39462926058393600 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-17 00:03:13.888 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39462834148610048 [0;39m 连接关闭，token：DJrH2nXRp5，session id：1！当前连接数：0
2023-05-17 00:03:14.933 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39462834148610049 [0;39m 有新连接：token：vviZGpzAIC，session id：2，当前连接数：1
2023-05-17 00:03:14.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462967883993088 [0;39m ------------- 开始 -------------
2023-05-17 00:03:14.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462967883993088 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:03:14.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462967883993088 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:03:14.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462967883993088 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:03:14.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462967883993088 [0;39m 请求参数: [2]
2023-05-17 00:03:14.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462967892381696 [0;39m ------------- 开始 -------------
2023-05-17 00:03:14.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462967892381696 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:03:14.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462967892381696 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:03:14.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462967892381696 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:03:14.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462967892381696 [0;39m 请求参数: [2]
2023-05-17 00:03:14.989 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462967883993088 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:03:14.990 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462967883993088 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:03:14.990 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462967892381696 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:03:14.991 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462967892381696 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:03:14.991 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462967883993088 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:03:14.991 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462967883993088 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:03:14.991 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462967892381696 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:03:14.992 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39462967892381696 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 149, 1
2023-05-17 00:03:14.992 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462967883993088 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:03:14.992 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39462967892381696 [0;39m <==      Total: 1
2023-05-17 00:03:14.992 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462967883993088 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:03:14.992 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462967883993088 [0;39m <==      Total: 3
2023-05-17 00:03:14.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462967892381696 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":149,"voteCount":1}],"success":true}
2023-05-17 00:03:14.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462967892381696 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:03:14.993 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:14.993 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:14.993 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:14.994 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:14.994 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m <==      Total: 1
2023-05-17 00:03:14.994 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:14.995 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:14.995 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:14.996 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:14.996 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m <==      Total: 1
2023-05-17 00:03:14.996 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:14.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:14.997 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:14.997 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:14.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m <==      Total: 1
2023-05-17 00:03:14.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:14.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:14.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:15.000 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:15.000 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m <==      Total: 1
2023-05-17 00:03:15.000 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:15.001 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:15.001 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:15.001 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462967883993088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:15.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462967883993088 [0;39m <==      Total: 1
2023-05-17 00:03:15.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462967883993088 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:03:15.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462967883993088 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:03:15.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462968051765248 [0;39m ------------- 开始 -------------
2023-05-17 00:03:15.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462968051765248 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:03:15.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462968051765248 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:03:15.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462968051765248 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:03:15.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462968051765248 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:03:15.031 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462968051765248 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:03:15.031 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462968051765248 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:03:15.032 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462968051765248 [0;39m <==    Columns: id, content
2023-05-17 00:03:15.033 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39462968051765248 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:03:15.034 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39462968051765248 [0;39m <==      Total: 1
2023-05-17 00:03:15.034 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462968051765248 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:03:15.036 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462968051765248 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:03:15.058 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39462968051765248 [0;39m <==    Updates: 1
2023-05-17 00:03:15.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462968051765248 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:03:15.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462968051765248 [0;39m ------------- 结束 耗时：33 ms -------------
2023-05-17 00:03:17.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39462977031770112 [0;39m ------------- 开始 -------------
2023-05-17 00:03:17.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39462977031770112 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:03:17.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39462977031770112 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:03:17.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39462977031770112 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:03:17.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39462977031770112 [0;39m 请求参数: [2]
2023-05-17 00:03:17.170 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462977031770112 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:03:17.170 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462977031770112 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:03:17.171 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462977031770112 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:03:17.172 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462977031770112 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:03:17.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462977031770112 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:03:17.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39462977031770112 [0;39m <==        Row: 3, 1, 2, 2, 1, ewq, 2023-05-17 00:02:01, null
2023-05-17 00:03:17.175 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39462977031770112 [0;39m <==      Total: 3
2023-05-17 00:03:17.176 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:17.176 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:17.177 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:17.177 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:17.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m <==      Total: 1
2023-05-17 00:03:17.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:17.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:17.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:17.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:17.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m <==      Total: 1
2023-05-17 00:03:17.180 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:17.180 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:17.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:17.181 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:17.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m <==      Total: 1
2023-05-17 00:03:17.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:17.182 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:17.182 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:17.182 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:17.183 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m <==      Total: 1
2023-05-17 00:03:17.183 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:03:17.183 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:03:17.184 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:03:17.184 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39462977031770112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:03:17.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39462977031770112 [0;39m <==      Total: 1
2023-05-17 00:03:17.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39462977031770112 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"ewq","createTime":1684252921000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:03:17.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39462977031770112 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:03:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463051866542080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:03:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463051866542080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:03:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463051866542080 [0;39m ==> Parameters: 
2023-05-17 00:03:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463051866542080 [0;39m <==    Updates: 2
2023-05-17 00:03:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463051866542080 [0;39m 更新电子书下的文档数据结束，耗时：11毫秒
2023-05-17 00:04:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39463156724142080 [0;39m 生成今日电子书快照开始
2023-05-17 00:04:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463156724142080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:04:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463156724142080 [0;39m ==> Parameters: 
2023-05-17 00:04:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463156724142080 [0;39m <==    Updates: 0
2023-05-17 00:04:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39463156724142080 [0;39m 生成今日电子书快照结束，耗时：9毫秒
2023-05-17 00:04:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463177666301952 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:04:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463177666301952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:04:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463177666301952 [0;39m ==> Parameters: 
2023-05-17 00:04:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463177666301952 [0;39m <==    Updates: 2
2023-05-17 00:04:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463177666301952 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-17 00:04:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463303516393472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:04:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463303516393472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:04:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463303516393472 [0;39m ==> Parameters: 
2023-05-17 00:04:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463303516393472 [0;39m <==    Updates: 2
2023-05-17 00:04:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463303516393472 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:04:48.162 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39462874707529728 [0;39m 连接关闭，token：vviZGpzAIC，session id：2！当前连接数：0
2023-05-17 00:04:48.706 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39462890671050752 [0;39m 有新连接：token：uiY0iC23Ob，session id：3，当前连接数：1
2023-05-17 00:04:48.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463361179684864 [0;39m ------------- 开始 -------------
2023-05-17 00:04:48.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463361179684864 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:04:48.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463361179684864 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463361179684864 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463361183879168 [0;39m ------------- 开始 -------------
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463361179684864 [0;39m 请求参数: [2]
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463361183879168 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463361183879168 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463361183879168 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:04:48.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463361183879168 [0;39m 请求参数: [2]
2023-05-17 00:04:48.757 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463361179684864 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:04:48.758 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463361179684864 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:04:48.758 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39463361183879168 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:04:48.759 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39463361183879168 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:04:48.759 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463361179684864 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:04:48.759 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463361179684864 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:04:48.759 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39463361183879168 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:04:48.759 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39463361183879168 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 150, 1
2023-05-17 00:04:48.760 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463361179684864 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:04:48.760 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39463361183879168 [0;39m <==      Total: 1
2023-05-17 00:04:48.760 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463361179684864 [0;39m <==      Total: 2
2023-05-17 00:04:48.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463361183879168 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":150,"voteCount":1}],"success":true}
2023-05-17 00:04:48.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463361183879168 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:04:48.760 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:04:48.760 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:04:48.761 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463361179684864 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:04:48.761 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463361179684864 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:04:48.762 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m <==      Total: 1
2023-05-17 00:04:48.762 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:04:48.762 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:04:48.763 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463361179684864 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:04:48.763 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463361179684864 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:04:48.763 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m <==      Total: 1
2023-05-17 00:04:48.764 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:04:48.764 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:04:48.765 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463361179684864 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:04:48.765 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463361179684864 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:04:48.765 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463361179684864 [0;39m <==      Total: 1
2023-05-17 00:04:48.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463361179684864 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:04:48.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463361179684864 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:04:48.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463361397788672 [0;39m ------------- 开始 -------------
2023-05-17 00:04:48.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463361397788672 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:04:48.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463361397788672 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:04:48.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463361397788672 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:04:48.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463361397788672 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:04:48.810 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39463361397788672 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:04:48.810 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39463361397788672 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:04:48.811 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39463361397788672 [0;39m <==    Columns: id, content
2023-05-17 00:04:48.812 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39463361397788672 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:04:48.812 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39463361397788672 [0;39m <==      Total: 1
2023-05-17 00:04:48.812 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39463361397788672 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:04:48.813 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39463361397788672 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:04:48.843 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39463361397788672 [0;39m <==    Updates: 1
2023-05-17 00:04:48.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463361397788672 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:04:48.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463361397788672 [0;39m ------------- 结束 耗时：36 ms -------------
2023-05-17 00:04:53.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463379022254080 [0;39m ------------- 开始 -------------
2023-05-17 00:04:53.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463379022254080 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:04:53.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463379022254080 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:04:53.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463379022254080 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:04:53.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463379022254080 [0;39m 请求参数: [2]
2023-05-17 00:04:53.012 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463379022254080 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:04:53.012 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463379022254080 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:04:53.013 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463379022254080 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:04:53.013 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463379022254080 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:04:53.014 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463379022254080 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:04:53.015 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463379022254080 [0;39m <==      Total: 2
2023-05-17 00:04:53.015 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:04:53.015 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:04:53.017 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463379022254080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:04:53.017 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463379022254080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:04:53.017 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m <==      Total: 1
2023-05-17 00:04:53.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:04:53.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:04:53.018 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463379022254080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:04:53.018 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463379022254080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:04:53.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m <==      Total: 1
2023-05-17 00:04:53.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:04:53.021 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:04:53.022 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463379022254080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:04:53.022 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463379022254080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:04:53.022 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463379022254080 [0;39m <==      Total: 1
2023-05-17 00:04:53.022 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463379022254080 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:04:53.022 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463379022254080 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:05:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39463408403353600 [0;39m 生成今日电子书快照开始
2023-05-17 00:05:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463408403353600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:05:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463408403353600 [0;39m ==> Parameters: 
2023-05-17 00:05:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463408403353600 [0;39m <==    Updates: 0
2023-05-17 00:05:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39463408403353600 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-17 00:05:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463429353902080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:05:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463429353902080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:05:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463429353902080 [0;39m ==> Parameters: 
2023-05-17 00:05:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463429353902080 [0;39m <==    Updates: 2
2023-05-17 00:05:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463429353902080 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 00:05:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463555187216384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:05:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463555187216384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:05:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463555187216384 [0;39m ==> Parameters: 
2023-05-17 00:05:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463555187216384 [0;39m <==    Updates: 2
2023-05-17 00:05:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463555187216384 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 00:06:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39463660049010688 [0;39m 生成今日电子书快照开始
2023-05-17 00:06:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463660049010688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:06:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463660049010688 [0;39m ==> Parameters: 
2023-05-17 00:06:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463660049010688 [0;39m <==    Updates: 0
2023-05-17 00:06:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39463660049010688 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-17 00:06:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463681016336384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:06:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463681016336384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:06:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463681016336384 [0;39m ==> Parameters: 
2023-05-17 00:06:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463681016336384 [0;39m <==    Updates: 2
2023-05-17 00:06:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463681016336384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:06:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463806845456384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:06:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463806845456384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:06:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463806845456384 [0;39m ==> Parameters: 
2023-05-17 00:06:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463806845456384 [0;39m <==    Updates: 2
2023-05-17 00:06:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463806845456384 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:06:49.403 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39462873944166401 [0;39m 连接关闭，token：uiY0iC23Ob，session id：3！当前连接数：0
2023-05-17 00:06:50.547 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39462873944166400 [0;39m 有新连接：token：XLffuWTo4T，session id：4，当前连接数：1
2023-05-17 00:06:50.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463872209489921 [0;39m ------------- 开始 -------------
2023-05-17 00:06:50.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463872209489920 [0;39m ------------- 开始 -------------
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463872209489921 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463872209489920 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463872209489921 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463872209489920 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463872209489921 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463872209489920 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463872209489921 [0;39m 请求参数: [2]
2023-05-17 00:06:50.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463872209489920 [0;39m 请求参数: [2]
2023-05-17 00:06:50.596 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463872209489920 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:06:50.597 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463872209489920 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:06:50.597 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39463872209489921 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:06:50.597 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39463872209489921 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:06:50.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463872209489920 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:06:50.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463872209489920 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:06:50.598 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39463872209489921 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:06:50.598 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39463872209489921 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 151, 1
2023-05-17 00:06:50.598 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39463872209489921 [0;39m <==      Total: 1
2023-05-17 00:06:50.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463872209489920 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:06:50.599 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463872209489920 [0;39m <==      Total: 2
2023-05-17 00:06:50.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463872209489921 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":151,"voteCount":1}],"success":true}
2023-05-17 00:06:50.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463872209489921 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:06:50.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:06:50.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:06:50.600 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463872209489920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:06:50.600 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463872209489920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:06:50.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m <==      Total: 1
2023-05-17 00:06:50.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:06:50.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:06:50.602 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463872209489920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:06:50.602 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463872209489920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:06:50.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m <==      Total: 1
2023-05-17 00:06:50.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:06:50.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:06:50.603 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463872209489920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:06:50.603 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463872209489920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:06:50.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463872209489920 [0;39m <==      Total: 1
2023-05-17 00:06:50.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463872209489920 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:06:50.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463872209489920 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:06:50.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463872578588672 [0;39m ------------- 开始 -------------
2023-05-17 00:06:50.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463872578588672 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:06:50.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463872578588672 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:06:50.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463872578588672 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:06:50.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463872578588672 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:06:50.685 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39463872578588672 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:06:50.685 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39463872578588672 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:06:50.686 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39463872578588672 [0;39m <==    Columns: id, content
2023-05-17 00:06:50.686 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39463872578588672 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:06:50.688 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39463872578588672 [0;39m <==      Total: 1
2023-05-17 00:06:50.688 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39463872578588672 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:06:50.688 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39463872578588672 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:06:50.695 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39463872578588672 [0;39m <==    Updates: 1
2023-05-17 00:06:50.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463872578588672 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:06:50.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463872578588672 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:06:56.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39463895378825216 [0;39m ------------- 开始 -------------
2023-05-17 00:06:56.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39463895378825216 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:06:56.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39463895378825216 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:06:56.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39463895378825216 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:06:56.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39463895378825216 [0;39m 请求参数: [2]
2023-05-17 00:06:56.121 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463895378825216 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:06:56.121 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463895378825216 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:06:56.121 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463895378825216 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:06:56.122 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463895378825216 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:06:56.122 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39463895378825216 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:06:56.124 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39463895378825216 [0;39m <==      Total: 2
2023-05-17 00:06:56.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:06:56.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:06:56.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463895378825216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:06:56.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463895378825216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:06:56.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m <==      Total: 1
2023-05-17 00:06:56.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:06:56.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:06:56.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463895378825216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:06:56.128 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463895378825216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:06:56.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m <==      Total: 1
2023-05-17 00:06:56.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:06:56.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:06:56.128 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463895378825216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:06:56.128 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39463895378825216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:06:56.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39463895378825216 [0;39m <==      Total: 1
2023-05-17 00:06:56.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39463895378825216 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:06:56.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39463895378825216 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:07:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39463911673696256 [0;39m 生成今日电子书快照开始
2023-05-17 00:07:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463911673696256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:07:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463911673696256 [0;39m ==> Parameters: 
2023-05-17 00:07:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39463911673696256 [0;39m <==    Updates: 0
2023-05-17 00:07:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39463911673696256 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:07:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39463932678770688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:07:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463932678770688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:07:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463932678770688 [0;39m ==> Parameters: 
2023-05-17 00:07:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39463932678770688 [0;39m <==    Updates: 2
2023-05-17 00:07:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39463932678770688 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:07:21.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-17 00:07:21.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-17 00:07:26.628 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:07:26.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:07:28.657 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:07:30.693 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:07:32.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:07:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464058486919168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464058486919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464058486919168 [0;39m ==> Parameters: 
2023-05-17 00:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464058486919168 [0;39m <==    Updates: 2
2023-05-17 00:07:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464058486919168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:07:54.788 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:08:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39464163373879296 [0;39m 生成今日电子书快照开始
2023-05-17 00:08:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464163373879296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:08:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464163373879296 [0;39m ==> Parameters: 
2023-05-17 00:08:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464163373879296 [0;39m <==    Updates: 0
2023-05-17 00:08:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39464163373879296 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-17 00:08:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464184316039168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:08:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464184316039168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:08:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464184316039168 [0;39m ==> Parameters: 
2023-05-17 00:08:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464184316039168 [0;39m <==    Updates: 2
2023-05-17 00:08:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464184316039168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:08:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464310136770560 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:08:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464310136770560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:08:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464310136770560 [0;39m ==> Parameters: 
2023-05-17 00:08:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464310136770560 [0;39m <==    Updates: 2
2023-05-17 00:08:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464310136770560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:08:49.701 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：XLffuWTo4T，session id：4！当前连接数：0
2023-05-17 00:08:49.746 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:08:49.746 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:08:49.746 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:08:49.746 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-17 00:08:49.754 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-17 00:08:49.771 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-17 00:08:49.780 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:08:49.780 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:08:53.501 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 12348 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:08:53.501 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:08:53.506 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:08:53.548 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:08:53.552 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:08:54.160 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:08:54.160 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:08:54.197 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2023-05-17 00:08:54.346 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$e50543ad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.352 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.664 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.664 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$873fb8ae] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.664 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.664 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.664 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.664 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.672 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.672 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.672 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.683 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.683 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.683 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.683 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:54.704 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:55.589 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:55.589 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:08:55.962 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:08:55.973 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:08:55.973 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:08:55.973 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:08:56.042 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:08:56.042 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2490 ms
2023-05-17 00:08:56.629 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:08:56.891 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:08:56.926 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:08:57.237 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:08:57.242 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:08:57.246 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:08:57.253 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:08:57.264 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 4.137 seconds (JVM running for 5.003)
2023-05-17 00:08:57.269 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:08:57.269 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:09:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39464415048896512 [0;39m 生成今日电子书快照开始
2023-05-17 00:09:00.026 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39464415048896512 [0;39m HikariPool-1 - Starting...
2023-05-17 00:09:00.965 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39464415048896512 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:09:00.970 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464415048896512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:09:00.986 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464415048896512 [0;39m ==> Parameters: 
2023-05-17 00:09:00.986 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464415048896512 [0;39m <==    Updates: 0
2023-05-17 00:09:00.986 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39464415048896512 [0;39m 生成今日电子书快照结束，耗时：968毫秒
2023-05-17 00:09:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464436007833600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:09:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464436007833600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:09:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464436007833600 [0;39m ==> Parameters: 
2023-05-17 00:09:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464436007833600 [0;39m <==    Updates: 2
2023-05-17 00:09:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464436007833600 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:09:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464561828564992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:09:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464561828564992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:09:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464561828564992 [0;39m ==> Parameters: 
2023-05-17 00:09:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464561828564992 [0;39m <==    Updates: 2
2023-05-17 00:09:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464561828564992 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:10:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39464666707136512 [0;39m 生成今日电子书快照开始
2023-05-17 00:10:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464666707136512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:10:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464666707136512 [0;39m ==> Parameters: 
2023-05-17 00:10:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464666707136512 [0;39m <==    Updates: 0
2023-05-17 00:10:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39464666707136512 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 00:10:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464687619936256 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:10:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464687619936256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:10:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464687619936256 [0;39m ==> Parameters: 
2023-05-17 00:10:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464687619936256 [0;39m <==    Updates: 2
2023-05-17 00:10:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464687619936256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:10:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464813478416384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:10:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464813478416384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:10:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464813478416384 [0;39m ==> Parameters: 
2023-05-17 00:10:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464813478416384 [0;39m <==    Updates: 2
2023-05-17 00:10:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464813478416384 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:10:41.962 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:10:41.962 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:10:41.962 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2023-05-17 00:10:42.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39464842809184257 [0;39m ------------- 开始 -------------
2023-05-17 00:10:42.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39464842809184256 [0;39m ------------- 开始 -------------
2023-05-17 00:10:42.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39464842809184257 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:10:42.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39464842809184256 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:10:42.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39464842809184256 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:10:42.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39464842809184257 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:10:42.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39464842809184256 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:10:42.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39464842809184257 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:10:42.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39464842809184256 [0;39m 请求参数: [2]
2023-05-17 00:10:42.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39464842809184257 [0;39m 请求参数: [2]
2023-05-17 00:10:42.048 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39464842809184256 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:10:42.049 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39464842809184256 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:10:42.065 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39464842809184256 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:10:42.078 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39464842809184256 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:10:42.081 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39464842809184256 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:10:42.081 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39464842809184256 [0;39m <==      Total: 2
2023-05-17 00:10:42.090 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39464842809184257 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:10:42.090 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39464842809184257 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:10:42.090 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:10:42.090 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:10:42.095 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39464842809184256 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:10:42.097 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39464842809184256 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:10:42.097 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m <==      Total: 1
2023-05-17 00:10:42.098 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:10:42.098 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:10:42.099 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39464842809184256 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:10:42.099 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39464842809184256 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:10:42.099 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m <==      Total: 1
2023-05-17 00:10:42.100 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:10:42.100 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:10:42.100 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39464842809184256 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:10:42.101 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39464842809184256 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:10:42.101 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39464842809184256 [0;39m <==      Total: 1
2023-05-17 00:10:42.101 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39464842809184257 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:10:42.101 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39464842809184257 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 152, 1
2023-05-17 00:10:42.101 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39464842809184257 [0;39m <==      Total: 1
2023-05-17 00:10:42.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39464842809184256 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:10:42.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39464842809184256 [0;39m ------------- 结束 耗时：107 ms -------------
2023-05-17 00:10:42.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39464842809184257 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":152,"voteCount":1}],"success":true}
2023-05-17 00:10:42.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39464842809184257 [0;39m ------------- 结束 耗时：129 ms -------------
2023-05-17 00:10:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39464846110101504 [0;39m ------------- 开始 -------------
2023-05-17 00:10:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39464846110101504 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:10:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39464846110101504 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:10:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39464846110101504 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:10:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39464846110101504 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:10:42.792 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39464846110101504 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:10:42.793 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39464846110101504 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:10:42.796 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39464846110101504 [0;39m <==    Columns: id, content
2023-05-17 00:10:42.796 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39464846110101504 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:10:42.797 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39464846110101504 [0;39m <==      Total: 1
2023-05-17 00:10:42.798 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39464846110101504 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:10:42.798 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39464846110101504 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:10:42.802 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39464846110101504 [0;39m <==    Updates: 1
2023-05-17 00:10:42.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39464846110101504 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:10:42.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39464846110101504 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 00:11:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39464918319239168 [0;39m 生成今日电子书快照开始
2023-05-17 00:11:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464918319239168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:11:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464918319239168 [0;39m ==> Parameters: 
2023-05-17 00:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39464918319239168 [0;39m <==    Updates: 0
2023-05-17 00:11:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39464918319239168 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-17 00:11:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39464939315924992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:11:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464939315924992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:11:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464939315924992 [0;39m ==> Parameters: 
2023-05-17 00:11:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39464939315924992 [0;39m <==    Updates: 2
2023-05-17 00:11:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39464939315924992 [0;39m 更新电子书下的文档数据结束，耗时：11毫秒
2023-05-17 00:11:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465065107296256 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:11:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465065107296256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:11:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465065107296256 [0;39m ==> Parameters: 
2023-05-17 00:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465065107296256 [0;39m <==    Updates: 2
2023-05-17 00:11:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465065107296256 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-17 00:12:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39465169948119040 [0;39m 生成今日电子书快照开始
2023-05-17 00:12:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465169948119040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:12:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465169948119040 [0;39m ==> Parameters: 
2023-05-17 00:12:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465169948119040 [0;39m <==    Updates: 0
2023-05-17 00:12:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39465169948119040 [0;39m 生成今日电子书快照结束，耗时：13毫秒
2023-05-17 00:12:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465190957387776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:12:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465190957387776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:12:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465190957387776 [0;39m ==> Parameters: 
2023-05-17 00:12:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465190957387776 [0;39m <==    Updates: 2
2023-05-17 00:12:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465190957387776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:12:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465316790702080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:12:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465316790702080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:12:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465316790702080 [0;39m ==> Parameters: 
2023-05-17 00:12:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465316790702080 [0;39m <==    Updates: 2
2023-05-17 00:12:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465316790702080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:12:45.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465358855376896 [0;39m ------------- 开始 -------------
2023-05-17 00:12:45.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465358855376897 [0;39m ------------- 开始 -------------
2023-05-17 00:12:45.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465358855376896 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:12:45.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465358855376897 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:12:45.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465358855376896 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:12:45.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465358855376896 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:12:45.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465358855376897 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:12:45.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465358855376896 [0;39m 请求参数: [2]
2023-05-17 00:12:45.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465358855376897 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:12:45.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465358855376897 [0;39m 请求参数: [2]
2023-05-17 00:12:45.043 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465358855376897 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:12:45.044 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465358855376897 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:12:45.044 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465358855376896 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:12:45.045 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465358855376896 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:12:45.045 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465358855376897 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:12:45.045 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465358855376897 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:12:45.045 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465358855376896 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:12:45.046 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465358855376896 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 153, 1
2023-05-17 00:12:45.046 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465358855376896 [0;39m <==      Total: 1
2023-05-17 00:12:45.046 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465358855376897 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:12:45.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465358855376896 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":153,"voteCount":1}],"success":true}
2023-05-17 00:12:45.047 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465358855376897 [0;39m <==      Total: 2
2023-05-17 00:12:45.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465358855376896 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:12:45.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:12:45.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:12:45.048 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465358855376897 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:12:45.048 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465358855376897 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:12:45.049 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m <==      Total: 1
2023-05-17 00:12:45.049 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:12:45.049 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:12:45.050 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465358855376897 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:12:45.050 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465358855376897 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:12:45.050 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m <==      Total: 1
2023-05-17 00:12:45.050 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:12:45.051 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:12:45.052 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465358855376897 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:12:45.052 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465358855376897 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:12:45.052 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465358855376897 [0;39m <==      Total: 1
2023-05-17 00:12:45.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465358855376897 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:12:45.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465358855376897 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:12:45.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465358985400320 [0;39m ------------- 开始 -------------
2023-05-17 00:12:45.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465358985400320 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:12:45.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465358985400320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:12:45.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465358985400320 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:12:45.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465358985400320 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:12:45.070 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465358985400320 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:12:45.070 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465358985400320 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:12:45.070 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465358985400320 [0;39m <==    Columns: id, content
2023-05-17 00:12:45.070 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465358985400320 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:12:45.070 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465358985400320 [0;39m <==      Total: 1
2023-05-17 00:12:45.070 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465358985400320 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:12:45.070 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465358985400320 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:12:45.076 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465358985400320 [0;39m <==    Updates: 1
2023-05-17 00:12:45.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465358985400320 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:12:45.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465358985400320 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465359098646528 [0;39m ------------- 开始 -------------
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465359098646528 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465359098646528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465359098646528 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465359098646529 [0;39m ------------- 开始 -------------
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465359098646528 [0;39m 请求参数: [2]
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465359098646529 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465359098646529 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465359098646529 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:12:45.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465359098646529 [0;39m 请求参数: [2]
2023-05-17 00:12:45.097 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465359098646528 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:12:45.097 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465359098646529 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:12:45.097 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465359098646528 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:12:45.097 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465359098646529 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:12:45.097 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465359098646528 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:12:45.101 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465359098646528 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 154, 1
2023-05-17 00:12:45.101 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465359098646529 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:12:45.101 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465359098646528 [0;39m <==      Total: 1
2023-05-17 00:12:45.101 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465359098646529 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:12:45.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465359098646528 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":154,"voteCount":1}],"success":true}
2023-05-17 00:12:45.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465359098646528 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:12:45.101 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465359098646529 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:12:45.101 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465359098646529 [0;39m <==      Total: 2
2023-05-17 00:12:45.101 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:12:45.101 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:12:45.105 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465359098646529 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:12:45.105 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465359098646529 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:12:45.105 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m <==      Total: 1
2023-05-17 00:12:45.106 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:12:45.106 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:12:45.108 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465359098646529 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:12:45.108 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465359098646529 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:12:45.109 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m <==      Total: 1
2023-05-17 00:12:45.110 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:12:45.110 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:12:45.111 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465359098646529 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:12:45.111 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465359098646529 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:12:45.111 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465359098646529 [0;39m <==      Total: 1
2023-05-17 00:12:45.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465359098646529 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:12:45.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465359098646529 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:12:45.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465359216087040 [0;39m ------------- 开始 -------------
2023-05-17 00:12:45.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465359216087040 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:12:45.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465359216087040 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:12:45.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465359216087040 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:12:45.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465359216087040 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:12:45.127 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465359216087040 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:12:45.127 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465359216087040 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:12:45.129 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465359216087040 [0;39m <==    Columns: id, content
2023-05-17 00:12:45.129 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465359216087040 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:12:45.129 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465359216087040 [0;39m <==      Total: 1
2023-05-17 00:12:45.130 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465359216087040 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:12:45.130 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465359216087040 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:12:45.132 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465359216087040 [0;39m <==    Updates: 1
2023-05-17 00:12:45.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465359216087040 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:12:45.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465359216087040 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:12:58.864 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39464842809184257 [0;39m 有新连接：token：fflvYGknee，session id：0，当前连接数：1
2023-05-17 00:13:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39465421648302080 [0;39m 生成今日电子书快照开始
2023-05-17 00:13:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465421648302080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:13:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465421648302080 [0;39m ==> Parameters: 
2023-05-17 00:13:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465421648302080 [0;39m <==    Updates: 0
2023-05-17 00:13:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39465421648302080 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:13:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465442644987904 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:13:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465442644987904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:13:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465442644987904 [0;39m ==> Parameters: 
2023-05-17 00:13:05.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465442644987904 [0;39m <==    Updates: 2
2023-05-17 00:13:05.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465442644987904 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:13:20.203 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39464846110101504 [0;39m 连接关闭，token：fflvYGknee，session id：0！当前连接数：0
2023-05-17 00:13:21.296 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：At3IducSwQ，session id：1，当前连接数：1
2023-05-17 00:13:21.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465511251218432 [0;39m ------------- 开始 -------------
2023-05-17 00:13:21.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465511251218432 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:13:21.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465511255412736 [0;39m ------------- 开始 -------------
2023-05-17 00:13:21.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465511255412736 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:13:21.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465511255412736 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:13:21.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465511255412736 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:21.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465511255412736 [0;39m 请求参数: [2]
2023-05-17 00:13:21.375 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465511255412736 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:13:21.376 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465511255412736 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:21.377 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465511255412736 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:13:21.377 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465511255412736 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:13:21.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465511251218432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:13:21.378 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465511255412736 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:13:21.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465511251218432 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:21.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465511251218432 [0;39m 请求参数: [2]
2023-05-17 00:13:21.379 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465511255412736 [0;39m <==      Total: 2
2023-05-17 00:13:21.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:21.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:21.380 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465511255412736 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:21.380 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465511255412736 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:21.380 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465511251218432 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:13:21.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m <==      Total: 1
2023-05-17 00:13:21.381 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465511251218432 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:21.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:21.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:21.382 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465511251218432 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:13:21.382 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465511251218432 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 155, 1
2023-05-17 00:13:21.382 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465511255412736 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:21.382 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465511255412736 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:21.382 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465511251218432 [0;39m <==      Total: 1
2023-05-17 00:13:21.382 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m <==      Total: 1
2023-05-17 00:13:21.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465511251218432 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":155,"voteCount":1}],"success":true}
2023-05-17 00:13:21.383 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:21.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465511251218432 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:13:21.383 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:21.384 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465511255412736 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:21.384 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465511255412736 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:21.384 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465511255412736 [0;39m <==      Total: 1
2023-05-17 00:13:21.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465511255412736 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:13:21.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465511255412736 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 00:13:21.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465511775506432 [0;39m ------------- 开始 -------------
2023-05-17 00:13:21.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465511775506432 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:13:21.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465511775506432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:13:21.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465511775506432 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:21.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465511775506432 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:13:21.499 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465511775506432 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:13:21.499 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465511775506432 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:13:21.500 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465511775506432 [0;39m <==    Columns: id, content
2023-05-17 00:13:21.500 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465511775506432 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:13:21.501 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465511775506432 [0;39m <==      Total: 1
2023-05-17 00:13:21.501 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465511775506432 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:13:21.502 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465511775506432 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:13:21.504 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465511775506432 [0;39m <==    Updates: 1
2023-05-17 00:13:21.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465511775506432 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:13:21.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465511775506432 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:13:22.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465515961421824 [0;39m ------------- 开始 -------------
2023-05-17 00:13:22.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465515961421824 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:13:22.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465515961421824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:13:22.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465515961421824 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:22.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465515961421824 [0;39m 请求参数: [2]
2023-05-17 00:13:22.496 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465515961421824 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:13:22.503 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465515961421824 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:22.505 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465515961421824 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:13:22.505 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465515961421824 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:13:22.505 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465515961421824 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:13:22.505 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465515961421824 [0;39m <==      Total: 2
2023-05-17 00:13:22.505 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:22.505 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:22.510 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465515961421824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:22.510 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465515961421824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:22.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m <==      Total: 1
2023-05-17 00:13:22.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:22.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:22.510 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465515961421824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:22.510 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465515961421824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:22.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m <==      Total: 1
2023-05-17 00:13:22.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:22.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:22.516 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465515961421824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:22.516 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465515961421824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:22.517 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465515961421824 [0;39m <==      Total: 1
2023-05-17 00:13:22.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465515961421824 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:13:22.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465515961421824 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-17 00:13:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465568453136384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:13:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465568453136384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:13:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465568453136384 [0;39m ==> Parameters: 
2023-05-17 00:13:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465568453136384 [0;39m <==    Updates: 2
2023-05-17 00:13:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465568453136384 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:13:39.761 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39465359098646528 [0;39m 连接关闭，token：At3IducSwQ，session id：1！当前连接数：0
2023-05-17 00:13:39.946 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39465359098646529 [0;39m 有新连接：token：WkwUXAG5TJ，session id：2，当前连接数：1
2023-05-17 00:13:39.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465589294632960 [0;39m ------------- 开始 -------------
2023-05-17 00:13:39.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465589294632961 [0;39m ------------- 开始 -------------
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465589294632960 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465589294632961 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465589294632960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465589294632961 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465589294632960 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465589294632961 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465589294632960 [0;39m 请求参数: [2]
2023-05-17 00:13:39.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465589294632961 [0;39m 请求参数: [2]
2023-05-17 00:13:39.982 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465589294632960 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:13:39.982 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465589294632961 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:13:39.982 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465589294632960 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:39.982 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465589294632961 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:39.983 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465589294632960 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:13:39.983 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465589294632961 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:13:39.984 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465589294632961 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 156, 1
2023-05-17 00:13:39.984 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465589294632960 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:13:39.984 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465589294632961 [0;39m <==      Total: 1
2023-05-17 00:13:39.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465589294632961 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":156,"voteCount":1}],"success":true}
2023-05-17 00:13:39.984 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465589294632960 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:13:39.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465589294632961 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:13:39.985 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465589294632960 [0;39m <==      Total: 2
2023-05-17 00:13:39.985 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:39.985 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:39.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465589294632960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:39.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465589294632960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:39.988 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m <==      Total: 1
2023-05-17 00:13:39.989 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:39.990 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:39.990 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465589294632960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:39.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465589294632960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:39.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m <==      Total: 1
2023-05-17 00:13:39.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:39.992 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:39.992 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465589294632960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:39.993 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465589294632960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:39.993 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465589294632960 [0;39m <==      Total: 1
2023-05-17 00:13:39.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465589294632960 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:13:39.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465589294632960 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:13:40.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465589495959552 [0;39m ------------- 开始 -------------
2023-05-17 00:13:40.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465589495959552 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:13:40.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465589495959552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:13:40.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465589495959552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:40.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465589495959552 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:13:40.030 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465589495959552 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:13:40.030 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465589495959552 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:13:40.031 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465589495959552 [0;39m <==    Columns: id, content
2023-05-17 00:13:40.032 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465589495959552 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:13:40.032 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465589495959552 [0;39m <==      Total: 1
2023-05-17 00:13:40.033 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465589495959552 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:13:40.033 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465589495959552 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:13:40.041 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465589495959552 [0;39m <==    Updates: 1
2023-05-17 00:13:40.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465589495959552 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:13:40.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465589495959552 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:13:41.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465595875495936 [0;39m ------------- 开始 -------------
2023-05-17 00:13:41.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465595875495936 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:13:41.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465595875495936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:13:41.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465595875495936 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:41.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465595875495936 [0;39m 请求参数: [2]
2023-05-17 00:13:41.551 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465595875495936 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:13:41.551 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465595875495936 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:41.552 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465595875495936 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:13:41.552 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465595875495936 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:13:41.553 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465595875495936 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:13:41.553 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465595875495936 [0;39m <==      Total: 2
2023-05-17 00:13:41.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:41.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:41.553 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465595875495936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:41.555 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465595875495936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:41.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m <==      Total: 1
2023-05-17 00:13:41.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:41.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:41.555 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465595875495936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:41.555 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465595875495936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:41.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m <==      Total: 1
2023-05-17 00:13:41.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:41.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:41.557 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465595875495936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:41.557 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465595875495936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:41.559 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465595875495936 [0;39m <==      Total: 1
2023-05-17 00:13:41.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465595875495936 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:13:41.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465595875495936 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 00:13:45.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465611067265024 [0;39m ------------- 开始 -------------
2023-05-17 00:13:45.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465611067265024 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:13:45.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465611067265024 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:13:45.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465611067265024 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:45.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465611067265024 [0;39m 请求参数: [2]
2023-05-17 00:13:45.174 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465611067265024 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:13:45.174 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465611067265024 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:45.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465611067265024 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:13:45.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465611067265024 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:13:45.176 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465611067265024 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:13:45.177 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465611067265024 [0;39m <==      Total: 2
2023-05-17 00:13:45.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:45.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:45.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465611067265024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:45.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465611067265024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:45.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m <==      Total: 1
2023-05-17 00:13:45.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:45.180 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:45.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465611067265024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:45.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465611067265024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:45.180 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m <==      Total: 1
2023-05-17 00:13:45.180 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:45.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:45.181 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465611067265024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:45.181 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465611067265024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:45.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465611067265024 [0;39m <==      Total: 1
2023-05-17 00:13:45.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465611067265024 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:13:45.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465611067265024 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:13:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465620970016768 [0;39m ------------- 开始 -------------
2023-05-17 00:13:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465620970016768 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:13:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465620970016768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:13:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465620970016768 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:13:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465620970016768 [0;39m 请求参数: [2]
2023-05-17 00:13:47.532 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465620970016768 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:13:47.532 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465620970016768 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:13:47.532 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465620970016768 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:13:47.532 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465620970016768 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:13:47.532 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465620970016768 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:13:47.532 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465620970016768 [0;39m <==      Total: 2
2023-05-17 00:13:47.532 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:47.532 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:47.537 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465620970016768 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:47.537 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465620970016768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:47.537 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m <==      Total: 1
2023-05-17 00:13:47.537 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:47.537 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:47.537 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465620970016768 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:47.537 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465620970016768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:47.540 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m <==      Total: 1
2023-05-17 00:13:47.540 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:13:47.540 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:13:47.541 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465620970016768 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:13:47.541 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465620970016768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:13:47.541 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465620970016768 [0;39m <==      Total: 1
2023-05-17 00:13:47.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465620970016768 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:13:47.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465620970016768 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:14:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39465673306542080 [0;39m 生成今日电子书快照开始
2023-05-17 00:14:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465673306542080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:14:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465673306542080 [0;39m ==> Parameters: 
2023-05-17 00:14:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465673306542080 [0;39m <==    Updates: 0
2023-05-17 00:14:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39465673306542080 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:14:00.674 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39465511775506432 [0;39m 连接关闭，token：WkwUXAG5TJ，session id：2！当前连接数：0
2023-05-17 00:14:00.867 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39465515961421824 [0;39m 有新连接：token：K0zykRIYBZ，session id：3，当前连接数：1
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465677035278336 [0;39m ------------- 开始 -------------
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465677035278337 [0;39m ------------- 开始 -------------
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465677035278336 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465677035278337 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465677035278336 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465677035278337 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465677035278336 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:14:00.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465677035278336 [0;39m 请求参数: [2]
2023-05-17 00:14:00.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465677035278337 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:14:00.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465677035278337 [0;39m 请求参数: [2]
2023-05-17 00:14:00.901 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465677035278337 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:14:00.901 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465677035278336 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:14:00.901 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465677035278337 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:14:00.901 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465677035278336 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:14:00.902 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465677035278336 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:14:00.902 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465677035278337 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:14:00.902 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39465677035278336 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 157, 1
2023-05-17 00:14:00.902 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465677035278337 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:14:00.902 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39465677035278336 [0;39m <==      Total: 1
2023-05-17 00:14:00.903 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465677035278337 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:14:00.903 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465677035278337 [0;39m <==      Total: 2
2023-05-17 00:14:00.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465677035278336 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":157,"voteCount":1}],"success":true}
2023-05-17 00:14:00.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465677035278336 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:14:00.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:14:00.905 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:14:00.905 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465677035278337 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:14:00.905 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465677035278337 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:14:00.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m <==      Total: 1
2023-05-17 00:14:00.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:14:00.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:14:00.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465677035278337 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:14:00.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465677035278337 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:14:00.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m <==      Total: 1
2023-05-17 00:14:00.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:14:00.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:14:00.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465677035278337 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:14:00.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465677035278337 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:14:00.910 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465677035278337 [0;39m <==      Total: 1
2023-05-17 00:14:00.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465677035278337 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:14:00.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465677035278337 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:14:00.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465677257576448 [0;39m ------------- 开始 -------------
2023-05-17 00:14:00.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465677257576448 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:14:00.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465677257576448 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:14:00.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465677257576448 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:14:00.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465677257576448 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:14:00.954 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465677257576448 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:14:00.954 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465677257576448 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:14:00.955 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465677257576448 [0;39m <==    Columns: id, content
2023-05-17 00:14:00.955 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39465677257576448 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:14:00.956 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39465677257576448 [0;39m <==      Total: 1
2023-05-17 00:14:00.956 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465677257576448 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:14:00.957 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465677257576448 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:14:00.961 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39465677257576448 [0;39m <==    Updates: 1
2023-05-17 00:14:00.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465677257576448 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:14:00.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465677257576448 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:14:01.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39465681359605760 [0;39m ------------- 开始 -------------
2023-05-17 00:14:01.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39465681359605760 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:14:01.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39465681359605760 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:14:01.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39465681359605760 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:14:01.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39465681359605760 [0;39m 请求参数: [2]
2023-05-17 00:14:01.931 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465681359605760 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:14:01.931 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465681359605760 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:14:01.932 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465681359605760 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:14:01.932 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465681359605760 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:14:01.933 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39465681359605760 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:14:01.933 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39465681359605760 [0;39m <==      Total: 2
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:14:01.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465681359605760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:14:01.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465681359605760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m <==      Total: 1
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:14:01.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465681359605760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:14:01.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465681359605760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m <==      Total: 1
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:14:01.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465681359605760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:14:01.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39465681359605760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:14:01.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39465681359605760 [0;39m <==      Total: 1
2023-05-17 00:14:01.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39465681359605760 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:14:01.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39465681359605760 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:14:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465694269673472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:14:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465694269673472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:14:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465694269673472 [0;39m ==> Parameters: 
2023-05-17 00:14:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465694269673472 [0;39m <==    Updates: 2
2023-05-17 00:14:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465694269673472 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:14:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465820136542208 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465820136542208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465820136542208 [0;39m ==> Parameters: 
2023-05-17 00:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465820136542208 [0;39m <==    Updates: 2
2023-05-17 00:14:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465820136542208 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:15:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39465924964782080 [0;39m 生成今日电子书快照开始
2023-05-17 00:15:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465924964782080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:15:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465924964782080 [0;39m ==> Parameters: 
2023-05-17 00:15:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39465924964782080 [0;39m <==    Updates: 0
2023-05-17 00:15:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39465924964782080 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 00:15:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39465945919524864 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:15:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465945919524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:15:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465945919524864 [0;39m ==> Parameters: 
2023-05-17 00:15:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39465945919524864 [0;39m <==    Updates: 2
2023-05-17 00:15:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39465945919524864 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:15:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466071761227776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:15:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466071761227776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:15:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466071761227776 [0;39m ==> Parameters: 
2023-05-17 00:15:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466071761227776 [0;39m <==    Updates: 2
2023-05-17 00:15:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466071761227776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:16:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39466176606244864 [0;39m 生成今日电子书快照开始
2023-05-17 00:16:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466176606244864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:16:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466176606244864 [0;39m ==> Parameters: 
2023-05-17 00:16:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466176606244864 [0;39m <==    Updates: 0
2023-05-17 00:16:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39466176606244864 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 00:16:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466197569376256 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:16:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466197569376256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:16:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466197569376256 [0;39m ==> Parameters: 
2023-05-17 00:16:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466197569376256 [0;39m <==    Updates: 2
2023-05-17 00:16:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466197569376256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:16:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466323448827904 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:16:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466323448827904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:16:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466323448827904 [0;39m ==> Parameters: 
2023-05-17 00:16:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466323448827904 [0;39m <==    Updates: 2
2023-05-17 00:16:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466323448827904 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:17:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39466428289650688 [0;39m 生成今日电子书快照开始
2023-05-17 00:17:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466428289650688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:17:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466428289650688 [0;39m ==> Parameters: 
2023-05-17 00:17:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466428289650688 [0;39m <==    Updates: 0
2023-05-17 00:17:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39466428289650688 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-17 00:17:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466449256976384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:17:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466449256976384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:17:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466449256976384 [0;39m ==> Parameters: 
2023-05-17 00:17:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466449256976384 [0;39m <==    Updates: 2
2023-05-17 00:17:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466449256976384 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:17:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466575094484992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466575094484992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466575094484992 [0;39m ==> Parameters: 
2023-05-17 00:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466575094484992 [0;39m <==    Updates: 2
2023-05-17 00:17:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466575094484992 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 00:18:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39466679939502080 [0;39m 生成今日电子书快照开始
2023-05-17 00:18:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466679939502080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:18:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466679939502080 [0;39m ==> Parameters: 
2023-05-17 00:18:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466679939502080 [0;39m <==    Updates: 0
2023-05-17 00:18:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39466679939502080 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 00:18:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466700940382208 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:18:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466700940382208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:18:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466700940382208 [0;39m ==> Parameters: 
2023-05-17 00:18:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466700940382208 [0;39m <==    Updates: 2
2023-05-17 00:18:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466700940382208 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:18:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466826740142080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:18:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466826740142080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:18:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466826740142080 [0;39m ==> Parameters: 
2023-05-17 00:18:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466826740142080 [0;39m <==    Updates: 2
2023-05-17 00:18:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466826740142080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:19:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39466931572576256 [0;39m 生成今日电子书快照开始
2023-05-17 00:19:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466931572576256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:19:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466931572576256 [0;39m ==> Parameters: 
2023-05-17 00:19:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39466931572576256 [0;39m <==    Updates: 0
2023-05-17 00:19:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39466931572576256 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-17 00:19:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39466952556679168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:19:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466952556679168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:19:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466952556679168 [0;39m ==> Parameters: 
2023-05-17 00:19:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39466952556679168 [0;39m <==    Updates: 2
2023-05-17 00:19:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39466952556679168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:19:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467078360633344 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:19:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467078360633344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:19:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467078360633344 [0;39m ==> Parameters: 
2023-05-17 00:19:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467078360633344 [0;39m <==    Updates: 2
2023-05-17 00:19:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467078360633344 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:20:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39467183264370688 [0;39m 生成今日电子书快照开始
2023-05-17 00:20:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467183264370688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:20:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467183264370688 [0;39m ==> Parameters: 
2023-05-17 00:20:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467183264370688 [0;39m <==    Updates: 0
2023-05-17 00:20:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39467183264370688 [0;39m 生成今日电子书快照结束，耗时：7毫秒
2023-05-17 00:20:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467204227502080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:20:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467204227502080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:20:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467204227502080 [0;39m ==> Parameters: 
2023-05-17 00:20:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467204227502080 [0;39m <==    Updates: 2
2023-05-17 00:20:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467204227502080 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-17 00:20:11.154 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39465611067265024 [0;39m 连接关闭，token：K0zykRIYBZ，session id：3！当前连接数：0
2023-05-17 00:20:11.331 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39465620970016768 [0;39m 有新连接：token：dixIw0SPQn，session id：4，当前连接数：1
2023-05-17 00:20:11.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467230903275521 [0;39m ------------- 开始 -------------
2023-05-17 00:20:11.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467230903275520 [0;39m ------------- 开始 -------------
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467230903275521 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467230903275521 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467230903275520 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467230903275521 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467230903275520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467230903275521 [0;39m 请求参数: [2]
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467230903275520 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:11.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467230903275520 [0;39m 请求参数: [2]
2023-05-17 00:20:11.372 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467230903275520 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:20:11.372 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467230903275521 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:11.372 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467230903275520 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:11.372 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467230903275521 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:11.373 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467230903275521 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:11.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467230903275520 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:20:11.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467230903275520 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 158, 1
2023-05-17 00:20:11.373 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467230903275521 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:11.373 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467230903275520 [0;39m <==      Total: 1
2023-05-17 00:20:11.373 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467230903275521 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:11.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467230903275520 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":158,"voteCount":1}],"success":true}
2023-05-17 00:20:11.375 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467230903275521 [0;39m <==      Total: 2
2023-05-17 00:20:11.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467230903275520 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:20:11.375 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:11.376 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:11.378 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467230903275521 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:11.378 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467230903275521 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:11.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m <==      Total: 1
2023-05-17 00:20:11.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:11.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:11.380 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467230903275521 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:11.380 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467230903275521 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:11.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m <==      Total: 1
2023-05-17 00:20:11.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:11.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:11.382 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467230903275521 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:11.382 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467230903275521 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:11.383 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467230903275521 [0;39m <==      Total: 1
2023-05-17 00:20:11.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467230903275521 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:11.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467230903275521 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:20:11.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467231112990720 [0;39m ------------- 开始 -------------
2023-05-17 00:20:11.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467231112990720 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:20:11.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467231112990720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:20:11.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467231112990720 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:11.421 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467231112990720 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:20:11.421 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467231112990720 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:20:11.421 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467231112990720 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:20:11.421 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467231112990720 [0;39m <==    Columns: id, content
2023-05-17 00:20:11.421 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467231112990720 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:20:11.425 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467231112990720 [0;39m <==      Total: 1
2023-05-17 00:20:11.425 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467231112990720 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:20:11.426 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467231112990720 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:20:11.434 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467231112990720 [0;39m <==    Updates: 1
2023-05-17 00:20:11.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467231112990720 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:20:11.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467231112990720 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:20:12.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467236796272640 [0;39m ------------- 开始 -------------
2023-05-17 00:20:12.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467236796272640 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:12.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467236796272640 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:12.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467236796272640 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:12.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467236796272640 [0;39m 请求参数: [2]
2023-05-17 00:20:12.776 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467236796272640 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:12.776 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467236796272640 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:12.777 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467236796272640 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:12.777 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467236796272640 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:12.777 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467236796272640 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:12.777 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467236796272640 [0;39m <==      Total: 2
2023-05-17 00:20:12.778 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:12.778 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:12.778 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467236796272640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:12.778 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467236796272640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:12.779 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m <==      Total: 1
2023-05-17 00:20:12.779 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:12.780 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:12.780 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467236796272640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:12.780 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467236796272640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:12.780 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m <==      Total: 1
2023-05-17 00:20:12.781 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:12.781 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:12.781 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467236796272640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:12.781 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467236796272640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:12.782 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467236796272640 [0;39m <==      Total: 1
2023-05-17 00:20:12.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467236796272640 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:12.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467236796272640 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:20:13.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467239702925312 [0;39m ------------- 开始 -------------
2023-05-17 00:20:13.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467239702925312 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:13.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467239702925312 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:13.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467239702925312 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:13.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467239702925312 [0;39m 请求参数: [2]
2023-05-17 00:20:13.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467239702925312 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:13.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467239702925312 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:13.468 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467239702925312 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:13.468 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467239702925312 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:13.468 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467239702925312 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:13.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467239702925312 [0;39m <==      Total: 2
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:13.468 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467239702925312 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:13.468 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467239702925312 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m <==      Total: 1
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:13.468 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467239702925312 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:13.468 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467239702925312 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m <==      Total: 1
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:13.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:13.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467239702925312 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:13.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467239702925312 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:13.473 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467239702925312 [0;39m <==      Total: 1
2023-05-17 00:20:13.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467239702925312 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:13.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467239702925312 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:20:13.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467241359675392 [0;39m ------------- 开始 -------------
2023-05-17 00:20:13.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467241359675392 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:13.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467241359675392 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:13.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467241359675392 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:13.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467241359675392 [0;39m 请求参数: [2]
2023-05-17 00:20:13.869 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467241359675392 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:13.870 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467241359675392 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:13.871 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467241359675392 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:13.872 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467241359675392 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:13.872 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467241359675392 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:13.874 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467241359675392 [0;39m <==      Total: 2
2023-05-17 00:20:13.874 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:13.875 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:13.875 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467241359675392 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:13.875 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467241359675392 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:13.875 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m <==      Total: 1
2023-05-17 00:20:13.876 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:13.876 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:13.877 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467241359675392 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:13.877 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467241359675392 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:13.878 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m <==      Total: 1
2023-05-17 00:20:13.878 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:13.878 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:13.878 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467241359675392 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:13.878 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467241359675392 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:13.880 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467241359675392 [0;39m <==      Total: 1
2023-05-17 00:20:13.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467241359675392 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:13.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467241359675392 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-17 00:20:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467242001403904 [0;39m ------------- 开始 -------------
2023-05-17 00:20:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467242001403904 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467242001403904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467242001403904 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:14.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467242001403904 [0;39m 请求参数: [2]
2023-05-17 00:20:14.018 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467242001403904 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:14.019 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467242001403904 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:14.019 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467242001403904 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:14.019 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467242001403904 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:14.019 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467242001403904 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:14.019 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467242001403904 [0;39m <==      Total: 2
2023-05-17 00:20:14.019 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:14.019 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:14.019 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242001403904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:14.022 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242001403904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:14.022 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m <==      Total: 1
2023-05-17 00:20:14.022 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:14.022 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:14.023 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242001403904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:14.023 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242001403904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:14.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m <==      Total: 1
2023-05-17 00:20:14.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:14.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:14.024 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242001403904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:14.024 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242001403904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:14.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242001403904 [0;39m <==      Total: 1
2023-05-17 00:20:14.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467242001403904 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:14.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467242001403904 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:20:14.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467242651521024 [0;39m ------------- 开始 -------------
2023-05-17 00:20:14.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467242651521024 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:14.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467242651521024 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:14.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467242651521024 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:14.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467242651521024 [0;39m 请求参数: [2]
2023-05-17 00:20:14.171 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467242651521024 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:14.171 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467242651521024 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:14.171 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467242651521024 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:14.171 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467242651521024 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:14.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467242651521024 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:14.175 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467242651521024 [0;39m <==      Total: 2
2023-05-17 00:20:14.176 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:14.176 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:14.177 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242651521024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:14.177 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242651521024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:14.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m <==      Total: 1
2023-05-17 00:20:14.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:14.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:14.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242651521024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:14.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242651521024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:14.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m <==      Total: 1
2023-05-17 00:20:14.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:14.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:14.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242651521024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:14.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467242651521024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:14.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467242651521024 [0;39m <==      Total: 1
2023-05-17 00:20:14.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467242651521024 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:14.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467242651521024 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:20:15.502 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39465611067265024 [0;39m 连接关闭，token：dixIw0SPQn，session id：4！当前连接数：0
2023-05-17 00:20:15.801 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39465620970016768 [0;39m 有新连接：token：qi7XqSosKD，session id：5，当前连接数：1
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467249660203008 [0;39m ------------- 开始 -------------
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467249660203008 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467249660203009 [0;39m ------------- 开始 -------------
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467249660203008 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467249660203009 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467249660203008 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:15.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467249660203009 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:20:15.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467249660203009 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:15.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467249660203008 [0;39m 请求参数: [2]
2023-05-17 00:20:15.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467249660203009 [0;39m 请求参数: [2]
2023-05-17 00:20:15.843 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467249660203008 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:15.843 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467249660203008 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:15.843 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467249660203009 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:20:15.843 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467249660203009 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:15.843 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467249660203008 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:15.845 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467249660203008 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:15.845 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467249660203009 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:20:15.845 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467249660203008 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:15.845 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467249660203009 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 159, 1
2023-05-17 00:20:15.845 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467249660203008 [0;39m <==      Total: 2
2023-05-17 00:20:15.845 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467249660203009 [0;39m <==      Total: 1
2023-05-17 00:20:15.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467249660203009 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":159,"voteCount":1}],"success":true}
2023-05-17 00:20:15.846 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:15.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467249660203009 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:20:15.846 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:15.847 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467249660203008 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:15.847 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467249660203008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:15.847 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m <==      Total: 1
2023-05-17 00:20:15.848 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:15.849 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:15.850 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467249660203008 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:15.850 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467249660203008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:15.850 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m <==      Total: 1
2023-05-17 00:20:15.851 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:15.851 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:15.852 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467249660203008 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:15.852 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467249660203008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:15.852 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467249660203008 [0;39m <==      Total: 1
2023-05-17 00:20:15.852 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467249660203008 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:15.852 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467249660203008 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 00:20:15.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467249895084032 [0;39m ------------- 开始 -------------
2023-05-17 00:20:15.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467249895084032 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:20:15.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467249895084032 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:20:15.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467249895084032 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:15.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467249895084032 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:20:15.899 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467249895084032 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:20:15.899 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467249895084032 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:20:15.899 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467249895084032 [0;39m <==    Columns: id, content
2023-05-17 00:20:15.899 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467249895084032 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:20:15.899 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467249895084032 [0;39m <==      Total: 1
2023-05-17 00:20:15.899 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467249895084032 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:20:15.904 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467249895084032 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:20:15.906 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467249895084032 [0;39m <==    Updates: 1
2023-05-17 00:20:15.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467249895084032 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:20:15.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467249895084032 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:20:22.474 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467277476827136 [0;39m ------------- 开始 -------------
2023-05-17 00:20:22.474 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467277476827136 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:22.474 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467277476827136 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:22.474 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467277476827136 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:22.474 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467277476827136 [0;39m 请求参数: [2]
2023-05-17 00:20:22.475 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467277476827136 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:22.475 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467277476827136 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:22.476 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467277476827136 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:22.476 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467277476827136 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:22.477 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467277476827136 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:22.477 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467277476827136 [0;39m <==      Total: 2
2023-05-17 00:20:22.477 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:22.477 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:22.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467277476827136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:22.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467277476827136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:22.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m <==      Total: 1
2023-05-17 00:20:22.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:22.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:22.479 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467277476827136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:22.479 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467277476827136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:22.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m <==      Total: 1
2023-05-17 00:20:22.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:22.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:22.479 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467277476827136 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:22.479 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467277476827136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:22.481 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467277476827136 [0;39m <==      Total: 1
2023-05-17 00:20:22.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467277476827136 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:22.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467277476827136 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:20:26.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467293796864000 [0;39m ------------- 开始 -------------
2023-05-17 00:20:26.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467293796864000 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:20:26.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467293796864000 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:26.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467293796864000 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:26.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467293796864000 [0;39m 请求参数: [2]
2023-05-17 00:20:26.367 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467293796864000 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:26.367 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467293796864000 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:20:26.369 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467293796864000 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:26.370 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467293796864000 [0;39m <==        Row: 1, 1, 2, null, null, 恶趣味我去, 2023-05-16 23:59:14, null
2023-05-17 00:20:26.370 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467293796864000 [0;39m <==        Row: 2, 1, 2, 1, 1, 额外企鹅, 2023-05-16 23:59:17, null
2023-05-17 00:20:26.371 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467293796864000 [0;39m <==      Total: 2
2023-05-17 00:20:26.371 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:26.371 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:26.372 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467293796864000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:26.372 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467293796864000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:26.373 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m <==      Total: 1
2023-05-17 00:20:26.373 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:26.373 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:26.374 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467293796864000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:26.374 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467293796864000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:26.375 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m <==      Total: 1
2023-05-17 00:20:26.375 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:26.375 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:26.376 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467293796864000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:26.376 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467293796864000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:26.376 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467293796864000 [0;39m <==      Total: 1
2023-05-17 00:20:26.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467293796864000 [0;39m 返回结果: {"content":[{"content":"恶趣味我去","createTime":1684252754000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"额外企鹅","createTime":1684252757000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:20:26.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467293796864000 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:20:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467330048233472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:20:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467330048233472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:20:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467330048233472 [0;39m ==> Parameters: 
2023-05-17 00:20:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467330048233472 [0;39m <==    Updates: 2
2023-05-17 00:20:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467330048233472 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 00:20:35.755 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39467241359675392 [0;39m 连接关闭，token：qi7XqSosKD，session id：5！当前连接数：0
2023-05-17 00:20:37.466 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39467242001403904 [0;39m 有新连接：token：ceIZomIyHK，session id：6，当前连接数：1
2023-05-17 00:20:37.631 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39467242651521024 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:20:37.634 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39467242651521024 [0;39m ------------- LoginInterceptor 结束 耗时：3 ms -------------
2023-05-17 00:20:37.639 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39465611067265024 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:20:37.639 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39465611067265024 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-17 00:20:37.640 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39465611067265024 [0;39m 登录校验开始，token：39402521571233792
2023-05-17 00:20:37.874 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39465611067265024 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-17 00:20:37.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467342496927744 [0;39m ------------- 开始 -------------
2023-05-17 00:20:37.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467342496927744 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-17 00:20:37.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467342496927744 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-17 00:20:37.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467342496927744 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:37.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467342496927744 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 00:20:38.024 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39467342496927744 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-17 00:20:38.024 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39467342496927744 [0;39m ==> Parameters: 
2023-05-17 00:20:38.031 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39467342496927744 [0;39m <==    Columns: count(0)
2023-05-17 00:20:38.032 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39467342496927744 [0;39m <==        Row: 2
2023-05-17 00:20:38.032 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39467342496927744 [0;39m <==      Total: 1
2023-05-17 00:20:38.036 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39467342496927744 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-17 00:20:38.036 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39467342496927744 [0;39m ==> Parameters: 10(Integer)
2023-05-17 00:20:38.036 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39467342496927744 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:38.036 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39467342496927744 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:38.036 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39467342496927744 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-17 00:20:38.036 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39467342496927744 [0;39m <==      Total: 2
2023-05-17 00:20:38.040 INFO  com.jiawa.wiki.service.UserService                :50   [32m39467342496927744 [0;39m 总行数：2
2023-05-17 00:20:38.040 INFO  com.jiawa.wiki.service.UserService                :51   [32m39467342496927744 [0;39m 总页数：1
2023-05-17 00:20:38.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467342496927744 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-17 00:20:38.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467342496927744 [0;39m ------------- 结束 耗时：75 ms -------------
2023-05-17 00:20:38.051 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39467342496927744 [0;39m ------------- LoginInterceptor 结束 耗时：412 ms -------------
2023-05-17 00:20:39.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467346892558336 [0;39m ------------- 开始 -------------
2023-05-17 00:20:39.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467346892558336 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 00:20:39.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467346892558336 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 00:20:39.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467346892558336 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:39.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467346892558336 [0;39m 请求参数: []
2023-05-17 00:20:39.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467346900946944 [0;39m ------------- 开始 -------------
2023-05-17 00:20:39.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467346900946944 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 00:20:39.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467346900946944 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 00:20:39.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467346900946944 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:39.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467346900946944 [0;39m 请求参数: []
2023-05-17 00:20:39.030 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39467346892558336 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:20:39.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39467346892558336 [0;39m ==> Parameters: 
2023-05-17 00:20:39.033 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39467346900946944 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:20:39.033 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39467346892558336 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 00:20:39.033 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39467346900946944 [0;39m ==> Parameters: 
2023-05-17 00:20:39.033 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39467346892558336 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 00:20:39.034 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 00:20:39.034 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39467346892558336 [0;39m <==        Row: 2023-05-17, 609, 16, 14, 0
2023-05-17 00:20:39.035 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 00:20:39.036 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 00:20:39.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39467346892558336 [0;39m <==      Total: 2
2023-05-17 00:20:39.036 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 00:20:39.037 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 00:20:39.037 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 00:20:39.037 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 00:20:39.038 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 00:20:39.038 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39467346900946944 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 00:20:39.038 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39467346900946944 [0;39m <==      Total: 8
2023-05-17 00:20:39.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467346900946944 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 00:20:39.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467346900946944 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:20:39.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467346892558336 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":609,"viewIncrease":14,"voteCount":16,"voteIncrease":0}],"success":true}
2023-05-17 00:20:39.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467346892558336 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:20:39.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467346972250112 [0;39m ------------- 开始 -------------
2023-05-17 00:20:39.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467346972250112 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 00:20:39.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467346972250112 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 00:20:39.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467346972250112 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:39.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467346972250112 [0;39m 请求参数: []
2023-05-17 00:20:39.048 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39467346972250112 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 00:20:39.048 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39467346972250112 [0;39m ==> Parameters: 
2023-05-17 00:20:39.049 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 00:20:39.049 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 00:20:39.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 00:20:39.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 00:20:39.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 00:20:39.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 00:20:39.052 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 00:20:39.052 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 00:20:39.052 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 00:20:39.052 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 00:20:39.052 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 00:20:39.052 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 00:20:39.053 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 00:20:39.053 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 00:20:39.053 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 00:20:39.053 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39467346972250112 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 00:20:39.053 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39467346972250112 [0;39m <==      Total: 15
2023-05-17 00:20:39.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467346972250112 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 00:20:39.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467346972250112 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:20:40.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467351481126912 [0;39m ------------- 开始 -------------
2023-05-17 00:20:40.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467351481126912 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:20:40.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467351481126912 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:20:40.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467351481126912 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:40.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467351481126912 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-17 00:20:40.133 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39467351481126912 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:20:40.134 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39467351481126912 [0;39m ==> Parameters: 202(Long)
2023-05-17 00:20:40.135 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39467351481126912 [0;39m <==    Columns: count(0)
2023-05-17 00:20:40.135 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39467351481126912 [0;39m <==        Row: 1
2023-05-17 00:20:40.135 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39467351481126912 [0;39m <==      Total: 1
2023-05-17 00:20:40.135 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39467351481126912 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 00:20:40.137 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39467351481126912 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-17 00:20:40.137 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39467351481126912 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:20:40.138 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39467351481126912 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 451, 15
2023-05-17 00:20:40.138 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39467351481126912 [0;39m <==      Total: 1
2023-05-17 00:20:40.138 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39467351481126912 [0;39m 总行数：1
2023-05-17 00:20:40.138 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39467351481126912 [0;39m 总页数：1
2023-05-17 00:20:40.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467351481126912 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":451,"voteCount":15}],"total":1},"success":true}
2023-05-17 00:20:40.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467351481126912 [0;39m ------------- 结束 耗时：29 ms -------------
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467354391973888 [0;39m ------------- 开始 -------------
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467354391973889 [0;39m ------------- 开始 -------------
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467354391973888 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467354391973889 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467354391973888 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467354391973889 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:40.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467354391973888 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:40.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467354391973889 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:40.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467354391973889 [0;39m 请求参数: [1]
2023-05-17 00:20:40.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467354391973888 [0;39m 请求参数: [1]
2023-05-17 00:20:40.814 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467354391973889 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:40.814 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467354391973888 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:20:40.814 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467354391973888 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:40.814 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467354391973889 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:40.815 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467354391973889 [0;39m <==      Total: 0
2023-05-17 00:20:40.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:20:40.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467354391973889 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:20:40.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 415, 8
2023-05-17 00:20:40.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467354391973889 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:20:40.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:20:40.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:20:40.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:20:40.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:20:40.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:20:40.816 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:20:40.817 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467354391973888 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:20:40.818 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467354391973888 [0;39m <==      Total: 8
2023-05-17 00:20:40.822 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467354391973888 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":415,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:20:40.822 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467354391973888 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:20:40.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467354635243520 [0;39m ------------- 开始 -------------
2023-05-17 00:20:40.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467354635243520 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:20:40.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467354635243520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:20:40.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467354635243520 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:40.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467354635243520 [0;39m 请求参数: [1]
2023-05-17 00:20:40.871 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467354635243520 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:20:40.872 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467354635243520 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:40.872 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467354635243520 [0;39m <==    Columns: id, content
2023-05-17 00:20:40.872 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467354635243520 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:20:40.873 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467354635243520 [0;39m <==      Total: 1
2023-05-17 00:20:40.873 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467354635243520 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:20:40.874 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467354635243520 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:40.876 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467354635243520 [0;39m <==    Updates: 1
2023-05-17 00:20:40.876 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467354635243520 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:20:40.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467354635243520 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:20:42.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467362008829952 [0;39m ------------- 开始 -------------
2023-05-17 00:20:42.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467362008829952 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:20:42.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467362008829952 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:42.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467362008829952 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:42.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467362008829952 [0;39m 请求参数: [1]
2023-05-17 00:20:42.629 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467362008829952 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:42.630 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467362008829952 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:42.630 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467362008829952 [0;39m <==      Total: 0
2023-05-17 00:20:42.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467362008829952 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:20:42.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467362008829952 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:20:45.100 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39467346972250112 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:20:45.100 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39467346972250112 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 00:20:45.100 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39467346972250112 [0;39m 登录校验开始，token：39402521571233792
2023-05-17 00:20:45.102 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39467346972250112 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-17 00:20:45.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467372553310208 [0;39m ------------- 开始 -------------
2023-05-17 00:20:45.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467372553310208 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 00:20:45.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467372553310208 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 00:20:45.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467372553310208 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:45.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467372553310208 [0;39m 请求参数: [{"content":"ewq额","ebookId":1,"userId":1}]
2023-05-17 00:20:45.148 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467372553310208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:45.148 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467372553310208 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:45.148 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467372553310208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:45.153 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467372553310208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:45.153 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467372553310208 [0;39m <==      Total: 1
2023-05-17 00:20:45.154 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39467372553310208 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 00:20:45.154 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39467372553310208 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:45.155 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39467372553310208 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:20:45.155 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39467372553310208 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 451, 15
2023-05-17 00:20:45.155 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39467372553310208 [0;39m <==      Total: 1
2023-05-17 00:20:45.155 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39467372553310208 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:20:45.157 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39467372553310208 [0;39m ==> Parameters: null, 1(Long), 1(Long), null, null, ewq额(String), 2023-05-17 00:20:45.155(Timestamp), null
2023-05-17 00:20:45.165 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39467372553310208 [0;39m <==    Updates: 1
2023-05-17 00:20:45.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467372553310208 [0;39m 返回结果: {"success":true}
2023-05-17 00:20:45.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467372553310208 [0;39m ------------- 结束 耗时：23 ms -------------
2023-05-17 00:20:45.165 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39467372553310208 [0;39m ------------- LoginInterceptor 结束 耗时：65 ms -------------
2023-05-17 00:20:45.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467372687527936 [0;39m ------------- 开始 -------------
2023-05-17 00:20:45.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467372687527936 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:20:45.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467372687527936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:45.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467372687527936 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:45.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467372687527936 [0;39m 请求参数: [1]
2023-05-17 00:20:45.176 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467372687527936 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:45.176 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467372687527936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:45.177 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467372687527936 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:45.177 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467372687527936 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:20:45.177 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467372687527936 [0;39m <==      Total: 1
2023-05-17 00:20:45.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467372687527936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:45.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467372687527936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:45.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467372687527936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:45.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467372687527936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:45.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467372687527936 [0;39m <==      Total: 1
2023-05-17 00:20:45.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467372687527936 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:20:45.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467372687527936 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:20:50.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467395332575232 [0;39m ------------- 开始 -------------
2023-05-17 00:20:50.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467395332575232 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:20:50.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467395332575232 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:50.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467395332575232 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:50.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467395332575232 [0;39m 请求参数: [1]
2023-05-17 00:20:50.574 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467395332575232 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:50.575 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467395332575232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:50.575 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467395332575232 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:50.576 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467395332575232 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:20:50.576 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467395332575232 [0;39m <==      Total: 1
2023-05-17 00:20:50.576 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467395332575232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:50.577 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467395332575232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:50.577 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467395332575232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:50.577 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467395332575232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:50.578 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467395332575232 [0;39m <==      Total: 1
2023-05-17 00:20:50.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467395332575232 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:20:50.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467395332575232 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:20:53.379 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39467342496927744 [0;39m 连接关闭，token：ceIZomIyHK，session id：6！当前连接数：0
2023-05-17 00:20:55.370 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39467242651521024 [0;39m 有新连接：token：dowtvRa3qR，session id：7，当前连接数：1
2023-05-17 00:20:55.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467415985328128 [0;39m ------------- 开始 -------------
2023-05-17 00:20:55.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467415985328128 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:20:55.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467415985328128 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:20:55.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467415985328128 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:55.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467415985328128 [0;39m 请求参数: [1]
2023-05-17 00:20:55.498 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467415985328128 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:20:55.499 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467415985328128 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:55.501 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:20:55.501 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 416, 8
2023-05-17 00:20:55.502 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:20:55.503 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:20:55.503 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:20:55.503 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:20:55.504 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:20:55.504 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:20:55.504 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467415985328128 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:20:55.504 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467415985328128 [0;39m <==      Total: 8
2023-05-17 00:20:55.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467415985328128 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":416,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:20:55.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467415985328128 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:20:55.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467416035659776 [0;39m ------------- 开始 -------------
2023-05-17 00:20:55.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467416035659776 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:20:55.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467416035659776 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:20:55.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467416035659776 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:55.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467416035659776 [0;39m 请求参数: [1]
2023-05-17 00:20:55.512 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467416035659776 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:20:55.512 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467416035659776 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:55.513 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467416035659776 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:20:55.513 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467416035659776 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:20:55.513 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467416035659776 [0;39m <==      Total: 1
2023-05-17 00:20:55.514 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467416035659776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:20:55.514 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467416035659776 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:55.515 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467416035659776 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:20:55.515 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467416035659776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:20:55.515 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467416035659776 [0;39m <==      Total: 1
2023-05-17 00:20:55.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467416035659776 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:20:55.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467416035659776 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:20:55.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467416639639552 [0;39m ------------- 开始 -------------
2023-05-17 00:20:55.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467416639639552 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:20:55.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467416639639552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:20:55.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467416639639552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:20:55.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467416639639552 [0;39m 请求参数: [1]
2023-05-17 00:20:55.655 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467416639639552 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:20:55.655 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467416639639552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:55.656 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467416639639552 [0;39m <==    Columns: id, content
2023-05-17 00:20:55.656 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467416639639552 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:20:55.657 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467416639639552 [0;39m <==      Total: 1
2023-05-17 00:20:55.658 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467416639639552 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:20:55.658 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467416639639552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:20:55.667 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467416639639552 [0;39m <==    Updates: 1
2023-05-17 00:20:55.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467416639639552 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:20:55.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467416639639552 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:21:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39467434918416384 [0;39m 生成今日电子书快照开始
2023-05-17 00:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467434918416384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467434918416384 [0;39m ==> Parameters: 
2023-05-17 00:21:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467434918416384 [0;39m <==    Updates: 0
2023-05-17 00:21:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39467434918416384 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-17 00:21:02.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467443378327552 [0;39m ------------- 开始 -------------
2023-05-17 00:21:02.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467443378327552 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:21:02.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467443378327552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:21:02.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467443378327552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:02.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467443378327552 [0;39m 请求参数: [1]
2023-05-17 00:21:02.029 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467443378327552 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:21:02.029 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467443378327552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:02.029 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467443378327552 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:21:02.029 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467443378327552 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:21:02.029 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467443378327552 [0;39m <==      Total: 1
2023-05-17 00:21:02.029 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467443378327552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:21:02.029 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467443378327552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:02.029 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467443378327552 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:21:02.029 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467443378327552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:21:02.029 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467443378327552 [0;39m <==      Total: 1
2023-05-17 00:21:02.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467443378327552 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:21:02.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467443378327552 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:21:03.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467447652323328 [0;39m ------------- 开始 -------------
2023-05-17 00:21:03.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467447652323328 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:21:03.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467447652323328 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:21:03.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467447652323328 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:03.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467447652323328 [0;39m 请求参数: [1]
2023-05-17 00:21:03.049 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467447652323328 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:21:03.049 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467447652323328 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:03.050 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467447652323328 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:21:03.051 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467447652323328 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:21:03.051 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467447652323328 [0;39m <==      Total: 1
2023-05-17 00:21:03.052 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467447652323328 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:21:03.052 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467447652323328 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:03.053 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467447652323328 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:21:03.054 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467447652323328 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:21:03.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467447652323328 [0;39m <==      Total: 1
2023-05-17 00:21:03.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467447652323328 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:21:03.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467447652323328 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:21:04.008 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467451683049472 [0;39m ------------- 开始 -------------
2023-05-17 00:21:04.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467451683049472 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:21:04.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467451683049472 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:21:04.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467451683049472 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:04.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467451683049472 [0;39m 请求参数: [1]
2023-05-17 00:21:04.010 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467451683049472 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:21:04.010 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467451683049472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:04.011 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467451683049472 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:21:04.011 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467451683049472 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:21:04.012 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467451683049472 [0;39m <==      Total: 1
2023-05-17 00:21:04.012 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467451683049472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:21:04.013 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467451683049472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:04.014 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467451683049472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:21:04.014 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467451683049472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:21:04.015 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467451683049472 [0;39m <==      Total: 1
2023-05-17 00:21:04.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467451683049472 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:21:04.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467451683049472 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:21:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467455873159168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:21:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467455873159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:21:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467455873159168 [0;39m ==> Parameters: 
2023-05-17 00:21:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467455873159168 [0;39m <==    Updates: 2
2023-05-17 00:21:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467455873159168 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:21:06.439 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：dowtvRa3qR，session id：7！当前连接数：0
2023-05-17 00:21:06.486 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:21:06.489 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:21:06.489 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:21:06.490 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-17 00:21:06.499 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-17 00:21:06.626 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:21:06.626 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:21:10.013 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 15920 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:21:10.018 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:21:10.018 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:21:10.061 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:21:10.062 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:21:10.627 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:21:10.627 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:21:10.648 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2023-05-17 00:21:10.792 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$ebffa778] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:10.797 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.107 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.107 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$8e3a1c79] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.107 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.117 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.117 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.121 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.121 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.121 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.121 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.128 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.128 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.137 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.140 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:11.150 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:12.013 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:12.014 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:21:12.440 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:21:12.445 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:21:12.446 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:21:12.446 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:21:12.516 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:21:12.516 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2454 ms
2023-05-17 00:21:13.200 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:21:13.485 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:21:13.532 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:21:14.023 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:21:14.023 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:21:14.034 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:21:14.046 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:21:14.061 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 4.391 seconds (JVM running for 5.233)
2023-05-17 00:21:14.063 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:21:14.063 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:21:21.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-17 00:21:21.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-17 00:21:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467581719056384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:21:35.025 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39467581719056384 [0;39m HikariPool-1 - Starting...
2023-05-17 00:21:35.496 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39467581719056384 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:21:35.501 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467581719056384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:21:35.524 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467581719056384 [0;39m ==> Parameters: 
2023-05-17 00:21:35.524 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467581719056384 [0;39m <==    Updates: 2
2023-05-17 00:21:35.528 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467581719056384 [0;39m 更新电子书下的文档数据结束，耗时：517毫秒
2023-05-17 00:21:36.075 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:21:38.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:21:43.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:21:44.058 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:21:45.729 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:21:47.776 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:21:54.127 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:21:54.128 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:21:54.129 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-17 00:21:54.182 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：mzyeRSd533，session id：0，当前连接数：1
2023-05-17 00:21:54.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467662262276097 [0;39m ------------- 开始 -------------
2023-05-17 00:21:54.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467662262276096 [0;39m ------------- 开始 -------------
2023-05-17 00:21:54.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467662262276097 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:21:54.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467662262276096 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:21:54.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467662262276097 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:21:54.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467662262276096 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:21:54.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467662262276097 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:54.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467662262276096 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:54.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467662262276097 [0;39m 请求参数: [1]
2023-05-17 00:21:54.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467662262276096 [0;39m 请求参数: [1]
2023-05-17 00:21:54.226 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467662262276096 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:21:54.226 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467662262276096 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:54.243 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467662262276096 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:21:54.244 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467662262276096 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:21:54.246 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467662262276096 [0;39m <==      Total: 1
2023-05-17 00:21:54.250 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467662262276096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:21:54.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467662262276096 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:54.251 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467662262276096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:21:54.253 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467662262276096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:21:54.253 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467662262276096 [0;39m <==      Total: 1
2023-05-17 00:21:54.254 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467662262276097 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:21:54.255 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467662262276097 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:54.256 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:21:54.257 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 417, 8
2023-05-17 00:21:54.258 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:21:54.258 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:21:54.259 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:21:54.260 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:21:54.260 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:21:54.261 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:21:54.261 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39467662262276097 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:21:54.262 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39467662262276097 [0;39m <==      Total: 8
2023-05-17 00:21:54.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467662262276096 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:21:54.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467662262276096 [0;39m ------------- 结束 耗时：51 ms -------------
2023-05-17 00:21:54.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467662262276097 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":417,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:21:54.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467662262276097 [0;39m ------------- 结束 耗时：59 ms -------------
2023-05-17 00:21:54.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467662820118528 [0;39m ------------- 开始 -------------
2023-05-17 00:21:54.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467662820118528 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:21:54.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467662820118528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:21:54.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467662820118528 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:54.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467662820118528 [0;39m 请求参数: [1]
2023-05-17 00:21:54.348 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467662820118528 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:21:54.348 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467662820118528 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:54.352 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467662820118528 [0;39m <==    Columns: id, content
2023-05-17 00:21:54.352 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39467662820118528 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:21:54.353 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39467662820118528 [0;39m <==      Total: 1
2023-05-17 00:21:54.354 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467662820118528 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:21:54.354 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467662820118528 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:21:54.362 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39467662820118528 [0;39m <==    Updates: 1
2023-05-17 00:21:54.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467662820118528 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:21:54.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467662820118528 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:21:57.358 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:21:57.359 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 00:21:57.370 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:21:57.370 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/39402521571233792
2023-05-17 00:21:57.370 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39402521571233792
2023-05-17 00:21:57.491 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-17 00:21:57.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467676191559680 [0;39m ------------- 开始 -------------
2023-05-17 00:21:57.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467676191559680 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/39402521571233792 GET
2023-05-17 00:21:57.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467676191559680 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-17 00:21:57.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467676191559680 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:57.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467676191559680 [0;39m 请求参数: ["39402521571233792"]
2023-05-17 00:21:57.608 INFO  com.jiawa.wiki.controller.UserController          :97   [32m39467676191559680 [0;39m 从redis中删除token: 39402521571233792
2023-05-17 00:21:57.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467676191559680 [0;39m 返回结果: {"success":true}
2023-05-17 00:21:57.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467676191559680 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-17 00:21:57.609 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39467676191559680 [0;39m ------------- LoginInterceptor 结束 耗时：239 ms -------------
2023-05-17 00:21:59.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467684219457536 [0;39m ------------- 开始 -------------
2023-05-17 00:21:59.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467684219457536 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-17 00:21:59.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467684219457536 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-17 00:21:59.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467684219457536 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:21:59.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467684219457536 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-17 00:21:59.456 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39467684219457536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-17 00:21:59.456 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39467684219457536 [0;39m ==> Parameters: test(String)
2023-05-17 00:21:59.458 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39467684219457536 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:21:59.458 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39467684219457536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:21:59.458 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39467684219457536 [0;39m <==      Total: 1
2023-05-17 00:21:59.464 INFO  com.jiawa.wiki.controller.UserController          :86   [32m39467684219457536 [0;39m 生成单点登录token：39467684282372096，并放入redis中
2023-05-17 00:21:59.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467684219457536 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"39467684282372096"},"success":true}
2023-05-17 00:21:59.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467684219457536 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:22:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39467686585044992 [0;39m 生成今日电子书快照开始
2023-05-17 00:22:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467686585044992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:22:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467686585044992 [0;39m ==> Parameters: 
2023-05-17 00:22:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467686585044992 [0;39m <==    Updates: 0
2023-05-17 00:22:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39467686585044992 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:22:02.168 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:03.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467699381866496 [0;39m ------------- 开始 -------------
2023-05-17 00:22:03.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467699381866496 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:22:03.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467699381866496 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:22:03.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467699381866496 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:22:03.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467699381866496 [0;39m 请求参数: [1]
2023-05-17 00:22:03.067 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467699381866496 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:22:03.067 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467699381866496 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:03.068 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467699381866496 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:22:03.068 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467699381866496 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:22:03.069 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467699381866496 [0;39m <==      Total: 1
2023-05-17 00:22:03.069 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467699381866496 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:22:03.070 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467699381866496 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:03.070 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467699381866496 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:22:03.071 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467699381866496 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:22:03.071 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467699381866496 [0;39m <==      Total: 1
2023-05-17 00:22:03.071 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467699381866496 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:22:03.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467699381866496 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:22:03.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467702955413504 [0;39m ------------- 开始 -------------
2023-05-17 00:22:03.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467702955413504 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:22:03.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467702955413504 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:22:03.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467702955413504 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:22:03.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467702955413504 [0;39m 请求参数: [1]
2023-05-17 00:22:03.918 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467702955413504 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:22:03.918 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467702955413504 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:03.919 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467702955413504 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:22:03.919 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467702955413504 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:22:03.920 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467702955413504 [0;39m <==      Total: 1
2023-05-17 00:22:03.920 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467702955413504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:22:03.921 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467702955413504 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:03.922 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467702955413504 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:22:03.922 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467702955413504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:22:03.922 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467702955413504 [0;39m <==      Total: 1
2023-05-17 00:22:03.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467702955413504 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:22:03.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467702955413504 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:22:04.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467705979506688 [0;39m ------------- 开始 -------------
2023-05-17 00:22:04.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467705979506688 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:22:04.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467705979506688 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:22:04.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467705979506688 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:22:04.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467705979506688 [0;39m 请求参数: [1]
2023-05-17 00:22:04.640 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467705979506688 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:22:04.640 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467705979506688 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:04.641 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467705979506688 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:22:04.641 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467705979506688 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:22:04.642 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467705979506688 [0;39m <==      Total: 1
2023-05-17 00:22:04.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467705979506688 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:22:04.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467705979506688 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:04.644 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467705979506688 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:22:04.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467705979506688 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:22:04.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467705979506688 [0;39m <==      Total: 1
2023-05-17 00:22:04.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467705979506688 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:22:04.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467705979506688 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:22:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467707523010560 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:22:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467707523010560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:22:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467707523010560 [0;39m ==> Parameters: 
2023-05-17 00:22:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467707523010560 [0;39m <==    Updates: 2
2023-05-17 00:22:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467707523010560 [0;39m 更新电子书下的文档数据结束，耗时：11毫秒
2023-05-17 00:22:05.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39467710232530944 [0;39m ------------- 开始 -------------
2023-05-17 00:22:05.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39467710232530944 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:22:05.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39467710232530944 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:22:05.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39467710232530944 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:22:05.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39467710232530944 [0;39m 请求参数: [1]
2023-05-17 00:22:05.653 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467710232530944 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:22:05.655 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467710232530944 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:05.656 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467710232530944 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:22:05.656 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39467710232530944 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:22:05.657 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39467710232530944 [0;39m <==      Total: 1
2023-05-17 00:22:05.658 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467710232530944 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:22:05.658 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467710232530944 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:22:05.659 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467710232530944 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:22:05.659 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39467710232530944 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:22:05.659 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39467710232530944 [0;39m <==      Total: 1
2023-05-17 00:22:05.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39467710232530944 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:22:05.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39467710232530944 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:22:13.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:14.067 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:17.785 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:24.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:26.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:35.036 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467833482153984 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:22:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467833482153984 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:22:35.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467833482153984 [0;39m ==> Parameters: 
2023-05-17 00:22:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467833482153984 [0;39m <==    Updates: 2
2023-05-17 00:22:35.038 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467833482153984 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:22:44.066 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:45.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:47.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:49.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:22:51.782 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39467938281033728 [0;39m 生成今日电子书快照开始
2023-05-17 00:23:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467938281033728 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:23:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467938281033728 [0;39m ==> Parameters: 
2023-05-17 00:23:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39467938281033728 [0;39m <==    Updates: 0
2023-05-17 00:23:00.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39467938281033728 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-17 00:23:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39467959193833472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:23:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467959193833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:23:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467959193833472 [0;39m ==> Parameters: 
2023-05-17 00:23:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39467959193833472 [0;39m <==    Updates: 2
2023-05-17 00:23:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39467959193833472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:23:13.663 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:14.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:17.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:19.785 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468085039730688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:23:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468085039730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:23:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468085039730688 [0;39m ==> Parameters: 
2023-05-17 00:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468085039730688 [0;39m <==    Updates: 2
2023-05-17 00:23:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468085039730688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:23:41.830 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:43.885 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:44.075 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:23:47.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39468189880553472 [0;39m 生成今日电子书快照开始
2023-05-17 00:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468189880553472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468189880553472 [0;39m ==> Parameters: 
2023-05-17 00:24:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468189880553472 [0;39m <==    Updates: 0
2023-05-17 00:24:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39468189880553472 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-17 00:24:01.316 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：mzyeRSd533，session id：0！当前连接数：0
2023-05-17 00:24:03.004 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39467676191559680 [0;39m 有新连接：token：fLKXgF0yjI，session id：1，当前连接数：1
2023-05-17 00:24:03.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468203155525632 [0;39m ------------- 开始 -------------
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468203155525632 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468203159719936 [0;39m ------------- 开始 -------------
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468203155525632 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468203159719936 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468203159719936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468203155525632 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468203159719936 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468203155525632 [0;39m 请求参数: [1]
2023-05-17 00:24:03.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468203159719936 [0;39m 请求参数: [1]
2023-05-17 00:24:03.175 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468203159719936 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:03.176 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468203159719936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:03.177 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468203155525632 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:24:03.177 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468203159719936 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:03.177 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468203159719936 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:03.177 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468203155525632 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:03.178 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468203159719936 [0;39m <==      Total: 1
2023-05-17 00:24:03.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468203159719936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:03.179 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:24:03.179 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 418, 8
2023-05-17 00:24:03.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468203159719936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:03.179 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:24:03.180 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:24:03.180 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:24:03.180 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:24:03.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468203159719936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:03.180 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:24:03.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468203159719936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:03.181 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:24:03.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468203159719936 [0;39m <==      Total: 1
2023-05-17 00:24:03.181 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468203155525632 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:24:03.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468203159719936 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:03.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468203159719936 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:24:03.183 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468203155525632 [0;39m <==      Total: 8
2023-05-17 00:24:03.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468203155525632 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":418,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:24:03.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468203155525632 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:24:03.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468203507847168 [0;39m ------------- 开始 -------------
2023-05-17 00:24:03.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468203507847168 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:24:03.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468203507847168 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:24:03.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468203507847168 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:03.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468203507847168 [0;39m 请求参数: [1]
2023-05-17 00:24:03.258 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468203507847168 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:24:03.259 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468203507847168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:03.260 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39468203507847168 [0;39m <==    Columns: id, content
2023-05-17 00:24:03.260 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39468203507847168 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:24:03.260 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468203507847168 [0;39m <==      Total: 1
2023-05-17 00:24:03.262 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468203507847168 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:24:03.262 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468203507847168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:03.271 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468203507847168 [0;39m <==    Updates: 1
2023-05-17 00:24:03.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468203507847168 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:24:03.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468203507847168 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:24:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468210885627904 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:24:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468210885627904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:24:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468210885627904 [0;39m ==> Parameters: 
2023-05-17 00:24:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468210885627904 [0;39m <==    Updates: 2
2023-05-17 00:24:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468210885627904 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:24:05.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468212424937472 [0;39m ------------- 开始 -------------
2023-05-17 00:24:05.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468212424937472 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:05.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468212424937472 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:05.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468212424937472 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:05.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468212424937472 [0;39m 请求参数: [1]
2023-05-17 00:24:05.383 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468212424937472 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:05.383 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468212424937472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:05.383 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468212424937472 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:05.383 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468212424937472 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:05.389 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468212424937472 [0;39m <==      Total: 1
2023-05-17 00:24:05.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468212424937472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:05.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468212424937472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:05.392 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468212424937472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:05.392 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468212424937472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:05.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468212424937472 [0;39m <==      Total: 1
2023-05-17 00:24:05.393 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468212424937472 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:05.393 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468212424937472 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:24:06.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468216531161088 [0;39m ------------- 开始 -------------
2023-05-17 00:24:06.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468216531161088 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:06.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468216531161088 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:06.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468216531161088 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:06.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468216531161088 [0;39m 请求参数: [1]
2023-05-17 00:24:06.365 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468216531161088 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:06.365 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468216531161088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:06.366 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468216531161088 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:06.368 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468216531161088 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:06.369 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468216531161088 [0;39m <==      Total: 1
2023-05-17 00:24:06.369 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468216531161088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:06.369 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468216531161088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:06.370 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468216531161088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:06.370 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468216531161088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:06.370 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468216531161088 [0;39m <==      Total: 1
2023-05-17 00:24:06.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468216531161088 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:06.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468216531161088 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:24:06.964 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468219056132096 [0;39m ------------- 开始 -------------
2023-05-17 00:24:06.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468219056132096 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:06.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468219056132096 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:06.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468219056132096 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:06.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468219056132096 [0;39m 请求参数: [1]
2023-05-17 00:24:06.967 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468219056132096 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:06.967 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468219056132096 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:06.968 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468219056132096 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:06.968 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468219056132096 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:06.968 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468219056132096 [0;39m <==      Total: 1
2023-05-17 00:24:06.969 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468219056132096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:06.969 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468219056132096 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:06.970 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468219056132096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:06.970 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468219056132096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:06.970 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468219056132096 [0;39m <==      Total: 1
2023-05-17 00:24:06.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468219056132096 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:06.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468219056132096 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:24:07.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468221534965760 [0;39m ------------- 开始 -------------
2023-05-17 00:24:07.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468221534965760 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:07.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468221534965760 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:07.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468221534965760 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:07.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468221534965760 [0;39m 请求参数: [1]
2023-05-17 00:24:07.556 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468221534965760 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:07.558 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468221534965760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:07.558 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468221534965760 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:07.559 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468221534965760 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:07.559 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468221534965760 [0;39m <==      Total: 1
2023-05-17 00:24:07.560 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468221534965760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:07.560 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468221534965760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:07.560 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468221534965760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:07.561 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468221534965760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:07.561 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468221534965760 [0;39m <==      Total: 1
2023-05-17 00:24:07.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468221534965760 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:07.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468221534965760 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:24:08.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468224265457664 [0;39m ------------- 开始 -------------
2023-05-17 00:24:08.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468224265457664 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:08.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468224265457664 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:08.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468224265457664 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:08.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468224265457664 [0;39m 请求参数: [1]
2023-05-17 00:24:08.208 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468224265457664 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:08.208 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468224265457664 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:08.209 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468224265457664 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:08.210 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468224265457664 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:08.210 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468224265457664 [0;39m <==      Total: 1
2023-05-17 00:24:08.211 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468224265457664 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:08.211 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468224265457664 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:08.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468224265457664 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:08.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468224265457664 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:08.212 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468224265457664 [0;39m <==      Total: 1
2023-05-17 00:24:08.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468224265457664 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:08.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468224265457664 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:24:08.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:13.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:14.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:15.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468255382999040 [0;39m ------------- 开始 -------------
2023-05-17 00:24:15.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468255382999040 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:15.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468255382999040 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:15.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468255382999040 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:15.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468255382999040 [0;39m 请求参数: [1]
2023-05-17 00:24:15.627 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468255382999040 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:15.628 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468255382999040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:15.629 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468255382999040 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:15.629 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468255382999040 [0;39m <==        Row: 4, 1, 1, null, null, ewq额, 2023-05-17 00:20:45, null
2023-05-17 00:24:15.630 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468255382999040 [0;39m <==      Total: 1
2023-05-17 00:24:15.630 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468255382999040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:15.631 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468255382999040 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:15.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468255382999040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:15.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468255382999040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:15.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468255382999040 [0;39m <==      Total: 1
2023-05-17 00:24:15.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468255382999040 [0;39m 返回结果: {"content":[{"content":"ewq额","createTime":1684254045000,"ebookId":1,"id":4,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:15.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468255382999040 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:24:15.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:17.765 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:30.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:33.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468336672804864 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:24:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468336672804864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:24:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468336672804864 [0;39m ==> Parameters: 
2023-05-17 00:24:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468336672804864 [0;39m <==    Updates: 2
2023-05-17 00:24:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468336672804864 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:24:36.028 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39467676191559680 [0;39m 连接关闭，token：fLKXgF0yjI，session id：1！当前连接数：0
2023-05-17 00:24:37.687 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39468203159719936 [0;39m 有新连接：token：WtOpdc13wo，session id：2，当前连接数：1
2023-05-17 00:24:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468348475576320 [0;39m ------------- 开始 -------------
2023-05-17 00:24:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468348475576320 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:24:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468348475576320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:24:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468348475576321 [0;39m ------------- 开始 -------------
2023-05-17 00:24:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468348475576320 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468348475576321 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:24:37.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468348475576320 [0;39m 请求参数: [1]
2023-05-17 00:24:37.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468348475576321 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:37.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468348475576321 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:37.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468348475576321 [0;39m 请求参数: [1]
2023-05-17 00:24:37.822 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468348475576321 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:37.822 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468348475576320 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:24:37.822 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468348475576320 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:37.822 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468348475576321 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:37.823 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468348475576321 [0;39m <==      Total: 0
2023-05-17 00:24:37.823 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:24:37.823 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 419, 8
2023-05-17 00:24:37.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468348475576321 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:24:37.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468348475576321 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:24:37.823 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:24:37.823 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:24:37.824 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:24:37.824 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:24:37.825 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:24:37.825 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:24:37.825 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468348475576320 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:24:37.825 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468348475576320 [0;39m <==      Total: 8
2023-05-17 00:24:37.826 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468348475576320 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":419,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:24:37.826 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468348475576320 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:24:37.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468348802732032 [0;39m ------------- 开始 -------------
2023-05-17 00:24:37.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468348802732032 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:24:37.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468348802732032 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:24:37.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468348802732032 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:37.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468348802732032 [0;39m 请求参数: [1]
2023-05-17 00:24:37.900 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468348802732032 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:24:37.902 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468348802732032 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:37.904 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39468348802732032 [0;39m <==    Columns: id, content
2023-05-17 00:24:37.904 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39468348802732032 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:24:37.904 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468348802732032 [0;39m <==      Total: 1
2023-05-17 00:24:37.905 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468348802732032 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:24:37.905 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468348802732032 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:37.907 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468348802732032 [0;39m <==    Updates: 1
2023-05-17 00:24:37.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468348802732032 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:24:37.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468348802732032 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:24:43.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:44.060 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:45.742 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:46.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468384156520449 [0;39m ------------- 开始 -------------
2023-05-17 00:24:46.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468384156520448 [0;39m ------------- 开始 -------------
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468384156520449 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468384156520448 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468384156520449 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468384156520448 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468384156520449 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468384156520449 [0;39m 请求参数: []
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468384156520448 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:46.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468384156520448 [0;39m 请求参数: []
2023-05-17 00:24:46.333 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39468384156520449 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:24:46.334 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39468384156520449 [0;39m ==> Parameters: 
2023-05-17 00:24:46.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468384185880576 [0;39m ------------- 开始 -------------
2023-05-17 00:24:46.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468384185880576 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 00:24:46.335 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39468384156520449 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 00:24:46.335 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39468384156520449 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 00:24:46.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468384185880576 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 00:24:46.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468384185880576 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:46.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468384185880576 [0;39m 请求参数: []
2023-05-17 00:24:46.337 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39468384156520449 [0;39m <==        Row: 2023-05-17, 614, 16, 19, 0
2023-05-17 00:24:46.337 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39468384156520449 [0;39m <==      Total: 2
2023-05-17 00:24:46.337 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39468384156520448 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:24:46.337 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39468384156520448 [0;39m ==> Parameters: 
2023-05-17 00:24:46.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 00:24:46.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468384156520449 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":614,"viewIncrease":19,"voteCount":16,"voteIncrease":0}],"success":true}
2023-05-17 00:24:46.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468384156520449 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:24:46.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 00:24:46.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 00:24:46.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 00:24:46.340 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 00:24:46.340 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 00:24:46.340 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 00:24:46.341 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 00:24:46.341 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39468384156520448 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 00:24:46.341 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39468384156520448 [0;39m <==      Total: 8
2023-05-17 00:24:46.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468384156520448 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 00:24:46.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468384156520448 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:24:46.344 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39468384185880576 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 00:24:46.344 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39468384185880576 [0;39m ==> Parameters: 
2023-05-17 00:24:46.346 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 00:24:46.346 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 00:24:46.347 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 00:24:46.347 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 00:24:46.347 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 00:24:46.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 00:24:46.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 00:24:46.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 00:24:46.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 00:24:46.349 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 00:24:46.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 00:24:46.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 00:24:46.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 00:24:46.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 00:24:46.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 00:24:46.351 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39468384185880576 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 00:24:46.351 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39468384185880576 [0;39m <==      Total: 15
2023-05-17 00:24:46.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468384185880576 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 00:24:46.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468384185880576 [0;39m ------------- 结束 耗时：26 ms -------------
2023-05-17 00:24:47.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468387855896576 [0;39m ------------- 开始 -------------
2023-05-17 00:24:47.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468387855896576 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:24:47.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468387855896576 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:24:47.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468387855896576 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:47.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468387855896576 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-17 00:24:47.255 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39468387855896576 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:24:47.256 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39468387855896576 [0;39m ==> Parameters: 101(Long)
2023-05-17 00:24:47.256 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39468387855896576 [0;39m <==    Columns: count(0)
2023-05-17 00:24:47.256 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39468387855896576 [0;39m <==        Row: 1
2023-05-17 00:24:47.256 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39468387855896576 [0;39m <==      Total: 1
2023-05-17 00:24:47.256 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39468387855896576 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 00:24:47.256 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39468387855896576 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-17 00:24:47.261 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39468387855896576 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:24:47.261 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39468387855896576 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 160, 1
2023-05-17 00:24:47.261 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39468387855896576 [0;39m <==      Total: 1
2023-05-17 00:24:47.261 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39468387855896576 [0;39m 总行数：1
2023-05-17 00:24:47.261 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39468387855896576 [0;39m 总页数：1
2023-05-17 00:24:47.270 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468387855896576 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":160,"voteCount":1}],"total":1},"success":true}
2023-05-17 00:24:47.270 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468387855896576 [0;39m ------------- 结束 耗时：61 ms -------------
2023-05-17 00:24:47.764 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:48.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468391513329664 [0;39m ------------- 开始 -------------
2023-05-17 00:24:48.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468391513329664 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:24:48.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468391513329665 [0;39m ------------- 开始 -------------
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468391513329665 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468391513329665 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468391513329664 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468391513329664 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468391513329665 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468391513329664 [0;39m 请求参数: [2]
2023-05-17 00:24:48.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468391513329665 [0;39m 请求参数: [2]
2023-05-17 00:24:48.084 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468391513329665 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:48.085 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468391513329665 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:24:48.085 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468391513329665 [0;39m <==      Total: 0
2023-05-17 00:24:48.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468391513329665 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:24:48.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468391513329665 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:24:48.087 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468391513329664 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:24:48.089 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468391513329664 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:24:48.090 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468391513329664 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:24:48.090 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39468391513329664 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 160, 1
2023-05-17 00:24:48.091 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39468391513329664 [0;39m <==      Total: 1
2023-05-17 00:24:48.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468391513329664 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":160,"voteCount":1}],"success":true}
2023-05-17 00:24:48.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468391513329664 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:24:48.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468391651741696 [0;39m ------------- 开始 -------------
2023-05-17 00:24:48.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468391651741696 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:24:48.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468391651741696 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:24:48.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468391651741696 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:48.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468391651741696 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:24:48.119 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468391651741696 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:24:48.120 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468391651741696 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:24:48.121 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39468391651741696 [0;39m <==    Columns: id, content
2023-05-17 00:24:48.121 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39468391651741696 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:24:48.121 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39468391651741696 [0;39m <==      Total: 1
2023-05-17 00:24:48.122 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468391651741696 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:24:48.122 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468391651741696 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:24:48.135 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39468391651741696 [0;39m <==    Updates: 1
2023-05-17 00:24:48.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468391651741696 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:24:48.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468391651741696 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-17 00:24:49.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468396542300160 [0;39m ------------- 开始 -------------
2023-05-17 00:24:49.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468396542300160 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:24:49.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468396542300160 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:49.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468396542300160 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:49.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468396542300160 [0;39m 请求参数: [2]
2023-05-17 00:24:49.282 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468396542300160 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:49.282 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468396542300160 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:24:49.283 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468396542300160 [0;39m <==      Total: 0
2023-05-17 00:24:49.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468396542300160 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:24:49.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468396542300160 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:24:55.042 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:57.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:24:57.501 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39468348802732032 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:24:57.501 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39468348802732032 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 00:24:57.501 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39468348802732032 [0;39m 登录校验开始，token：39467684282372096
2023-05-17 00:24:57.569 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39468348802732032 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39467684282372096"}
2023-05-17 00:24:57.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468431350829056 [0;39m ------------- 开始 -------------
2023-05-17 00:24:57.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468431350829056 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 00:24:57.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468431350829056 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 00:24:57.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468431350829056 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:57.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468431350829056 [0;39m 请求参数: [{"content":"恶趣味","ebookId":2,"userId":1}]
2023-05-17 00:24:57.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468431350829056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:57.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468431350829056 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:57.585 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468431350829056 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:57.585 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468431350829056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:57.585 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468431350829056 [0;39m <==      Total: 1
2023-05-17 00:24:57.586 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39468431350829056 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 00:24:57.586 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39468431350829056 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:24:57.587 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39468431350829056 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:24:57.587 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39468431350829056 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 160, 1
2023-05-17 00:24:57.587 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39468431350829056 [0;39m <==      Total: 1
2023-05-17 00:24:57.588 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39468431350829056 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:24:57.590 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39468431350829056 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, 恶趣味(String), 2023-05-17 00:24:57.588(Timestamp), null
2023-05-17 00:24:57.598 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39468431350829056 [0;39m <==    Updates: 1
2023-05-17 00:24:57.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468431350829056 [0;39m 返回结果: {"success":true}
2023-05-17 00:24:57.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468431350829056 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-17 00:24:57.598 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39468431350829056 [0;39m ------------- LoginInterceptor 结束 耗时：97 ms -------------
2023-05-17 00:24:57.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39468431497629696 [0;39m ------------- 开始 -------------
2023-05-17 00:24:57.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39468431497629696 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:24:57.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39468431497629696 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:24:57.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39468431497629696 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:24:57.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39468431497629696 [0;39m 请求参数: [2]
2023-05-17 00:24:57.616 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468431497629696 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:24:57.616 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468431497629696 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:24:57.618 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468431497629696 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:24:57.618 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39468431497629696 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:24:57.618 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39468431497629696 [0;39m <==      Total: 1
2023-05-17 00:24:57.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468431497629696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:24:57.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468431497629696 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:24:57.620 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468431497629696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:24:57.620 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39468431497629696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:24:57.620 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39468431497629696 [0;39m <==      Total: 1
2023-05-17 00:24:57.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39468431497629696 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:24:57.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39468431497629696 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:25:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39468441547182080 [0;39m 生成今日电子书快照开始
2023-05-17 00:25:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468441547182080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:25:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468441547182080 [0;39m ==> Parameters: 
2023-05-17 00:25:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468441547182080 [0;39m <==    Updates: 0
2023-05-17 00:25:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39468441547182080 [0;39m 生成今日电子书快照结束，耗时：9毫秒
2023-05-17 00:25:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468462527090688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:25:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468462527090688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:25:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468462527090688 [0;39m ==> Parameters: 
2023-05-17 00:25:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468462527090688 [0;39m <==    Updates: 2
2023-05-17 00:25:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468462527090688 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-17 00:25:14.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:25:18.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:25:22.112 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:25:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468588310073344 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:25:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468588310073344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:25:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468588310073344 [0;39m ==> Parameters: 
2023-05-17 00:25:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468588310073344 [0;39m <==    Updates: 2
2023-05-17 00:25:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468588310073344 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:25:43.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:25:44.077 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:25:47.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:25:49.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39468693247365120 [0;39m 生成今日电子书快照开始
2023-05-17 00:26:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468693247365120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:26:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468693247365120 [0;39m ==> Parameters: 
2023-05-17 00:26:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468693247365120 [0;39m <==    Updates: 0
2023-05-17 00:26:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39468693247365120 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 00:26:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468714155970560 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:26:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468714155970560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:26:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468714155970560 [0;39m ==> Parameters: 
2023-05-17 00:26:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468714155970560 [0;39m <==    Updates: 2
2023-05-17 00:26:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468714155970560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:26:11.870 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:13.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:14.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:20.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468840027033600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:26:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468840027033600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:26:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468840027033600 [0;39m ==> Parameters: 
2023-05-17 00:26:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468840027033600 [0;39m <==    Updates: 2
2023-05-17 00:26:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468840027033600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:26:38.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:43.687 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:44.087 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:45.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:26:47.768 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39468944872050688 [0;39m 生成今日电子书快照开始
2023-05-17 00:27:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468944872050688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:27:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468944872050688 [0;39m ==> Parameters: 
2023-05-17 00:27:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39468944872050688 [0;39m <==    Updates: 0
2023-05-17 00:27:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39468944872050688 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 00:27:02.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39468965843570688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:27:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468965843570688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:27:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468965843570688 [0;39m ==> Parameters: 
2023-05-17 00:27:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39468965843570688 [0;39m <==    Updates: 2
2023-05-17 00:27:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39468965843570688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:27:13.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:14.054 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:15.735 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:17.782 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:24.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:26.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:27:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39469091702050816 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:27:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469091702050816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:27:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469091702050816 [0;39m ==> Parameters: 
2023-05-17 00:27:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469091702050816 [0;39m <==    Updates: 2
2023-05-17 00:27:35.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39469091702050816 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-17 00:27:44.060 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:13.282 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 11304 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:30:13.298 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:30:13.313 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:30:13.423 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:30:13.423 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:30:14.471 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:30:14.486 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:30:14.518 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
2023-05-17 00:30:14.847 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$99112a4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:14.878 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.020 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.020 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$abcb87a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.020 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.020 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.036 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.036 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.036 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.036 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.036 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.051 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.051 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.067 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.067 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:16.083 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:20.167 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:20.167 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:30:20.812 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:30:20.812 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:30:20.812 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:30:20.812 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:30:20.936 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:30:20.936 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 7513 ms
2023-05-17 00:30:22.532 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:22.641 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:23.345 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:30:24.003 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:30:24.206 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:30:27.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:29.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:29.629 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:30:29.629 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:30:29.629 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:30:29.660 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:30:29.676 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 16.846 seconds (JVM running for 20.203)
2023-05-17 00:30:29.676 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:30:29.676 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:30:31.645 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:33.667 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:35.038 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39469846756462592 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:30:35.062 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39469846756462592 [0;39m HikariPool-1 - Starting...
2023-05-17 00:30:36.934 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39469846756462592 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:30:36.950 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469846756462592 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:30:36.967 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469846756462592 [0;39m ==> Parameters: 
2023-05-17 00:30:36.982 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469846756462592 [0;39m <==    Updates: 2
2023-05-17 00:30:36.982 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39469846756462592 [0;39m 更新电子书下的文档数据结束，耗时：1942毫秒
2023-05-17 00:30:52.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:52.684 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:30:52.684 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:30:52.686 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2023-05-17 00:30:52.786 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：ilAgzmZYCN，session id：0，当前连接数：1
2023-05-17 00:30:52.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469921410879490 [0;39m ------------- 开始 -------------
2023-05-17 00:30:52.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469921410879488 [0;39m ------------- 开始 -------------
2023-05-17 00:30:52.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469921410879489 [0;39m ------------- 开始 -------------
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469921410879490 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469921410879489 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469921410879490 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469921410879488 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469921410879490 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469921410879489 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 00:30:52.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469921410879488 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 00:30:52.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469921410879488 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:30:52.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469921410879489 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:30:52.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469921410879488 [0;39m 请求参数: []
2023-05-17 00:30:52.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469921410879489 [0;39m 请求参数: []
2023-05-17 00:30:52.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469921410879490 [0;39m 请求参数: []
2023-05-17 00:30:53.057 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39469921410879488 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:30:53.058 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39469921410879489 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:30:53.059 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39469921410879489 [0;39m ==> Parameters: 
2023-05-17 00:30:53.058 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39469921410879488 [0;39m ==> Parameters: 
2023-05-17 00:30:53.080 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39469921410879490 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 00:30:53.081 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39469921410879490 [0;39m ==> Parameters: 
2023-05-17 00:30:53.084 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 00:30:53.084 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39469921410879489 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 00:30:53.085 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39469921410879489 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 00:30:53.085 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 00:30:53.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 00:30:53.088 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 00:30:53.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 00:30:53.088 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39469921410879489 [0;39m <==        Row: 2023-05-17, 617, 16, 22, 0
2023-05-17 00:30:53.088 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 00:30:53.088 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39469921410879489 [0;39m <==      Total: 2
2023-05-17 00:30:53.088 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 00:30:53.088 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 00:30:53.089 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 00:30:53.089 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 00:30:53.089 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 00:30:53.090 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 00:30:53.090 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 00:30:53.090 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 00:30:53.091 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39469921410879488 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 00:30:53.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 00:30:53.091 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39469921410879488 [0;39m <==      Total: 8
2023-05-17 00:30:53.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 00:30:53.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 00:30:53.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 00:30:53.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 00:30:53.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 00:30:53.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 00:30:53.094 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 00:30:53.094 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 00:30:53.095 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39469921410879490 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 00:30:53.095 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39469921410879490 [0;39m <==      Total: 15
2023-05-17 00:30:53.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469921410879489 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":617,"viewIncrease":22,"voteCount":16,"voteIncrease":0}],"success":true}
2023-05-17 00:30:53.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469921410879489 [0;39m ------------- 结束 耗时：287 ms -------------
2023-05-17 00:30:53.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469921410879490 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 00:30:53.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469921410879490 [0;39m ------------- 结束 耗时：289 ms -------------
2023-05-17 00:30:53.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469921410879488 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 00:30:53.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469921410879488 [0;39m ------------- 结束 耗时：292 ms -------------
2023-05-17 00:30:54.659 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:56.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:58.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:30:58.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469946325045248 [0;39m ------------- 开始 -------------
2023-05-17 00:30:58.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469946325045248 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-17 00:30:58.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469946325045248 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-17 00:30:58.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469946325045248 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:30:58.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469946325045248 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-17 00:30:58.798 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39469946325045248 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-17 00:30:58.798 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39469946325045248 [0;39m ==> Parameters: test(String)
2023-05-17 00:30:58.798 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39469946325045248 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:30:58.798 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39469946325045248 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:30:58.798 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39469946325045248 [0;39m <==      Total: 1
2023-05-17 00:30:58.805 INFO  com.jiawa.wiki.controller.UserController          :86   [32m39469946325045248 [0;39m 生成单点登录token：39469946442485760，并放入redis中
2023-05-17 00:30:58.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469946325045248 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"39469946442485760"},"success":true}
2023-05-17 00:30:58.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469946325045248 [0;39m ------------- 结束 耗时：180 ms -------------
2023-05-17 00:31:00.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39469951572119552 [0;39m 生成今日电子书快照开始
2023-05-17 00:31:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39469951572119552 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:31:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39469951572119552 [0;39m ==> Parameters: 
2023-05-17 00:31:00.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39469951572119552 [0;39m <==    Updates: 0
2023-05-17 00:31:00.032 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39469951572119552 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 00:31:00.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469953350504448 [0;39m ------------- 开始 -------------
2023-05-17 00:31:00.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469953350504448 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:31:00.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469953350504448 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:31:00.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469953350504448 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:00.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469953350504448 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-17 00:31:00.499 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39469953350504448 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:31:00.499 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39469953350504448 [0;39m ==> Parameters: 101(Long)
2023-05-17 00:31:00.499 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39469953350504448 [0;39m <==    Columns: count(0)
2023-05-17 00:31:00.499 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39469953350504448 [0;39m <==        Row: 1
2023-05-17 00:31:00.499 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39469953350504448 [0;39m <==      Total: 1
2023-05-17 00:31:00.507 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39469953350504448 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 00:31:00.507 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39469953350504448 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-17 00:31:00.507 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39469953350504448 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:31:00.507 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39469953350504448 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 161, 1
2023-05-17 00:31:00.507 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39469953350504448 [0;39m <==      Total: 1
2023-05-17 00:31:00.507 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39469953350504448 [0;39m 总行数：1
2023-05-17 00:31:00.507 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39469953350504448 [0;39m 总页数：1
2023-05-17 00:31:00.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469953350504448 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":161,"voteCount":1}],"total":1},"success":true}
2023-05-17 00:31:00.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469953350504448 [0;39m ------------- 结束 耗时：68 ms -------------
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469957104406528 [0;39m ------------- 开始 -------------
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469957104406529 [0;39m ------------- 开始 -------------
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469957104406528 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469957104406529 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469957104406528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469957104406529 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469957104406528 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469957104406529 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469957104406528 [0;39m 请求参数: [2]
2023-05-17 00:31:01.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469957104406529 [0;39m 请求参数: [2]
2023-05-17 00:31:01.354 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469957104406529 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:01.354 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469957104406529 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:01.357 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469957104406529 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:01.357 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39469957104406528 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:31:01.357 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39469957104406528 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:01.358 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469957104406529 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:01.358 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39469957104406528 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:31:01.358 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39469957104406528 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 161, 1
2023-05-17 00:31:01.358 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469957104406529 [0;39m <==      Total: 1
2023-05-17 00:31:01.358 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39469957104406528 [0;39m <==      Total: 1
2023-05-17 00:31:01.359 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469957104406529 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:01.359 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469957104406529 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:01.360 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469957104406529 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:01.360 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469957104406529 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:01.361 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469957104406529 [0;39m <==      Total: 1
2023-05-17 00:31:01.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469957104406529 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:01.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469957104406529 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-17 00:31:01.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469957104406528 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":161,"voteCount":1}],"success":true}
2023-05-17 00:31:01.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469957104406528 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-17 00:31:01.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469957255401472 [0;39m ------------- 开始 -------------
2023-05-17 00:31:01.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469957255401472 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:31:01.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469957255401472 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:31:01.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469957255401472 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:01.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469957255401472 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:31:01.385 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39469957255401472 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:31:01.385 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39469957255401472 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:31:01.389 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39469957255401472 [0;39m <==    Columns: id, content
2023-05-17 00:31:01.391 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39469957255401472 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:31:01.391 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39469957255401472 [0;39m <==      Total: 1
2023-05-17 00:31:01.392 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39469957255401472 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:31:01.393 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39469957255401472 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:31:01.395 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39469957255401472 [0;39m <==    Updates: 1
2023-05-17 00:31:01.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469957255401472 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:31:01.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469957255401472 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:31:02.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469960845725696 [0;39m ------------- 开始 -------------
2023-05-17 00:31:02.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469960845725696 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:02.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469960845725696 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:02.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469960845725696 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:02.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469960845725696 [0;39m 请求参数: [2]
2023-05-17 00:31:02.241 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469960845725696 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:02.241 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469960845725696 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:02.243 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469960845725696 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:02.243 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469960845725696 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:02.243 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469960845725696 [0;39m <==      Total: 1
2023-05-17 00:31:02.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469960845725696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:02.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469960845725696 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:02.243 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469960845725696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:02.243 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469960845725696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:02.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469960845725696 [0;39m <==      Total: 1
2023-05-17 00:31:02.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469960845725696 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:02.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469960845725696 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:31:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39469972459753472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:31:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469972459753472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:31:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469972459753472 [0;39m ==> Parameters: 
2023-05-17 00:31:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39469972459753472 [0;39m <==    Updates: 2
2023-05-17 00:31:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39469972459753472 [0;39m 更新电子书下的文档数据结束，耗时：13毫秒
2023-05-17 00:31:05.073 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469972732383232 [0;39m ------------- 开始 -------------
2023-05-17 00:31:05.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469972732383232 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:05.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469972732383232 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:05.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469972732383232 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:05.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469972732383232 [0;39m 请求参数: [2]
2023-05-17 00:31:05.075 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469972732383232 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:05.076 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469972732383232 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:05.077 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469972732383232 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:05.077 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469972732383232 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:05.078 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469972732383232 [0;39m <==      Total: 1
2023-05-17 00:31:05.079 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469972732383232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:05.079 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469972732383232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:05.080 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469972732383232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:05.080 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469972732383232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:05.080 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469972732383232 [0;39m <==      Total: 1
2023-05-17 00:31:05.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469972732383232 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:05.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469972732383232 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:31:05.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469973286031360 [0;39m ------------- 开始 -------------
2023-05-17 00:31:05.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469973286031360 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:05.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469973286031360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:05.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469973286031360 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:05.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469973286031360 [0;39m 请求参数: [2]
2023-05-17 00:31:05.207 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469973286031360 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:05.207 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469973286031360 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:05.209 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469973286031360 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:05.209 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469973286031360 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:05.210 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469973286031360 [0;39m <==      Total: 1
2023-05-17 00:31:05.210 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469973286031360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:05.211 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469973286031360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:05.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469973286031360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:05.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469973286031360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:05.213 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469973286031360 [0;39m <==      Total: 1
2023-05-17 00:31:05.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469973286031360 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:05.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469973286031360 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:31:05.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39469974766620672 [0;39m ------------- 开始 -------------
2023-05-17 00:31:05.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39469974766620672 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:05.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39469974766620672 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:05.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39469974766620672 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:05.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39469974766620672 [0;39m 请求参数: [2]
2023-05-17 00:31:05.560 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469974766620672 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:05.561 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469974766620672 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:05.562 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469974766620672 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:05.563 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39469974766620672 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:05.564 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39469974766620672 [0;39m <==      Total: 1
2023-05-17 00:31:05.564 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469974766620672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:05.565 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469974766620672 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:05.566 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469974766620672 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:05.566 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39469974766620672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:05.566 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39469974766620672 [0;39m <==      Total: 1
2023-05-17 00:31:05.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39469974766620672 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:05.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39469974766620672 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:31:22.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:22.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:24.663 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:26.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470098314039296 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:31:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470098314039296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:31:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470098314039296 [0;39m ==> Parameters: 
2023-05-17 00:31:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470098314039296 [0;39m <==    Updates: 2
2023-05-17 00:31:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470098314039296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:31:48.752 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:50.619 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：ilAgzmZYCN，session id：0！当前连接数：0
2023-05-17 00:31:50.776 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:52.233 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:52.321 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：oM03LB8r1q，session id：1，当前连接数：1
2023-05-17 00:31:52.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470171332677633 [0;39m ------------- 开始 -------------
2023-05-17 00:31:52.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470171332677632 [0;39m ------------- 开始 -------------
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470171332677632 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470171332677633 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470171332677632 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470171332677633 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470171332677632 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470171332677633 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470171332677632 [0;39m 请求参数: [2]
2023-05-17 00:31:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470171332677633 [0;39m 请求参数: [2]
2023-05-17 00:31:52.425 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470171332677632 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:52.425 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470171332677633 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:31:52.426 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470171332677633 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:52.426 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470171332677632 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:52.427 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470171332677632 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:52.427 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470171332677633 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:31:52.427 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470171332677633 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 162, 1
2023-05-17 00:31:52.427 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470171332677632 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:52.427 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470171332677633 [0;39m <==      Total: 1
2023-05-17 00:31:52.428 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470171332677632 [0;39m <==      Total: 1
2023-05-17 00:31:52.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470171332677633 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":162,"voteCount":1}],"success":true}
2023-05-17 00:31:52.429 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470171332677632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:52.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470171332677633 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:31:52.429 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470171332677632 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:52.430 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470171332677632 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:52.430 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470171332677632 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:52.430 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470171332677632 [0;39m <==      Total: 1
2023-05-17 00:31:52.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470171332677632 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:52.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470171332677632 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:31:52.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470171634667520 [0;39m ------------- 开始 -------------
2023-05-17 00:31:52.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470171634667520 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:31:52.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470171634667520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:31:52.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470171634667520 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:52.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470171634667520 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:31:52.499 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470171634667520 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:31:52.499 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470171634667520 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:31:52.500 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470171634667520 [0;39m <==    Columns: id, content
2023-05-17 00:31:52.500 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470171634667520 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:31:52.501 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470171634667520 [0;39m <==      Total: 1
2023-05-17 00:31:52.501 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470171634667520 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:31:52.502 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470171634667520 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:31:52.510 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470171634667520 [0;39m <==    Updates: 1
2023-05-17 00:31:52.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470171634667520 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:31:52.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470171634667520 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:31:52.826 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:53.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470175170465792 [0;39m ------------- 开始 -------------
2023-05-17 00:31:53.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470175170465792 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:31:53.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470175170465792 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:31:53.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470175170465792 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:53.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470175170465792 [0;39m 请求参数: [2]
2023-05-17 00:31:53.340 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470175170465792 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:31:53.340 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470175170465792 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:31:53.341 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470175170465792 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:31:53.341 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470175170465792 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:31:53.342 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470175170465792 [0;39m <==      Total: 1
2023-05-17 00:31:53.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470175170465792 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:53.343 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470175170465792 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:53.343 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470175170465792 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:53.343 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470175170465792 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:53.344 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470175170465792 [0;39m <==      Total: 1
2023-05-17 00:31:53.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470175170465792 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:31:53.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470175170465792 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:31:56.897 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:31:58.417 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39469972732383232 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:31:58.418 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39469972732383232 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 00:31:58.421 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39469973286031360 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:31:58.423 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39469973286031360 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:31:58.423 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39469973286031360 [0;39m 登录校验开始，token：39469946442485760
2023-05-17 00:31:58.426 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39469973286031360 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39469946442485760"}
2023-05-17 00:31:58.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470196590776320 [0;39m ------------- 开始 -------------
2023-05-17 00:31:58.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470196590776320 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:31:58.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470196590776320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:31:58.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470196590776320 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:31:58.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470196590776320 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":2,"parentId":5,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:31:58.447 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470196590776320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:58.447 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470196590776320 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:58.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470196590776320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:58.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470196590776320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:58.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470196590776320 [0;39m <==      Total: 1
2023-05-17 00:31:58.449 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470196590776320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:31:58.449 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470196590776320 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:31:58.449 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470196590776320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:31:58.450 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470196590776320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:31:58.450 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470196590776320 [0;39m <==      Total: 1
2023-05-17 00:31:58.450 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470196590776320 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:31:58.450 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470196590776320 [0;39m ==> Parameters: null
2023-05-17 00:31:58.452 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470196590776320 [0;39m <==      Total: 0
2023-05-17 00:31:58.453 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39470196590776320 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$a06e6ec3.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:31:58.457 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39470196590776320 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:32:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39470203163250688 [0;39m 生成今日电子书快照开始
2023-05-17 00:32:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470203163250688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:32:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470203163250688 [0;39m ==> Parameters: 
2023-05-17 00:32:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470203163250688 [0;39m <==    Updates: 0
2023-05-17 00:32:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39470203163250688 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-17 00:32:02.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470214638866432 [0;39m ------------- 开始 -------------
2023-05-17 00:32:02.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470214638866432 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:32:02.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470214638866432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:02.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470214638866432 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:02.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470214638866432 [0;39m 请求参数: [2]
2023-05-17 00:32:02.750 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470214638866432 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:02.750 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470214638866432 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:02.751 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470214638866432 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:32:02.751 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470214638866432 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:32:02.752 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470214638866432 [0;39m <==      Total: 1
2023-05-17 00:32:02.752 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470214638866432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:02.753 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470214638866432 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:02.753 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470214638866432 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:02.754 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470214638866432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:02.754 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470214638866432 [0;39m <==      Total: 1
2023-05-17 00:32:02.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470214638866432 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:32:02.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470214638866432 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:32:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470224126382080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:32:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470224126382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:32:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470224126382080 [0;39m ==> Parameters: 
2023-05-17 00:32:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470224126382080 [0;39m <==    Updates: 2
2023-05-17 00:32:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470224126382080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:32:05.965 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：oM03LB8r1q，session id：1！当前连接数：0
2023-05-17 00:32:07.467 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：6m5Dacmja4，session id：2，当前连接数：1
2023-05-17 00:32:08.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470238034694144 [0;39m ------------- 开始 -------------
2023-05-17 00:32:08.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470238034694144 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:32:08.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470238034694144 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:32:08.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470238034694144 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:08.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470238034694144 [0;39m 请求参数: [2]
2023-05-17 00:32:08.333 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470238034694144 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:32:08.334 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470238034694144 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:08.335 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470238034694144 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:32:08.335 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470238034694144 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 163, 1
2023-05-17 00:32:08.336 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470238034694144 [0;39m <==      Total: 1
2023-05-17 00:32:08.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470238034694144 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":163,"voteCount":1}],"success":true}
2023-05-17 00:32:08.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470238034694144 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:32:08.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470238563176448 [0;39m ------------- 开始 -------------
2023-05-17 00:32:08.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470238563176448 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:32:08.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470238563176448 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:08.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470238563176448 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:08.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470238563176448 [0;39m 请求参数: [2]
2023-05-17 00:32:08.465 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470238563176448 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:08.465 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470238563176448 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:08.467 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470238563176448 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:32:08.467 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470238563176448 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:32:08.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470238563176448 [0;39m <==      Total: 1
2023-05-17 00:32:08.469 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470238563176448 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:08.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470238563176448 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:08.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470238563176448 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:08.474 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470238563176448 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:08.474 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470238563176448 [0;39m <==      Total: 1
2023-05-17 00:32:08.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470238563176448 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:32:08.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470238563176448 [0;39m ------------- 结束 耗时：24 ms -------------
2023-05-17 00:32:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470240253480960 [0;39m ------------- 开始 -------------
2023-05-17 00:32:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470240253480960 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:32:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470240253480960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:32:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470240253480960 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470240253480960 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:32:08.857 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470240253480960 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:32:08.857 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470240253480960 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:32:08.912 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470240253480960 [0;39m <==    Columns: id, content
2023-05-17 00:32:08.912 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470240253480960 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:32:08.912 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470240253480960 [0;39m <==      Total: 1
2023-05-17 00:32:08.912 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470240253480960 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:32:08.912 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470240253480960 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:32:09.118 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470240253480960 [0;39m <==    Updates: 1
2023-05-17 00:32:09.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470240253480960 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:32:09.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470240253480960 [0;39m ------------- 结束 耗时：265 ms -------------
2023-05-17 00:32:11.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470249669693440 [0;39m ------------- 开始 -------------
2023-05-17 00:32:11.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470249669693440 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:32:11.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470249669693440 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:11.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470249669693440 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:11.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470249669693440 [0;39m 请求参数: [2]
2023-05-17 00:32:11.101 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470249669693440 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:11.102 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470249669693440 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:11.103 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470249669693440 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:32:11.103 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470249669693440 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:32:11.104 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470249669693440 [0;39m <==      Total: 1
2023-05-17 00:32:11.105 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470249669693440 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:11.105 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470249669693440 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:11.106 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470249669693440 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:11.106 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470249669693440 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:11.107 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470249669693440 [0;39m <==      Total: 1
2023-05-17 00:32:11.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470249669693440 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:32:11.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470249669693440 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:32:12.812 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:14.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:15.980 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39470175170465792 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:32:15.982 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39470175170465792 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:32:15.982 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39470175170465792 [0;39m 登录校验开始，token：39469946442485760
2023-05-17 00:32:15.985 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39470175170465792 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39469946442485760"}
2023-05-17 00:32:15.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470270163062784 [0;39m ------------- 开始 -------------
2023-05-17 00:32:15.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470270163062784 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:32:15.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470270163062784 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:32:15.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470270163062784 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:15.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470270163062784 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":2,"parentId":5,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:32:15.988 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470270163062784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:15.989 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470270163062784 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:15.990 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470270163062784 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:15.990 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470270163062784 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:15.990 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470270163062784 [0;39m <==      Total: 1
2023-05-17 00:32:15.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470270163062784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:15.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470270163062784 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:15.992 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470270163062784 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:15.992 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470270163062784 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:15.992 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470270163062784 [0;39m <==      Total: 1
2023-05-17 00:32:15.992 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470270163062784 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:32:15.993 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470270163062784 [0;39m ==> Parameters: null
2023-05-17 00:32:15.993 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470270163062784 [0;39m <==      Total: 0
2023-05-17 00:32:15.994 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39470270163062784 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor94.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$a06e6ec3.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:32:15.994 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39470270163062784 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:32:20.581 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:22.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:22.601 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:24.647 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470349976473600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:32:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470349976473600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:32:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470349976473600 [0;39m ==> Parameters: 
2023-05-17 00:32:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470349976473600 [0;39m <==    Updates: 2
2023-05-17 00:32:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470349976473600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:32:35.449 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39469972732383232 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:32:35.450 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39469972732383232 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 00:32:35.452 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39469972732383232 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:32:35.452 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39469972732383232 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/39469946442485760
2023-05-17 00:32:35.452 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39469972732383232 [0;39m 登录校验开始，token：39469946442485760
2023-05-17 00:32:35.457 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39469972732383232 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39469946442485760"}
2023-05-17 00:32:35.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470351868104704 [0;39m ------------- 开始 -------------
2023-05-17 00:32:35.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470351868104704 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/39469946442485760 GET
2023-05-17 00:32:35.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470351868104704 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-17 00:32:35.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470351868104704 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:35.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470351868104704 [0;39m 请求参数: ["39469946442485760"]
2023-05-17 00:32:35.551 INFO  com.jiawa.wiki.controller.UserController          :97   [32m39470351868104704 [0;39m 从redis中删除token: 39469946442485760
2023-05-17 00:32:35.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470351868104704 [0;39m 返回结果: {"success":true}
2023-05-17 00:32:35.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470351868104704 [0;39m ------------- 结束 耗时：87 ms -------------
2023-05-17 00:32:35.554 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39470351868104704 [0;39m ------------- LoginInterceptor 结束 耗时：102 ms -------------
2023-05-17 00:32:37.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:37.539 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39470196590776320 [0;39m 连接关闭，token：6m5Dacmja4，session id：2！当前连接数：0
2023-05-17 00:32:38.800 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39470214638866432 [0;39m 有新连接：token：epL9nYoTyQ，session id：3，当前连接数：1
2023-05-17 00:32:38.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470366283927552 [0;39m ------------- 开始 -------------
2023-05-17 00:32:38.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470366283927553 [0;39m ------------- 开始 -------------
2023-05-17 00:32:38.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470366283927552 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:32:38.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470366283927552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:32:38.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470366283927553 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:32:38.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470366283927552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:38.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470366283927553 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:38.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470366283927553 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:38.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470366283927552 [0;39m 请求参数: [2]
2023-05-17 00:32:38.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470366283927553 [0;39m 请求参数: [2]
2023-05-17 00:32:38.905 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470366283927553 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:38.905 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470366283927552 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:32:38.905 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470366283927553 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:38.905 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470366283927552 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:38.906 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470366283927553 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:32:38.907 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470366283927553 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:32:38.907 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470366283927552 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:32:38.907 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470366283927552 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 164, 1
2023-05-17 00:32:38.907 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470366283927552 [0;39m <==      Total: 1
2023-05-17 00:32:38.907 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470366283927553 [0;39m <==      Total: 1
2023-05-17 00:32:38.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470366283927552 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":164,"voteCount":1}],"success":true}
2023-05-17 00:32:38.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470366283927553 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:38.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470366283927552 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:32:38.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470366283927553 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:38.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470366283927553 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:38.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470366283927553 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:38.910 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470366283927553 [0;39m <==      Total: 1
2023-05-17 00:32:38.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470366283927553 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:32:38.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470366283927553 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:32:38.972 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470366573334528 [0;39m ------------- 开始 -------------
2023-05-17 00:32:38.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470366573334528 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:32:38.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470366573334528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:32:38.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470366573334528 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:38.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470366573334528 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:32:38.976 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470366573334528 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:32:38.976 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470366573334528 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:32:38.977 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470366573334528 [0;39m <==    Columns: id, content
2023-05-17 00:32:38.978 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470366573334528 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:32:38.978 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470366573334528 [0;39m <==      Total: 1
2023-05-17 00:32:38.979 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470366573334528 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:32:38.980 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470366573334528 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:32:38.980 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470366573334528 [0;39m <==    Updates: 1
2023-05-17 00:32:38.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470366573334528 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:32:38.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470366573334528 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:32:39.044 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:41.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470379160440832 [0;39m ------------- 开始 -------------
2023-05-17 00:32:41.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470379160440832 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-17 00:32:41.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470379160440832 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-17 00:32:41.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470379160440832 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:41.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470379160440832 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-17 00:32:41.978 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39470379160440832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-17 00:32:41.978 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39470379160440832 [0;39m ==> Parameters: test(String)
2023-05-17 00:32:41.979 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39470379160440832 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:41.979 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39470379160440832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:41.979 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39470379160440832 [0;39m <==      Total: 1
2023-05-17 00:32:41.980 INFO  com.jiawa.wiki.controller.UserController          :86   [32m39470379160440832 [0;39m 生成单点登录token：39470379189800960，并放入redis中
2023-05-17 00:32:41.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470379160440832 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"39470379189800960"},"success":true}
2023-05-17 00:32:41.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470379160440832 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:32:48.298 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39470240253480960 [0;39m 连接关闭，token：epL9nYoTyQ，session id：3！当前连接数：0
2023-05-17 00:32:49.526 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39470249669693440 [0;39m 有新连接：token：b9FSBDeQqd，session id：4，当前连接数：1
2023-05-17 00:32:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470411276226561 [0;39m ------------- 开始 -------------
2023-05-17 00:32:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470411276226560 [0;39m ------------- 开始 -------------
2023-05-17 00:32:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470411276226561 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:32:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470411276226560 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:32:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470411276226561 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:32:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470411276226560 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:49.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470411276226561 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:49.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470411276226560 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:49.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470411276226561 [0;39m 请求参数: [2]
2023-05-17 00:32:49.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470411276226560 [0;39m 请求参数: [2]
2023-05-17 00:32:49.631 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470411276226560 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:49.632 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470411276226561 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:32:49.632 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470411276226560 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:49.632 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470411276226561 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:32:49.633 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470411276226561 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:32:49.633 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470411276226560 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:32:49.633 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470411276226561 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 165, 1
2023-05-17 00:32:49.633 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470411276226560 [0;39m <==        Row: 5, 1, 2, null, null, 恶趣味, 2023-05-17 00:24:58, null
2023-05-17 00:32:49.633 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470411276226561 [0;39m <==      Total: 1
2023-05-17 00:32:49.633 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470411276226560 [0;39m <==      Total: 1
2023-05-17 00:32:49.634 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470411276226560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:49.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470411276226561 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":165,"voteCount":1}],"success":true}
2023-05-17 00:32:49.635 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470411276226560 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:49.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470411276226561 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:32:49.635 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470411276226560 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:49.636 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470411276226560 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:49.636 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470411276226560 [0;39m <==      Total: 1
2023-05-17 00:32:49.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470411276226560 [0;39m 返回结果: {"content":[{"content":"恶趣味","createTime":1684254298000,"ebookId":2,"id":5,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:32:49.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470411276226560 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:32:49.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470411511107584 [0;39m ------------- 开始 -------------
2023-05-17 00:32:49.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470411511107584 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:32:49.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470411511107584 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:32:49.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470411511107584 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:49.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470411511107584 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:32:49.690 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470411511107584 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:32:49.691 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470411511107584 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:32:49.692 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470411511107584 [0;39m <==    Columns: id, content
2023-05-17 00:32:49.692 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470411511107584 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:32:49.693 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470411511107584 [0;39m <==      Total: 1
2023-05-17 00:32:49.693 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470411511107584 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:32:49.694 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470411511107584 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:32:49.703 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470411511107584 [0;39m <==    Updates: 1
2023-05-17 00:32:49.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470411511107584 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:32:49.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470411511107584 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470414451314688 [0;39m ------------- 开始 -------------
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470414451314688 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470414451314689 [0;39m ------------- 开始 -------------
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470414451314688 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470414451314689 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470414451314688 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:50.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470414451314689 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 00:32:50.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470414451314689 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:50.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470414451314688 [0;39m 请求参数: []
2023-05-17 00:32:50.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470414451314689 [0;39m 请求参数: []
2023-05-17 00:32:50.389 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39470414451314689 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:32:50.389 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39470414451314689 [0;39m ==> Parameters: 
2023-05-17 00:32:50.390 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39470414451314688 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:32:50.390 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39470414451314688 [0;39m ==> Parameters: 
2023-05-17 00:32:50.391 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 00:32:50.391 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 00:32:50.392 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 00:32:50.392 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 00:32:50.392 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39470414451314688 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 00:32:50.392 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 00:32:50.393 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 00:32:50.393 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 00:32:50.394 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39470414451314688 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 00:32:50.394 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 00:32:50.395 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39470414451314689 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 00:32:50.395 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39470414451314688 [0;39m <==        Row: 2023-05-17, 618, 16, 23, 0
2023-05-17 00:32:50.395 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39470414451314689 [0;39m <==      Total: 8
2023-05-17 00:32:50.395 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39470414451314688 [0;39m <==      Total: 2
2023-05-17 00:32:50.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470414451314689 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 00:32:50.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470414451314689 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:32:50.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470414451314688 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":618,"viewIncrease":23,"voteCount":16,"voteIncrease":0}],"success":true}
2023-05-17 00:32:50.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470414451314688 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:32:50.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470414505840640 [0;39m ------------- 开始 -------------
2023-05-17 00:32:50.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470414505840640 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 00:32:50.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470414505840640 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 00:32:50.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470414505840640 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:50.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470414505840640 [0;39m 请求参数: []
2023-05-17 00:32:50.401 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39470414505840640 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 00:32:50.401 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39470414505840640 [0;39m ==> Parameters: 
2023-05-17 00:32:50.402 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 00:32:50.402 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 00:32:50.403 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 00:32:50.404 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 00:32:50.404 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 00:32:50.404 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 00:32:50.404 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 00:32:50.405 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 00:32:50.405 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 00:32:50.405 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 00:32:50.405 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 00:32:50.406 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 00:32:50.406 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 00:32:50.406 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 00:32:50.406 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 00:32:50.407 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39470414505840640 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 00:32:50.407 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39470414505840640 [0;39m <==      Total: 15
2023-05-17 00:32:50.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470414505840640 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 00:32:50.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470414505840640 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:32:51.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470417433464832 [0;39m ------------- 开始 -------------
2023-05-17 00:32:51.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470417433464832 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:32:51.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470417433464832 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:32:51.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470417433464832 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:51.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470417433464832 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-17 00:32:51.103 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470417433464832 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:32:51.103 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470417433464832 [0;39m ==> Parameters: 102(Long)
2023-05-17 00:32:51.104 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39470417433464832 [0;39m <==    Columns: count(0)
2023-05-17 00:32:51.104 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39470417433464832 [0;39m <==        Row: 0
2023-05-17 00:32:51.105 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470417433464832 [0;39m <==      Total: 1
2023-05-17 00:32:51.105 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39470417433464832 [0;39m 总行数：0
2023-05-17 00:32:51.105 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39470417433464832 [0;39m 总页数：0
2023-05-17 00:32:51.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470417433464832 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-17 00:32:51.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470417433464832 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:32:51.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470420856016896 [0;39m ------------- 开始 -------------
2023-05-17 00:32:51.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470420856016896 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:32:51.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470420856016896 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:32:51.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470420856016896 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:51.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470420856016896 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-17 00:32:51.916 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470420856016896 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:32:51.916 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470420856016896 [0;39m ==> Parameters: 201(Long)
2023-05-17 00:32:51.920 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39470420856016896 [0;39m <==    Columns: count(0)
2023-05-17 00:32:51.921 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39470420856016896 [0;39m <==        Row: 0
2023-05-17 00:32:51.921 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470420856016896 [0;39m <==      Total: 1
2023-05-17 00:32:51.921 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39470420856016896 [0;39m 总行数：0
2023-05-17 00:32:51.921 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39470420856016896 [0;39m 总页数：0
2023-05-17 00:32:51.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470420856016896 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-17 00:32:51.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470420856016896 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:32:52.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:52.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470422609235968 [0;39m ------------- 开始 -------------
2023-05-17 00:32:52.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470422609235968 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:32:52.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470422609235968 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:32:52.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470422609235968 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:52.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470422609235968 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-17 00:32:52.335 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470422609235968 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:32:52.335 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470422609235968 [0;39m ==> Parameters: 202(Long)
2023-05-17 00:32:52.336 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39470422609235968 [0;39m <==    Columns: count(0)
2023-05-17 00:32:52.336 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39470422609235968 [0;39m <==        Row: 1
2023-05-17 00:32:52.336 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39470422609235968 [0;39m <==      Total: 1
2023-05-17 00:32:52.337 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39470422609235968 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 00:32:52.337 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39470422609235968 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-17 00:32:52.338 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39470422609235968 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:32:52.338 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39470422609235968 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 456, 15
2023-05-17 00:32:52.339 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39470422609235968 [0;39m <==      Total: 1
2023-05-17 00:32:52.339 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39470422609235968 [0;39m 总行数：1
2023-05-17 00:32:52.340 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39470422609235968 [0;39m 总页数：1
2023-05-17 00:32:52.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470422609235968 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":456,"voteCount":15}],"total":1},"success":true}
2023-05-17 00:32:52.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470422609235968 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:32:52.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470425335533568 [0;39m ------------- 开始 -------------
2023-05-17 00:32:52.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470425335533569 [0;39m ------------- 开始 -------------
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470425335533569 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470425335533568 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470425335533568 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470425335533569 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470425335533568 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470425335533569 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470425335533568 [0;39m 请求参数: [1]
2023-05-17 00:32:52.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470425335533569 [0;39m 请求参数: [1]
2023-05-17 00:32:52.984 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470425335533568 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:52.984 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470425335533569 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:32:52.984 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470425335533568 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:52.984 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470425335533569 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:52.985 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470425335533568 [0;39m <==      Total: 0
2023-05-17 00:32:52.985 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:32:52.985 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 420, 8
2023-05-17 00:32:52.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470425335533568 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:32:52.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470425335533568 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:32:52.986 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:32:52.986 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:32:52.986 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:32:52.987 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:32:52.987 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:32:52.987 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:32:52.988 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470425335533569 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:32:52.988 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470425335533569 [0;39m <==      Total: 8
2023-05-17 00:32:52.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470425335533569 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":420,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:32:52.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470425335533569 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:32:53.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470425599774720 [0;39m ------------- 开始 -------------
2023-05-17 00:32:53.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470425599774720 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:32:53.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470425599774720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:32:53.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470425599774720 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:53.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470425599774720 [0;39m 请求参数: [1]
2023-05-17 00:32:53.046 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470425599774720 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:32:53.046 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470425599774720 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:53.047 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470425599774720 [0;39m <==    Columns: id, content
2023-05-17 00:32:53.048 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470425599774720 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:32:53.048 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470425599774720 [0;39m <==      Total: 1
2023-05-17 00:32:53.048 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470425599774720 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:32:53.049 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470425599774720 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:53.051 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470425599774720 [0;39m <==    Updates: 1
2023-05-17 00:32:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470425599774720 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:32:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470425599774720 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:32:53.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470429504671744 [0;39m ------------- 开始 -------------
2023-05-17 00:32:53.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470429504671744 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:32:53.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470429504671744 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:53.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470429504671744 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:53.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470429504671744 [0;39m 请求参数: [1]
2023-05-17 00:32:53.977 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470429504671744 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:53.978 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470429504671744 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:53.978 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470429504671744 [0;39m <==      Total: 0
2023-05-17 00:32:53.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470429504671744 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:32:53.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470429504671744 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 00:32:54.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:32:56.378 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39470420856016896 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:32:56.378 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39470420856016896 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 00:32:56.388 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39470411511107584 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:32:56.389 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39470411511107584 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 00:32:56.389 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39470411511107584 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:32:56.390 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39470411511107584 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:32:56.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470439654887424 [0;39m ------------- 开始 -------------
2023-05-17 00:32:56.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470439654887424 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 00:32:56.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470439654887424 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 00:32:56.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470439654887424 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:56.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470439654887424 [0;39m 请求参数: [{"content":"如图","ebookId":1,"userId":1}]
2023-05-17 00:32:56.404 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470439654887424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:56.405 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470439654887424 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:56.406 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470439654887424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:56.407 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470439654887424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:56.407 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470439654887424 [0;39m <==      Total: 1
2023-05-17 00:32:56.408 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39470439654887424 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 00:32:56.408 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39470439654887424 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:56.409 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39470439654887424 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:32:56.409 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39470439654887424 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 456, 15
2023-05-17 00:32:56.409 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39470439654887424 [0;39m <==      Total: 1
2023-05-17 00:32:56.410 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39470439654887424 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:32:56.413 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39470439654887424 [0;39m ==> Parameters: null, 1(Long), 1(Long), null, null, 如图(String), 2023-05-17 00:32:56.41(Timestamp), null
2023-05-17 00:32:56.416 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39470439654887424 [0;39m <==    Updates: 1
2023-05-17 00:32:56.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470439654887424 [0;39m 返回结果: {"success":true}
2023-05-17 00:32:56.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470439654887424 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-17 00:32:56.417 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39470439654887424 [0;39m ------------- LoginInterceptor 结束 耗时：29 ms -------------
2023-05-17 00:32:56.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470439772327936 [0;39m ------------- 开始 -------------
2023-05-17 00:32:56.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470439772327936 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:32:56.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470439772327936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:32:56.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470439772327936 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:56.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470439772327936 [0;39m 请求参数: [1]
2023-05-17 00:32:56.425 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470439772327936 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:32:56.426 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470439772327936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:56.427 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470439772327936 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:32:56.427 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470439772327936 [0;39m <==        Row: 6, 1, 1, null, null, 如图, 2023-05-17 00:32:56, null
2023-05-17 00:32:56.428 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470439772327936 [0;39m <==      Total: 1
2023-05-17 00:32:56.428 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470439772327936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:56.429 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470439772327936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:56.430 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470439772327936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:56.431 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470439772327936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:56.431 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470439772327936 [0;39m <==      Total: 1
2023-05-17 00:32:56.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470439772327936 [0;39m 返回结果: {"content":[{"content":"如图","createTime":1684254776000,"ebookId":1,"id":6,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:32:56.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470439772327936 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:32:58.513 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39470414451314689 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:32:58.513 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39470414451314689 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:32:58.513 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39470414451314689 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:32:58.514 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39470414451314689 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:32:58.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470448546811904 [0;39m ------------- 开始 -------------
2023-05-17 00:32:58.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470448546811904 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:32:58.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470448546811904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:32:58.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470448546811904 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:32:58.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470448546811904 [0;39m 请求参数: [{"content":"天天","ebookId":1,"parentId":6,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:32:58.517 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470448546811904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:58.517 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470448546811904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:58.518 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470448546811904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:58.518 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470448546811904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:58.518 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470448546811904 [0;39m <==      Total: 1
2023-05-17 00:32:58.519 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470448546811904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:32:58.519 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470448546811904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:32:58.520 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470448546811904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:32:58.520 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470448546811904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:32:58.520 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470448546811904 [0;39m <==      Total: 1
2023-05-17 00:32:58.520 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470448546811904 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:32:58.521 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470448546811904 [0;39m ==> Parameters: null
2023-05-17 00:32:58.521 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470448546811904 [0;39m <==      Total: 0
2023-05-17 00:32:58.522 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39470448546811904 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor94.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$a06e6ec3.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:32:58.523 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39470448546811904 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:33:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39470454846656512 [0;39m 生成今日电子书快照开始
2023-05-17 00:33:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470454846656512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:33:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470454846656512 [0;39m ==> Parameters: 
2023-05-17 00:33:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470454846656512 [0;39m <==    Updates: 0
2023-05-17 00:33:00.026 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39470454846656512 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-17 00:33:03.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470475801399296 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:33:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470475801399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:33:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470475801399296 [0;39m ==> Parameters: 
2023-05-17 00:33:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470475801399296 [0;39m <==    Updates: 2
2023-05-17 00:33:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470475801399296 [0;39m 更新电子书下的文档数据结束，耗时：10毫秒
2023-05-17 00:33:22.243 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:24.647 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:28.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470601592770560 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:33:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470601592770560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:33:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470601592770560 [0;39m ==> Parameters: 
2023-05-17 00:33:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470601592770560 [0;39m <==    Updates: 2
2023-05-17 00:33:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470601592770560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:33:35.756 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39470414451314688 [0;39m 连接关闭，token：b9FSBDeQqd，session id：4！当前连接数：0
2023-05-17 00:33:37.858 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39470425335533568 [0;39m 有新连接：token：vGt015QIUB，session id：5，当前连接数：1
2023-05-17 00:33:37.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470614079213569 [0;39m ------------- 开始 -------------
2023-05-17 00:33:37.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470614079213568 [0;39m ------------- 开始 -------------
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470614079213569 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470614079213568 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470614079213569 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470614079213568 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470614079213569 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470614079213568 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470614079213569 [0;39m 请求参数: [1]
2023-05-17 00:33:37.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470614079213568 [0;39m 请求参数: [1]
2023-05-17 00:33:37.984 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470614079213569 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:33:37.984 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470614079213569 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:37.985 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470614079213568 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:33:37.985 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470614079213569 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:33:37.985 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470614079213569 [0;39m <==        Row: 6, 1, 1, null, null, 如图, 2023-05-17 00:32:56, null
2023-05-17 00:33:37.985 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470614079213568 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:37.986 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470614079213569 [0;39m <==      Total: 1
2023-05-17 00:33:37.986 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:33:37.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470614079213569 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:33:37.986 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 421, 8
2023-05-17 00:33:37.987 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470614079213569 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:37.987 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:33:37.987 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:33:37.987 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470614079213569 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:33:37.987 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470614079213569 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:33:37.988 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470614079213569 [0;39m <==      Total: 1
2023-05-17 00:33:37.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470614079213569 [0;39m 返回结果: {"content":[{"content":"如图","createTime":1684254776000,"ebookId":1,"id":6,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:33:37.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470614079213569 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:33:37.988 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:33:37.989 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:33:37.989 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:33:37.989 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:33:37.989 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470614079213568 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:33:37.990 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470614079213568 [0;39m <==      Total: 8
2023-05-17 00:33:37.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470614079213568 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":421,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:33:37.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470614079213568 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 00:33:38.071 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470614452506624 [0;39m ------------- 开始 -------------
2023-05-17 00:33:38.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470614452506624 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:33:38.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470614452506624 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:33:38.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470614452506624 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:33:38.073 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470614452506624 [0;39m 请求参数: [1]
2023-05-17 00:33:38.076 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470614452506624 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:33:38.076 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470614452506624 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:38.077 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470614452506624 [0;39m <==    Columns: id, content
2023-05-17 00:33:38.077 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470614452506624 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:33:38.078 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470614452506624 [0;39m <==      Total: 1
2023-05-17 00:33:38.078 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470614452506624 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:33:38.079 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470614452506624 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:38.086 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470614452506624 [0;39m <==    Updates: 1
2023-05-17 00:33:38.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470614452506624 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:33:38.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470614452506624 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:33:45.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470645473579008 [0;39m ------------- 开始 -------------
2023-05-17 00:33:45.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470645473579008 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:33:45.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470645473579008 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:33:45.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470645473579008 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:33:45.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470645473579008 [0;39m 请求参数: [1]
2023-05-17 00:33:45.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470645473579008 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:33:45.469 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470645473579008 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:45.469 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470645473579008 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:33:45.470 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470645473579008 [0;39m <==        Row: 6, 1, 1, null, null, 如图, 2023-05-17 00:32:56, null
2023-05-17 00:33:45.470 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470645473579008 [0;39m <==      Total: 1
2023-05-17 00:33:45.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470645473579008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:33:45.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470645473579008 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:45.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470645473579008 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:33:45.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470645473579008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:33:45.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470645473579008 [0;39m <==      Total: 1
2023-05-17 00:33:45.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470645473579008 [0;39m 返回结果: {"content":[{"content":"如图","createTime":1684254776000,"ebookId":1,"id":6,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:33:45.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470645473579008 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:33:48.465 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39470420856016896 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:33:48.466 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39470420856016896 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:33:48.467 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39470420856016896 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:33:48.468 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39470420856016896 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:33:48.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470658064879616 [0;39m ------------- 开始 -------------
2023-05-17 00:33:48.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470658064879616 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:33:48.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470658064879616 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:33:48.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470658064879616 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:33:48.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470658064879616 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":1,"parentId":6,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:33:48.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470658064879616 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:33:48.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470658064879616 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:48.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470658064879616 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:33:48.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470658064879616 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:33:48.473 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470658064879616 [0;39m <==      Total: 1
2023-05-17 00:33:48.474 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470658064879616 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:33:48.474 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470658064879616 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:33:48.475 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470658064879616 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:33:48.475 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470658064879616 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:33:48.475 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470658064879616 [0;39m <==      Total: 1
2023-05-17 00:33:48.476 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470658064879616 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:33:48.477 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470658064879616 [0;39m ==> Parameters: null
2023-05-17 00:33:48.479 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39470658064879616 [0;39m <==      Total: 0
2023-05-17 00:33:48.479 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39470658064879616 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor94.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$a06e6ec3.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:33:48.482 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39470658064879616 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:33:50.579 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:52.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:52.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:54.640 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:33:56.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39470706454564864 [0;39m 生成今日电子书快照开始
2023-05-17 00:34:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470706454564864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:34:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470706454564864 [0;39m ==> Parameters: 
2023-05-17 00:34:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470706454564864 [0;39m <==    Updates: 0
2023-05-17 00:34:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39470706454564864 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-17 00:34:01.164 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：vGt015QIUB，session id：5！当前连接数：0
2023-05-17 00:34:01.232 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:34:01.232 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:34:01.232 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:34:01.232 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-17 00:34:01.248 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-17 00:34:01.516 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:34:01.516 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:34:06.669 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 14844 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:34:06.669 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:34:06.700 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:34:06.763 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:34:06.763 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:34:07.988 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:34:07.988 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:34:08.015 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2023-05-17 00:34:08.249 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$6a1271a9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.265 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.735 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.735 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$c4ce6aa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.735 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.735 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.751 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.751 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.751 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.751 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.751 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.766 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.766 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.766 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.782 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:08.797 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:09.827 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:09.829 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:34:10.284 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:34:10.291 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:34:10.291 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:34:10.291 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:34:10.384 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:34:10.384 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 3621 ms
2023-05-17 00:34:11.386 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:34:11.769 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:34:11.835 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:34:12.066 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:14.531 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:16.576 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:16.578 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:34:16.579 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:34:16.602 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:34:16.613 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:34:16.626 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 10.711 seconds (JVM running for 12.561)
2023-05-17 00:34:16.629 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:34:16.629 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:34:18.627 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:20.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:35.044 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470853414588416 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:34:35.107 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39470853414588416 [0;39m HikariPool-1 - Starting...
2023-05-17 00:34:35.755 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39470853414588416 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:34:35.755 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470853414588416 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:34:35.802 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470853414588416 [0;39m ==> Parameters: 
2023-05-17 00:34:35.812 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470853414588416 [0;39m <==    Updates: 2
2023-05-17 00:34:35.818 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470853414588416 [0;39m 更新电子书下的文档数据结束，耗时：774毫秒
2023-05-17 00:34:41.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:41.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:45.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:34:47.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39470958125387776 [0;39m 生成今日电子书快照开始
2023-05-17 00:35:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470958125387776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:35:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470958125387776 [0;39m ==> Parameters: 
2023-05-17 00:35:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39470958125387776 [0;39m <==    Updates: 0
2023-05-17 00:35:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39470958125387776 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-17 00:35:00.101 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:35:00.102 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:35:00.107 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 4 ms
2023-05-17 00:35:00.230 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：jD0yOAwNtO，session id：0，当前连接数：1
2023-05-17 00:35:00.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470959605977089 [0;39m ------------- 开始 -------------
2023-05-17 00:35:00.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470959605977088 [0;39m ------------- 开始 -------------
2023-05-17 00:35:00.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470959605977089 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:35:00.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470959605977088 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:35:00.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470959605977089 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:35:00.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470959605977088 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:35:00.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470959605977089 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:00.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470959605977088 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:01.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470959605977089 [0;39m 请求参数: [1]
2023-05-17 00:35:01.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470959605977088 [0;39m 请求参数: [1]
2023-05-17 00:35:01.426 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470959605977088 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:35:01.442 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470959605977088 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:01.457 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470959605977088 [0;39m <==      Total: 0
2023-05-17 00:35:01.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470959605977088 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:35:01.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470959605977088 [0;39m ------------- 结束 耗时：1127 ms -------------
2023-05-17 00:35:01.520 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470959605977089 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:35:01.535 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470959605977089 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:01.535 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:35:01.535 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 422, 8
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:35:01.541 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39470959605977089 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:35:01.541 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39470959605977089 [0;39m <==      Total: 8
2023-05-17 00:35:01.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470959605977089 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":422,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:35:01.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470959605977089 [0;39m ------------- 结束 耗时：1205 ms -------------
2023-05-17 00:35:01.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470965020823552 [0;39m ------------- 开始 -------------
2023-05-17 00:35:01.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470965020823552 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:35:01.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470965020823552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:35:01.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470965020823552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:01.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470965020823552 [0;39m 请求参数: [1]
2023-05-17 00:35:01.653 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470965020823552 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:35:01.653 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470965020823552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:01.669 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470965020823552 [0;39m <==    Columns: id, content
2023-05-17 00:35:01.669 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39470965020823552 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:35:01.669 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39470965020823552 [0;39m <==      Total: 1
2023-05-17 00:35:01.669 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470965020823552 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:35:01.669 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470965020823552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:01.669 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39470965020823552 [0;39m <==    Updates: 1
2023-05-17 00:35:01.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470965020823552 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:35:01.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470965020823552 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:35:03.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470973442985984 [0;39m ------------- 开始 -------------
2023-05-17 00:35:03.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470973442985984 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:35:03.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470973442985984 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:35:03.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470973442985984 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:03.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470973442985984 [0;39m 请求参数: [1]
2023-05-17 00:35:03.663 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470973442985984 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:35:03.663 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470973442985984 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:03.664 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470973442985984 [0;39m <==      Total: 0
2023-05-17 00:35:03.664 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470973442985984 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:35:03.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470973442985984 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:35:05.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39470979143045120 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:35:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470979143045120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:35:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470979143045120 [0;39m ==> Parameters: 
2023-05-17 00:35:05.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39470979143045120 [0;39m <==    Updates: 2
2023-05-17 00:35:05.028 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39470979143045120 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 00:35:06.079 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:35:06.079 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 00:35:06.080 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:35:06.242 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:35:06.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470984507559936 [0;39m ------------- 开始 -------------
2023-05-17 00:35:06.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470984507559936 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 00:35:06.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470984507559936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 00:35:06.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470984507559936 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:06.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470984507559936 [0;39m 请求参数: [{"content":"额外企鹅群","ebookId":1,"userId":1}]
2023-05-17 00:35:06.305 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470984507559936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:35:06.305 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470984507559936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:06.305 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470984507559936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:35:06.305 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470984507559936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:35:06.305 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470984507559936 [0;39m <==      Total: 1
2023-05-17 00:35:06.305 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39470984507559936 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 00:35:06.305 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39470984507559936 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:06.305 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39470984507559936 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:35:06.305 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39470984507559936 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 459, 15
2023-05-17 00:35:06.305 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39470984507559936 [0;39m <==      Total: 1
2023-05-17 00:35:06.305 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39470984507559936 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:35:06.312 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39470984507559936 [0;39m ==> Parameters: null, 1(Long), 1(Long), null, null, 额外企鹅群(String), 2023-05-17 00:35:06.305(Timestamp), null
2023-05-17 00:35:06.319 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39470984507559936 [0;39m <==    Updates: 1
2023-05-17 00:35:06.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470984507559936 [0;39m 返回结果: {"success":true}
2023-05-17 00:35:06.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470984507559936 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-17 00:35:06.319 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39470984507559936 [0;39m ------------- LoginInterceptor 结束 耗时：240 ms -------------
2023-05-17 00:35:06.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470984633389056 [0;39m ------------- 开始 -------------
2023-05-17 00:35:06.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470984633389056 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:35:06.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470984633389056 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:35:06.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470984633389056 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:06.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470984633389056 [0;39m 请求参数: [1]
2023-05-17 00:35:06.330 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470984633389056 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:35:06.331 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470984633389056 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:06.332 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470984633389056 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:35:06.334 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470984633389056 [0;39m <==        Row: 1, 1, 1, null, null, 额外企鹅群, 2023-05-17 00:35:06, null
2023-05-17 00:35:06.336 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470984633389056 [0;39m <==      Total: 1
2023-05-17 00:35:06.336 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470984633389056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:35:06.336 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470984633389056 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:06.340 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470984633389056 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:35:06.341 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470984633389056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:35:06.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470984633389056 [0;39m <==      Total: 1
2023-05-17 00:35:06.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470984633389056 [0;39m 返回结果: {"content":[{"content":"额外企鹅群","createTime":1684254906000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:35:06.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470984633389056 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-17 00:35:09.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:09.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39470998877245440 [0;39m ------------- 开始 -------------
2023-05-17 00:35:09.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39470998877245440 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:35:09.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39470998877245440 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:35:09.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39470998877245440 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:35:09.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39470998877245440 [0;39m 请求参数: [1]
2023-05-17 00:35:09.727 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470998877245440 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:35:09.728 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470998877245440 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:09.729 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470998877245440 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:35:09.729 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39470998877245440 [0;39m <==        Row: 1, 1, 1, null, null, 额外企鹅群, 2023-05-17 00:35:06, null
2023-05-17 00:35:09.730 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39470998877245440 [0;39m <==      Total: 1
2023-05-17 00:35:09.731 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470998877245440 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:35:09.731 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470998877245440 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:35:09.732 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470998877245440 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:35:09.732 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39470998877245440 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:35:09.732 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39470998877245440 [0;39m <==      Total: 1
2023-05-17 00:35:09.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39470998877245440 [0;39m 返回结果: {"content":[{"content":"额外企鹅群","createTime":1684254906000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:35:09.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39470998877245440 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:35:11.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:11.862 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:13.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:15.767 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:17.798 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39471104930222080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:35:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471104930222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:35:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471104930222080 [0;39m ==> Parameters: 
2023-05-17 00:35:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471104930222080 [0;39m <==    Updates: 2
2023-05-17 00:35:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39471104930222080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:35:35.758 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:41.867 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:45.579 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:35:59.846 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39471209758461952 [0;39m 生成今日电子书快照开始
2023-05-17 00:36:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471209758461952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:36:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471209758461952 [0;39m ==> Parameters: 
2023-05-17 00:36:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471209758461952 [0;39m <==    Updates: 0
2023-05-17 00:36:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39471209758461952 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:36:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39471230792896512 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:36:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471230792896512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:36:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471230792896512 [0;39m ==> Parameters: 
2023-05-17 00:36:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471230792896512 [0;39m <==    Updates: 2
2023-05-17 00:36:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39471230792896512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:36:11.493 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:11.872 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:15.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:21.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:23.903 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39471356605239296 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:36:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471356605239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:36:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471356605239296 [0;39m ==> Parameters: 
2023-05-17 00:36:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471356605239296 [0;39m <==    Updates: 2
2023-05-17 00:36:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39471356605239296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:36:41.497 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:41.877 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:43.530 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:45.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:36:49.630 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:01.790 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:37:01.806 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 6452 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:37:01.806 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:37:01.869 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:37:01.869 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:37:02.620 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:37:02.620 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:37:02.651 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2023-05-17 00:37:02.855 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$5712b60b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:02.871 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.372 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.372 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$f94d2b0c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.372 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.372 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.387 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.387 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.387 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.387 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.387 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.403 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.403 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.403 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.419 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:03.434 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:04.764 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:04.764 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:05.547 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:37:05.547 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:37:05.547 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:37:05.547 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:37:06.141 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:37:06.153 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 4284 ms
2023-05-17 00:37:07.064 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:07.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:07.189 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:37:07.742 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:37:07.849 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:37:09.451 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:37:09.467 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 2168 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:37:09.467 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:37:09.545 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:37:09.545 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:37:10.671 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:37:10.687 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:37:10.718 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2023-05-17 00:37:11.093 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$ada8a375] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.124 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$4fe31876] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.875 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.891 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.891 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.907 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.907 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.907 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.922 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:11.938 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:12.596 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:12.596 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:37:12.596 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:37:12.611 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:37:12.611 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:37:12.658 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 11.224 seconds (JVM running for 12.154)
2023-05-17 00:37:12.674 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:37:12.674 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:37:14.786 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:14.786 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:15.490 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:37:15.508 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:37:15.509 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:37:15.509 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:37:15.647 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:37:15.647 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 6102 ms
2023-05-17 00:37:16.913 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:37:16.976 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:17.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:17.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:17.571 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:37:17.649 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m                  [0;39m Unable to start LiveReload server
2023-05-17 00:37:22.886 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:22.886 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:37:22.886 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:37:22.886 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:596  [32m                  [0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8880 is already in use
2023-05-17 00:37:22.886 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:37:22.902 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:37:22.902 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:37:22.902 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:22.918 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:37:22.918 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:37:24.671 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:37:24.702 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:37:24.702 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:37:24.718 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:37:24.718 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:37:29.508 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 12340 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:37:29.508 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:37:29.508 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:37:29.555 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:37:29.555 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:37:30.262 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:37:30.262 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:37:30.309 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2023-05-17 00:37:30.547 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$e4eb6368] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:30.563 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.001 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.001 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$8725d869] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.001 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.001 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.016 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.016 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.016 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.016 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.016 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.032 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.032 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.048 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.048 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:31.063 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:32.085 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:32.101 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:37:32.529 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:37:32.544 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:37:32.544 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:37:32.544 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:37:32.640 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:37:32.640 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 3070 ms
2023-05-17 00:37:33.463 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:37:33.858 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:37:33.907 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:37:34.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:34.363 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:36.386 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:38.420 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:37:38.420 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:37:38.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:38.435 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:37:38.435 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:37:38.451 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 9.378 seconds (JVM running for 10.675)
2023-05-17 00:37:38.451 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:37:38.451 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:37:40.452 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:42.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:37:50.806 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:37:50.806 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:37:50.807 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-17 00:37:50.868 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：nDPxqMrvYZ，session id：0，当前连接数：1
2023-05-17 00:37:50.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471675007438848 [0;39m ------------- 开始 -------------
2023-05-17 00:37:50.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471675007438849 [0;39m ------------- 开始 -------------
2023-05-17 00:37:50.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471675007438848 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:37:50.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471675007438849 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:37:50.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471675007438848 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:37:50.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471675007438849 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:37:50.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471675007438849 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:37:50.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471675007438848 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:37:50.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471675007438848 [0;39m 请求参数: [1]
2023-05-17 00:37:50.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471675007438849 [0;39m 请求参数: [1]
2023-05-17 00:37:51.007 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39471675007438849 [0;39m HikariPool-1 - Starting...
2023-05-17 00:37:51.880 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39471675007438849 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:37:51.880 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471675007438849 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:37:51.896 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471675007438848 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:37:51.896 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471675007438849 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:51.896 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471675007438848 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:51.911 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:37:51.911 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471675007438849 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:37:51.911 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 423, 8
2023-05-17 00:37:51.911 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:37:51.911 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471675007438849 [0;39m <==        Row: 1, 1, 1, null, null, 额外企鹅群, 2023-05-17 00:35:06, null
2023-05-17 00:37:51.911 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:37:51.911 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:37:51.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:37:51.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:37:51.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:37:51.927 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471675007438849 [0;39m <==      Total: 1
2023-05-17 00:37:51.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471675007438848 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:37:51.927 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471675007438848 [0;39m <==      Total: 8
2023-05-17 00:37:51.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471675007438849 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:37:51.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471675007438849 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:51.927 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471675007438849 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:37:51.927 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471675007438849 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:37:51.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471675007438849 [0;39m <==      Total: 1
2023-05-17 00:37:51.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471675007438848 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":423,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:37:51.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471675007438848 [0;39m ------------- 结束 耗时：1032 ms -------------
2023-05-17 00:37:51.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471675007438849 [0;39m 返回结果: {"content":[{"content":"额外企鹅群","createTime":1684254906000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:37:51.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471675007438849 [0;39m ------------- 结束 耗时：1032 ms -------------
2023-05-17 00:37:52.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471679986077696 [0;39m ------------- 开始 -------------
2023-05-17 00:37:52.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471679986077696 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:37:52.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471679986077696 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:37:52.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471679986077696 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:37:52.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471679986077696 [0;39m 请求参数: [1]
2023-05-17 00:37:52.115 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471679986077696 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:37:52.116 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471679986077696 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:52.119 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39471679986077696 [0;39m <==    Columns: id, content
2023-05-17 00:37:52.120 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39471679986077696 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:37:52.120 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471679986077696 [0;39m <==      Total: 1
2023-05-17 00:37:52.122 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471679986077696 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:37:52.122 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471679986077696 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:52.125 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471679986077696 [0;39m <==    Updates: 1
2023-05-17 00:37:52.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471679986077696 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:37:52.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471679986077696 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:37:53.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471685375758336 [0;39m ------------- 开始 -------------
2023-05-17 00:37:53.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471685375758336 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:37:53.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471685375758336 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:37:53.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471685375758336 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:37:53.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471685375758336 [0;39m 请求参数: [1]
2023-05-17 00:37:53.403 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471685375758336 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:37:53.404 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471685375758336 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:53.405 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471685375758336 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:37:53.406 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471685375758336 [0;39m <==        Row: 1, 1, 1, null, null, 额外企鹅群, 2023-05-17 00:35:06, null
2023-05-17 00:37:53.407 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471685375758336 [0;39m <==      Total: 1
2023-05-17 00:37:53.408 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471685375758336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:37:53.408 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471685375758336 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:53.409 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471685375758336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:37:53.409 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471685375758336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:37:53.410 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471685375758336 [0;39m <==      Total: 1
2023-05-17 00:37:53.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471685375758336 [0;39m 返回结果: {"content":[{"content":"额外企鹅群","createTime":1684254906000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:37:53.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471685375758336 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:37:55.483 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:37:55.483 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:37:55.483 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:37:55.606 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:37:55.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471694829719552 [0;39m ------------- 开始 -------------
2023-05-17 00:37:55.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471694829719552 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:37:55.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471694829719552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:37:55.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471694829719552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:37:55.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471694829719552 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":1,"parentId":1,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:37:55.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471694829719552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:37:55.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471694829719552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:37:55.653 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471694829719552 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:37:55.653 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471694829719552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:37:55.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471694829719552 [0;39m <==      Total: 1
2023-05-17 00:38:25.422 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471694829719552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39471819689955328 [0;39m 生成今日电子书快照开始
2023-05-17 00:38:25.422 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471694829719552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.422 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471694829719552 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:25.422 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471694829719552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:25.422 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471694829719552 [0;39m <==      Total: 1
2023-05-17 00:38:25.422 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471694829719552 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471819689955329 [0;39m ------------- 开始 -------------
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：s6NxL6QMZ6，session id：1，当前连接数：2
2023-05-17 00:38:25.422 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471694829719552 [0;39m ==> Parameters: null
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471819689955329 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471819689955329 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471819689955329 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:25.422 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471694829719552 [0;39m <==      Total: 0
2023-05-17 00:38:25.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471819689955329 [0;39m 请求参数: [1]
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471819757064192 [0;39m ------------- 开始 -------------
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471819757064192 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471819757064192 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471819757064192 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471819757064193 [0;39m ------------- 开始 -------------
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471819757064193 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471819757064192 [0;39m 请求参数: [1]
2023-05-17 00:38:25.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471819757064193 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:38:25.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471819757064193 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:25.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471819757064193 [0;39m 请求参数: [1]
2023-05-17 00:38:25.441 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471819757064192 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:38:25.441 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471819757064192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.441 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39471694829719552 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$2353dd06.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:38:25.442 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471819757064192 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:38:25.443 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39471694829719552 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:38:25.443 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471819757064192 [0;39m <==        Row: 1, 1, 1, null, null, 额外企鹅群, 2023-05-17 00:35:06, null
2023-05-17 00:38:25.444 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471819757064192 [0;39m <==      Total: 1
2023-05-17 00:38:25.444 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471819757064192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:25.444 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471819689955328 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:38:25.444 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471819757064192 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.445 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471819757064192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:25.446 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471819689955328 [0;39m ==> Parameters: 
2023-05-17 00:38:25.446 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471819757064192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:25.446 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471819757064192 [0;39m <==      Total: 1
2023-05-17 00:38:25.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471819757064192 [0;39m 返回结果: {"content":[{"content":"额外企鹅群","createTime":1684254906000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:38:25.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471819757064192 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:38:25.448 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471819689955328 [0;39m <==    Updates: 0
2023-05-17 00:38:25.448 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39471819689955328 [0;39m 生成今日电子书快照结束，耗时：26毫秒
2023-05-17 00:38:25.448 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39471819799007232 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:38:25.448 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471819799007232 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:38:25.449 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471819799007232 [0;39m ==> Parameters: 
2023-05-17 00:38:25.453 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471819799007232 [0;39m <==    Updates: 2
2023-05-17 00:38:25.454 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39471819799007232 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-17 00:38:25.455 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：nDPxqMrvYZ，session id：0！当前连接数：1
2023-05-17 00:38:25.459 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471819689955329 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:38:25.459 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471819689955329 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.459 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471819757064193 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:38:25.459 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:38:25.459 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 424, 8
2023-05-17 00:38:25.459 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471819757064193 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.459 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-17 00:38:25.459 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-17 00:38:25.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-17 00:38:25.465 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-17 00:38:25.466 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-17 00:38:25.466 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-17 00:38:25.466 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471819689955329 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-17 00:38:25.467 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471819757064193 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:38:25.467 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471819757064193 [0;39m <==        Row: 1, 1, 1, null, null, 额外企鹅群, 2023-05-17 00:35:06, null
2023-05-17 00:38:25.469 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471819689955329 [0;39m <==      Total: 8
2023-05-17 00:38:25.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471819757064193 [0;39m <==      Total: 1
2023-05-17 00:38:25.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471819689955329 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":424,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-17 00:38:25.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471819689955329 [0;39m ------------- 结束 耗时：50 ms -------------
2023-05-17 00:38:25.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471819757064193 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:25.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471819757064193 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471819757064193 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:25.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471819757064193 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:25.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471819757064193 [0;39m <==      Total: 1
2023-05-17 00:38:25.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471819757064193 [0;39m 返回结果: {"content":[{"content":"额外企鹅群","createTime":1684254906000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:38:25.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471819757064193 [0;39m ------------- 结束 耗时：34 ms -------------
2023-05-17 00:38:25.515 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471820080025600 [0;39m ------------- 开始 -------------
2023-05-17 00:38:25.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471820080025600 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-17 00:38:25.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471820080025600 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:38:25.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471820080025600 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:25.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471820080025600 [0;39m 请求参数: [1]
2023-05-17 00:38:25.518 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471820080025600 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:38:25.519 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471820080025600 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.520 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39471820080025600 [0;39m <==    Columns: id, content
2023-05-17 00:38:25.520 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39471820080025600 [0;39m <==        Row: 1, <<BLOB>>
2023-05-17 00:38:25.521 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471820080025600 [0;39m <==      Total: 1
2023-05-17 00:38:25.521 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471820080025600 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:38:25.522 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471820080025600 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:25.524 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471820080025600 [0;39m <==    Updates: 1
2023-05-17 00:38:25.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471820080025600 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-17 00:38:25.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471820080025600 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:38:27.463 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:27.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:28.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471831249457152 [0;39m ------------- 开始 -------------
2023-05-17 00:38:28.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471831249457152 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 00:38:28.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471831249457152 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 00:38:28.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471831249457152 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:28.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471831249457152 [0;39m 请求参数: []
2023-05-17 00:38:28.184 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39471831249457152 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:38:28.184 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39471831249457152 [0;39m ==> Parameters: 
2023-05-17 00:38:28.186 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39471831249457152 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 00:38:28.187 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39471831249457152 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 00:38:28.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471831291400192 [0;39m ------------- 开始 -------------
2023-05-17 00:38:28.189 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39471831249457152 [0;39m <==        Row: 2023-05-17, 625, 16, 30, 0
2023-05-17 00:38:28.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471831291400192 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 00:38:28.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471831291400192 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 00:38:28.189 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39471831249457152 [0;39m <==      Total: 2
2023-05-17 00:38:28.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471831291400192 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:28.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471831291400192 [0;39m 请求参数: []
2023-05-17 00:38:28.190 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39471831291400192 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:38:28.190 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39471831291400192 [0;39m ==> Parameters: 
2023-05-17 00:38:28.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471831249457152 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":625,"viewIncrease":30,"voteCount":16,"voteIncrease":0}],"success":true}
2023-05-17 00:38:28.192 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471831249457152 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:38:28.192 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 00:38:28.192 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 00:38:28.192 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 00:38:28.193 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 00:38:28.193 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 00:38:28.194 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 00:38:28.194 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 00:38:28.194 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 00:38:28.195 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39471831291400192 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 00:38:28.195 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39471831291400192 [0;39m <==      Total: 8
2023-05-17 00:38:28.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471831291400192 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 00:38:28.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471831291400192 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:38:28.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471831337537536 [0;39m ------------- 开始 -------------
2023-05-17 00:38:28.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471831337537536 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 00:38:28.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471831337537536 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 00:38:28.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471831337537536 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:28.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471831337537536 [0;39m 请求参数: []
2023-05-17 00:38:28.204 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39471831337537536 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 00:38:28.205 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39471831337537536 [0;39m ==> Parameters: 
2023-05-17 00:38:28.206 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 00:38:28.206 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 00:38:28.207 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 00:38:28.207 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 00:38:28.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 00:38:28.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 00:38:28.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 00:38:28.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 00:38:28.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 00:38:28.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 00:38:28.210 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 00:38:28.210 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 00:38:28.210 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 00:38:28.211 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 00:38:28.211 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 00:38:28.211 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39471831337537536 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 00:38:28.212 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39471831337537536 [0;39m <==      Total: 15
2023-05-17 00:38:28.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471831337537536 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 00:38:28.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471831337537536 [0;39m ------------- 结束 耗时：23 ms -------------
2023-05-17 00:38:29.487 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:29.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471837289254912 [0;39m ------------- 开始 -------------
2023-05-17 00:38:29.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471837289254912 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:38:29.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471837289254912 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:38:29.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471837289254912 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:29.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471837289254912 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-17 00:38:29.653 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39471837289254912 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:38:29.653 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39471837289254912 [0;39m ==> Parameters: 101(Long)
2023-05-17 00:38:29.653 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39471837289254912 [0;39m <==    Columns: count(0)
2023-05-17 00:38:29.653 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39471837289254912 [0;39m <==        Row: 1
2023-05-17 00:38:29.653 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39471837289254912 [0;39m <==      Total: 1
2023-05-17 00:38:29.653 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39471837289254912 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 00:38:29.653 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39471837289254912 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-17 00:38:29.653 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39471837289254912 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:38:29.653 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39471837289254912 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 166, 1
2023-05-17 00:38:29.659 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39471837289254912 [0;39m <==      Total: 1
2023-05-17 00:38:29.659 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39471837289254912 [0;39m 总行数：1
2023-05-17 00:38:29.659 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39471837289254912 [0;39m 总页数：1
2023-05-17 00:38:29.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471837289254912 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":166,"voteCount":1}],"total":1},"success":true}
2023-05-17 00:38:29.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471837289254912 [0;39m ------------- 结束 耗时：48 ms -------------
2023-05-17 00:38:30.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471840015552512 [0;39m ------------- 开始 -------------
2023-05-17 00:38:30.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471840015552512 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:38:30.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471840015552512 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:38:30.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471840015552512 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:30.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471840015552512 [0;39m 请求参数: [2]
2023-05-17 00:38:30.270 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471840015552512 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:38:30.271 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471840015552512 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:38:30.272 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471840015552512 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:38:30.272 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39471840015552512 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 166, 1
2023-05-17 00:38:30.273 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39471840015552512 [0;39m <==      Total: 1
2023-05-17 00:38:30.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471840015552512 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":166,"voteCount":1}],"success":true}
2023-05-17 00:38:30.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471840015552512 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:38:30.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471840061689856 [0;39m ------------- 开始 -------------
2023-05-17 00:38:30.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471840061689856 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:38:30.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471840061689856 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:38:30.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471840061689856 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:30.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471840061689856 [0;39m 请求参数: [2]
2023-05-17 00:38:30.283 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471840061689856 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:38:30.284 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471840061689856 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:38:30.285 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471840061689856 [0;39m <==      Total: 0
2023-05-17 00:38:30.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471840061689856 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:38:30.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471840061689856 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:38:30.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471840200101888 [0;39m ------------- 开始 -------------
2023-05-17 00:38:30.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471840200101888 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:38:30.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471840200101888 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:38:30.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471840200101888 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:30.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471840200101888 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:38:30.313 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471840200101888 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:38:30.314 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471840200101888 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:38:30.315 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39471840200101888 [0;39m <==    Columns: id, content
2023-05-17 00:38:30.315 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39471840200101888 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:38:30.316 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39471840200101888 [0;39m <==      Total: 1
2023-05-17 00:38:30.316 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471840200101888 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:38:30.317 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471840200101888 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:38:30.318 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39471840200101888 [0;39m <==    Updates: 1
2023-05-17 00:38:30.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471840200101888 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:38:30.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471840200101888 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:38:31.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471845686251520 [0;39m ------------- 开始 -------------
2023-05-17 00:38:31.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471845686251520 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:38:31.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471845686251520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:38:31.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471845686251520 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:31.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471845686251520 [0;39m 请求参数: [2]
2023-05-17 00:38:31.621 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471845686251520 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:38:31.622 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471845686251520 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:38:31.623 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471845686251520 [0;39m <==      Total: 0
2023-05-17 00:38:31.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471845686251520 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:38:31.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471845686251520 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:38:33.544 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:34.135 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39471819757064193 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:38:34.135 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39471819757064193 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 00:38:34.135 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39471819757064193 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:38:34.139 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39471819757064193 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:38:34.146 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:34.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471856281063424 [0;39m ------------- 开始 -------------
2023-05-17 00:38:34.146 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471856281063424 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 00:38:34.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471856281063424 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 00:38:34.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471856281063424 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:34.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471856281063424 [0;39m 请求参数: [{"content":"天天","ebookId":2,"userId":1}]
2023-05-17 00:38:34.150 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471856281063424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:34.151 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471856281063424 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:34.152 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471856281063424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:34.152 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471856281063424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:34.152 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471856281063424 [0;39m <==      Total: 1
2023-05-17 00:38:34.153 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39471856281063424 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 00:38:34.154 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39471856281063424 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:38:34.155 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39471856281063424 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:38:34.155 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39471856281063424 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 166, 1
2023-05-17 00:38:34.155 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39471856281063424 [0;39m <==      Total: 1
2023-05-17 00:38:34.156 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39471856281063424 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:38:34.159 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39471856281063424 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, 天天(String), 2023-05-17 00:38:34.156(Timestamp), null
2023-05-17 00:38:34.168 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39471856281063424 [0;39m <==    Updates: 1
2023-05-17 00:38:34.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471856281063424 [0;39m 返回结果: {"success":true}
2023-05-17 00:38:34.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471856281063424 [0;39m ------------- 结束 耗时：23 ms -------------
2023-05-17 00:38:34.170 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39471856281063424 [0;39m ------------- LoginInterceptor 结束 耗时：35 ms -------------
2023-05-17 00:38:34.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471856419475456 [0;39m ------------- 开始 -------------
2023-05-17 00:38:34.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471856419475456 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:38:34.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471856419475456 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:38:34.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471856419475456 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:34.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471856419475456 [0;39m 请求参数: [2]
2023-05-17 00:38:34.181 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471856419475456 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:38:34.181 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471856419475456 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:38:34.182 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471856419475456 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:38:34.183 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39471856419475456 [0;39m <==        Row: 2, 1, 2, null, null, 天天, 2023-05-17 00:38:34, null
2023-05-17 00:38:34.183 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39471856419475456 [0;39m <==      Total: 1
2023-05-17 00:38:34.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471856419475456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:34.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471856419475456 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:34.185 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471856419475456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:34.185 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471856419475456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:34.186 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471856419475456 [0;39m <==      Total: 1
2023-05-17 00:38:34.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39471856419475456 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684255114000,"ebookId":2,"id":2,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:38:34.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39471856419475456 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:38:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39471859892359168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:38:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471859892359168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:38:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471859892359168 [0;39m ==> Parameters: 
2023-05-17 00:38:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471859892359168 [0;39m <==    Updates: 2
2023-05-17 00:38:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39471859892359168 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 00:38:35.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:37.121 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39471831249457152 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:38:37.122 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39471831249457152 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:38:37.122 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39471831249457152 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:38:37.152 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39471831249457152 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:38:37.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471868893335552 [0;39m ------------- 开始 -------------
2023-05-17 00:38:37.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471868893335552 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:38:37.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471868893335552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:38:37.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471868893335552 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:37.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471868893335552 [0;39m 请求参数: [{"content":"请求","ebookId":2,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:38:37.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471868893335552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:37.155 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471868893335552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:37.156 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471868893335552 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:37.156 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471868893335552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:37.156 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471868893335552 [0;39m <==      Total: 1
2023-05-17 00:38:37.157 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471868893335552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:37.157 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471868893335552 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:37.158 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471868893335552 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:37.158 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471868893335552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:37.158 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471868893335552 [0;39m <==      Total: 1
2023-05-17 00:38:37.159 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471868893335552 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:38:37.159 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471868893335552 [0;39m ==> Parameters: null
2023-05-17 00:38:37.160 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471868893335552 [0;39m <==      Total: 0
2023-05-17 00:38:37.160 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39471868893335552 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor118.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$2353dd06.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:38:37.163 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39471868893335552 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:38:39.610 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:53.554 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:38:57.403 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39471831291400192 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:38:57.404 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39471831291400192 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:38:57.404 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39471831291400192 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:38:57.408 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39471831291400192 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:38:57.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39471953857351680 [0;39m ------------- 开始 -------------
2023-05-17 00:38:57.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39471953857351680 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:38:57.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39471953857351680 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:38:57.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39471953857351680 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:38:57.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39471953857351680 [0;39m 请求参数: [{"content":"额温枪二群无","ebookId":2,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:38:57.413 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471953857351680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:57.414 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471953857351680 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:57.415 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471953857351680 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:57.415 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471953857351680 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:57.416 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471953857351680 [0;39m <==      Total: 1
2023-05-17 00:38:57.416 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471953857351680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:38:57.416 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471953857351680 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:38:57.417 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471953857351680 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:38:57.417 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39471953857351680 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:38:57.418 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39471953857351680 [0;39m <==      Total: 1
2023-05-17 00:38:57.418 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471953857351680 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:38:57.418 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471953857351680 [0;39m ==> Parameters: null
2023-05-17 00:38:57.419 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39471953857351680 [0;39m <==      Total: 0
2023-05-17 00:38:57.420 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39471953857351680 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:102)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor118.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$2353dd06.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-17 00:38:57.421 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39471953857351680 [0;39m Resolved [java.lang.NullPointerException]
2023-05-17 00:39:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39471964754153472 [0;39m 生成今日电子书快照开始
2023-05-17 00:39:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471964754153472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:39:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471964754153472 [0;39m ==> Parameters: 
2023-05-17 00:39:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39471964754153472 [0;39m <==    Updates: 0
2023-05-17 00:39:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39471964754153472 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-17 00:39:04.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39471985750839296 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:39:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471985750839296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:39:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471985750839296 [0;39m ==> Parameters: 
2023-05-17 00:39:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39471985750839296 [0;39m <==    Updates: 2
2023-05-17 00:39:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39471985750839296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:39:05.760 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:07.805 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:15.588 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:17.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:25.055 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：s6NxL6QMZ6，session id：1！当前连接数：0
2023-05-17 00:39:25.101 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:39:25.101 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 00:39:25.101 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 00:39:25.101 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-17 00:39:25.101 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-17 00:39:25.384 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:39:25.384 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 00:39:29.677 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 00:39:29.693 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 12252 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 00:39:29.693 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 00:39:29.740 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 00:39:29.740 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 00:39:30.397 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 00:39:30.397 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 00:39:30.412 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2023-05-17 00:39:30.587 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$3299d05d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.603 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.900 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.900 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$d4d4455e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.900 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.900 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.916 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.916 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.916 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.916 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.916 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.932 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.932 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.932 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.932 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:30.948 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:31.763 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:31.763 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 00:39:32.143 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 00:39:32.159 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 00:39:32.159 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 00:39:32.159 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 00:39:32.238 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 00:39:32.238 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2498 ms
2023-05-17 00:39:32.918 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 00:39:33.251 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 00:39:33.298 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 00:39:33.925 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:37.966 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 00:39:37.966 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 00:39:37.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:37.998 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 00:39:38.013 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 00:39:38.029 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 8.735 seconds (JVM running for 9.68)
2023-05-17 00:39:38.029 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 00:39:38.029 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 00:39:42.011 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:39:55.271 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 00:39:55.271 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 00:39:55.271 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2023-05-17 00:39:55.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472196732719104 [0;39m ------------- 开始 -------------
2023-05-17 00:39:55.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472196732719104 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:39:55.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472196732719104 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:39:55.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472196732719104 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:39:55.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472196732719104 [0;39m 请求参数: [2]
2023-05-17 00:39:55.377 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39472196732719104 [0;39m HikariPool-1 - Starting...
2023-05-17 00:39:55.923 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39472196732719104 [0;39m HikariPool-1 - Start completed.
2023-05-17 00:39:55.942 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472196732719104 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:39:56.101 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472196732719104 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:39:56.121 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472196732719104 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:39:56.121 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472196732719104 [0;39m <==        Row: 2, 1, 2, null, null, 天天, 2023-05-17 00:38:34, null
2023-05-17 00:39:56.128 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472196732719104 [0;39m <==      Total: 1
2023-05-17 00:39:56.135 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472196732719104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:39:56.135 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472196732719104 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:39:56.135 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472196732719104 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:39:56.135 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472196732719104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:39:56.135 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472196732719104 [0;39m <==      Total: 1
2023-05-17 00:39:56.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472196732719104 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684255114000,"ebookId":2,"id":2,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:39:56.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472196732719104 [0;39m ------------- 结束 耗时：855 ms -------------
2023-05-17 00:39:59.081 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:39:59.081 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:39:59.082 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:39:59.216 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:39:59.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472213308608512 [0;39m ------------- 开始 -------------
2023-05-17 00:39:59.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472213308608512 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:39:59.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472213308608512 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:39:59.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472213308608512 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:39:59.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472213308608512 [0;39m 请求参数: [{"content":"由于","ebookId":2,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:39:59.270 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213308608512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:39:59.270 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213308608512 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:39:59.271 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213308608512 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:39:59.271 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213308608512 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:39:59.273 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213308608512 [0;39m <==      Total: 1
2023-05-17 00:39:59.273 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213308608512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:39:59.273 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213308608512 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:39:59.274 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213308608512 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:39:59.274 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213308608512 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:39:59.274 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213308608512 [0;39m <==      Total: 1
2023-05-17 00:39:59.275 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472213308608512 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:39:59.277 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472213308608512 [0;39m ==> Parameters: 1(Long), 2(Long), 2(Long), 1(Long), 由于(String), 2023-05-17 00:39:59.275(Timestamp), null
2023-05-17 00:39:59.284 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472213308608512 [0;39m <==    Updates: 1
2023-05-17 00:39:59.286 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472213308608512 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:39:59.286 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472213308608512 [0;39m ==> Parameters: 3(Long)
2023-05-17 00:39:59.287 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472213308608512 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:39:59.287 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472213308608512 [0;39m <==        Row: 3, 1, 2, 2, 1, 由于, 2023-05-17 00:39:59, null
2023-05-17 00:39:59.288 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472213308608512 [0;39m <==      Total: 1
2023-05-17 00:39:59.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472213308608512 [0;39m 返回结果: {"content":{"content":"由于","createTime":1684255199000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:39:59.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472213308608512 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-17 00:39:59.290 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39472213308608512 [0;39m ------------- LoginInterceptor 结束 耗时：209 ms -------------
2023-05-17 00:39:59.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472213434437632 [0;39m ------------- 开始 -------------
2023-05-17 00:39:59.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472213434437632 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:39:59.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472213434437632 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:39:59.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472213434437632 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:39:59.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472213434437632 [0;39m 请求参数: [2]
2023-05-17 00:39:59.299 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472213434437632 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:39:59.299 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472213434437632 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:39:59.301 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472213434437632 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:39:59.301 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472213434437632 [0;39m <==        Row: 2, 1, 2, null, null, 天天, 2023-05-17 00:38:34, null
2023-05-17 00:39:59.303 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472213434437632 [0;39m <==        Row: 3, 1, 2, 2, 1, 由于, 2023-05-17 00:39:59, null
2023-05-17 00:39:59.303 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472213434437632 [0;39m <==      Total: 2
2023-05-17 00:39:59.304 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:39:59.304 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:39:59.305 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213434437632 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:39:59.305 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213434437632 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:39:59.306 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m <==      Total: 1
2023-05-17 00:39:59.307 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:39:59.307 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:39:59.309 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213434437632 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:39:59.309 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213434437632 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:39:59.309 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m <==      Total: 1
2023-05-17 00:39:59.310 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:39:59.310 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:39:59.311 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213434437632 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:39:59.311 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472213434437632 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:39:59.312 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472213434437632 [0;39m <==      Total: 1
2023-05-17 00:39:59.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472213434437632 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684255114000,"ebookId":2,"id":2,"name":"test","replies":[{"content":"由于","createTime":1684255199000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:39:59.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472213434437632 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:40:00.032 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39472216513056768 [0;39m 生成今日电子书快照开始
2023-05-17 00:40:00.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472216513056768 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:40:00.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472216513056768 [0;39m ==> Parameters: 
2023-05-17 00:40:00.032 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472216513056768 [0;39m <==    Updates: 0
2023-05-17 00:40:00.032 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39472216513056768 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:40:03.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:04.785 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:40:04.785 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:40:04.785 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:40:04.788 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:40:04.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472236461166592 [0;39m ------------- 开始 -------------
2023-05-17 00:40:04.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472236461166592 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:40:04.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472236461166592 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:40:04.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472236461166592 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:04.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472236461166592 [0;39m 请求参数: [{"content":"通天塔","ebookId":2,"parentId":3,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:40:04.790 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236461166592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.791 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236461166592 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.792 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236461166592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.792 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236461166592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.792 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236461166592 [0;39m <==      Total: 1
2023-05-17 00:40:04.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236461166592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236461166592 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.794 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236461166592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.794 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236461166592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236461166592 [0;39m <==      Total: 1
2023-05-17 00:40:04.795 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472236461166592 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:40:04.797 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472236461166592 [0;39m ==> Parameters: 1(Long), 2(Long), 3(Long), 1(Long), 通天塔(String), 2023-05-17 00:40:04.795(Timestamp), null
2023-05-17 00:40:04.804 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472236461166592 [0;39m <==    Updates: 1
2023-05-17 00:40:04.804 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472236461166592 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:40:04.804 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472236461166592 [0;39m ==> Parameters: 4(Long)
2023-05-17 00:40:04.808 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472236461166592 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:40:04.808 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472236461166592 [0;39m <==        Row: 4, 1, 2, 3, 1, 通天塔, 2023-05-17 00:40:05, null
2023-05-17 00:40:04.809 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472236461166592 [0;39m <==      Total: 1
2023-05-17 00:40:04.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472236461166592 [0;39m 返回结果: {"content":{"content":"通天塔","createTime":1684255205000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:40:04.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472236461166592 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-17 00:40:04.810 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39472236461166592 [0;39m ------------- LoginInterceptor 结束 耗时：25 ms -------------
2023-05-17 00:40:04.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472236607967232 [0;39m ------------- 开始 -------------
2023-05-17 00:40:04.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472236607967232 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:04.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472236607967232 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:04.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472236607967232 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:04.824 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472236607967232 [0;39m 请求参数: [2]
2023-05-17 00:40:04.824 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472236607967232 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:04.825 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472236607967232 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:04.826 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472236607967232 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:40:04.827 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472236607967232 [0;39m <==        Row: 2, 1, 2, null, null, 天天, 2023-05-17 00:38:34, null
2023-05-17 00:40:04.827 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472236607967232 [0;39m <==        Row: 3, 1, 2, 2, 1, 由于, 2023-05-17 00:39:59, null
2023-05-17 00:40:04.828 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472236607967232 [0;39m <==        Row: 4, 1, 2, 3, 1, 通天塔, 2023-05-17 00:40:05, null
2023-05-17 00:40:04.828 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472236607967232 [0;39m <==      Total: 3
2023-05-17 00:40:04.830 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.830 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m <==      Total: 1
2023-05-17 00:40:04.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m <==      Total: 1
2023-05-17 00:40:04.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.836 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.836 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.836 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m <==      Total: 1
2023-05-17 00:40:04.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.838 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.838 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m <==      Total: 1
2023-05-17 00:40:04.840 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:04.840 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:04.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:04.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472236607967232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:04.841 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472236607967232 [0;39m <==      Total: 1
2023-05-17 00:40:04.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472236607967232 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684255114000,"ebookId":2,"id":2,"name":"test","replies":[{"content":"由于","createTime":1684255199000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"通天塔","createTime":1684255205000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:40:04.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472236607967232 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:40:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472237421662208 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:40:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472237421662208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:40:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472237421662208 [0;39m ==> Parameters: 
2023-05-17 00:40:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472237421662208 [0;39m <==    Updates: 2
2023-05-17 00:40:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472237421662208 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 00:40:05.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:07.529 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:08.302 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:40:08.302 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:40:08.303 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:40:08.304 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:40:08.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472251212533760 [0;39m ------------- 开始 -------------
2023-05-17 00:40:08.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472251212533760 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:40:08.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472251212533760 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:40:08.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472251212533760 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:08.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472251212533760 [0;39m 请求参数: [{"content":"嘤嘤嘤","ebookId":2,"parentId":4,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:40:08.306 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251212533760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.307 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251212533760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.309 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251212533760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.309 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251212533760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.310 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251212533760 [0;39m <==      Total: 1
2023-05-17 00:40:08.311 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251212533760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.311 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251212533760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.314 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251212533760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.315 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251212533760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.315 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251212533760 [0;39m <==      Total: 1
2023-05-17 00:40:08.316 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472251212533760 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:40:08.316 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472251212533760 [0;39m ==> Parameters: 1(Long), 2(Long), 4(Long), 1(Long), 嘤嘤嘤(String), 2023-05-17 00:40:08.315(Timestamp), null
2023-05-17 00:40:08.320 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472251212533760 [0;39m <==    Updates: 1
2023-05-17 00:40:08.320 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472251212533760 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:40:08.322 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472251212533760 [0;39m ==> Parameters: 5(Long)
2023-05-17 00:40:08.322 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472251212533760 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:40:08.322 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472251212533760 [0;39m <==        Row: 5, 1, 2, 4, 1, 嘤嘤嘤, 2023-05-17 00:40:08, null
2023-05-17 00:40:08.323 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472251212533760 [0;39m <==      Total: 1
2023-05-17 00:40:08.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472251212533760 [0;39m 返回结果: {"content":{"content":"嘤嘤嘤","createTime":1684255208000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:40:08.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472251212533760 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:40:08.328 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39472251212533760 [0;39m ------------- LoginInterceptor 结束 耗时：26 ms -------------
2023-05-17 00:40:08.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472251334168576 [0;39m ------------- 开始 -------------
2023-05-17 00:40:08.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472251334168576 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:08.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472251334168576 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:08.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472251334168576 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:08.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472251334168576 [0;39m 请求参数: [2]
2023-05-17 00:40:08.336 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472251334168576 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:08.337 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472251334168576 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:08.338 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472251334168576 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:40:08.338 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472251334168576 [0;39m <==        Row: 2, 1, 2, null, null, 天天, 2023-05-17 00:38:34, null
2023-05-17 00:40:08.339 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472251334168576 [0;39m <==        Row: 3, 1, 2, 2, 1, 由于, 2023-05-17 00:39:59, null
2023-05-17 00:40:08.339 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472251334168576 [0;39m <==        Row: 4, 1, 2, 3, 1, 通天塔, 2023-05-17 00:40:05, null
2023-05-17 00:40:08.340 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472251334168576 [0;39m <==        Row: 5, 1, 2, 4, 1, 嘤嘤嘤, 2023-05-17 00:40:08, null
2023-05-17 00:40:08.341 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472251334168576 [0;39m <==      Total: 4
2023-05-17 00:40:08.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.343 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.344 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.344 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.345 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.346 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.346 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.347 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.347 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.350 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.350 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.351 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.351 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.352 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.352 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.353 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.353 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.353 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.355 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.355 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.355 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.355 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.356 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.356 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.356 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.357 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.357 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.357 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:40:08.358 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:40:08.359 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:40:08.359 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472251334168576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:40:08.359 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472251334168576 [0;39m <==      Total: 1
2023-05-17 00:40:08.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472251334168576 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684255114000,"ebookId":2,"id":2,"name":"test","replies":[{"content":"由于","createTime":1684255199000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"通天塔","createTime":1684255205000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嘤嘤嘤","createTime":1684255208000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:40:08.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472251334168576 [0;39m ------------- 结束 耗时：25 ms -------------
2023-05-17 00:40:09.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:33.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:33.817 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472363229810688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:40:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472363229810688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:40:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472363229810688 [0;39m ==> Parameters: 
2023-05-17 00:40:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472363229810688 [0;39m <==    Updates: 2
2023-05-17 00:40:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472363229810688 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:40:39.750 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:41.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472388936699904 [0;39m ------------- 开始 -------------
2023-05-17 00:40:41.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472388936699904 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:41.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472388936699904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:41.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472388936699904 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:41.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472388936699904 [0;39m 请求参数: [2]
2023-05-17 00:40:41.143 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472388936699904 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:41.143 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472388936699904 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:41.144 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472388936699904 [0;39m <==      Total: 0
2023-05-17 00:40:41.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472388936699904 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:40:41.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472388936699904 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:40:45.577 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：haoCM8JvYt，session id：0，当前连接数：1
2023-05-17 00:40:45.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472407878176768 [0;39m ------------- 开始 -------------
2023-05-17 00:40:45.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472407878176768 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:40:45.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472407878176768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:40:45.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472407878176768 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:45.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472407878176768 [0;39m 请求参数: [2]
2023-05-17 00:40:45.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472407890759680 [0;39m ------------- 开始 -------------
2023-05-17 00:40:45.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472407890759680 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:45.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472407890759680 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:45.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472407890759680 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:45.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472407890759680 [0;39m 请求参数: [2]
2023-05-17 00:40:45.662 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472407890759680 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:45.663 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472407890759680 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:45.664 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472407890759680 [0;39m <==      Total: 0
2023-05-17 00:40:45.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472407890759680 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:40:45.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472407890759680 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:40:45.704 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472407878176768 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:40:45.705 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472407878176768 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:45.706 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39472407878176768 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:40:45.706 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39472407878176768 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 167, 1
2023-05-17 00:40:45.707 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472407878176768 [0;39m <==      Total: 1
2023-05-17 00:40:45.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472407878176768 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":167,"voteCount":1}],"success":true}
2023-05-17 00:40:45.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472407878176768 [0;39m ------------- 结束 耗时：61 ms -------------
2023-05-17 00:40:45.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472408331161600 [0;39m ------------- 开始 -------------
2023-05-17 00:40:45.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472408331161600 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:40:45.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472408331161600 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:40:45.765 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472408331161600 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:45.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472408331161600 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:40:45.766 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472408331161600 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:40:45.766 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472408331161600 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:40:45.769 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39472408331161600 [0;39m <==    Columns: id, content
2023-05-17 00:40:45.769 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39472408331161600 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:40:45.770 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472408331161600 [0;39m <==      Total: 1
2023-05-17 00:40:45.771 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472408331161600 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:40:45.772 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472408331161600 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:40:45.784 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472408331161600 [0;39m <==    Updates: 1
2023-05-17 00:40:45.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472408331161600 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:40:45.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472408331161600 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-17 00:40:47.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472417613156352 [0;39m ------------- 开始 -------------
2023-05-17 00:40:47.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472417613156352 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:47.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472417613156352 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:47.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472417613156352 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:47.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472417613156352 [0;39m 请求参数: [2]
2023-05-17 00:40:47.980 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472417613156352 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:47.981 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472417613156352 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:47.981 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472417613156352 [0;39m <==      Total: 0
2023-05-17 00:40:47.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472417613156352 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:40:47.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472417613156352 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:40:57.439 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39472236461166592 [0;39m 连接关闭，token：haoCM8JvYt，session id：0！当前连接数：0
2023-05-17 00:40:57.737 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:40:58.678 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39472236607967232 [0;39m 有新连接：token：c7OJwrL2Po，session id：1，当前连接数：1
2023-05-17 00:40:58.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472462940999680 [0;39m ------------- 开始 -------------
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472462940999680 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472462940999680 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472462945193984 [0;39m ------------- 开始 -------------
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472462940999680 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472462945193984 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472462940999680 [0;39m 请求参数: [2]
2023-05-17 00:40:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472462945193984 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:58.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472462945193984 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:58.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472462945193984 [0;39m 请求参数: [2]
2023-05-17 00:40:58.789 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472462945193984 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:58.789 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472462940999680 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:40:58.789 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472462945193984 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:58.789 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472462940999680 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:58.790 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472462945193984 [0;39m <==      Total: 0
2023-05-17 00:40:58.790 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39472462940999680 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:40:58.790 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39472462940999680 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 168, 1
2023-05-17 00:40:58.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472462945193984 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:40:58.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472462945193984 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:40:58.791 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472462940999680 [0;39m <==      Total: 1
2023-05-17 00:40:58.792 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472462940999680 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":168,"voteCount":1}],"success":true}
2023-05-17 00:40:58.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472462940999680 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:40:58.852 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472463222018048 [0;39m ------------- 开始 -------------
2023-05-17 00:40:58.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472463222018048 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:40:58.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472463222018048 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:40:58.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472463222018048 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:58.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472463222018048 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:40:58.854 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472463222018048 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:40:58.855 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472463222018048 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:40:58.856 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39472463222018048 [0;39m <==    Columns: id, content
2023-05-17 00:40:58.856 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39472463222018048 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:40:58.857 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472463222018048 [0;39m <==      Total: 1
2023-05-17 00:40:58.857 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472463222018048 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:40:58.858 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472463222018048 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:40:58.861 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472463222018048 [0;39m <==    Updates: 1
2023-05-17 00:40:58.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472463222018048 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:40:58.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472463222018048 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:40:59.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472466975920128 [0;39m ------------- 开始 -------------
2023-05-17 00:40:59.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472466975920128 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:40:59.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472466975920128 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:40:59.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472466975920128 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:40:59.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472466975920128 [0;39m 请求参数: [2]
2023-05-17 00:40:59.749 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472466975920128 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:40:59.750 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472466975920128 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:40:59.750 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472466975920128 [0;39m <==      Total: 0
2023-05-17 00:40:59.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472466975920128 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 00:40:59.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472466975920128 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:41:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39472468095799296 [0;39m 生成今日电子书快照开始
2023-05-17 00:41:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472468095799296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:41:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472468095799296 [0;39m ==> Parameters: 
2023-05-17 00:41:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472468095799296 [0;39m <==    Updates: 0
2023-05-17 00:41:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39472468095799296 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 00:41:01.417 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39472407890759680 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:41:01.418 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39472407890759680 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 00:41:01.418 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39472407890759680 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:41:01.423 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39472407890759680 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:41:01.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472474034933760 [0;39m ------------- 开始 -------------
2023-05-17 00:41:01.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472474034933760 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 00:41:01.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472474034933760 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 00:41:01.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472474034933760 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:01.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472474034933760 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":2,"userId":1}]
2023-05-17 00:41:01.432 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472474034933760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:01.438 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472474034933760 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:01.439 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472474034933760 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:01.439 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472474034933760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:01.439 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472474034933760 [0;39m <==      Total: 1
2023-05-17 00:41:01.440 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39472474034933760 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 00:41:01.440 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39472474034933760 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:01.441 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39472474034933760 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:41:01.442 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39472474034933760 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 167, 1
2023-05-17 00:41:01.442 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39472474034933760 [0;39m <==      Total: 1
2023-05-17 00:41:01.443 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39472474034933760 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:41:01.443 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39472474034933760 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, 额外企鹅(String), 2023-05-17 00:41:01.442(Timestamp), null
2023-05-17 00:41:01.451 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39472474034933760 [0;39m <==    Updates: 1
2023-05-17 00:41:01.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472474034933760 [0;39m 返回结果: {"success":true}
2023-05-17 00:41:01.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472474034933760 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-17 00:41:01.454 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39472474034933760 [0;39m ------------- LoginInterceptor 结束 耗时：36 ms -------------
2023-05-17 00:41:01.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472474173345792 [0;39m ------------- 开始 -------------
2023-05-17 00:41:01.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472474173345792 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:41:01.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472474173345792 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:41:01.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472474173345792 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:01.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472474173345792 [0;39m 请求参数: [2]
2023-05-17 00:41:01.466 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472474173345792 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:41:01.467 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472474173345792 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:01.468 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472474173345792 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:01.468 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472474173345792 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:41:01.469 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472474173345792 [0;39m <==      Total: 1
2023-05-17 00:41:01.469 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472474173345792 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:01.470 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472474173345792 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:01.470 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472474173345792 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:01.470 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472474173345792 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:01.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472474173345792 [0;39m <==      Total: 1
2023-05-17 00:41:01.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472474173345792 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 00:41:01.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472474173345792 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:41:03.519 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:03.808 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472489071513600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:41:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472489071513600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:41:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472489071513600 [0;39m ==> Parameters: 
2023-05-17 00:41:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472489071513600 [0;39m <==    Updates: 2
2023-05-17 00:41:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472489071513600 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:41:07.557 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:07.567 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39472408331161600 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:41:07.568 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39472408331161600 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:41:07.568 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39472408331161600 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:41:07.569 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39472408331161600 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:41:07.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472499787960320 [0;39m ------------- 开始 -------------
2023-05-17 00:41:07.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472499787960320 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:41:07.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472499787960320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:41:07.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472499787960320 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:07.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472499787960320 [0;39m 请求参数: [{"content":"二位","ebookId":2,"parentId":6,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:41:07.571 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499787960320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:07.571 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499787960320 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:07.572 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499787960320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:07.572 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499787960320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:07.573 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499787960320 [0;39m <==      Total: 1
2023-05-17 00:41:07.573 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499787960320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:07.573 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499787960320 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:07.574 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499787960320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:07.574 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499787960320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:07.574 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499787960320 [0;39m <==      Total: 1
2023-05-17 00:41:07.575 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472499787960320 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:41:07.575 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472499787960320 [0;39m ==> Parameters: 1(Long), 2(Long), 6(Long), 1(Long), 二位(String), 2023-05-17 00:41:07.575(Timestamp), null
2023-05-17 00:41:07.584 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472499787960320 [0;39m <==    Updates: 1
2023-05-17 00:41:07.586 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472499787960320 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:41:07.586 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472499787960320 [0;39m ==> Parameters: 7(Long)
2023-05-17 00:41:07.587 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472499787960320 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:07.588 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472499787960320 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:41:07.588 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472499787960320 [0;39m <==      Total: 1
2023-05-17 00:41:07.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472499787960320 [0;39m 返回结果: {"content":{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:41:07.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472499787960320 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-17 00:41:07.590 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39472499787960320 [0;39m ------------- LoginInterceptor 结束 耗时：22 ms -------------
2023-05-17 00:41:07.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472499897012224 [0;39m ------------- 开始 -------------
2023-05-17 00:41:07.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472499897012224 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:41:07.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472499897012224 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:41:07.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472499897012224 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:07.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472499897012224 [0;39m 请求参数: [2]
2023-05-17 00:41:07.597 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472499897012224 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:41:07.597 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472499897012224 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:07.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472499897012224 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:07.598 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472499897012224 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:41:07.599 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472499897012224 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:41:07.599 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472499897012224 [0;39m <==      Total: 2
2023-05-17 00:41:07.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:07.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:07.600 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499897012224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:07.601 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499897012224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:07.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m <==      Total: 1
2023-05-17 00:41:07.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:07.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:07.603 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499897012224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:07.603 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499897012224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:07.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m <==      Total: 1
2023-05-17 00:41:07.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:07.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:07.604 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499897012224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:07.604 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472499897012224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:07.605 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472499897012224 [0;39m <==      Total: 1
2023-05-17 00:41:07.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472499897012224 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:41:07.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472499897012224 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:41:16.178 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39472236461166592 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:41:16.178 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39472236461166592 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:41:16.178 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39472236461166592 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:41:16.180 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39472236461166592 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:41:16.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472535909306368 [0;39m ------------- 开始 -------------
2023-05-17 00:41:16.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472535909306368 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:41:16.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472535909306368 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:41:16.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472535909306368 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:16.184 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472535909306368 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":2,"parentId":7,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:41:16.185 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472535909306368 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.185 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472535909306368 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.187 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472535909306368 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.187 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472535909306368 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.188 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472535909306368 [0;39m <==      Total: 1
2023-05-17 00:41:16.189 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472535909306368 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.189 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472535909306368 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.190 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472535909306368 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.190 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472535909306368 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.191 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472535909306368 [0;39m <==      Total: 1
2023-05-17 00:41:16.191 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472535909306368 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:41:16.192 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472535909306368 [0;39m ==> Parameters: 1(Long), 2(Long), 7(Long), 1(Long), 额外企鹅(String), 2023-05-17 00:41:16.191(Timestamp), null
2023-05-17 00:41:16.228 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39472535909306368 [0;39m <==    Updates: 1
2023-05-17 00:41:16.230 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472535909306368 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:41:16.230 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472535909306368 [0;39m ==> Parameters: 8(Long)
2023-05-17 00:41:16.231 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472535909306368 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:16.231 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39472535909306368 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:41:16.232 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39472535909306368 [0;39m <==      Total: 1
2023-05-17 00:41:16.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472535909306368 [0;39m 返回结果: {"content":{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:41:16.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472535909306368 [0;39m ------------- 结束 耗时：50 ms -------------
2023-05-17 00:41:16.233 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39472535909306368 [0;39m ------------- LoginInterceptor 结束 耗时：55 ms -------------
2023-05-17 00:41:16.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472536169353216 [0;39m ------------- 开始 -------------
2023-05-17 00:41:16.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472536169353216 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:41:16.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472536169353216 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:41:16.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472536169353216 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:16.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472536169353216 [0;39m 请求参数: [2]
2023-05-17 00:41:16.246 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472536169353216 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:41:16.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472536169353216 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:16.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472536169353216 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:16.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472536169353216 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:41:16.249 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472536169353216 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:41:16.250 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472536169353216 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:41:16.250 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472536169353216 [0;39m <==      Total: 3
2023-05-17 00:41:16.250 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.252 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.252 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.252 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m <==      Total: 1
2023-05-17 00:41:16.252 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.253 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.253 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.253 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.254 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m <==      Total: 1
2023-05-17 00:41:16.254 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.254 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.254 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.256 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.256 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m <==      Total: 1
2023-05-17 00:41:16.257 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.257 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.258 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.258 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m <==      Total: 1
2023-05-17 00:41:16.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:16.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:16.259 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:16.259 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472536169353216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:16.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472536169353216 [0;39m <==      Total: 1
2023-05-17 00:41:16.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472536169353216 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:41:16.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472536169353216 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:41:19.760 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:21.777 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:33.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:33.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472614892244992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:41:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472614892244992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:41:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472614892244992 [0;39m ==> Parameters: 
2023-05-17 00:41:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472614892244992 [0;39m <==    Updates: 2
2023-05-17 00:41:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472614892244992 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 00:41:35.530 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:35.842 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39472462945193984 [0;39m 连接关闭，token：c7OJwrL2Po，session id：1！当前连接数：0
2023-05-17 00:41:37.053 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39472462940999680 [0;39m 有新连接：token：OM8x4bPBaB，session id：2，当前连接数：1
2023-05-17 00:41:37.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472623939358720 [0;39m ------------- 开始 -------------
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472623939358720 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472623943553024 [0;39m ------------- 开始 -------------
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472623939358720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472623943553024 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472623939358720 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472623943553024 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472623943553024 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472623939358720 [0;39m 请求参数: [2]
2023-05-17 00:41:37.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472623943553024 [0;39m 请求参数: [2]
2023-05-17 00:41:37.173 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472623943553024 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:41:37.174 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472623939358720 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:41:37.174 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472623943553024 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:37.174 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472623939358720 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:37.175 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39472623939358720 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:41:37.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472623943553024 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:37.175 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39472623939358720 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 169, 1
2023-05-17 00:41:37.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472623943553024 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:41:37.175 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39472623939358720 [0;39m <==      Total: 1
2023-05-17 00:41:37.176 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472623943553024 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:41:37.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472623939358720 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":169,"voteCount":1}],"success":true}
2023-05-17 00:41:37.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472623939358720 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:41:37.176 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472623943553024 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:41:37.176 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472623943553024 [0;39m <==      Total: 3
2023-05-17 00:41:37.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:37.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:37.178 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:37.178 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:37.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m <==      Total: 1
2023-05-17 00:41:37.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:37.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:37.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:37.181 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:37.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m <==      Total: 1
2023-05-17 00:41:37.182 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:37.182 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:37.183 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:37.183 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:37.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m <==      Total: 1
2023-05-17 00:41:37.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:37.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:37.185 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:37.185 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:37.186 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m <==      Total: 1
2023-05-17 00:41:37.186 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:37.187 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:37.187 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:37.188 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472623943553024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:37.188 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472623943553024 [0;39m <==      Total: 1
2023-05-17 00:41:37.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472623943553024 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:41:37.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472623943553024 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 00:41:37.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472624287485952 [0;39m ------------- 开始 -------------
2023-05-17 00:41:37.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472624287485952 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:41:37.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472624287485952 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:41:37.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472624287485952 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:37.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472624287485952 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:41:37.254 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472624287485952 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:41:37.255 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472624287485952 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:41:37.255 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39472624287485952 [0;39m <==    Columns: id, content
2023-05-17 00:41:37.256 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39472624287485952 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:41:37.256 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39472624287485952 [0;39m <==      Total: 1
2023-05-17 00:41:37.257 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472624287485952 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:41:37.257 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472624287485952 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:41:37.264 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39472624287485952 [0;39m <==    Updates: 1
2023-05-17 00:41:37.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472624287485952 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:41:37.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472624287485952 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:41:37.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:41:39.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39472633217159168 [0;39m ------------- 开始 -------------
2023-05-17 00:41:39.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39472633217159168 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:41:39.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39472633217159168 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:41:39.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39472633217159168 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:41:39.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39472633217159168 [0;39m 请求参数: [2]
2023-05-17 00:41:39.384 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472633217159168 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:41:39.384 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472633217159168 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:41:39.385 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472633217159168 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:41:39.385 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472633217159168 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:41:39.386 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472633217159168 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:41:39.386 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39472633217159168 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:41:39.386 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39472633217159168 [0;39m <==      Total: 3
2023-05-17 00:41:39.386 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:39.387 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:39.388 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:39.388 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:39.388 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m <==      Total: 1
2023-05-17 00:41:39.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:39.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:39.390 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:39.390 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:39.390 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m <==      Total: 1
2023-05-17 00:41:39.390 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:39.391 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:39.391 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:39.391 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:39.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m <==      Total: 1
2023-05-17 00:41:39.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:39.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:39.393 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:39.393 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:39.393 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m <==      Total: 1
2023-05-17 00:41:39.394 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:41:39.394 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:41:39.395 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:41:39.395 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39472633217159168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:41:39.395 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39472633217159168 [0;39m <==      Total: 1
2023-05-17 00:41:39.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39472633217159168 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:41:39.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39472633217159168 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:41:45.855 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39472719703707648 [0;39m 生成今日电子书快照开始
2023-05-17 00:42:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472719703707648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:42:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472719703707648 [0;39m ==> Parameters: 
2023-05-17 00:42:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472719703707648 [0;39m <==    Updates: 0
2023-05-17 00:42:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39472719703707648 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:42:03.495 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:03.829 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472740712976384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:42:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472740712976384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:42:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472740712976384 [0;39m ==> Parameters: 
2023-05-17 00:42:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472740712976384 [0;39m <==    Updates: 2
2023-05-17 00:42:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472740712976384 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:42:05.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:07.564 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:09.594 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:11.639 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:33.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472866542096384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:42:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472866542096384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:42:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472866542096384 [0;39m ==> Parameters: 
2023-05-17 00:42:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472866542096384 [0;39m <==    Updates: 2
2023-05-17 00:42:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472866542096384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:42:37.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:42:39.584 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39472971403890688 [0;39m 生成今日电子书快照开始
2023-05-17 00:43:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472971403890688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:43:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472971403890688 [0;39m ==> Parameters: 
2023-05-17 00:43:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39472971403890688 [0;39m <==    Updates: 0
2023-05-17 00:43:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39472971403890688 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-17 00:43:01.624 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:03.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:03.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39472992350244864 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:43:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472992350244864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:43:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472992350244864 [0;39m ==> Parameters: 
2023-05-17 00:43:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39472992350244864 [0;39m <==    Updates: 2
2023-05-17 00:43:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39472992350244864 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:43:05.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:09.783 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:25.717 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:27.764 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:33.815 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473118191947776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473118191947776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473118191947776 [0;39m ==> Parameters: 
2023-05-17 00:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473118191947776 [0;39m <==    Updates: 2
2023-05-17 00:43:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473118191947776 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 00:43:35.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:37.565 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:43:51.853 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39473223024381952 [0;39m 生成今日电子书快照开始
2023-05-17 00:44:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473223024381952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:44:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473223024381952 [0;39m ==> Parameters: 
2023-05-17 00:44:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473223024381952 [0;39m <==    Updates: 0
2023-05-17 00:44:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39473223024381952 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-17 00:44:03.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:03.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473244012679168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:44:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473244012679168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:44:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473244012679168 [0;39m ==> Parameters: 
2023-05-17 00:44:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473244012679168 [0;39m <==    Updates: 2
2023-05-17 00:44:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473244012679168 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-17 00:44:05.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:07.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:15.939 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:33.486 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:33.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473369866964992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:44:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473369866964992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:44:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473369866964992 [0;39m ==> Parameters: 
2023-05-17 00:44:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473369866964992 [0;39m <==    Updates: 2
2023-05-17 00:44:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473369866964992 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 00:44:37.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:41.592 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:44:58.630 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39472535909306368 [0;39m 连接关闭，token：OM8x4bPBaB，session id：2！当前连接数：0
2023-05-17 00:45:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39473474711982080 [0;39m 生成今日电子书快照开始
2023-05-17 00:45:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473474711982080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:45:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473474711982080 [0;39m ==> Parameters: 
2023-05-17 00:45:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473474711982080 [0;39m <==    Updates: 0
2023-05-17 00:45:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39473474711982080 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 00:45:00.548 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39472536169353216 [0;39m 有新连接：token：xMd5dgkJjL，session id：3，当前连接数：1
2023-05-17 00:45:00.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39473477509582848 [0;39m ------------- 开始 -------------
2023-05-17 00:45:00.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39473477509582848 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:45:00.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39473477509582848 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:45:00.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39473477509582848 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:45:00.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39473477509582848 [0;39m 请求参数: [2]
2023-05-17 00:45:00.680 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39473477509582848 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:45:00.680 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39473477509582848 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:45:00.681 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39473477509582848 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:45:00.682 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39473477509582848 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 170, 1
2023-05-17 00:45:00.682 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39473477509582848 [0;39m <==      Total: 1
2023-05-17 00:45:00.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39473477509582848 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":170,"voteCount":1}],"success":true}
2023-05-17 00:45:00.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39473477509582848 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:45:00.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39473477568303104 [0;39m ------------- 开始 -------------
2023-05-17 00:45:00.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39473477568303104 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:45:00.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39473477568303104 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:45:00.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39473477568303104 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:45:00.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39473477568303104 [0;39m 请求参数: [2]
2023-05-17 00:45:00.694 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39473477568303104 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:45:00.694 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39473477568303104 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:45:00.696 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473477568303104 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:45:00.696 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473477568303104 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:45:00.697 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473477568303104 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:45:00.698 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473477568303104 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:45:00.698 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39473477568303104 [0;39m <==      Total: 3
2023-05-17 00:45:00.699 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:00.699 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:00.700 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:00.700 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:00.701 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m <==      Total: 1
2023-05-17 00:45:00.702 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:00.702 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:00.703 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:00.703 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:00.704 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m <==      Total: 1
2023-05-17 00:45:00.704 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:00.705 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:00.705 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:00.706 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:00.706 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m <==      Total: 1
2023-05-17 00:45:00.707 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:00.707 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:00.708 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:00.708 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:00.709 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m <==      Total: 1
2023-05-17 00:45:00.709 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:00.710 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:00.710 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:00.711 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473477568303104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:00.711 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473477568303104 [0;39m <==      Total: 1
2023-05-17 00:45:00.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39473477568303104 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:45:00.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39473477568303104 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-17 00:45:00.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39473478365220864 [0;39m ------------- 开始 -------------
2023-05-17 00:45:00.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39473478365220864 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:45:00.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39473478365220864 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:45:00.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39473478365220864 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:45:00.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39473478365220864 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:45:00.883 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39473478365220864 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:45:00.883 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39473478365220864 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:45:00.884 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39473478365220864 [0;39m <==    Columns: id, content
2023-05-17 00:45:00.884 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39473478365220864 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:45:00.885 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39473478365220864 [0;39m <==      Total: 1
2023-05-17 00:45:00.885 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39473478365220864 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:45:00.885 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39473478365220864 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:45:00.897 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39473478365220864 [0;39m <==    Updates: 1
2023-05-17 00:45:00.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39473478365220864 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:45:00.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39473478365220864 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-17 00:45:03.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:03.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473495708667904 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:45:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473495708667904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:45:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473495708667904 [0;39m ==> Parameters: 
2023-05-17 00:45:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473495708667904 [0;39m <==    Updates: 2
2023-05-17 00:45:05.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473495708667904 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:45:05.507 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:07.521 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:09.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:13.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39473531473498112 [0;39m ------------- 开始 -------------
2023-05-17 00:45:13.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39473531473498112 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:45:13.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39473531473498112 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:45:13.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39473531473498112 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:45:13.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39473531473498112 [0;39m 请求参数: [2]
2023-05-17 00:45:13.545 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39473531473498112 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:45:13.545 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39473531473498112 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:45:13.547 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473531473498112 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:45:13.547 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473531473498112 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:45:13.548 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473531473498112 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:45:13.548 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39473531473498112 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:45:13.548 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39473531473498112 [0;39m <==      Total: 3
2023-05-17 00:45:13.548 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:13.549 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:13.550 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:13.550 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:13.550 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m <==      Total: 1
2023-05-17 00:45:13.551 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:13.551 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:13.552 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:13.552 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:13.552 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m <==      Total: 1
2023-05-17 00:45:13.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:13.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:13.554 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:13.554 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:13.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m <==      Total: 1
2023-05-17 00:45:13.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:13.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:13.556 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:13.556 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:13.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m <==      Total: 1
2023-05-17 00:45:13.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:45:13.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:45:13.558 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:45:13.558 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39473531473498112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:45:13.559 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39473531473498112 [0;39m <==      Total: 1
2023-05-17 00:45:13.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39473531473498112 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:45:13.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39473531473498112 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:45:33.620 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:33.809 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473621483261952 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:45:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473621483261952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:45:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473621483261952 [0;39m ==> Parameters: 
2023-05-17 00:45:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473621483261952 [0;39m <==    Updates: 2
2023-05-17 00:45:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473621483261952 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:45:35.648 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:39.702 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:45:57.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39473726399582208 [0;39m 生成今日电子书快照开始
2023-05-17 00:46:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473726399582208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:46:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473726399582208 [0;39m ==> Parameters: 
2023-05-17 00:46:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473726399582208 [0;39m <==    Updates: 0
2023-05-17 00:46:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39473726399582208 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-17 00:46:03.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:03.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473747337547776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:46:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473747337547776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:46:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473747337547776 [0;39m ==> Parameters: 
2023-05-17 00:46:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473747337547776 [0;39m <==    Updates: 2
2023-05-17 00:46:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473747337547776 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-17 00:46:07.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:19.716 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:21.747 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:33.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:35.025 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473873233776640 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:46:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473873233776640 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:46:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473873233776640 [0;39m ==> Parameters: 
2023-05-17 00:46:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473873233776640 [0;39m <==    Updates: 2
2023-05-17 00:46:35.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473873233776640 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:46:35.531 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:37.573 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:43.772 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:46:45.786 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39473977999101952 [0;39m 生成今日电子书快照开始
2023-05-17 00:47:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473977999101952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:47:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473977999101952 [0;39m ==> Parameters: 
2023-05-17 00:47:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39473977999101952 [0;39m <==    Updates: 0
2023-05-17 00:47:00.035 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39473977999101952 [0;39m 生成今日电子书快照结束，耗时：16毫秒
2023-05-17 00:47:03.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:03.815 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39473998983204864 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:47:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473998983204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:47:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473998983204864 [0;39m ==> Parameters: 
2023-05-17 00:47:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39473998983204864 [0;39m <==    Updates: 2
2023-05-17 00:47:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39473998983204864 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:47:07.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:09.582 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:11.626 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:33.489 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:33.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474124850073600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:47:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474124850073600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:47:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474124850073600 [0;39m ==> Parameters: 
2023-05-17 00:47:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474124850073600 [0;39m <==    Updates: 2
2023-05-17 00:47:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474124850073600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:47:37.553 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:39.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:47:41.252 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39472499787960320 [0;39m 连接关闭，token：xMd5dgkJjL，session id：3！当前连接数：0
2023-05-17 00:47:42.748 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39472499897012224 [0;39m 有新连接：token：BvzC8YtWFU，session id：4，当前连接数：1
2023-05-17 00:47:42.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474157876023296 [0;39m ------------- 开始 -------------
2023-05-17 00:47:42.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474157876023296 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:47:42.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474157876023296 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:47:42.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474157876023296 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:42.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474157876023296 [0;39m 请求参数: [2]
2023-05-17 00:47:42.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474157884411904 [0;39m ------------- 开始 -------------
2023-05-17 00:47:42.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474157884411904 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:47:42.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474157884411904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:47:42.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474157884411904 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:42.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474157884411904 [0;39m 请求参数: [2]
2023-05-17 00:47:42.891 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474157876023296 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:47:42.892 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474157876023296 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:47:42.892 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474157884411904 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:47:42.892 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474157884411904 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:47:42.892 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474157876023296 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:47:42.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474157884411904 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:47:42.893 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474157876023296 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 171, 1
2023-05-17 00:47:42.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474157884411904 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:47:42.893 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474157876023296 [0;39m <==      Total: 1
2023-05-17 00:47:42.894 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474157884411904 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:47:42.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474157876023296 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":171,"voteCount":1}],"success":true}
2023-05-17 00:47:42.894 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474157884411904 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:47:42.894 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474157884411904 [0;39m <==      Total: 3
2023-05-17 00:47:42.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474157876023296 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:47:42.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:42.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:42.896 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:42.896 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:42.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m <==      Total: 1
2023-05-17 00:47:42.897 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:42.897 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:42.898 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:42.898 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:42.898 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m <==      Total: 1
2023-05-17 00:47:42.898 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:42.899 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:42.899 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:42.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:42.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m <==      Total: 1
2023-05-17 00:47:42.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:42.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:42.901 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:42.901 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:42.901 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m <==      Total: 1
2023-05-17 00:47:42.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:42.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:42.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:42.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474157884411904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:42.904 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474157884411904 [0;39m <==      Total: 1
2023-05-17 00:47:42.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474157884411904 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:47:42.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474157884411904 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:47:42.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474158127681536 [0;39m ------------- 开始 -------------
2023-05-17 00:47:42.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474158127681536 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:47:42.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474158127681536 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:47:42.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474158127681536 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:42.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474158127681536 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:47:42.952 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474158127681536 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:47:42.953 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474158127681536 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:47:42.954 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474158127681536 [0;39m <==    Columns: id, content
2023-05-17 00:47:42.954 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474158127681536 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:47:42.954 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474158127681536 [0;39m <==      Total: 1
2023-05-17 00:47:42.955 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474158127681536 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:47:42.955 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474158127681536 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:47:42.964 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474158127681536 [0;39m <==    Updates: 1
2023-05-17 00:47:42.964 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474158127681536 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:47:42.964 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474158127681536 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:47:43.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474162066132992 [0;39m ------------- 开始 -------------
2023-05-17 00:47:43.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474162066132992 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:47:43.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474162066132992 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:47:43.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474162066132992 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:43.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474162066132992 [0;39m 请求参数: [2]
2023-05-17 00:47:43.889 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474162066132992 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:47:43.890 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474162066132992 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:47:43.890 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474162066132992 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:47:43.891 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474162066132992 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:47:43.891 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474162066132992 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:47:43.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474162066132992 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:47:43.892 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474162066132992 [0;39m <==      Total: 3
2023-05-17 00:47:43.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:43.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:43.894 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:43.894 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:43.894 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m <==      Total: 1
2023-05-17 00:47:43.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:43.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:43.895 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:43.896 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:43.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m <==      Total: 1
2023-05-17 00:47:43.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:43.897 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:43.897 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:43.897 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:43.897 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m <==      Total: 1
2023-05-17 00:47:43.898 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:43.898 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:43.899 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:43.899 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:43.899 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m <==      Total: 1
2023-05-17 00:47:43.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:43.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:43.901 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:43.901 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474162066132992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:43.901 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474162066132992 [0;39m <==      Total: 1
2023-05-17 00:47:43.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474162066132992 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:47:43.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474162066132992 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:47:58.058 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39473478365220864 [0;39m 连接关闭，token：BvzC8YtWFU，session id：4！当前连接数：0
2023-05-17 00:47:58.781 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39473531473498112 [0;39m 有新连接：token：6KD9pHstWr，session id：5，当前连接数：1
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474224729034753 [0;39m ------------- 开始 -------------
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474224729034752 [0;39m ------------- 开始 -------------
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474224729034753 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474224729034752 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474224729034753 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474224729034752 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:47:58.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474224729034753 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:58.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474224729034752 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:58.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474224729034753 [0;39m 请求参数: [2]
2023-05-17 00:47:58.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474224729034752 [0;39m 请求参数: [2]
2023-05-17 00:47:58.831 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474224729034753 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:47:58.831 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474224729034752 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:47:58.831 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474224729034753 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:47:58.831 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474224729034752 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:47:58.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474224729034753 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:47:58.831 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474224729034752 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:47:58.832 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474224729034753 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 172, 1
2023-05-17 00:47:58.832 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474224729034752 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:47:58.832 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474224729034753 [0;39m <==      Total: 1
2023-05-17 00:47:58.832 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474224729034752 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:47:58.833 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474224729034752 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:47:58.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474224729034753 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":172,"voteCount":1}],"success":true}
2023-05-17 00:47:58.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474224729034753 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:47:58.833 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474224729034752 [0;39m <==      Total: 3
2023-05-17 00:47:58.833 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:58.834 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:58.834 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:58.834 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:58.835 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m <==      Total: 1
2023-05-17 00:47:58.835 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:58.835 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:58.836 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:58.837 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:58.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m <==      Total: 1
2023-05-17 00:47:58.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:58.838 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:58.838 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:58.839 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:58.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m <==      Total: 1
2023-05-17 00:47:58.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:58.840 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:58.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:58.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:58.841 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m <==      Total: 1
2023-05-17 00:47:58.841 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:58.841 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:58.842 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:58.842 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474224729034752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:58.842 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474224729034752 [0;39m <==      Total: 1
2023-05-17 00:47:58.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474224729034752 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:47:58.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474224729034752 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:47:58.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474224905195520 [0;39m ------------- 开始 -------------
2023-05-17 00:47:58.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474224905195520 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:47:58.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474224905195520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:47:58.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474224905195520 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:58.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474224905195520 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:47:58.872 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474224905195520 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:47:58.872 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474224905195520 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:47:58.874 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474224905195520 [0;39m <==    Columns: id, content
2023-05-17 00:47:58.875 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474224905195520 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:47:58.875 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474224905195520 [0;39m <==      Total: 1
2023-05-17 00:47:58.876 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474224905195520 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:47:58.876 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474224905195520 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:47:58.879 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474224905195520 [0;39m <==    Updates: 1
2023-05-17 00:47:58.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474224905195520 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:47:58.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474224905195520 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:47:59.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474228076089344 [0;39m ------------- 开始 -------------
2023-05-17 00:47:59.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474228076089344 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:47:59.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474228076089344 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:47:59.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474228076089344 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:47:59.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474228076089344 [0;39m 请求参数: [2]
2023-05-17 00:47:59.627 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474228076089344 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:47:59.627 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474228076089344 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:47:59.628 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474228076089344 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:47:59.628 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474228076089344 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:47:59.629 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474228076089344 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:47:59.629 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474228076089344 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:47:59.629 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474228076089344 [0;39m <==      Total: 3
2023-05-17 00:47:59.629 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:59.629 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:59.631 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:59.631 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:59.632 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m <==      Total: 1
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m <==      Total: 1
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m <==      Total: 1
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m <==      Total: 1
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:47:59.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474228076089344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:47:59.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474228076089344 [0;39m <==      Total: 1
2023-05-17 00:47:59.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474228076089344 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:47:59.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474228076089344 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:48:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39474229699284992 [0;39m 生成今日电子书快照开始
2023-05-17 00:48:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474229699284992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:48:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474229699284992 [0;39m ==> Parameters: 
2023-05-17 00:48:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474229699284992 [0;39m <==    Updates: 0
2023-05-17 00:48:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39474229699284992 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 00:48:01.711 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:03.754 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:03.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474250679193600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:48:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474250679193600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:48:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474250679193600 [0;39m ==> Parameters: 
2023-05-17 00:48:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474250679193600 [0;39m <==    Updates: 2
2023-05-17 00:48:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474250679193600 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:48:05.798 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:09.395 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39474157876023296 [0;39m 连接关闭，token：6KD9pHstWr，session id：5！当前连接数：0
2023-05-17 00:48:09.818 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39474157884411904 [0;39m 有新连接：token：6aomgLzq9s，session id：6，当前连接数：1
2023-05-17 00:48:09.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474271004790784 [0;39m ------------- 开始 -------------
2023-05-17 00:48:09.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474271004790785 [0;39m ------------- 开始 -------------
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474271004790785 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474271004790784 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474271004790784 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474271004790785 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474271004790785 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474271004790784 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474271004790784 [0;39m 请求参数: [2]
2023-05-17 00:48:09.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474271004790785 [0;39m 请求参数: [2]
2023-05-17 00:48:09.863 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474271004790785 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:09.863 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474271004790784 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:48:09.863 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474271004790785 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:09.863 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474271004790784 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:09.864 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474271004790785 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:09.864 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474271004790784 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:48:09.864 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474271004790784 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 173, 1
2023-05-17 00:48:09.864 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474271004790785 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:09.864 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474271004790784 [0;39m <==      Total: 1
2023-05-17 00:48:09.865 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474271004790785 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:09.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474271004790784 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":173,"voteCount":1}],"success":true}
2023-05-17 00:48:09.865 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474271004790785 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:09.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474271004790784 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:48:09.865 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474271004790785 [0;39m <==      Total: 3
2023-05-17 00:48:09.866 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:09.866 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:09.867 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:09.867 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:09.867 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m <==      Total: 1
2023-05-17 00:48:09.868 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:09.868 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:09.869 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:09.869 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:09.869 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m <==      Total: 1
2023-05-17 00:48:09.870 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:09.870 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:09.871 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:09.871 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:09.871 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m <==      Total: 1
2023-05-17 00:48:09.872 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:09.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:09.873 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:09.874 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:09.874 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:09.874 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m <==      Total: 1
2023-05-17 00:48:09.874 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:09.875 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:09.875 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:09.875 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474271004790785 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:09.875 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474271004790785 [0;39m <==      Total: 1
2023-05-17 00:48:09.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474271004790785 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:09.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474271004790785 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:48:09.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474271197728768 [0;39m ------------- 开始 -------------
2023-05-17 00:48:09.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474271197728768 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:48:09.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474271197728768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:48:09.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474271197728768 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:09.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474271197728768 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:48:09.910 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474271197728768 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:48:09.910 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474271197728768 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:09.911 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474271197728768 [0;39m <==    Columns: id, content
2023-05-17 00:48:09.911 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474271197728768 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:48:09.912 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474271197728768 [0;39m <==      Total: 1
2023-05-17 00:48:09.912 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474271197728768 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:48:09.912 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474271197728768 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:09.920 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474271197728768 [0;39m <==    Updates: 1
2023-05-17 00:48:09.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474271197728768 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:48:09.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474271197728768 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:48:10.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474275501084672 [0;39m ------------- 开始 -------------
2023-05-17 00:48:10.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474275501084672 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:10.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474275501084672 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:10.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474275501084672 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:10.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474275501084672 [0;39m 请求参数: [2]
2023-05-17 00:48:10.934 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474275501084672 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:10.935 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474275501084672 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:10.936 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474275501084672 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:10.936 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474275501084672 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:10.936 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474275501084672 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:10.937 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474275501084672 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:10.937 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474275501084672 [0;39m <==      Total: 3
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:10.938 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:10.938 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m <==      Total: 1
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:10.938 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:10.938 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m <==      Total: 1
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:10.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:10.938 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:10.938 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m <==      Total: 1
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:10.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:10.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m <==      Total: 1
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:10.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:10.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474275501084672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:10.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474275501084672 [0;39m <==      Total: 1
2023-05-17 00:48:10.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474275501084672 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:10.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474275501084672 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 00:48:16.239 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39474224729034753 [0;39m 连接关闭，token：6aomgLzq9s，session id：6！当前连接数：0
2023-05-17 00:48:16.384 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39474224729034752 [0;39m 有新连接：token：KqDooykTlj，session id：7，当前连接数：1
2023-05-17 00:48:16.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474298485870592 [0;39m ------------- 开始 -------------
2023-05-17 00:48:16.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474298485870593 [0;39m ------------- 开始 -------------
2023-05-17 00:48:16.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474298485870592 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:48:16.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474298485870593 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:16.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474298485870592 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:48:16.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474298485870593 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:16.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474298485870592 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:16.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474298485870593 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:16.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474298485870593 [0;39m 请求参数: [2]
2023-05-17 00:48:16.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474298485870592 [0;39m 请求参数: [2]
2023-05-17 00:48:16.414 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474298485870593 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:16.415 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474298485870593 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:16.415 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474298485870592 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:48:16.416 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474298485870592 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:16.415 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474298485870593 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:16.416 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474298485870593 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:16.416 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474298485870592 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:48:16.416 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474298485870593 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:16.416 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474298485870592 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 174, 1
2023-05-17 00:48:16.417 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474298485870593 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:16.417 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474298485870592 [0;39m <==      Total: 1
2023-05-17 00:48:16.417 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474298485870593 [0;39m <==      Total: 3
2023-05-17 00:48:16.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474298485870592 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":174,"voteCount":1}],"success":true}
2023-05-17 00:48:16.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474298485870592 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:48:16.417 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:16.418 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:16.418 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:16.418 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:16.419 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m <==      Total: 1
2023-05-17 00:48:16.419 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:16.419 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:16.419 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:16.421 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:16.421 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m <==      Total: 1
2023-05-17 00:48:16.421 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:16.421 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:16.422 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:16.422 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:16.422 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m <==      Total: 1
2023-05-17 00:48:16.423 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:16.423 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:16.423 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:16.423 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:16.424 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m <==      Total: 1
2023-05-17 00:48:16.424 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:16.424 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:16.424 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:16.425 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474298485870593 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:16.425 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474298485870593 [0;39m <==      Total: 1
2023-05-17 00:48:16.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474298485870593 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:16.427 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474298485870593 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:48:16.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474298662031360 [0;39m ------------- 开始 -------------
2023-05-17 00:48:16.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474298662031360 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:48:16.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474298662031360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:48:16.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474298662031360 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:16.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474298662031360 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:48:16.458 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474298662031360 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:48:16.458 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474298662031360 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:16.459 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474298662031360 [0;39m <==    Columns: id, content
2023-05-17 00:48:16.460 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474298662031360 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:48:16.460 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474298662031360 [0;39m <==      Total: 1
2023-05-17 00:48:16.461 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474298662031360 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:48:16.461 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474298662031360 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:16.462 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474298662031360 [0;39m <==    Updates: 1
2023-05-17 00:48:16.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474298662031360 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:48:16.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474298662031360 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:48:17.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474302923444224 [0;39m ------------- 开始 -------------
2023-05-17 00:48:17.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474302923444224 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:17.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474302923444224 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:17.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474302923444224 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:17.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474302923444224 [0;39m 请求参数: [2]
2023-05-17 00:48:17.473 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474302923444224 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:17.473 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474302923444224 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:17.474 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474302923444224 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:17.474 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474302923444224 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:17.474 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474302923444224 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:17.475 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474302923444224 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:17.475 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474302923444224 [0;39m <==      Total: 3
2023-05-17 00:48:17.475 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:17.475 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:17.477 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m <==      Total: 1
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m <==      Total: 1
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m <==      Total: 1
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m <==      Total: 1
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:17.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474302923444224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:17.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474302923444224 [0;39m <==      Total: 1
2023-05-17 00:48:17.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474302923444224 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:17.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474302923444224 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 00:48:27.040 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39474271004790784 [0;39m 连接关闭，token：KqDooykTlj，session id：7！当前连接数：0
2023-05-17 00:48:27.208 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39474271004790785 [0;39m 有新连接：token：2PMxAzO4hQ，session id：8，当前连接数：1
2023-05-17 00:48:27.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474343947931649 [0;39m ------------- 开始 -------------
2023-05-17 00:48:27.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474343947931648 [0;39m ------------- 开始 -------------
2023-05-17 00:48:27.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474343947931648 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:27.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474343947931649 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:48:27.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474343947931649 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:48:27.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474343947931648 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:27.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474343947931649 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:27.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474343947931648 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:27.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474343947931648 [0;39m 请求参数: [2]
2023-05-17 00:48:27.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474343947931649 [0;39m 请求参数: [2]
2023-05-17 00:48:27.254 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474343947931648 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:27.255 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474343947931648 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:27.256 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474343947931649 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:48:27.256 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474343947931648 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:27.256 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474343947931649 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:27.256 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474343947931648 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:27.256 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474343947931649 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:48:27.257 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474343947931648 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:27.257 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474343947931649 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 175, 1
2023-05-17 00:48:27.257 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474343947931649 [0;39m <==      Total: 1
2023-05-17 00:48:27.257 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474343947931648 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:27.257 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474343947931648 [0;39m <==      Total: 3
2023-05-17 00:48:27.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474343947931649 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":175,"voteCount":1}],"success":true}
2023-05-17 00:48:27.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474343947931649 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:48:27.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:27.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:27.259 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:27.259 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:27.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m <==      Total: 1
2023-05-17 00:48:27.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:27.260 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:27.261 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:27.261 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:27.261 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m <==      Total: 1
2023-05-17 00:48:27.262 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:27.262 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:27.263 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:27.263 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:27.263 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m <==      Total: 1
2023-05-17 00:48:27.264 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:27.264 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:27.265 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:27.265 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:27.265 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m <==      Total: 1
2023-05-17 00:48:27.265 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:27.266 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:27.266 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:27.266 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474343947931648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:27.267 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474343947931648 [0;39m <==      Total: 1
2023-05-17 00:48:27.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474343947931648 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:27.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474343947931648 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:48:27.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474344258310144 [0;39m ------------- 开始 -------------
2023-05-17 00:48:27.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474344258310144 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:48:27.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474344258310144 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:48:27.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474344258310144 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:27.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474344258310144 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:48:27.327 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474344258310144 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:48:27.327 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474344258310144 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:27.328 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474344258310144 [0;39m <==    Columns: id, content
2023-05-17 00:48:27.328 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474344258310144 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:48:27.328 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474344258310144 [0;39m <==      Total: 1
2023-05-17 00:48:27.328 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474344258310144 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:48:27.330 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474344258310144 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:27.331 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474344258310144 [0;39m <==    Updates: 1
2023-05-17 00:48:27.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474344258310144 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:48:27.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474344258310144 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:48:27.847 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:28.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474347320152064 [0;39m ------------- 开始 -------------
2023-05-17 00:48:28.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474347320152064 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:28.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474347320152064 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:28.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474347320152064 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:28.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474347320152064 [0;39m 请求参数: [2]
2023-05-17 00:48:28.057 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474347320152064 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:28.058 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474347320152064 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:28.059 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474347320152064 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:28.059 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474347320152064 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:28.060 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474347320152064 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:28.060 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474347320152064 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:28.060 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474347320152064 [0;39m <==      Total: 3
2023-05-17 00:48:28.060 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:28.061 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:28.062 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:28.062 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:28.062 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m <==      Total: 1
2023-05-17 00:48:28.062 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:28.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:28.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:28.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:28.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m <==      Total: 1
2023-05-17 00:48:28.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:28.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:28.064 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:28.064 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:28.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m <==      Total: 1
2023-05-17 00:48:28.065 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:28.065 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:28.065 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:28.065 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:28.065 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m <==      Total: 1
2023-05-17 00:48:28.066 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:28.066 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:28.066 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:28.066 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474347320152064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:28.066 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474347320152064 [0;39m <==      Total: 1
2023-05-17 00:48:28.067 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474347320152064 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:28.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474347320152064 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:48:33.839 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474376499924992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:48:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474376499924992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:48:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474376499924992 [0;39m ==> Parameters: 
2023-05-17 00:48:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474376499924992 [0;39m <==    Updates: 2
2023-05-17 00:48:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474376499924992 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:48:37.533 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:37.840 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39474298485870592 [0;39m 连接关闭，token：2PMxAzO4hQ，session id：8！当前连接数：0
2023-05-17 00:48:38.058 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39474298485870593 [0;39m 有新连接：token：TPGWu8XNv1，session id：9，当前连接数：1
2023-05-17 00:48:38.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474389472907264 [0;39m ------------- 开始 -------------
2023-05-17 00:48:38.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474389472907264 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:48:38.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474389472907265 [0;39m ------------- 开始 -------------
2023-05-17 00:48:38.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474389472907264 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:48:38.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474389472907264 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:38.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474389472907264 [0;39m 请求参数: [2]
2023-05-17 00:48:38.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474389472907265 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:38.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474389472907265 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:38.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474389472907265 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:38.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474389472907265 [0;39m 请求参数: [2]
2023-05-17 00:48:38.110 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474389472907265 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:38.110 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474389472907265 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:38.110 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474389472907264 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:48:38.111 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474389472907264 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:38.111 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474389472907265 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:38.111 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474389472907264 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:48:38.111 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474389472907264 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 176, 1
2023-05-17 00:48:38.111 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474389472907265 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:38.112 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474389472907264 [0;39m <==      Total: 1
2023-05-17 00:48:38.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474389472907264 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":176,"voteCount":1}],"success":true}
2023-05-17 00:48:38.112 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474389472907265 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:38.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474389472907264 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:48:38.113 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474389472907265 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:38.113 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474389472907265 [0;39m <==      Total: 3
2023-05-17 00:48:38.113 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:38.113 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:38.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:38.115 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:38.115 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m <==      Total: 1
2023-05-17 00:48:38.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:38.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:38.117 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:38.117 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:38.118 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m <==      Total: 1
2023-05-17 00:48:38.118 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:38.118 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:38.119 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:38.119 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:38.120 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m <==      Total: 1
2023-05-17 00:48:38.120 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:38.120 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:38.120 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:38.121 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:38.121 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m <==      Total: 1
2023-05-17 00:48:38.121 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:38.121 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:38.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:38.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474389472907265 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:38.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474389472907265 [0;39m <==      Total: 1
2023-05-17 00:48:38.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474389472907265 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:38.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474389472907265 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-17 00:48:38.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474389737148416 [0;39m ------------- 开始 -------------
2023-05-17 00:48:38.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474389737148416 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:48:38.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474389737148416 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:48:38.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474389737148416 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:38.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474389737148416 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:48:38.173 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474389737148416 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:48:38.174 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474389737148416 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:38.175 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474389737148416 [0;39m <==    Columns: id, content
2023-05-17 00:48:38.175 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474389737148416 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:48:38.175 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474389737148416 [0;39m <==      Total: 1
2023-05-17 00:48:38.176 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474389737148416 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:48:38.176 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474389737148416 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:38.202 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474389737148416 [0;39m <==    Updates: 1
2023-05-17 00:48:38.202 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474389737148416 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:48:38.202 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474389737148416 [0;39m ------------- 结束 耗时：33 ms -------------
2023-05-17 00:48:38.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474393205837824 [0;39m ------------- 开始 -------------
2023-05-17 00:48:38.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474393205837824 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:38.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474393205837824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:38.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474393205837824 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:38.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474393205837824 [0;39m 请求参数: [2]
2023-05-17 00:48:38.999 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474393205837824 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:38.999 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474393205837824 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:39.000 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474393205837824 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:39.000 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474393205837824 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:39.001 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474393205837824 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:39.001 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474393205837824 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:39.001 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474393205837824 [0;39m <==      Total: 3
2023-05-17 00:48:39.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:39.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:39.002 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:39.002 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:39.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m <==      Total: 1
2023-05-17 00:48:39.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:39.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:39.005 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:39.005 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:39.005 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m <==      Total: 1
2023-05-17 00:48:39.006 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:39.006 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:39.007 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:39.007 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:39.007 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m <==      Total: 1
2023-05-17 00:48:39.007 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:39.008 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:39.008 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:39.009 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:39.009 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m <==      Total: 1
2023-05-17 00:48:39.009 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:39.009 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:39.010 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:39.010 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474393205837824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:39.010 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474393205837824 [0;39m <==      Total: 1
2023-05-17 00:48:39.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474393205837824 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:39.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474393205837824 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:48:45.085 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39474343947931649 [0;39m 连接关闭，token：TPGWu8XNv1，session id：9！当前连接数：0
2023-05-17 00:48:45.270 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39474343947931648 [0;39m 有新连接：token：o28uuG9ktS，session id：a，当前连接数：1
2023-05-17 00:48:45.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474419671896064 [0;39m ------------- 开始 -------------
2023-05-17 00:48:45.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474419671896065 [0;39m ------------- 开始 -------------
2023-05-17 00:48:45.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474419671896065 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:48:45.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474419671896064 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:45.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474419671896065 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:48:45.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474419671896064 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:45.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474419671896064 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:45.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474419671896065 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:45.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474419671896064 [0;39m 请求参数: [2]
2023-05-17 00:48:45.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474419671896065 [0;39m 请求参数: [2]
2023-05-17 00:48:45.307 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474419671896064 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:45.308 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474419671896064 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:45.308 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474419671896065 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:48:45.308 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474419671896065 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:45.324 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474419671896064 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:45.324 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474419671896065 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:48:45.343 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474419671896064 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:45.325 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474419671896065 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 177, 1
2023-05-17 00:48:45.343 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474419671896065 [0;39m <==      Total: 1
2023-05-17 00:48:45.343 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474419671896064 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:45.344 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474419671896064 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:45.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474419671896065 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":177,"voteCount":1}],"success":true}
2023-05-17 00:48:45.344 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474419671896064 [0;39m <==      Total: 3
2023-05-17 00:48:45.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474419671896065 [0;39m ------------- 结束 耗时：38 ms -------------
2023-05-17 00:48:45.345 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:45.345 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:45.346 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:45.346 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:45.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m <==      Total: 1
2023-05-17 00:48:45.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:45.347 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:45.348 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:45.348 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:45.348 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m <==      Total: 1
2023-05-17 00:48:45.348 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:45.349 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:45.349 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:45.349 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:45.350 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m <==      Total: 1
2023-05-17 00:48:45.350 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:45.350 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:45.351 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:45.351 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:45.351 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m <==      Total: 1
2023-05-17 00:48:45.352 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:45.352 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:45.353 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:45.353 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474419671896064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:45.353 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474419671896064 [0;39m <==      Total: 1
2023-05-17 00:48:45.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474419671896064 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:45.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474419671896064 [0;39m ------------- 结束 耗时：48 ms -------------
2023-05-17 00:48:45.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474419931942912 [0;39m ------------- 开始 -------------
2023-05-17 00:48:45.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474419931942912 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:48:45.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474419931942912 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:48:45.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474419931942912 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:45.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474419931942912 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:48:45.368 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474419931942912 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:48:45.368 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474419931942912 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:45.368 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474419931942912 [0;39m <==    Columns: id, content
2023-05-17 00:48:45.368 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474419931942912 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:48:45.368 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474419931942912 [0;39m <==      Total: 1
2023-05-17 00:48:45.368 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474419931942912 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:48:45.373 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474419931942912 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:45.375 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474419931942912 [0;39m <==    Updates: 1
2023-05-17 00:48:45.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474419931942912 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:48:45.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474419931942912 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:48:46.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474423077670912 [0;39m ------------- 开始 -------------
2023-05-17 00:48:46.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474423077670912 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:46.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474423077670912 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:46.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474423077670912 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:46.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474423077670912 [0;39m 请求参数: [2]
2023-05-17 00:48:46.119 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474423077670912 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:46.119 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474423077670912 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:46.120 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474423077670912 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:46.120 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474423077670912 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:46.121 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474423077670912 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:46.121 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474423077670912 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:46.122 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474423077670912 [0;39m <==      Total: 3
2023-05-17 00:48:46.122 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:46.122 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:46.123 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:46.123 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:46.123 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m <==      Total: 1
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m <==      Total: 1
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m <==      Total: 1
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m <==      Total: 1
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:46.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474423077670912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:46.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474423077670912 [0;39m <==      Total: 1
2023-05-17 00:48:46.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474423077670912 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:46.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474423077670912 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 00:48:51.922 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:48:55.430 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39474389472907264 [0;39m 连接关闭，token：o28uuG9ktS，session id：a！当前连接数：0
2023-05-17 00:48:55.596 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39474389472907265 [0;39m 有新连接：token：nMK5LP94Zh，session id：b，当前连接数：1
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474462978084865 [0;39m ------------- 开始 -------------
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474462978084864 [0;39m ------------- 开始 -------------
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474462978084865 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474462978084864 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474462978084865 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474462978084864 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474462978084865 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:55.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474462978084864 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:55.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474462978084865 [0;39m 请求参数: [2]
2023-05-17 00:48:55.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474462978084864 [0;39m 请求参数: [2]
2023-05-17 00:48:55.632 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474462978084865 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:55.632 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474462978084864 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:48:55.633 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474462978084865 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:55.633 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474462978084864 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:55.633 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474462978084865 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:55.634 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474462978084865 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:55.633 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474462978084864 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:48:55.634 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39474462978084864 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 178, 1
2023-05-17 00:48:55.634 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474462978084865 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:55.635 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474462978084865 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:55.635 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39474462978084864 [0;39m <==      Total: 1
2023-05-17 00:48:55.635 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474462978084865 [0;39m <==      Total: 3
2023-05-17 00:48:55.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474462978084864 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":178,"voteCount":1}],"success":true}
2023-05-17 00:48:55.635 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:55.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474462978084864 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:48:55.635 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:55.637 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:55.637 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:55.637 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m <==      Total: 1
2023-05-17 00:48:55.637 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:55.638 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:55.638 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:55.638 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:55.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m <==      Total: 1
2023-05-17 00:48:55.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:55.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:55.639 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:55.639 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:55.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m <==      Total: 1
2023-05-17 00:48:55.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:55.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:55.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:55.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:55.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m <==      Total: 1
2023-05-17 00:48:55.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:55.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:55.643 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:55.643 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474462978084865 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:55.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474462978084865 [0;39m <==      Total: 1
2023-05-17 00:48:55.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474462978084865 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:55.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474462978084865 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:48:55.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474463191994368 [0;39m ------------- 开始 -------------
2023-05-17 00:48:55.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474463191994368 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:48:55.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474463191994368 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:48:55.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474463191994368 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:55.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474463191994368 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:48:55.687 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474463191994368 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:48:55.687 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474463191994368 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:55.688 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474463191994368 [0;39m <==    Columns: id, content
2023-05-17 00:48:55.688 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39474463191994368 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:48:55.688 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39474463191994368 [0;39m <==      Total: 1
2023-05-17 00:48:55.690 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474463191994368 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:48:55.690 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474463191994368 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:48:55.697 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39474463191994368 [0;39m <==    Updates: 1
2023-05-17 00:48:55.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474463191994368 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:48:55.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474463191994368 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:48:56.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474466958479360 [0;39m ------------- 开始 -------------
2023-05-17 00:48:56.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474466958479360 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:48:56.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474466958479360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:48:56.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474466958479360 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:48:56.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474466958479360 [0;39m 请求参数: [2]
2023-05-17 00:48:56.582 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474466958479360 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:48:56.582 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474466958479360 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:48:56.583 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474466958479360 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:48:56.583 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474466958479360 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:48:56.583 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474466958479360 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:48:56.584 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474466958479360 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:48:56.584 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474466958479360 [0;39m <==      Total: 3
2023-05-17 00:48:56.584 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:56.585 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:56.585 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:56.585 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:56.585 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m <==      Total: 1
2023-05-17 00:48:56.585 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:56.585 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:56.585 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m <==      Total: 1
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m <==      Total: 1
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m <==      Total: 1
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:48:56.588 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474466958479360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:48:56.588 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474466958479360 [0;39m <==      Total: 1
2023-05-17 00:48:56.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474466958479360 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:48:56.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474466958479360 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:49:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39474481307193344 [0;39m 生成今日电子书快照开始
2023-05-17 00:49:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474481307193344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:49:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474481307193344 [0;39m ==> Parameters: 
2023-05-17 00:49:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474481307193344 [0;39m <==    Updates: 0
2023-05-17 00:49:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39474481307193344 [0;39m 生成今日电子书快照结束，耗时：9毫秒
2023-05-17 00:49:03.504 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39474419671896065 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39474419671896065 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39474419671896065 [0;39m 登录校验开始，token：39470379189800960
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39474419671896065 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39470379189800960"}
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474496469602304 [0;39m ------------- 开始 -------------
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474496469602304 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474496469602304 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474496469602304 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:49:03.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474496469602304 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":2,"parentId":6,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 00:49:03.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496469602304 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496469602304 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496469602304 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496469602304 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496469602304 [0;39m <==      Total: 1
2023-05-17 00:49:03.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496469602304 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496469602304 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496469602304 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496469602304 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.622 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496469602304 [0;39m <==      Total: 1
2023-05-17 00:49:03.622 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39474496469602304 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 00:49:03.622 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39474496469602304 [0;39m ==> Parameters: 1(Long), 2(Long), 6(Long), 1(Long), 额外企鹅(String), 2023-05-17 00:49:03.622(Timestamp), null
2023-05-17 00:49:03.622 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39474496469602304 [0;39m <==    Updates: 1
2023-05-17 00:49:03.622 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39474496469602304 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 00:49:03.622 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39474496469602304 [0;39m ==> Parameters: 9(Long)
2023-05-17 00:49:03.622 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39474496469602304 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:49:03.622 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39474496469602304 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 00:49:03.622 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39474496469602304 [0;39m <==      Total: 1
2023-05-17 00:49:03.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474496469602304 [0;39m 返回结果: {"content":{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 00:49:03.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474496469602304 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:49:03.629 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39474496469602304 [0;39m ------------- LoginInterceptor 结束 耗时：13 ms -------------
2023-05-17 00:49:03.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39474496540905472 [0;39m ------------- 开始 -------------
2023-05-17 00:49:03.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39474496540905472 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:49:03.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39474496540905472 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:49:03.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39474496540905472 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:49:03.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39474496540905472 [0;39m 请求参数: [2]
2023-05-17 00:49:03.634 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474496540905472 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:49:03.634 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474496540905472 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:49:03.635 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474496540905472 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:49:03.635 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474496540905472 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:49:03.635 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474496540905472 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:49:03.636 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474496540905472 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:49:03.637 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39474496540905472 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 00:49:03.637 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39474496540905472 [0;39m <==      Total: 4
2023-05-17 00:49:03.637 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.637 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.638 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.638 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.638 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.639 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.639 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.642 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.642 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.643 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.644 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:49:03.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:49:03.646 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:49:03.646 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39474496540905472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:49:03.647 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39474496540905472 [0;39m <==      Total: 1
2023-05-17 00:49:03.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39474496540905472 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:49:03.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39474496540905472 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 00:49:03.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474502287101952 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:49:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474502287101952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:49:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474502287101952 [0;39m ==> Parameters: 
2023-05-17 00:49:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474502287101952 [0;39m <==    Updates: 2
2023-05-17 00:49:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474502287101952 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 00:49:07.589 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:13.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:15.991 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:33.831 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474628166553600 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:49:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474628166553600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:49:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474628166553600 [0;39m ==> Parameters: 
2023-05-17 00:49:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474628166553600 [0;39m <==    Updates: 2
2023-05-17 00:49:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474628166553600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:49:35.532 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:37.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:49:41.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39474732998987776 [0;39m 生成今日电子书快照开始
2023-05-17 00:50:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474732998987776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:50:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474732998987776 [0;39m ==> Parameters: 
2023-05-17 00:50:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474732998987776 [0;39m <==    Updates: 0
2023-05-17 00:50:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39474732998987776 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-17 00:50:03.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474753966313472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:50:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474753966313472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:50:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474753966313472 [0;39m ==> Parameters: 
2023-05-17 00:50:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474753966313472 [0;39m <==    Updates: 2
2023-05-17 00:50:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474753966313472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:50:05.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:07.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:09.589 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:31.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:33.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:33.821 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39474879837376512 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:50:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474879837376512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:50:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474879837376512 [0;39m ==> Parameters: 
2023-05-17 00:50:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39474879837376512 [0;39m <==    Updates: 2
2023-05-17 00:50:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39474879837376512 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:50:35.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:37.763 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:39.802 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:55.723 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:50:57.765 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39474984682393600 [0;39m 生成今日电子书快照开始
2023-05-17 00:51:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474984682393600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:51:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474984682393600 [0;39m ==> Parameters: 
2023-05-17 00:51:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39474984682393600 [0;39m <==    Updates: 0
2023-05-17 00:51:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39474984682393600 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-17 00:51:03.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:03.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475005599387648 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:51:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475005599387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:51:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475005599387648 [0;39m ==> Parameters: 
2023-05-17 00:51:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475005599387648 [0;39m <==    Updates: 2
2023-05-17 00:51:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475005599387648 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:51:07.549 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:19.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:21.815 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:33.500 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:33.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475131504005120 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:51:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475131504005120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:51:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475131504005120 [0;39m ==> Parameters: 
2023-05-17 00:51:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475131504005120 [0;39m <==    Updates: 2
2023-05-17 00:51:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475131504005120 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 00:51:37.554 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:43.833 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:51:45.854 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39475236307079168 [0;39m 生成今日电子书快照开始
2023-05-17 00:52:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475236307079168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:52:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475236307079168 [0;39m ==> Parameters: 
2023-05-17 00:52:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475236307079168 [0;39m <==    Updates: 0
2023-05-17 00:52:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39475236307079168 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-17 00:52:03.475 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:03.818 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475257270210560 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:52:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475257270210560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:52:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475257270210560 [0;39m ==> Parameters: 
2023-05-17 00:52:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475257270210560 [0;39m <==    Updates: 2
2023-05-17 00:52:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475257270210560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:52:05.506 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:07.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:09.582 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:11.615 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:33.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:33.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475383090941952 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:52:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475383090941952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:52:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475383090941952 [0;39m ==> Parameters: 
2023-05-17 00:52:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475383090941952 [0;39m <==    Updates: 2
2023-05-17 00:52:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475383090941952 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:52:35.511 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:37.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:52:39.581 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39475487965319168 [0;39m 生成今日电子书快照开始
2023-05-17 00:53:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475487965319168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:53:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475487965319168 [0;39m ==> Parameters: 
2023-05-17 00:53:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475487965319168 [0;39m <==    Updates: 0
2023-05-17 00:53:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39475487965319168 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 00:53:01.626 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:03.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:03.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475508945227776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:53:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475508945227776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:53:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475508945227776 [0;39m ==> Parameters: 
2023-05-17 00:53:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475508945227776 [0;39m <==    Updates: 2
2023-05-17 00:53:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475508945227776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:53:05.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:07.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:09.760 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:25.662 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:27.693 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:33.802 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475634770153472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:53:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475634770153472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:53:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475634770153472 [0;39m ==> Parameters: 
2023-05-17 00:53:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475634770153472 [0;39m <==    Updates: 2
2023-05-17 00:53:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475634770153472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:53:37.555 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:53:51.858 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39475739623559168 [0;39m 生成今日电子书快照开始
2023-05-17 00:54:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475739623559168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:54:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475739623559168 [0;39m ==> Parameters: 
2023-05-17 00:54:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475739623559168 [0;39m <==    Updates: 0
2023-05-17 00:54:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39475739623559168 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:54:03.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475760599273472 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:54:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475760599273472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:54:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475760599273472 [0;39m ==> Parameters: 
2023-05-17 00:54:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475760599273472 [0;39m <==    Updates: 2
2023-05-17 00:54:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475760599273472 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 00:54:05.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:07.543 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:15.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:33.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:33.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:35.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39475886482919424 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:54:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475886482919424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:54:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475886482919424 [0;39m ==> Parameters: 
2023-05-17 00:54:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39475886482919424 [0;39m <==    Updates: 2
2023-05-17 00:54:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39475886482919424 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:54:35.513 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:37.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:39.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:54:41.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39475991327936512 [0;39m 生成今日电子书快照开始
2023-05-17 00:55:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475991327936512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:55:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475991327936512 [0;39m ==> Parameters: 
2023-05-17 00:55:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39475991327936512 [0;39m <==    Updates: 0
2023-05-17 00:55:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39475991327936512 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:55:03.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476012253319168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476012253319168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476012253319168 [0;39m ==> Parameters: 
2023-05-17 00:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476012253319168 [0;39m <==    Updates: 2
2023-05-17 00:55:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476012253319168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:55:07.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:09.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:13.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39476049872031744 [0;39m ------------- 开始 -------------
2023-05-17 00:55:13.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39476049872031744 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:55:13.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39476049872031744 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:55:13.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39476049872031744 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:55:13.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39476049872031744 [0;39m 请求参数: [2]
2023-05-17 00:55:13.978 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39476049872031744 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:55:13.978 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39476049872031744 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:55:13.978 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39476049872031744 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:55:13.978 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39476049872031744 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 179, 1
2023-05-17 00:55:13.978 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39476049872031744 [0;39m <==      Total: 1
2023-05-17 00:55:13.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39476049872031744 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":179,"voteCount":1}],"success":true}
2023-05-17 00:55:13.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39476049872031744 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-17 00:55:13.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39476049905586176 [0;39m ------------- 开始 -------------
2023-05-17 00:55:13.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39476049905586176 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:55:13.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39476049905586176 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:55:13.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39476049905586176 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:55:13.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39476049905586176 [0;39m 请求参数: [2]
2023-05-17 00:55:13.984 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39476049905586176 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:55:13.984 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39476049905586176 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:55:13.990 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476049905586176 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:55:13.990 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476049905586176 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:55:13.991 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476049905586176 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:55:13.991 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476049905586176 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:55:13.991 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476049905586176 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 00:55:13.991 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39476049905586176 [0;39m <==      Total: 4
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.996 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.996 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.996 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.997 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.997 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.998 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:55:13.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:55:13.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476049905586176 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:55:13.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476049905586176 [0;39m <==      Total: 1
2023-05-17 00:55:13.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39476049905586176 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:55:13.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39476049905586176 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 00:55:14.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39476050543120384 [0;39m ------------- 开始 -------------
2023-05-17 00:55:14.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39476050543120384 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:55:14.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39476050543120384 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:55:14.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39476050543120384 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:55:14.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39476050543120384 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:55:14.136 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39476050543120384 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:55:14.136 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39476050543120384 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:55:14.142 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39476050543120384 [0;39m <==    Columns: id, content
2023-05-17 00:55:14.142 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39476050543120384 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:55:14.143 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39476050543120384 [0;39m <==      Total: 1
2023-05-17 00:55:14.144 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39476050543120384 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:55:14.144 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39476050543120384 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:55:14.152 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39476050543120384 [0;39m <==    Updates: 1
2023-05-17 00:55:14.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39476050543120384 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:55:14.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39476050543120384 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 00:55:33.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:33.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476138103410688 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:55:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476138103410688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:55:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476138103410688 [0;39m ==> Parameters: 
2023-05-17 00:55:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476138103410688 [0;39m <==    Updates: 2
2023-05-17 00:55:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476138103410688 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-17 00:55:35.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:37.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:39.847 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:55.784 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:55:57.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39476242990370816 [0;39m 生成今日电子书快照开始
2023-05-17 00:56:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476242990370816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:56:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476242990370816 [0;39m ==> Parameters: 
2023-05-17 00:56:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476242990370816 [0;39m <==    Updates: 0
2023-05-17 00:56:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39476242990370816 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 00:56:03.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:03.809 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476263936724992 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:56:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476263936724992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:56:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476263936724992 [0;39m ==> Parameters: 
2023-05-17 00:56:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476263936724992 [0;39m <==    Updates: 2
2023-05-17 00:56:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476263936724992 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:56:05.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39476267657072640 [0;39m ------------- 开始 -------------
2023-05-17 00:56:05.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39476267657072640 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:56:05.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39476267657072640 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:56:05.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39476267657072640 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:56:05.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39476267657072640 [0;39m 请求参数: [2]
2023-05-17 00:56:05.902 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39476267657072640 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:56:05.902 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39476267657072640 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:56:05.902 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476267657072640 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:56:05.902 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476267657072640 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:56:05.904 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476267657072640 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:56:05.904 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476267657072640 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:56:05.904 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39476267657072640 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 00:56:05.904 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39476267657072640 [0;39m <==      Total: 4
2023-05-17 00:56:05.905 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.905 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.906 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.906 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.911 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:56:05.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:56:05.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39476267657072640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:56:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39476267657072640 [0;39m <==      Total: 1
2023-05-17 00:56:05.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39476267657072640 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:56:05.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39476267657072640 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:56:07.549 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:19.864 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:21.898 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:33.469 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:33.793 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476389749067776 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:56:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476389749067776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:56:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476389749067776 [0;39m ==> Parameters: 
2023-05-17 00:56:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476389749067776 [0;39m <==    Updates: 2
2023-05-17 00:56:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476389749067776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:56:37.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:56:45.971 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39476494577307648 [0;39m 生成今日电子书快照开始
2023-05-17 00:57:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476494577307648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:57:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476494577307648 [0;39m ==> Parameters: 
2023-05-17 00:57:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476494577307648 [0;39m <==    Updates: 0
2023-05-17 00:57:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39476494577307648 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:57:03.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476515586576384 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:57:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476515586576384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:57:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476515586576384 [0;39m ==> Parameters: 
2023-05-17 00:57:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476515586576384 [0;39m <==    Updates: 2
2023-05-17 00:57:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476515586576384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:57:05.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:07.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:09.585 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:11.617 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:33.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:33.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476641398919168 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:57:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476641398919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:57:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476641398919168 [0;39m ==> Parameters: 
2023-05-17 00:57:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476641398919168 [0;39m <==    Updates: 2
2023-05-17 00:57:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476641398919168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:57:35.534 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:37.562 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:57:39.612 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39476746256519168 [0;39m 生成今日电子书快照开始
2023-05-17 00:58:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476746256519168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:58:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476746256519168 [0;39m ==> Parameters: 
2023-05-17 00:58:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476746256519168 [0;39m <==    Updates: 0
2023-05-17 00:58:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39476746256519168 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:58:01.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:03.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:03.816 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476767274176512 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:58:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476767274176512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:58:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476767274176512 [0;39m ==> Parameters: 
2023-05-17 00:58:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476767274176512 [0;39m <==    Updates: 2
2023-05-17 00:58:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476767274176512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:58:05.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:09.797 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:27.817 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:33.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39476893069742080 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:58:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476893069742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:58:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476893069742080 [0;39m ==> Parameters: 
2023-05-17 00:58:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39476893069742080 [0;39m <==    Updates: 2
2023-05-17 00:58:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39476893069742080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:58:35.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:37.555 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:49.027 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39474466958479360 [0;39m 连接关闭，token：nMK5LP94Zh，session id：b！当前连接数：0
2023-05-17 00:58:51.907 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:58:54.713 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39474496469602304 [0;39m 有新连接：token：yBMnuQVO9O，session id：c，当前连接数：1
2023-05-17 00:58:54.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39476976100184064 [0;39m ------------- 开始 -------------
2023-05-17 00:58:54.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39476976100184064 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 00:58:54.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39476976100184064 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 00:58:54.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39476976100184064 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:58:54.806 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39476976100184064 [0;39m 请求参数: []
2023-05-17 00:58:54.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39476976108572672 [0;39m ------------- 开始 -------------
2023-05-17 00:58:54.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39476976108572672 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 00:58:54.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39476976108572672 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 00:58:54.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39476976108572672 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:58:54.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39476976108572672 [0;39m 请求参数: []
2023-05-17 00:58:54.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39476976112766976 [0;39m ------------- 开始 -------------
2023-05-17 00:58:54.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39476976112766976 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 00:58:54.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39476976112766976 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 00:58:54.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39476976112766976 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:58:54.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39476976112766976 [0;39m 请求参数: []
2023-05-17 00:58:54.810 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39476976100184064 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:58:54.811 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39476976108572672 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:58:54.811 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39476976100184064 [0;39m ==> Parameters: 
2023-05-17 00:58:54.811 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39476976108572672 [0;39m ==> Parameters: 
2023-05-17 00:58:54.812 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39476976108572672 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 00:58:54.812 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39476976100184064 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 00:58:54.812 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39476976100184064 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 00:58:54.812 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39476976108572672 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 00:58:54.813 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39476976100184064 [0;39m <==        Row: 2023-05-17, 641, 16, 46, 0
2023-05-17 00:58:54.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39476976108572672 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 00:58:54.813 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39476976100184064 [0;39m <==      Total: 2
2023-05-17 00:58:54.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39476976108572672 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 00:58:54.814 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39476976108572672 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 00:58:54.814 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39476976108572672 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 00:58:54.814 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39476976108572672 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 00:58:54.814 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39476976108572672 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 00:58:54.815 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39476976108572672 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 00:58:54.815 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39476976108572672 [0;39m <==      Total: 8
2023-05-17 00:58:54.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39476976100184064 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":641,"viewIncrease":46,"voteCount":16,"voteIncrease":0}],"success":true}
2023-05-17 00:58:54.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39476976108572672 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 00:58:54.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39476976100184064 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 00:58:54.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39476976108572672 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 00:58:54.820 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39476976112766976 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 00:58:54.820 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39476976112766976 [0;39m ==> Parameters: 
2023-05-17 00:58:54.821 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 00:58:54.822 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 00:58:54.822 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 00:58:54.822 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 00:58:54.822 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 00:58:54.823 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 00:58:54.823 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 00:58:54.823 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 00:58:54.823 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 00:58:54.823 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 00:58:54.824 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 00:58:54.824 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 00:58:54.824 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 00:58:54.824 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 00:58:54.824 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 00:58:54.825 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39476976112766976 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 00:58:54.825 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39476976112766976 [0;39m <==      Total: 15
2023-05-17 00:58:54.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39476976112766976 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 00:58:54.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39476976112766976 [0;39m ------------- 结束 耗时：25 ms -------------
2023-05-17 00:59:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39476997973479424 [0;39m 生成今日电子书快照开始
2023-05-17 00:59:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476997973479424 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 00:59:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476997973479424 [0;39m ==> Parameters: 
2023-05-17 00:59:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39476997973479424 [0;39m <==    Updates: 0
2023-05-17 00:59:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39476997973479424 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 00:59:00.703 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39476049872031744 [0;39m 连接关闭，token：yBMnuQVO9O，session id：c！当前连接数：0
2023-05-17 00:59:03.135 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39476049905586176 [0;39m 有新连接：token：TAqJsDO1l6，session id：d，当前连接数：1
2023-05-17 00:59:03.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39477011533664256 [0;39m ------------- 开始 -------------
2023-05-17 00:59:03.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39477011533664256 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 00:59:03.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39477011533664256 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 00:59:03.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39477011533664256 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:59:03.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39477011537858560 [0;39m ------------- 开始 -------------
2023-05-17 00:59:03.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39477011533664257 [0;39m ------------- 开始 -------------
2023-05-17 00:59:03.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39477011533664256 [0;39m 请求参数: []
2023-05-17 00:59:03.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39477011537858560 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 00:59:03.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39477011537858560 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 00:59:03.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39477011537858560 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:59:03.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39477011533664257 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 00:59:03.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39477011537858560 [0;39m 请求参数: []
2023-05-17 00:59:03.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39477011533664257 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 00:59:03.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39477011533664257 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:59:03.256 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39477011533664256 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:59:03.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39477011533664257 [0;39m 请求参数: []
2023-05-17 00:59:03.256 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39477011533664256 [0;39m ==> Parameters: 
2023-05-17 00:59:03.256 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39477011537858560 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 00:59:03.257 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39477011537858560 [0;39m ==> Parameters: 
2023-05-17 00:59:03.258 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 00:59:03.258 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39477011533664256 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 00:59:03.258 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 00:59:03.258 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39477011533664256 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 00:59:03.258 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39477011533664256 [0;39m <==        Row: 2023-05-17, 641, 16, 46, 0
2023-05-17 00:59:03.258 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39477011533664256 [0;39m <==      Total: 2
2023-05-17 00:59:03.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39477011533664256 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":641,"viewIncrease":46,"voteCount":16,"voteIncrease":0}],"success":true}
2023-05-17 00:59:03.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39477011533664256 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 00:59:03.260 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 00:59:03.261 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 00:59:03.261 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 00:59:03.261 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 00:59:03.262 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 00:59:03.262 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 00:59:03.262 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 00:59:03.263 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 00:59:03.263 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 00:59:03.263 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 00:59:03.263 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 00:59:03.263 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 00:59:03.264 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 00:59:03.264 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39477011537858560 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 00:59:03.264 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39477011537858560 [0;39m <==      Total: 15
2023-05-17 00:59:03.266 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39477011533664257 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 00:59:03.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39477011537858560 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 00:59:03.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39477011537858560 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:59:03.268 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39477011533664257 [0;39m ==> Parameters: 
2023-05-17 00:59:03.270 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39477011533664257 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 00:59:03.270 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39477011533664257 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 00:59:03.270 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39477011533664257 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 00:59:03.270 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39477011533664257 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 00:59:03.271 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39477011533664257 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 00:59:03.272 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39477011533664257 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 00:59:03.272 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39477011533664257 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 00:59:03.273 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39477011533664257 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 00:59:03.273 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39477011533664257 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 00:59:03.273 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39477011533664257 [0;39m <==      Total: 8
2023-05-17 00:59:03.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39477011533664257 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 00:59:03.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39477011533664257 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-17 00:59:03.808 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:59:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39477018924027904 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:59:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477018924027904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:59:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477018924027904 [0;39m ==> Parameters: 
2023-05-17 00:59:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477018924027904 [0;39m <==    Updates: 2
2023-05-17 00:59:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39477018924027904 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 00:59:07.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:59:08.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39477033369210880 [0;39m ------------- 开始 -------------
2023-05-17 00:59:08.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39477033369210880 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-17 00:59:08.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39477033369210880 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-17 00:59:08.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39477033369210880 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:59:08.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39477033369210880 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-17 00:59:08.467 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39477033369210880 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-17 00:59:08.467 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39477033369210880 [0;39m ==> Parameters: test(String)
2023-05-17 00:59:08.467 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39477033369210880 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:08.467 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39477033369210880 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:08.467 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39477033369210880 [0;39m <==      Total: 1
2023-05-17 00:59:08.474 INFO  com.jiawa.wiki.controller.UserController          :86   [32m39477033369210880 [0;39m 生成单点登录token：39477033427931136，并放入redis中
2023-05-17 00:59:08.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39477033369210880 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"39477033427931136"},"success":true}
2023-05-17 00:59:08.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39477033369210880 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-17 00:59:11.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39477046665154560 [0;39m ------------- 开始 -------------
2023-05-17 00:59:11.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39477046665154560 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:59:11.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39477046665154560 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:59:11.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39477046665154560 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:59:11.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39477046665154560 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-17 00:59:11.662 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39477046665154560 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:59:11.662 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39477046665154560 [0;39m ==> Parameters: 102(Long)
2023-05-17 00:59:11.663 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39477046665154560 [0;39m <==    Columns: count(0)
2023-05-17 00:59:11.663 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39477046665154560 [0;39m <==        Row: 0
2023-05-17 00:59:11.664 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39477046665154560 [0;39m <==      Total: 1
2023-05-17 00:59:11.666 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39477046665154560 [0;39m 总行数：0
2023-05-17 00:59:11.666 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39477046665154560 [0;39m 总页数：0
2023-05-17 00:59:11.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39477046665154560 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-17 00:59:11.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39477046665154560 [0;39m ------------- 结束 耗时：38 ms -------------
2023-05-17 00:59:13.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39477052742701056 [0;39m ------------- 开始 -------------
2023-05-17 00:59:13.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39477052742701056 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 00:59:13.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39477052742701056 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 00:59:13.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39477052742701056 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:59:13.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39477052742701056 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-17 00:59:13.079 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39477052742701056 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 00:59:13.079 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39477052742701056 [0;39m ==> Parameters: 101(Long)
2023-05-17 00:59:13.079 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39477052742701056 [0;39m <==    Columns: count(0)
2023-05-17 00:59:13.079 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39477052742701056 [0;39m <==        Row: 1
2023-05-17 00:59:13.079 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39477052742701056 [0;39m <==      Total: 1
2023-05-17 00:59:13.086 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39477052742701056 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 00:59:13.086 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39477052742701056 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-17 00:59:13.086 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39477052742701056 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 00:59:13.086 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39477052742701056 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 180, 1
2023-05-17 00:59:13.086 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39477052742701056 [0;39m <==      Total: 1
2023-05-17 00:59:13.086 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39477052742701056 [0;39m 总行数：1
2023-05-17 00:59:13.086 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39477052742701056 [0;39m 总页数：1
2023-05-17 00:59:13.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39477052742701056 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":180,"voteCount":1}],"total":1},"success":true}
2023-05-17 00:59:13.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39477052742701056 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:59:14.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39477060560883712 [0;39m ------------- 开始 -------------
2023-05-17 00:59:14.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39477060560883713 [0;39m ------------- 开始 -------------
2023-05-17 00:59:14.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39477060560883712 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:59:14.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39477060560883713 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 00:59:14.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39477060560883712 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:59:14.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39477060560883713 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 00:59:14.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39477060560883712 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:59:14.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39477060560883713 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:59:14.944 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39477060560883713 [0;39m 请求参数: [2]
2023-05-17 00:59:14.944 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39477060560883712 [0;39m 请求参数: [2]
2023-05-17 00:59:14.944 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39477060560883712 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:59:14.944 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39477060560883712 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:59:14.944 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39477060560883713 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 00:59:14.945 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39477060560883713 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:59:14.945 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39477060560883712 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:59:14.945 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39477060560883713 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 00:59:14.946 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39477060560883712 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:59:14.946 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39477060560883713 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 180, 1
2023-05-17 00:59:14.946 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39477060560883713 [0;39m <==      Total: 1
2023-05-17 00:59:14.946 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39477060560883712 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:59:14.946 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39477060560883712 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:59:14.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39477060560883713 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":180,"voteCount":1}],"success":true}
2023-05-17 00:59:14.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39477060560883713 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 00:59:14.947 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39477060560883712 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 00:59:14.947 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39477060560883712 [0;39m <==      Total: 4
2023-05-17 00:59:14.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:14.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:14.947 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:14.947 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:14.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m <==      Total: 1
2023-05-17 00:59:14.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:14.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:14.947 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:14.947 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:14.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m <==      Total: 1
2023-05-17 00:59:14.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:14.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:14.947 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:14.947 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:14.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m <==      Total: 1
2023-05-17 00:59:14.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:14.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:14.947 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:14.953 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:14.953 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m <==      Total: 1
2023-05-17 00:59:14.953 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:14.953 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:14.954 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:14.954 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:14.954 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m <==      Total: 1
2023-05-17 00:59:14.954 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:14.954 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:14.955 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:14.955 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:14.955 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m <==      Total: 1
2023-05-17 00:59:14.955 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:14.955 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:14.956 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:14.956 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477060560883712 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:14.956 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477060560883712 [0;39m <==      Total: 1
2023-05-17 00:59:14.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39477060560883712 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:59:14.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39477060560883712 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 00:59:14.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39477060632186880 [0;39m ------------- 开始 -------------
2023-05-17 00:59:14.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39477060632186880 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 00:59:14.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39477060632186880 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 00:59:14.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39477060632186880 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:59:14.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39477060632186880 [0;39m 请求参数: [38625501966897152]
2023-05-17 00:59:14.960 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39477060632186880 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 00:59:14.960 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39477060632186880 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:59:14.960 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39477060632186880 [0;39m <==    Columns: id, content
2023-05-17 00:59:14.960 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39477060632186880 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 00:59:14.960 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39477060632186880 [0;39m <==      Total: 1
2023-05-17 00:59:14.960 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39477060632186880 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 00:59:14.960 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39477060632186880 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 00:59:14.960 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39477060632186880 [0;39m <==    Updates: 1
2023-05-17 00:59:14.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39477060632186880 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 00:59:14.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39477060632186880 [0;39m ------------- 结束 耗时：0 ms -------------
2023-05-17 00:59:15.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39477064604192768 [0;39m ------------- 开始 -------------
2023-05-17 00:59:15.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39477064604192768 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 00:59:15.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39477064604192768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 00:59:15.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39477064604192768 [0;39m 远程地址: 127.0.0.1
2023-05-17 00:59:15.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39477064604192768 [0;39m 请求参数: [2]
2023-05-17 00:59:15.908 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39477064604192768 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 00:59:15.908 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39477064604192768 [0;39m ==> Parameters: 2(Long)
2023-05-17 00:59:15.909 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39477064604192768 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 00:59:15.909 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39477064604192768 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 00:59:15.910 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39477064604192768 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 00:59:15.910 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39477064604192768 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 00:59:15.910 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39477064604192768 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 00:59:15.910 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39477064604192768 [0;39m <==      Total: 4
2023-05-17 00:59:15.910 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:15.911 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:15.911 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:15.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:15.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m <==      Total: 1
2023-05-17 00:59:15.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:15.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:15.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:15.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:15.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m <==      Total: 1
2023-05-17 00:59:15.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:15.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:15.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:15.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:15.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m <==      Total: 1
2023-05-17 00:59:15.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:15.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:15.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:15.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:15.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m <==      Total: 1
2023-05-17 00:59:15.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:15.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:15.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:15.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:15.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m <==      Total: 1
2023-05-17 00:59:15.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:15.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:15.919 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:15.919 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:15.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m <==      Total: 1
2023-05-17 00:59:15.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 00:59:15.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m ==> Parameters: 1(Long)
2023-05-17 00:59:15.919 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 00:59:15.919 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39477064604192768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 00:59:15.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39477064604192768 [0;39m <==      Total: 1
2023-05-17 00:59:15.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39477064604192768 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 00:59:15.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39477064604192768 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 00:59:16.009 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:59:33.477 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:59:33.807 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:59:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39477144698621952 [0;39m 更新电子书下的文档数据开始
2023-05-17 00:59:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477144698621952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 00:59:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477144698621952 [0;39m ==> Parameters: 
2023-05-17 00:59:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477144698621952 [0;39m <==    Updates: 2
2023-05-17 00:59:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39477144698621952 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 00:59:37.546 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:59:39.603 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 00:59:41.651 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:00:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39477249598164992 [0;39m 生成今日电子书快照开始
2023-05-17 01:00:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39477249598164992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:00:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39477249598164992 [0;39m ==> Parameters: 
2023-05-17 01:00:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39477249598164992 [0;39m <==    Updates: 0
2023-05-17 01:00:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39477249598164992 [0;39m 生成今日电子书快照结束，耗时：7毫秒
2023-05-17 01:00:03.478 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:00:03.818 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:00:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39477270540324864 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:00:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477270540324864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:00:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477270540324864 [0;39m ==> Parameters: 
2023-05-17 01:00:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477270540324864 [0;39m <==    Updates: 2
2023-05-17 01:00:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39477270540324864 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 01:00:05.521 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:00:07.557 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:00:09.577 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:00:31.617 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:00:33.634 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:00:33.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:00:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39477396398804992 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:00:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477396398804992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:00:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477396398804992 [0;39m ==> Parameters: 
2023-05-17 01:00:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477396398804992 [0;39m <==    Updates: 2
2023-05-17 01:00:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39477396398804992 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:00:35.652 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:00:39.692 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:00:57.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:01:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39477501201879040 [0;39m 生成今日电子书快照开始
2023-05-17 01:01:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39477501201879040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:01:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39477501201879040 [0;39m ==> Parameters: 
2023-05-17 01:01:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39477501201879040 [0;39m <==    Updates: 0
2023-05-17 01:01:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39477501201879040 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-17 01:01:03.491 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:01:03.811 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:01:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39477522232119296 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:01:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477522232119296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:01:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477522232119296 [0;39m ==> Parameters: 
2023-05-17 01:01:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477522232119296 [0;39m <==    Updates: 2
2023-05-17 01:01:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39477522232119296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:01:05.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:01:07.571 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:01:19.739 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:01:21.772 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:01:33.795 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:01:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39477648082210816 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:01:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477648082210816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:01:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477648082210816 [0;39m ==> Parameters: 
2023-05-17 01:01:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477648082210816 [0;39m <==    Updates: 2
2023-05-17 01:01:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39477648082210816 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:01:37.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:01:45.843 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:02:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39477752964976640 [0;39m 生成今日电子书快照开始
2023-05-17 01:02:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39477752964976640 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:02:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39477752964976640 [0;39m ==> Parameters: 
2023-05-17 01:02:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39477752964976640 [0;39m <==    Updates: 0
2023-05-17 01:02:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39477752964976640 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 01:02:03.794 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:02:05.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39477773911330816 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:02:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477773911330816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:02:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477773911330816 [0;39m ==> Parameters: 
2023-05-17 01:02:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477773911330816 [0;39m <==    Updates: 2
2023-05-17 01:02:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39477773911330816 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 01:02:05.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:02:07.568 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:02:11.638 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:02:33.835 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:02:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39477899706896384 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:02:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477899706896384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:02:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477899706896384 [0;39m ==> Parameters: 
2023-05-17 01:02:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39477899706896384 [0;39m <==    Updates: 2
2023-05-17 01:02:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39477899706896384 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 01:02:35.504 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:02:37.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:02:39.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:03:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39478004585467904 [0;39m 生成今日电子书快照开始
2023-05-17 01:03:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39478004585467904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:03:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39478004585467904 [0;39m ==> Parameters: 
2023-05-17 01:03:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39478004585467904 [0;39m <==    Updates: 0
2023-05-17 01:03:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39478004585467904 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-17 01:03:03.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:03:03.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:03:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39478025510850560 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:03:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478025510850560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:03:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478025510850560 [0;39m ==> Parameters: 
2023-05-17 01:03:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478025510850560 [0;39m <==    Updates: 2
2023-05-17 01:03:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39478025510850560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 01:03:09.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:03:12.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39478056355762176 [0;39m ------------- 开始 -------------
2023-05-17 01:03:12.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39478056355762176 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:03:12.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39478056355762176 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:03:12.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39478056355762176 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:03:12.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39478056355762176 [0;39m 请求参数: [2]
2023-05-17 01:03:12.362 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39478056355762176 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:03:12.363 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39478056355762176 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:03:12.364 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39478056355762176 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:03:12.364 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39478056355762176 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 181, 1
2023-05-17 01:03:12.364 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39478056355762176 [0;39m <==      Total: 1
2023-05-17 01:03:12.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39478056355762176 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":181,"voteCount":1}],"success":true}
2023-05-17 01:03:12.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39478056355762176 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 01:03:12.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39478056401899520 [0;39m ------------- 开始 -------------
2023-05-17 01:03:12.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39478056401899520 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:03:12.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39478056401899520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:03:12.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39478056401899520 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:03:12.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39478056401899520 [0;39m 请求参数: [2]
2023-05-17 01:03:12.372 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39478056401899520 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:03:12.374 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39478056401899520 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:03:12.375 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478056401899520 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:03:12.375 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478056401899520 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:03:12.376 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478056401899520 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:03:12.376 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478056401899520 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:03:12.376 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478056401899520 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:03:12.377 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39478056401899520 [0;39m <==      Total: 4
2023-05-17 01:03:12.377 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:12.377 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:12.378 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:12.378 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:12.378 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m <==      Total: 1
2023-05-17 01:03:12.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:12.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:12.380 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:12.380 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:12.380 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m <==      Total: 1
2023-05-17 01:03:12.380 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:12.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:12.381 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:12.382 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:12.382 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m <==      Total: 1
2023-05-17 01:03:12.382 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:12.382 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:12.383 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:12.383 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:12.383 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m <==      Total: 1
2023-05-17 01:03:12.384 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:12.384 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:12.384 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:12.385 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:12.385 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m <==      Total: 1
2023-05-17 01:03:12.385 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:12.385 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:12.386 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:12.386 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:12.386 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m <==      Total: 1
2023-05-17 01:03:12.387 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:12.387 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:12.387 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:12.387 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478056401899520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:12.388 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478056401899520 [0;39m <==      Total: 1
2023-05-17 01:03:12.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39478056401899520 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:03:12.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39478056401899520 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 01:03:12.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39478056821329920 [0;39m ------------- 开始 -------------
2023-05-17 01:03:12.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39478056821329920 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:03:12.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39478056821329920 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:03:12.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39478056821329920 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:03:12.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39478056821329920 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:03:12.474 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39478056821329920 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:03:12.475 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39478056821329920 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:03:12.476 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39478056821329920 [0;39m <==    Columns: id, content
2023-05-17 01:03:12.476 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39478056821329920 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:03:12.476 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39478056821329920 [0;39m <==      Total: 1
2023-05-17 01:03:12.477 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39478056821329920 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:03:12.477 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39478056821329920 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:03:12.479 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39478056821329920 [0;39m <==    Updates: 1
2023-05-17 01:03:12.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39478056821329920 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:03:12.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39478056821329920 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 01:03:13.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39478061351178240 [0;39m ------------- 开始 -------------
2023-05-17 01:03:13.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39478061351178240 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:03:13.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39478061351178240 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:03:13.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39478061351178240 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:03:13.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39478061351178240 [0;39m 请求参数: [2]
2023-05-17 01:03:13.551 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39478061351178240 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:03:13.551 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39478061351178240 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:03:13.552 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478061351178240 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:03:13.553 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478061351178240 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:03:13.553 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478061351178240 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:03:13.553 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478061351178240 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:03:13.554 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478061351178240 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:03:13.554 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39478061351178240 [0;39m <==      Total: 4
2023-05-17 01:03:13.554 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:13.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:13.555 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:13.556 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:13.556 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m <==      Total: 1
2023-05-17 01:03:13.556 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:13.556 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:13.557 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:13.557 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:13.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m <==      Total: 1
2023-05-17 01:03:13.558 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:13.558 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:13.558 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:13.558 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:13.559 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m <==      Total: 1
2023-05-17 01:03:13.559 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:13.559 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:13.559 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:13.560 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:13.560 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m <==      Total: 1
2023-05-17 01:03:13.560 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:13.560 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:13.561 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:13.561 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:13.561 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m <==      Total: 1
2023-05-17 01:03:13.563 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:13.563 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:13.563 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:13.563 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:13.563 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m <==      Total: 1
2023-05-17 01:03:13.563 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:03:13.563 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:03:13.563 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:03:13.563 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478061351178240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:03:13.563 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478061351178240 [0;39m <==      Total: 1
2023-05-17 01:03:13.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39478061351178240 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:03:13.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39478061351178240 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 01:03:25.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:03:27.693 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:03:33.797 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:03:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39478151386107904 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:03:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478151386107904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:03:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478151386107904 [0;39m ==> Parameters: 
2023-05-17 01:03:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478151386107904 [0;39m <==    Updates: 2
2023-05-17 01:03:35.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39478151386107904 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 01:03:35.509 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:03:37.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:03:49.718 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:03:51.740 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:04:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39478256239513600 [0;39m 生成今日电子书快照开始
2023-05-17 01:04:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39478256239513600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:04:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39478256239513600 [0;39m ==> Parameters: 
2023-05-17 01:04:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39478256239513600 [0;39m <==    Updates: 0
2023-05-17 01:04:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39478256239513600 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-17 01:04:03.498 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:04:03.804 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:04:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39478277202644992 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:04:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478277202644992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:04:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478277202644992 [0;39m ==> Parameters: 
2023-05-17 01:04:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478277202644992 [0;39m <==    Updates: 2
2023-05-17 01:04:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39478277202644992 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:04:07.568 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:04:13.780 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:04:15.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:04:33.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:04:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39478403014987776 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:04:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478403014987776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:04:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478403014987776 [0;39m ==> Parameters: 
2023-05-17 01:04:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478403014987776 [0;39m <==    Updates: 2
2023-05-17 01:04:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39478403014987776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 01:04:35.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:04:37.529 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:04:39.566 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:04:41.586 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:05:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39478507893559296 [0;39m 生成今日电子书快照开始
2023-05-17 01:05:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39478507893559296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:05:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39478507893559296 [0;39m ==> Parameters: 
2023-05-17 01:05:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39478507893559296 [0;39m <==    Updates: 0
2023-05-17 01:05:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39478507893559296 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 01:05:03.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:05:03.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:05:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39478528839913472 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478528839913472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478528839913472 [0;39m ==> Parameters: 
2023-05-17 01:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478528839913472 [0;39m <==    Updates: 2
2023-05-17 01:05:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39478528839913472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:05:05.532 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:05:07.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:05:09.592 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:05:31.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:05:33.678 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:05:33.809 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:05:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39478654681616384 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:05:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478654681616384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:05:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478654681616384 [0;39m ==> Parameters: 
2023-05-17 01:05:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478654681616384 [0;39m <==    Updates: 2
2023-05-17 01:05:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39478654681616384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:05:35.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:05:37.755 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:05:53.648 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:05:55.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:06:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39478759551799296 [0;39m 生成今日电子书快照开始
2023-05-17 01:06:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39478759551799296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:06:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39478759551799296 [0;39m ==> Parameters: 
2023-05-17 01:06:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39478759551799296 [0;39m <==    Updates: 0
2023-05-17 01:06:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39478759551799296 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 01:06:01.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39478767781023744 [0;39m ------------- 开始 -------------
2023-05-17 01:06:01.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39478767781023744 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:06:01.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39478767781023744 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:06:01.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39478767781023744 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:06:01.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39478767781023744 [0;39m 请求参数: [2]
2023-05-17 01:06:01.977 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39478767781023744 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:06:01.977 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39478767781023744 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:06:01.978 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478767781023744 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:06:01.978 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478767781023744 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:06:01.980 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478767781023744 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:06:01.980 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478767781023744 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:06:01.980 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39478767781023744 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:06:01.980 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39478767781023744 [0;39m <==      Total: 4
2023-05-17 01:06:01.981 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:06:01.981 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:06:01.982 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:06:01.982 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:06:01.982 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m <==      Total: 1
2023-05-17 01:06:01.982 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:06:01.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:06:01.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:06:01.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:06:01.984 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m <==      Total: 1
2023-05-17 01:06:01.984 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:06:01.984 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:06:01.984 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:06:01.985 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:06:01.985 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m <==      Total: 1
2023-05-17 01:06:01.985 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:06:01.985 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:06:01.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:06:01.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:06:01.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m <==      Total: 1
2023-05-17 01:06:01.987 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:06:01.987 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:06:01.987 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:06:01.987 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:06:01.988 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m <==      Total: 1
2023-05-17 01:06:01.988 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:06:01.988 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:06:01.989 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:06:01.989 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:06:01.989 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m <==      Total: 1
2023-05-17 01:06:01.989 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:06:01.990 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:06:01.990 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:06:01.990 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39478767781023744 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:06:01.990 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39478767781023744 [0;39m <==      Total: 1
2023-05-17 01:06:01.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39478767781023744 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:06:01.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39478767781023744 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 01:06:03.817 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:06:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39478780489764864 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:06:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478780489764864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:06:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478780489764864 [0;39m ==> Parameters: 
2023-05-17 01:06:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478780489764864 [0;39m <==    Updates: 2
2023-05-17 01:06:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39478780489764864 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:06:05.523 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:06:07.543 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:06:17.732 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:06:19.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:06:33.480 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:06:33.809 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:06:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39478906356633600 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:06:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478906356633600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:06:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478906356633600 [0;39m ==> Parameters: 
2023-05-17 01:06:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39478906356633600 [0;39m <==    Updates: 2
2023-05-17 01:06:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39478906356633600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:06:35.520 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:06:37.548 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:06:41.801 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:06:43.818 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:07:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39479011235205120 [0;39m 生成今日电子书快照开始
2023-05-17 01:07:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39479011235205120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:07:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39479011235205120 [0;39m ==> Parameters: 
2023-05-17 01:07:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39479011235205120 [0;39m <==    Updates: 0
2023-05-17 01:07:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39479011235205120 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 01:07:03.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:07:03.825 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:07:05.055 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39479032353525760 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:07:05.056 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479032353525760 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:07:05.057 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479032353525760 [0;39m ==> Parameters: 
2023-05-17 01:07:05.059 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479032353525760 [0;39m <==    Updates: 2
2023-05-17 01:07:05.064 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39479032353525760 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 01:07:07.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:07:09.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:07:24.569 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479114201174017 [0;39m ------------- 开始 -------------
2023-05-17 01:07:24.569 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479114201174016 [0;39m ------------- 开始 -------------
2023-05-17 01:07:24.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479114201174017 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:07:24.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479114201174016 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:07:24.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479114201174017 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:07:24.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479114201174016 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:07:24.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479114201174017 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:07:24.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479114201174016 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:07:24.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479114201174017 [0;39m 请求参数: [2]
2023-05-17 01:07:24.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479114201174016 [0;39m 请求参数: [2]
2023-05-17 01:07:24.571 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479114201174016 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:07:24.571 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479114201174016 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:07:24.572 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479114201174016 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:07:24.572 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479114201174016 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:07:24.573 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479114201174016 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:07:24.573 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479114201174016 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:07:24.573 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479114201174016 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:07:24.574 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479114201174016 [0;39m <==      Total: 4
2023-05-17 01:07:24.573 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479114201174017 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:07:24.574 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:24.574 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479114201174017 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:07:24.574 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:24.575 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39479114201174017 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:07:24.575 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:24.575 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39479114201174017 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 182, 1
2023-05-17 01:07:24.575 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:24.575 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m <==      Total: 1
2023-05-17 01:07:24.575 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:24.576 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:24.576 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:24.576 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479114201174017 [0;39m <==      Total: 1
2023-05-17 01:07:24.576 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:24.577 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m <==      Total: 1
2023-05-17 01:07:24.577 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:24.577 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:24.578 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:24.578 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:24.578 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m <==      Total: 1
2023-05-17 01:07:24.578 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:24.578 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:24.579 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:24.579 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:24.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479114201174017 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":182,"voteCount":1}],"success":true}
2023-05-17 01:07:24.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479114201174017 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 01:07:24.579 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m <==      Total: 1
2023-05-17 01:07:24.580 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:24.580 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:24.580 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:24.580 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:24.581 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m <==      Total: 1
2023-05-17 01:07:24.581 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:24.581 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:24.582 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:24.582 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:24.582 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m <==      Total: 1
2023-05-17 01:07:24.582 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:24.583 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:24.583 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:24.583 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479114201174016 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:24.583 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479114201174016 [0;39m <==      Total: 1
2023-05-17 01:07:24.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479114201174016 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:07:24.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479114201174016 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 01:07:24.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479114327003136 [0;39m ------------- 开始 -------------
2023-05-17 01:07:24.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479114327003136 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:07:24.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479114327003136 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:07:24.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479114327003136 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:07:24.600 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479114327003136 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:07:24.600 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479114327003136 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:07:24.600 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479114327003136 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:07:24.601 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39479114327003136 [0;39m <==    Columns: id, content
2023-05-17 01:07:24.601 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39479114327003136 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:07:24.602 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479114327003136 [0;39m <==      Total: 1
2023-05-17 01:07:24.603 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479114327003136 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:07:24.603 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479114327003136 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:07:24.604 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479114327003136 [0;39m <==    Updates: 1
2023-05-17 01:07:24.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479114327003136 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:07:24.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479114327003136 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 01:07:26.329 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39478056401899520 [0;39m 连接关闭，token：TAqJsDO1l6，session id：d！当前连接数：0
2023-05-17 01:07:27.901 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39478056821329920 [0;39m 有新连接：token：vNBsyNDOSC，session id：e，当前连接数：1
2023-05-17 01:07:28.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479128642162688 [0;39m ------------- 开始 -------------
2023-05-17 01:07:28.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479128642162689 [0;39m ------------- 开始 -------------
2023-05-17 01:07:28.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479128642162689 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:07:28.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479128642162688 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:07:28.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479128642162689 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:07:28.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479128642162688 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:07:28.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479128642162689 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:07:28.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479128642162688 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:07:28.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479128642162689 [0;39m 请求参数: [2]
2023-05-17 01:07:28.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479128642162688 [0;39m 请求参数: [2]
2023-05-17 01:07:28.014 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479128642162689 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:07:28.014 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479128642162689 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:07:28.015 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479128642162689 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:07:28.015 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479128642162688 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:07:28.015 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479128642162689 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:07:28.015 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479128642162688 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:07:28.015 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479128642162689 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:07:28.016 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479128642162689 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:07:28.016 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39479128642162688 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:07:28.016 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479128642162689 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:07:28.016 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39479128642162688 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 183, 1
2023-05-17 01:07:28.016 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479128642162689 [0;39m <==      Total: 4
2023-05-17 01:07:28.016 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479128642162688 [0;39m <==      Total: 1
2023-05-17 01:07:28.016 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479128642162688 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":183,"voteCount":1}],"success":true}
2023-05-17 01:07:28.017 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479128642162688 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 01:07:28.017 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.017 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.017 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m <==      Total: 1
2023-05-17 01:07:28.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.018 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.019 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.019 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m <==      Total: 1
2023-05-17 01:07:28.019 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.019 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.020 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.020 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.020 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m <==      Total: 1
2023-05-17 01:07:28.021 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.021 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.021 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.022 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.022 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m <==      Total: 1
2023-05-17 01:07:28.022 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.023 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.023 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.023 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.023 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m <==      Total: 1
2023-05-17 01:07:28.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.025 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.025 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.025 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m <==      Total: 1
2023-05-17 01:07:28.025 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.025 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.026 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.026 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479128642162689 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479128642162689 [0;39m <==      Total: 1
2023-05-17 01:07:28.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479128642162689 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:07:28.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479128642162689 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 01:07:28.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479128902209536 [0;39m ------------- 开始 -------------
2023-05-17 01:07:28.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479128902209536 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:07:28.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479128902209536 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:07:28.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479128902209536 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:07:28.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479128902209536 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:07:28.076 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479128902209536 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:07:28.076 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479128902209536 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:07:28.077 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39479128902209536 [0;39m <==    Columns: id, content
2023-05-17 01:07:28.077 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39479128902209536 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:07:28.078 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479128902209536 [0;39m <==      Total: 1
2023-05-17 01:07:28.078 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479128902209536 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:07:28.078 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479128902209536 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:07:28.086 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479128902209536 [0;39m <==    Updates: 1
2023-05-17 01:07:28.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479128902209536 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:07:28.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479128902209536 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:07:28.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479132496728064 [0;39m ------------- 开始 -------------
2023-05-17 01:07:28.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479132496728064 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:07:28.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479132496728064 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:07:28.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479132496728064 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:07:28.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479132496728064 [0;39m 请求参数: [2]
2023-05-17 01:07:28.932 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479132496728064 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:07:28.933 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479132496728064 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:07:28.933 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479132496728064 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:07:28.934 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479132496728064 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:07:28.934 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479132496728064 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:07:28.934 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479132496728064 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:07:28.934 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479132496728064 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:07:28.935 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479132496728064 [0;39m <==      Total: 4
2023-05-17 01:07:28.935 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.935 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.935 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.935 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.936 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m <==      Total: 1
2023-05-17 01:07:28.936 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.936 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.936 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.936 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.937 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m <==      Total: 1
2023-05-17 01:07:28.937 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.937 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.937 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.937 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.937 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m <==      Total: 1
2023-05-17 01:07:28.939 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.939 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.939 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.939 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.939 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m <==      Total: 1
2023-05-17 01:07:28.940 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.940 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.940 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.940 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.940 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m <==      Total: 1
2023-05-17 01:07:28.940 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.940 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.941 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.941 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.941 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m <==      Total: 1
2023-05-17 01:07:28.941 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:07:28.941 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:07:28.942 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:07:28.942 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479132496728064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:07:28.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479132496728064 [0;39m <==      Total: 1
2023-05-17 01:07:28.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479132496728064 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:07:28.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479132496728064 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 01:07:33.755 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:07:33.833 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:07:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39479158014873600 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:07:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479158014873600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:07:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479158014873600 [0;39m ==> Parameters: 
2023-05-17 01:07:35.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479158014873600 [0;39m <==    Updates: 2
2023-05-17 01:07:35.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39479158014873600 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 01:07:39.852 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:07:57.840 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:08:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39479262830530560 [0;39m 生成今日电子书快照开始
2023-05-17 01:08:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39479262830530560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:08:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39479262830530560 [0;39m ==> Parameters: 
2023-05-17 01:08:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39479262830530560 [0;39m <==    Updates: 0
2023-05-17 01:08:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39479262830530560 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 01:08:00.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479266840285185 [0;39m ------------- 开始 -------------
2023-05-17 01:08:00.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479266840285184 [0;39m ------------- 开始 -------------
2023-05-17 01:08:00.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479266840285185 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:08:00.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479266840285184 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:08:00.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479266840285185 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:08:00.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479266840285184 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:08:00.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479266840285185 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:08:00.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479266840285185 [0;39m 请求参数: [2]
2023-05-17 01:08:00.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479266840285184 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:08:00.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479266840285184 [0;39m 请求参数: [2]
2023-05-17 01:08:00.963 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479266840285185 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:08:00.963 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479266840285185 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:08:00.964 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479266840285184 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:08:00.964 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479266840285184 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:08:00.964 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39479266840285184 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:08:00.965 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39479266840285184 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 184, 1
2023-05-17 01:08:00.964 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479266840285185 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:08:00.965 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479266840285184 [0;39m <==      Total: 1
2023-05-17 01:08:00.965 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479266840285185 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:08:00.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479266840285184 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":184,"voteCount":1}],"success":true}
2023-05-17 01:08:00.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479266840285184 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 01:08:00.966 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479266840285185 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:08:00.966 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479266840285185 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:08:00.967 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479266840285185 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:08:00.967 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479266840285185 [0;39m <==      Total: 4
2023-05-17 01:08:00.967 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:00.967 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:00.968 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:00.968 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:00.969 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m <==      Total: 1
2023-05-17 01:08:00.969 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:00.969 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:00.970 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:00.970 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:00.970 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m <==      Total: 1
2023-05-17 01:08:00.970 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:00.970 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:00.970 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:00.970 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:00.971 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m <==      Total: 1
2023-05-17 01:08:00.971 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:00.971 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:00.971 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:00.972 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:00.972 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m <==      Total: 1
2023-05-17 01:08:00.972 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:00.972 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:00.973 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:00.973 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:00.973 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m <==      Total: 1
2023-05-17 01:08:00.973 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:00.973 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:00.974 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:00.974 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:00.974 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m <==      Total: 1
2023-05-17 01:08:00.975 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:00.975 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:00.975 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:00.975 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479266840285185 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:00.976 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479266840285185 [0;39m <==      Total: 1
2023-05-17 01:08:00.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479266840285185 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:08:00.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479266840285185 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 01:08:01.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479267008057344 [0;39m ------------- 开始 -------------
2023-05-17 01:08:01.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479267008057344 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:08:01.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479267008057344 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:08:01.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479267008057344 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:08:01.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479267008057344 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:08:01.002 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479267008057344 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:08:01.003 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479267008057344 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:08:01.003 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39479267008057344 [0;39m <==    Columns: id, content
2023-05-17 01:08:01.004 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39479267008057344 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:08:01.004 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479267008057344 [0;39m <==      Total: 1
2023-05-17 01:08:01.004 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479267008057344 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:08:01.005 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479267008057344 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:08:01.011 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479267008057344 [0;39m <==    Updates: 1
2023-05-17 01:08:01.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479267008057344 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:08:01.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479267008057344 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 01:08:03.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:08:03.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:08:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39479283797856256 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479283797856256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479283797856256 [0;39m ==> Parameters: 
2023-05-17 01:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479283797856256 [0;39m <==    Updates: 2
2023-05-17 01:08:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39479283797856256 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:08:05.519 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:08:07.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:08:19.879 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:08:21.893 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:08:33.794 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:08:35.026 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39479409719250944 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:08:35.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479409719250944 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:08:35.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479409719250944 [0;39m ==> Parameters: 
2023-05-17 01:08:35.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479409719250944 [0;39m <==    Updates: 2
2023-05-17 01:08:35.034 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39479409719250944 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 01:08:37.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479419026411520 [0;39m ------------- 开始 -------------
2023-05-17 01:08:37.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479419026411520 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:08:37.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479419026411520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:08:37.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479419026411520 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:08:37.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479419026411520 [0;39m 请求参数: [2]
2023-05-17 01:08:37.246 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479419026411520 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:08:37.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479419026411521 [0;39m ------------- 开始 -------------
2023-05-17 01:08:37.246 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479419026411520 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:08:37.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479419026411521 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:08:37.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479419026411521 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:08:37.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479419026411521 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:08:37.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479419026411521 [0;39m 请求参数: [2]
2023-05-17 01:08:37.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479419026411520 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:08:37.247 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479419026411520 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:08:37.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479419026411520 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:08:37.248 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479419026411521 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:08:37.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479419026411520 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:08:37.248 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479419026411521 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:08:37.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479419026411520 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:08:37.248 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479419026411520 [0;39m <==      Total: 4
2023-05-17 01:08:37.249 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39479419026411521 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:08:37.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:37.249 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39479419026411521 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 185, 1
2023-05-17 01:08:37.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:37.249 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479419026411521 [0;39m <==      Total: 1
2023-05-17 01:08:37.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:37.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:37.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479419026411521 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":185,"voteCount":1}],"success":true}
2023-05-17 01:08:37.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m <==      Total: 1
2023-05-17 01:08:37.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479419026411521 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 01:08:37.250 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:37.250 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:37.250 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:37.250 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:37.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m <==      Total: 1
2023-05-17 01:08:37.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:37.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:37.252 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:37.252 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:37.253 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m <==      Total: 1
2023-05-17 01:08:37.253 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:37.253 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:37.254 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:37.254 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:37.254 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m <==      Total: 1
2023-05-17 01:08:37.254 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:37.255 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:37.255 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:37.255 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:37.255 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m <==      Total: 1
2023-05-17 01:08:37.256 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:37.257 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:37.257 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:37.257 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:37.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m <==      Total: 1
2023-05-17 01:08:37.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:37.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:37.260 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:37.260 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479419026411520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:37.260 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479419026411520 [0;39m <==      Total: 1
2023-05-17 01:08:37.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479419026411520 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:08:37.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479419026411520 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 01:08:37.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479419206766592 [0;39m ------------- 开始 -------------
2023-05-17 01:08:37.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479419206766592 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:08:37.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479419206766592 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:08:37.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479419206766592 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:08:37.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479419206766592 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:08:37.289 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479419206766592 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:08:37.289 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479419206766592 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:08:37.290 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39479419206766592 [0;39m <==    Columns: id, content
2023-05-17 01:08:37.290 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39479419206766592 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:08:37.290 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479419206766592 [0;39m <==      Total: 1
2023-05-17 01:08:37.291 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479419206766592 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:08:37.291 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479419206766592 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:08:37.293 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479419206766592 [0;39m <==    Updates: 1
2023-05-17 01:08:37.294 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479419206766592 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:08:37.294 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479419206766592 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 01:08:37.549 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:08:38.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479423115857920 [0;39m ------------- 开始 -------------
2023-05-17 01:08:38.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479423115857920 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:08:38.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479423115857920 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:08:38.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479423115857920 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:08:38.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479423115857920 [0;39m 请求参数: [2]
2023-05-17 01:08:38.221 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479423115857920 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:08:38.221 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479423115857920 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:08:38.222 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479423115857920 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:08:38.222 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479423115857920 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:08:38.222 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479423115857920 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:08:38.223 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479423115857920 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:08:38.223 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479423115857920 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:08:38.224 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479423115857920 [0;39m <==      Total: 4
2023-05-17 01:08:38.224 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:38.224 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:38.225 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:38.225 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:38.225 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m <==      Total: 1
2023-05-17 01:08:38.226 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:38.227 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:38.227 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:38.227 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:38.227 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m <==      Total: 1
2023-05-17 01:08:38.227 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:38.227 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:38.227 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:38.227 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:38.227 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m <==      Total: 1
2023-05-17 01:08:38.227 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:38.227 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:38.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:38.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:38.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m <==      Total: 1
2023-05-17 01:08:38.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:38.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:38.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:38.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:38.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m <==      Total: 1
2023-05-17 01:08:38.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:38.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:38.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:38.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:38.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m <==      Total: 1
2023-05-17 01:08:38.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:38.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:38.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:38.231 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479423115857920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:38.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479423115857920 [0;39m <==      Total: 1
2023-05-17 01:08:38.231 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479423115857920 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:08:38.231 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479423115857920 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 01:08:45.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:08:49.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479470700236800 [0;39m ------------- 开始 -------------
2023-05-17 01:08:49.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479470700236801 [0;39m ------------- 开始 -------------
2023-05-17 01:08:49.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479470700236800 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:08:49.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479470700236801 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:08:49.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479470700236800 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:08:49.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479470700236801 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:08:49.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479470700236800 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:08:49.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479470700236800 [0;39m 请求参数: [2]
2023-05-17 01:08:49.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479470700236801 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:08:49.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479470700236801 [0;39m 请求参数: [2]
2023-05-17 01:08:49.572 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479470700236800 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:08:49.572 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479470700236801 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:08:49.573 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479470700236801 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:08:49.573 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479470700236800 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:08:49.573 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479470700236801 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:08:49.573 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39479470700236800 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:08:49.573 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479470700236801 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:08:49.573 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39479470700236800 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 186, 1
2023-05-17 01:08:49.574 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479470700236800 [0;39m <==      Total: 1
2023-05-17 01:08:49.574 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479470700236801 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:08:49.574 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479470700236801 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:08:49.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479470700236800 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":186,"voteCount":1}],"success":true}
2023-05-17 01:08:49.574 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479470700236801 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:08:49.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479470700236800 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 01:08:49.574 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479470700236801 [0;39m <==      Total: 4
2023-05-17 01:08:49.575 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:49.575 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:49.575 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:49.575 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:49.576 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m <==      Total: 1
2023-05-17 01:08:49.576 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:49.576 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:49.577 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:49.577 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:49.577 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m <==      Total: 1
2023-05-17 01:08:49.578 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:49.578 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:49.579 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:49.579 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:49.579 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m <==      Total: 1
2023-05-17 01:08:49.579 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:49.579 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:49.579 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:49.579 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:49.579 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m <==      Total: 1
2023-05-17 01:08:49.579 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:49.579 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:49.579 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:49.579 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:49.579 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m <==      Total: 1
2023-05-17 01:08:49.579 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:49.579 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:49.579 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:49.579 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:49.579 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m <==      Total: 1
2023-05-17 01:08:49.579 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:08:49.579 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:08:49.585 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:08:49.585 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479470700236801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:08:49.585 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479470700236801 [0;39m <==      Total: 1
2023-05-17 01:08:49.585 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479470700236801 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:08:49.585 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479470700236801 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-17 01:08:49.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479470800900096 [0;39m ------------- 开始 -------------
2023-05-17 01:08:49.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479470800900096 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:08:49.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479470800900096 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:08:49.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479470800900096 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:08:49.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479470800900096 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:08:49.589 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479470800900096 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:08:49.591 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479470800900096 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:08:49.592 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39479470800900096 [0;39m <==    Columns: id, content
2023-05-17 01:08:49.592 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39479470800900096 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:08:49.593 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479470800900096 [0;39m <==      Total: 1
2023-05-17 01:08:49.593 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479470800900096 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:08:49.593 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479470800900096 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:08:49.595 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479470800900096 [0;39m <==    Updates: 1
2023-05-17 01:08:49.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479470800900096 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:08:49.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479470800900096 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 01:09:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39479514513936384 [0;39m 生成今日电子书快照开始
2023-05-17 01:09:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39479514513936384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:09:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39479514513936384 [0;39m ==> Parameters: 
2023-05-17 01:09:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39479514513936384 [0;39m <==    Updates: 0
2023-05-17 01:09:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39479514513936384 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-17 01:09:03.478 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:09:03.807 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:09:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39479535489650688 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:09:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479535489650688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:09:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479535489650688 [0;39m ==> Parameters: 
2023-05-17 01:09:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479535489650688 [0;39m <==    Updates: 2
2023-05-17 01:09:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39479535489650688 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 01:09:05.509 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:09:07.548 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:09:09.584 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:09:11.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:09:33.498 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:09:33.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:09:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39479661310382080 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:09:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479661310382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:09:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479661310382080 [0;39m ==> Parameters: 
2023-05-17 01:09:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479661310382080 [0;39m <==    Updates: 2
2023-05-17 01:09:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39479661310382080 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 01:09:35.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:09:37.596 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:09:39.639 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:09:45.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479704700456960 [0;39m ------------- 开始 -------------
2023-05-17 01:09:45.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479704700456960 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:09:45.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479704700456960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:09:45.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479704700456960 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:09:45.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479704700456960 [0;39m 请求参数: [2]
2023-05-17 01:09:45.357 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479704700456960 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:09:45.358 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479704700456960 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:09:45.359 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479704700456960 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:09:45.359 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479704700456960 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:09:45.359 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479704700456960 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:09:45.359 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479704700456960 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:09:45.359 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479704700456960 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:09:45.360 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479704700456960 [0;39m <==      Total: 4
2023-05-17 01:09:45.360 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:45.360 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:45.361 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:45.361 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:45.361 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m <==      Total: 1
2023-05-17 01:09:45.361 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:45.362 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:45.362 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:45.362 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:45.362 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m <==      Total: 1
2023-05-17 01:09:45.363 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:45.363 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:45.363 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:45.363 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:45.363 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m <==      Total: 1
2023-05-17 01:09:45.363 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:45.363 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:45.365 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:45.365 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:45.365 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m <==      Total: 1
2023-05-17 01:09:45.365 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:45.365 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:45.366 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:45.366 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:45.366 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m <==      Total: 1
2023-05-17 01:09:45.366 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:45.366 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:45.366 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:45.367 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:45.367 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m <==      Total: 1
2023-05-17 01:09:45.367 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:45.367 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:45.367 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:45.367 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479704700456960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:45.367 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479704700456960 [0;39m <==      Total: 1
2023-05-17 01:09:45.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479704700456960 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:09:45.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479704700456960 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 01:09:52.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479733846675457 [0;39m ------------- 开始 -------------
2023-05-17 01:09:52.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479733846675456 [0;39m ------------- 开始 -------------
2023-05-17 01:09:52.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479733846675457 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:09:52.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479733846675456 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:09:52.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479733846675457 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:09:52.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479733846675456 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:09:52.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479733846675457 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:09:52.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479733846675456 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:09:52.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479733846675457 [0;39m 请求参数: [2]
2023-05-17 01:09:52.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479733846675456 [0;39m 请求参数: [2]
2023-05-17 01:09:52.304 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479733846675457 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:09:52.304 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479733846675457 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:09:52.304 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479733846675456 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:09:52.304 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479733846675456 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:09:52.304 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479733846675457 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:09:52.304 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39479733846675456 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:09:52.304 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479733846675457 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:09:52.304 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39479733846675456 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 187, 1
2023-05-17 01:09:52.304 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479733846675457 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:09:52.304 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39479733846675456 [0;39m <==      Total: 1
2023-05-17 01:09:52.304 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479733846675457 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:09:52.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479733846675456 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":187,"voteCount":1}],"success":true}
2023-05-17 01:09:52.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479733846675456 [0;39m ------------- 结束 耗时：0 ms -------------
2023-05-17 01:09:52.304 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39479733846675457 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:09:52.304 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39479733846675457 [0;39m <==      Total: 4
2023-05-17 01:09:52.304 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:52.304 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m <==      Total: 1
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m <==      Total: 1
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m <==      Total: 1
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m <==      Total: 1
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m <==      Total: 1
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m <==      Total: 1
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:09:52.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39479733846675457 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:09:52.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39479733846675457 [0;39m <==      Total: 1
2023-05-17 01:09:52.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479733846675457 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:09:52.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479733846675457 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 01:09:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39479734349991936 [0;39m ------------- 开始 -------------
2023-05-17 01:09:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39479734349991936 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:09:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39479734349991936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:09:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39479734349991936 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:09:52.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39479734349991936 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:09:52.424 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479734349991936 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:09:52.424 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479734349991936 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:09:52.424 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39479734349991936 [0;39m <==    Columns: id, content
2023-05-17 01:09:52.424 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39479734349991936 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:09:52.424 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39479734349991936 [0;39m <==      Total: 1
2023-05-17 01:09:52.424 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479734349991936 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:09:52.424 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479734349991936 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:09:52.441 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39479734349991936 [0;39m <==    Updates: 1
2023-05-17 01:09:52.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39479734349991936 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:09:52.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39479734349991936 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-17 01:10:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39479766151204864 [0;39m 生成今日电子书快照开始
2023-05-17 01:10:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39479766151204864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:10:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39479766151204864 [0;39m ==> Parameters: 
2023-05-17 01:10:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39479766151204864 [0;39m <==    Updates: 0
2023-05-17 01:10:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39479766151204864 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 01:10:01.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:10:03.717 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:10:03.812 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:10:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39479787164667904 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:10:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479787164667904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:10:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479787164667904 [0;39m ==> Parameters: 
2023-05-17 01:10:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479787164667904 [0;39m <==    Updates: 2
2023-05-17 01:10:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39479787164667904 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 01:10:05.759 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:10:07.806 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:10:09.834 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:10:25.776 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:10:27.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:10:33.488 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:10:33.822 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:10:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39479912951844864 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:10:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479912951844864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:10:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479912951844864 [0;39m ==> Parameters: 
2023-05-17 01:10:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39479912951844864 [0;39m <==    Updates: 2
2023-05-17 01:10:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39479912951844864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 01:10:35.525 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:10:37.550 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:10:49.846 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:10:51.870 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:11:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39480017855582208 [0;39m 生成今日电子书快照开始
2023-05-17 01:11:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39480017855582208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:11:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39480017855582208 [0;39m ==> Parameters: 
2023-05-17 01:11:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39480017855582208 [0;39m <==    Updates: 0
2023-05-17 01:11:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39480017855582208 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-17 01:11:03.482 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:11:03.817 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:11:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39480038801936384 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:11:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480038801936384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:11:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480038801936384 [0;39m ==> Parameters: 
2023-05-17 01:11:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480038801936384 [0;39m <==    Updates: 2
2023-05-17 01:11:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39480038801936384 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 01:11:05.521 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:11:07.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:11:13.899 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:11:15.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:11:33.818 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:11:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39480164639444992 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:11:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480164639444992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:11:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480164639444992 [0;39m ==> Parameters: 
2023-05-17 01:11:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480164639444992 [0;39m <==    Updates: 2
2023-05-17 01:11:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39480164639444992 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 01:11:35.510 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:11:37.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:11:39.594 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:11:41.622 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:11:56.074 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39479470700236800 [0;39m 连接关闭，token：vNBsyNDOSC，session id：e！当前连接数：0
2023-05-17 01:11:56.669 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39479470700236801 [0;39m 有新连接：token：2RgHuyPQHU，session id：f，当前连接数：1
2023-05-17 01:11:56.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480256138186752 [0;39m ------------- 开始 -------------
2023-05-17 01:11:56.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480256138186753 [0;39m ------------- 开始 -------------
2023-05-17 01:11:56.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480256138186752 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:11:56.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480256138186753 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:11:56.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480256138186753 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:11:56.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480256138186753 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:11:56.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480256138186752 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:11:56.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480256138186752 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:11:56.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480256138186753 [0;39m 请求参数: [2]
2023-05-17 01:11:56.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480256138186752 [0;39m 请求参数: [2]
2023-05-17 01:11:56.831 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480256138186753 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:11:56.831 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39480256138186752 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:11:56.831 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480256138186753 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:11:56.831 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39480256138186752 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:11:56.832 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480256138186753 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:11:56.832 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480256138186753 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:11:56.833 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39480256138186752 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:11:56.833 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480256138186753 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:11:56.833 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39480256138186752 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 188, 1
2023-05-17 01:11:56.833 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480256138186753 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:11:56.833 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480256138186753 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:11:56.834 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480256138186753 [0;39m <==      Total: 4
2023-05-17 01:11:56.834 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:56.833 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39480256138186752 [0;39m <==      Total: 1
2023-05-17 01:11:56.834 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:56.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480256138186752 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":188,"voteCount":1}],"success":true}
2023-05-17 01:11:56.835 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:56.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480256138186752 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 01:11:56.835 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:56.835 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m <==      Total: 1
2023-05-17 01:11:56.836 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:56.836 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:56.837 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:56.837 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:56.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m <==      Total: 1
2023-05-17 01:11:56.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:56.838 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:56.838 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:56.838 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:56.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m <==      Total: 1
2023-05-17 01:11:56.840 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:56.840 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:56.842 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:56.842 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:56.842 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m <==      Total: 1
2023-05-17 01:11:56.843 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:56.843 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:56.844 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:56.844 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:56.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m <==      Total: 1
2023-05-17 01:11:56.845 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:56.845 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:56.846 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:56.846 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:56.847 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m <==      Total: 1
2023-05-17 01:11:56.847 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:56.847 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:56.848 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:56.848 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480256138186753 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:56.849 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480256138186753 [0;39m <==      Total: 1
2023-05-17 01:11:56.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480256138186753 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:11:56.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480256138186753 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-17 01:11:56.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480256603754496 [0;39m ------------- 开始 -------------
2023-05-17 01:11:56.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480256603754496 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:11:56.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480256603754496 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:11:56.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480256603754496 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:11:56.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480256603754496 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:11:56.942 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39480256603754496 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:11:56.942 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39480256603754496 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:11:56.943 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39480256603754496 [0;39m <==    Columns: id, content
2023-05-17 01:11:56.943 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39480256603754496 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:11:56.943 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39480256603754496 [0;39m <==      Total: 1
2023-05-17 01:11:56.944 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39480256603754496 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:11:56.944 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39480256603754496 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:11:56.951 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39480256603754496 [0;39m <==    Updates: 1
2023-05-17 01:11:56.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480256603754496 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:11:56.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480256603754496 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:11:59.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480268557520896 [0;39m ------------- 开始 -------------
2023-05-17 01:11:59.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480268557520896 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:11:59.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480268557520896 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:11:59.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480268557520896 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:11:59.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480268557520896 [0;39m 请求参数: [2]
2023-05-17 01:11:59.790 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480268557520896 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:11:59.790 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480268557520896 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:11:59.791 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480268557520896 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:11:59.791 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480268557520896 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:11:59.791 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480268557520896 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:11:59.792 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480268557520896 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:11:59.792 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480268557520896 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:11:59.792 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480268557520896 [0;39m <==      Total: 4
2023-05-17 01:11:59.792 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:59.792 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:59.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:59.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m <==      Total: 1
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:59.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:59.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m <==      Total: 1
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:59.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:59.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m <==      Total: 1
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:59.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:59.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m <==      Total: 1
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:59.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:59.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m <==      Total: 1
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:59.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:59.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:59.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m <==      Total: 1
2023-05-17 01:11:59.800 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:11:59.800 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:11:59.800 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:11:59.800 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480268557520896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:11:59.800 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480268557520896 [0;39m <==      Total: 1
2023-05-17 01:11:59.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480268557520896 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:11:59.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480268557520896 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 01:12:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39480269450907648 [0;39m 生成今日电子书快照开始
2023-05-17 01:12:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39480269450907648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:12:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39480269450907648 [0;39m ==> Parameters: 
2023-05-17 01:12:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39480269450907648 [0;39m <==    Updates: 0
2023-05-17 01:12:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39480269450907648 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 01:12:03.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:12:03.805 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:12:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39480290447593472 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:12:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480290447593472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:12:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480290447593472 [0;39m ==> Parameters: 
2023-05-17 01:12:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480290447593472 [0;39m <==    Updates: 2
2023-05-17 01:12:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39480290447593472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:12:05.543 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:12:07.579 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:12:09.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:12:19.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480349306261504 [0;39m ------------- 开始 -------------
2023-05-17 01:12:19.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480349306261504 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:12:19.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480349306261504 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:12:19.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480349306261504 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:12:19.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480349306261504 [0;39m 请求参数: [2]
2023-05-17 01:12:19.043 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480349306261504 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:12:19.043 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480349306261504 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:12:19.044 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480349306261504 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:12:19.044 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480349306261504 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:12:19.044 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480349306261504 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:12:19.045 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480349306261504 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:12:19.045 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480349306261504 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:12:19.045 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480349306261504 [0;39m <==      Total: 4
2023-05-17 01:12:19.046 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:19.046 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:19.047 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:19.047 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:19.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m <==      Total: 1
2023-05-17 01:12:19.048 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:19.048 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:19.049 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:19.049 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:19.049 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m <==      Total: 1
2023-05-17 01:12:19.049 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:19.050 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:19.050 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:19.050 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:19.050 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m <==      Total: 1
2023-05-17 01:12:19.051 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:19.051 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:19.051 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:19.052 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:19.052 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m <==      Total: 1
2023-05-17 01:12:19.052 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:19.052 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:19.053 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:19.053 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:19.053 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m <==      Total: 1
2023-05-17 01:12:19.053 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:19.053 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:19.054 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:19.054 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:19.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m <==      Total: 1
2023-05-17 01:12:19.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:19.055 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:19.055 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:19.055 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480349306261504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:19.056 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480349306261504 [0;39m <==      Total: 1
2023-05-17 01:12:19.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480349306261504 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:12:19.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480349306261504 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 01:12:29.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:12:31.653 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:12:33.678 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:12:33.821 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:12:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39480416297684992 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:12:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480416297684992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:12:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480416297684992 [0;39m ==> Parameters: 
2023-05-17 01:12:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480416297684992 [0;39m <==    Updates: 2
2023-05-17 01:12:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39480416297684992 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 01:12:35.251 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39479734349991936 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:12:35.252 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39479734349991936 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 01:12:35.253 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39479423115857920 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:12:35.253 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39479423115857920 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:12:35.253 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39479423115857920 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:12:35.255 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39479423115857920 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:12:35.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480417316900864 [0;39m ------------- 开始 -------------
2023-05-17 01:12:35.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480417316900864 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:12:35.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480417316900864 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:12:35.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480417316900864 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:12:35.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480417316900864 [0;39m 请求参数: [{"content":"额外企鹅","ebookId":2,"parentId":6,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:12:35.257 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417316900864 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:35.257 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417316900864 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:35.258 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417316900864 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:35.258 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417316900864 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:35.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417316900864 [0;39m <==      Total: 1
2023-05-17 01:12:35.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417316900864 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:35.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417316900864 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:35.259 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417316900864 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:35.259 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417316900864 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:35.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417316900864 [0;39m <==      Total: 1
2023-05-17 01:12:35.259 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480417316900864 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:12:35.259 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480417316900864 [0;39m ==> Parameters: 1(Long), 2(Long), 6(Long), 1(Long), 额外企鹅(String), 2023-05-17 01:12:35.259(Timestamp), null
2023-05-17 01:12:35.267 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480417316900864 [0;39m <==    Updates: 1
2023-05-17 01:12:35.267 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480417316900864 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:12:35.267 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480417316900864 [0;39m ==> Parameters: 10(Long)
2023-05-17 01:12:35.268 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480417316900864 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:12:35.268 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480417316900864 [0;39m <==        Row: 10, 1, 2, 6, 1, 额外企鹅, 2023-05-17 01:12:35, null
2023-05-17 01:12:35.268 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480417316900864 [0;39m <==      Total: 1
2023-05-17 01:12:35.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480417316900864 [0;39m 返回结果: {"content":{"content":"额外企鹅","createTime":1684257155000,"ebookId":2,"id":10,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:12:35.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480417316900864 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 01:12:35.269 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480417316900864 [0;39m ------------- LoginInterceptor 结束 耗时：16 ms -------------
2023-05-17 01:12:35.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480417384009728 [0;39m ------------- 开始 -------------
2023-05-17 01:12:35.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480417384009728 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:12:35.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480417384009728 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:12:35.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480417384009728 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:12:35.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480417384009728 [0;39m 请求参数: [2]
2023-05-17 01:12:35.273 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480417384009728 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:12:35.274 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480417384009728 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:12:35.275 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480417384009728 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:12:35.275 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480417384009728 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:12:35.275 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480417384009728 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:12:35.276 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480417384009728 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:12:35.276 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480417384009728 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:12:35.276 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480417384009728 [0;39m <==        Row: 10, 1, 2, 6, 1, 额外企鹅, 2023-05-17 01:12:35, null
2023-05-17 01:12:35.276 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480417384009728 [0;39m <==      Total: 5
2023-05-17 01:12:35.277 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:35.277 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:35.278 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:35.278 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:35.278 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m <==      Total: 1
2023-05-17 01:12:35.279 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:35.279 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:35.279 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:35.280 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:35.280 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m <==      Total: 1
2023-05-17 01:12:35.281 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:35.281 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:35.281 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:35.281 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:35.282 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m <==      Total: 1
2023-05-17 01:12:35.282 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:35.282 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:35.282 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:35.282 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:35.283 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m <==      Total: 1
2023-05-17 01:12:35.283 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:35.283 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:35.283 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:35.283 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:35.283 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m <==      Total: 1
2023-05-17 01:12:35.284 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:35.284 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:35.284 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:35.284 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:35.284 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m <==      Total: 1
2023-05-17 01:12:35.285 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:35.285 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:35.285 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:35.286 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:35.286 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m <==      Total: 1
2023-05-17 01:12:35.286 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:35.286 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:35.286 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:35.287 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:35.287 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m <==      Total: 1
2023-05-17 01:12:35.287 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:35.288 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:35.288 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:35.288 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480417384009728 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:35.288 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480417384009728 [0;39m <==      Total: 1
2023-05-17 01:12:35.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480417384009728 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684257155000,"ebookId":2,"id":10,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:12:35.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480417384009728 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 01:12:35.704 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:12:37.737 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:12:37.884 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39479470700236800 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:12:37.884 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39479470700236800 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:12:37.885 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39479470700236800 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:12:37.886 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39479470700236800 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:12:37.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480428347920384 [0;39m ------------- 开始 -------------
2023-05-17 01:12:37.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480428347920384 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:12:37.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480428347920384 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:12:37.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480428347920384 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:12:37.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480428347920384 [0;39m 请求参数: [{"content":"ewq额","ebookId":2,"parentId":6,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:12:37.888 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428347920384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:37.889 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428347920384 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:37.889 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428347920384 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:37.889 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428347920384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:37.889 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428347920384 [0;39m <==      Total: 1
2023-05-17 01:12:37.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428347920384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:37.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428347920384 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:37.891 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428347920384 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:37.891 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428347920384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:37.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428347920384 [0;39m <==      Total: 1
2023-05-17 01:12:37.891 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480428347920384 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:12:37.892 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480428347920384 [0;39m ==> Parameters: 1(Long), 2(Long), 6(Long), 1(Long), ewq额(String), 2023-05-17 01:12:37.891(Timestamp), null
2023-05-17 01:12:37.893 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480428347920384 [0;39m <==    Updates: 1
2023-05-17 01:12:37.893 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480428347920384 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:12:37.893 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480428347920384 [0;39m ==> Parameters: 11(Long)
2023-05-17 01:12:37.893 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480428347920384 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:12:37.894 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480428347920384 [0;39m <==        Row: 11, 1, 2, 6, 1, ewq额, 2023-05-17 01:12:38, null
2023-05-17 01:12:37.894 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480428347920384 [0;39m <==      Total: 1
2023-05-17 01:12:37.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480428347920384 [0;39m 返回结果: {"content":{"content":"ewq额","createTime":1684257158000,"ebookId":2,"id":11,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:12:37.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480428347920384 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 01:12:37.895 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480428347920384 [0;39m ------------- LoginInterceptor 结束 耗时：11 ms -------------
2023-05-17 01:12:37.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480428402446336 [0;39m ------------- 开始 -------------
2023-05-17 01:12:37.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480428402446336 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:12:37.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480428402446336 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:12:37.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480428402446336 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:12:37.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480428402446336 [0;39m 请求参数: [2]
2023-05-17 01:12:37.899 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480428402446336 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:12:37.900 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480428402446336 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:12:37.900 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480428402446336 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:12:37.900 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480428402446336 [0;39m <==        Row: 6, 1, 2, null, null, 额外企鹅, 2023-05-17 00:41:01, null
2023-05-17 01:12:37.900 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480428402446336 [0;39m <==        Row: 7, 1, 2, 6, 1, 二位, 2023-05-17 00:41:08, null
2023-05-17 01:12:37.901 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480428402446336 [0;39m <==        Row: 8, 1, 2, 7, 1, 额外企鹅, 2023-05-17 00:41:16, null
2023-05-17 01:12:37.901 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480428402446336 [0;39m <==        Row: 9, 1, 2, 6, 1, 额外企鹅, 2023-05-17 00:49:04, null
2023-05-17 01:12:37.901 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480428402446336 [0;39m <==        Row: 10, 1, 2, 6, 1, 额外企鹅, 2023-05-17 01:12:35, null
2023-05-17 01:12:37.901 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480428402446336 [0;39m <==        Row: 11, 1, 2, 6, 1, ewq额, 2023-05-17 01:12:38, null
2023-05-17 01:12:37.901 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480428402446336 [0;39m <==      Total: 6
2023-05-17 01:12:37.902 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:37.902 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:37.902 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:37.902 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m <==      Total: 1
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:37.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:37.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m <==      Total: 1
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:37.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:37.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m <==      Total: 1
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:37.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:37.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m <==      Total: 1
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:37.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:37.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m <==      Total: 1
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:37.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:37.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m <==      Total: 1
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:37.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:37.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:37.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:37.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m <==      Total: 1
2023-05-17 01:12:37.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:37.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:37.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:37.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:37.910 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m <==      Total: 1
2023-05-17 01:12:37.910 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:37.910 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:37.910 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:37.910 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:37.910 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m <==      Total: 1
2023-05-17 01:12:37.911 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:37.911 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:37.911 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:37.911 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:37.911 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m <==      Total: 1
2023-05-17 01:12:37.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:12:37.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:12:37.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:12:37.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480428402446336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:12:37.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480428402446336 [0;39m <==      Total: 1
2023-05-17 01:12:37.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480428402446336 [0;39m 返回结果: {"content":[{"content":"额外企鹅","createTime":1684255261000,"ebookId":2,"id":6,"name":"test","replies":[{"content":"二位","createTime":1684255268000,"ebookId":2,"id":7,"name":"test","parentId":6,"replies":[{"content":"额外企鹅","createTime":1684255276000,"ebookId":2,"id":8,"name":"test","parentId":7,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684255744000,"ebookId":2,"id":9,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"额外企鹅","createTime":1684257155000,"ebookId":2,"id":10,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"ewq额","createTime":1684257158000,"ebookId":2,"id":11,"name":"test","parentId":6,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:12:37.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480428402446336 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:12:53.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:12:55.739 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:13:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39480521134313472 [0;39m 生成今日电子书快照开始
2023-05-17 01:13:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39480521134313472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:13:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39480521134313472 [0;39m ==> Parameters: 
2023-05-17 01:13:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39480521134313472 [0;39m <==    Updates: 0
2023-05-17 01:13:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39480521134313472 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-17 01:13:02.349 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39480256138186753 [0;39m 连接关闭，token：2RgHuyPQHU，session id：f！当前连接数：0
2023-05-17 01:13:03.007 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39480256603754496 [0;39m 有新连接：token：hWxc3eDxvI，session id：10，当前连接数：1
2023-05-17 01:13:03.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480533880803328 [0;39m ------------- 开始 -------------
2023-05-17 01:13:03.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480533880803328 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:13:03.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480533880803328 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:13:03.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480533880803328 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:03.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480533880803328 [0;39m 请求参数: [2]
2023-05-17 01:13:03.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480533905969152 [0;39m ------------- 开始 -------------
2023-05-17 01:13:03.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480533905969152 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:03.053 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39480533880803328 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:13:03.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480533905969152 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:03.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480533905969152 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:03.053 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39480533880803328 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:03.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480533905969152 [0;39m 请求参数: [2]
2023-05-17 01:13:03.054 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480533905969152 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:03.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39480533880803328 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:13:03.054 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480533905969152 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:03.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39480533880803328 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 189, 1
2023-05-17 01:13:03.055 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39480533880803328 [0;39m <==      Total: 1
2023-05-17 01:13:03.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480533880803328 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":189,"voteCount":1}],"success":true}
2023-05-17 01:13:03.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480533880803328 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 01:13:03.057 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480533905969152 [0;39m <==      Total: 0
2023-05-17 01:13:03.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480533905969152 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 01:13:03.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480533905969152 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 01:13:03.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480534044381184 [0;39m ------------- 开始 -------------
2023-05-17 01:13:03.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480534044381184 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:13:03.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480534044381184 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:13:03.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480534044381184 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:03.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480534044381184 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:13:03.088 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39480534044381184 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:13:03.088 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39480534044381184 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:13:03.089 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39480534044381184 [0;39m <==    Columns: id, content
2023-05-17 01:13:03.089 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39480534044381184 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:13:03.089 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39480534044381184 [0;39m <==      Total: 1
2023-05-17 01:13:03.090 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39480534044381184 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:13:03.090 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39480534044381184 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:13:03.092 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39480534044381184 [0;39m <==    Updates: 1
2023-05-17 01:13:03.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480534044381184 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:13:03.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480534044381184 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 01:13:03.815 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:13:03.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480537320132608 [0;39m ------------- 开始 -------------
2023-05-17 01:13:03.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480537320132608 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:03.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480537320132608 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:03.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480537320132608 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:03.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480537320132608 [0;39m 请求参数: [2]
2023-05-17 01:13:03.868 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480537320132608 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:03.868 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480537320132608 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:03.869 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480537320132608 [0;39m <==      Total: 0
2023-05-17 01:13:03.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480537320132608 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 01:13:03.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480537320132608 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 01:13:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39480542105833472 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:13:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480542105833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:13:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480542105833472 [0;39m ==> Parameters: 
2023-05-17 01:13:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480542105833472 [0;39m <==    Updates: 2
2023-05-17 01:13:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39480542105833472 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-17 01:13:05.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:13:06.208 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480417384009728 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:13:06.209 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480417384009728 [0;39m ------------- LoginInterceptor 结束 耗时：1 ms -------------
2023-05-17 01:13:06.212 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480428347920384 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:13:06.212 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480428347920384 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 01:13:06.212 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480428347920384 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:13:06.213 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480428347920384 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:13:06.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480547164164096 [0;39m ------------- 开始 -------------
2023-05-17 01:13:06.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480547164164096 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 01:13:06.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480547164164096 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 01:13:06.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480547164164096 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:06.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480547164164096 [0;39m 请求参数: [{"content":"嗯嗯","ebookId":2,"userId":1}]
2023-05-17 01:13:06.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480547164164096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:06.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480547164164096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:06.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480547164164096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:06.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480547164164096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:06.216 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480547164164096 [0;39m <==      Total: 1
2023-05-17 01:13:06.216 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39480547164164096 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 01:13:06.216 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39480547164164096 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:06.217 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39480547164164096 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 01:13:06.217 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39480547164164096 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 190, 1
2023-05-17 01:13:06.217 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39480547164164096 [0;39m <==      Total: 1
2023-05-17 01:13:06.217 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39480547164164096 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:13:06.218 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39480547164164096 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, 嗯嗯(String), 2023-05-17 01:13:06.217(Timestamp), null
2023-05-17 01:13:06.225 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39480547164164096 [0;39m <==    Updates: 1
2023-05-17 01:13:06.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480547164164096 [0;39m 返回结果: {"success":true}
2023-05-17 01:13:06.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480547164164096 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 01:13:06.226 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480547164164096 [0;39m ------------- LoginInterceptor 结束 耗时：14 ms -------------
2023-05-17 01:13:06.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480547239661568 [0;39m ------------- 开始 -------------
2023-05-17 01:13:06.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480547239661568 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:06.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480547239661568 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:06.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480547239661568 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:06.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480547239661568 [0;39m 请求参数: [2]
2023-05-17 01:13:06.233 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480547239661568 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:06.233 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480547239661568 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:06.234 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480547239661568 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:06.234 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480547239661568 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:06.234 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480547239661568 [0;39m <==      Total: 1
2023-05-17 01:13:06.235 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480547239661568 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:06.235 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480547239661568 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:06.236 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480547239661568 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:06.236 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480547239661568 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:06.236 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480547239661568 [0;39m <==      Total: 1
2023-05-17 01:13:06.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480547239661568 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 01:13:06.237 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480547239661568 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-17 01:13:07.577 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:13:08.313 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480256138186752 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:13:08.313 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480256138186752 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:13:08.314 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480256138186752 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:13:08.315 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480256138186752 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:13:08.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480555976396800 [0;39m ------------- 开始 -------------
2023-05-17 01:13:08.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480555976396800 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:13:08.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480555976396800 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:13:08.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480555976396800 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:08.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480555976396800 [0;39m 请求参数: [{"content":"嗯嗯","ebookId":2,"parentId":1,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:13:08.318 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480555976396800 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:08.318 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480555976396800 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:08.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480555976396800 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:08.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480555976396800 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:08.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480555976396800 [0;39m <==      Total: 1
2023-05-17 01:13:08.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480555976396800 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:08.320 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480555976396800 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:08.320 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480555976396800 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:08.320 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480555976396800 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:08.320 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480555976396800 [0;39m <==      Total: 1
2023-05-17 01:13:08.320 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480555976396800 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:13:08.321 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480555976396800 [0;39m ==> Parameters: 1(Long), 2(Long), 1(Long), 1(Long), 嗯嗯(String), 2023-05-17 01:13:08.32(Timestamp), null
2023-05-17 01:13:08.328 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480555976396800 [0;39m <==    Updates: 1
2023-05-17 01:13:08.328 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480555976396800 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:13:08.328 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480555976396800 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:08.329 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480555976396800 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:08.329 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480555976396800 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:08.329 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480555976396800 [0;39m <==      Total: 1
2023-05-17 01:13:08.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480555976396800 [0;39m 返回结果: {"content":{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:13:08.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480555976396800 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 01:13:08.330 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480555976396800 [0;39m ------------- LoginInterceptor 结束 耗时：17 ms -------------
2023-05-17 01:13:08.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480556056088576 [0;39m ------------- 开始 -------------
2023-05-17 01:13:08.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480556056088576 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:08.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480556056088576 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:08.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480556056088576 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:08.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480556056088576 [0;39m 请求参数: [2]
2023-05-17 01:13:08.334 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480556056088576 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:08.334 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480556056088576 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:08.336 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480556056088576 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:08.336 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480556056088576 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:08.336 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480556056088576 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:08.337 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480556056088576 [0;39m <==      Total: 2
2023-05-17 01:13:08.337 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480556056088576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:08.337 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480556056088576 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:08.337 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480556056088576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:08.337 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480556056088576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:08.337 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480556056088576 [0;39m <==      Total: 1
2023-05-17 01:13:08.338 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480556056088576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:08.338 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480556056088576 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:08.338 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480556056088576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:08.338 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480556056088576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:08.338 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480556056088576 [0;39m <==      Total: 1
2023-05-17 01:13:08.339 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480556056088576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:08.339 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480556056088576 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:08.339 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480556056088576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:08.339 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480556056088576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:08.339 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480556056088576 [0;39m <==      Total: 1
2023-05-17 01:13:08.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480556056088576 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:13:08.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480556056088576 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 01:13:10.270 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480256603754496 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:13:10.272 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480256603754496 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:13:10.272 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480256603754496 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:13:10.273 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480256603754496 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:13:10.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480564193038336 [0;39m ------------- 开始 -------------
2023-05-17 01:13:10.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480564193038336 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:13:10.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480564193038336 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:13:10.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480564193038336 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:10.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480564193038336 [0;39m 请求参数: [{"content":"嗯嗯","ebookId":2,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:13:10.275 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564193038336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:10.275 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564193038336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:10.276 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564193038336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:10.276 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564193038336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:10.277 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564193038336 [0;39m <==      Total: 1
2023-05-17 01:13:10.277 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564193038336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:10.277 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564193038336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:10.278 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564193038336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:10.278 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564193038336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:10.278 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564193038336 [0;39m <==      Total: 1
2023-05-17 01:13:10.278 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480564193038336 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:13:10.279 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480564193038336 [0;39m ==> Parameters: 1(Long), 2(Long), 2(Long), 1(Long), 嗯嗯(String), 2023-05-17 01:13:10.278(Timestamp), null
2023-05-17 01:13:10.287 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480564193038336 [0;39m <==    Updates: 1
2023-05-17 01:13:10.287 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480564193038336 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:13:10.287 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480564193038336 [0;39m ==> Parameters: 3(Long)
2023-05-17 01:13:10.288 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480564193038336 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:10.288 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480564193038336 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:13:10.288 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480564193038336 [0;39m <==      Total: 1
2023-05-17 01:13:10.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480564193038336 [0;39m 返回结果: {"content":{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:13:10.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480564193038336 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 01:13:10.289 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480564193038336 [0;39m ------------- LoginInterceptor 结束 耗时：17 ms -------------
2023-05-17 01:13:10.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480564268535808 [0;39m ------------- 开始 -------------
2023-05-17 01:13:10.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480564268535808 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:10.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480564268535808 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:10.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480564268535808 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:10.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480564268535808 [0;39m 请求参数: [2]
2023-05-17 01:13:10.293 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480564268535808 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:10.293 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480564268535808 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:10.294 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480564268535808 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:10.294 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480564268535808 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:10.295 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480564268535808 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:10.295 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480564268535808 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:13:10.295 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480564268535808 [0;39m <==      Total: 3
2023-05-17 01:13:10.295 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:10.296 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:10.296 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564268535808 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:10.296 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564268535808 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:10.296 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m <==      Total: 1
2023-05-17 01:13:10.296 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:10.297 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:10.297 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564268535808 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:10.297 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564268535808 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:10.297 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m <==      Total: 1
2023-05-17 01:13:10.298 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:10.298 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:10.298 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564268535808 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:10.298 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564268535808 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:10.298 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m <==      Total: 1
2023-05-17 01:13:10.298 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:10.299 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:10.299 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564268535808 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:10.299 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564268535808 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:10.299 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m <==      Total: 1
2023-05-17 01:13:10.299 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:10.299 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:10.300 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564268535808 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:10.300 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480564268535808 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:10.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480564268535808 [0;39m <==      Total: 1
2023-05-17 01:13:10.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480564268535808 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:13:10.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480564268535808 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 01:13:12.184 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480533905969152 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:13:12.185 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480533905969152 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:13:12.185 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480533905969152 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:13:12.186 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480533905969152 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:13:12.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480572216741888 [0;39m ------------- 开始 -------------
2023-05-17 01:13:12.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480572216741888 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:13:12.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480572216741888 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:13:12.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480572216741888 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:12.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480572216741888 [0;39m 请求参数: [{"content":"嗯嗯","ebookId":2,"parentId":3,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:13:12.189 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572216741888 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:12.189 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572216741888 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:12.190 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572216741888 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:12.190 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572216741888 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:12.190 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572216741888 [0;39m <==      Total: 1
2023-05-17 01:13:12.190 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572216741888 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:12.190 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572216741888 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:12.191 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572216741888 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:12.191 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572216741888 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:12.191 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572216741888 [0;39m <==      Total: 1
2023-05-17 01:13:12.191 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480572216741888 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:13:12.192 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480572216741888 [0;39m ==> Parameters: 1(Long), 2(Long), 3(Long), 1(Long), 嗯嗯(String), 2023-05-17 01:13:12.191(Timestamp), null
2023-05-17 01:13:12.199 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480572216741888 [0;39m <==    Updates: 1
2023-05-17 01:13:12.199 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480572216741888 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:13:12.200 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480572216741888 [0;39m ==> Parameters: 4(Long)
2023-05-17 01:13:12.200 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480572216741888 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:12.200 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480572216741888 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:13:12.200 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480572216741888 [0;39m <==      Total: 1
2023-05-17 01:13:12.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480572216741888 [0;39m 返回结果: {"content":{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:13:12.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480572216741888 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:13:12.201 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480572216741888 [0;39m ------------- LoginInterceptor 结束 耗时：16 ms -------------
2023-05-17 01:13:12.204 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480572288045056 [0;39m ------------- 开始 -------------
2023-05-17 01:13:12.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480572288045056 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:12.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480572288045056 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:12.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480572288045056 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:12.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480572288045056 [0;39m 请求参数: [2]
2023-05-17 01:13:12.206 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480572288045056 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:12.206 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480572288045056 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:12.207 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480572288045056 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:12.207 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480572288045056 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:12.208 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480572288045056 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:12.208 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480572288045056 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:13:12.208 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480572288045056 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:13:12.208 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480572288045056 [0;39m <==      Total: 4
2023-05-17 01:13:12.208 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:12.208 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:12.209 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:12.209 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:12.209 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m <==      Total: 1
2023-05-17 01:13:12.209 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:12.209 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:12.209 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:12.210 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:12.210 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m <==      Total: 1
2023-05-17 01:13:12.210 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:12.210 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:12.211 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:12.211 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:12.211 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m <==      Total: 1
2023-05-17 01:13:12.211 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:12.211 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:12.211 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:12.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:12.212 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m <==      Total: 1
2023-05-17 01:13:12.212 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:12.212 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:12.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:12.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:12.212 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m <==      Total: 1
2023-05-17 01:13:12.213 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:12.213 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:12.213 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:12.213 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:12.213 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m <==      Total: 1
2023-05-17 01:13:12.213 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:12.213 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:12.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:12.215 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480572288045056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:12.215 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480572288045056 [0;39m <==      Total: 1
2023-05-17 01:13:12.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480572288045056 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:13:12.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480572288045056 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 01:13:14.218 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480537320132608 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:13:14.218 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480537320132608 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:13:14.218 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480537320132608 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:13:14.220 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480537320132608 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:13:14.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480580747956224 [0;39m ------------- 开始 -------------
2023-05-17 01:13:14.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480580747956224 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:13:14.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480580747956224 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:13:14.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480580747956224 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:14.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480580747956224 [0;39m 请求参数: [{"content":"嗯嗯","ebookId":2,"parentId":4,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:13:14.223 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580747956224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:14.223 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580747956224 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:14.223 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580747956224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:14.223 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580747956224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:14.225 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580747956224 [0;39m <==      Total: 1
2023-05-17 01:13:14.225 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580747956224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:14.225 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580747956224 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:14.226 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580747956224 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:14.226 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580747956224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:14.226 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580747956224 [0;39m <==      Total: 1
2023-05-17 01:13:14.226 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480580747956224 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:13:14.226 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480580747956224 [0;39m ==> Parameters: 1(Long), 2(Long), 4(Long), 1(Long), 嗯嗯(String), 2023-05-17 01:13:14.226(Timestamp), null
2023-05-17 01:13:14.233 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480580747956224 [0;39m <==    Updates: 1
2023-05-17 01:13:14.234 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480580747956224 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:13:14.234 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480580747956224 [0;39m ==> Parameters: 5(Long)
2023-05-17 01:13:14.234 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480580747956224 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:14.235 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480580747956224 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:13:14.235 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480580747956224 [0;39m <==      Total: 1
2023-05-17 01:13:14.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480580747956224 [0;39m 返回结果: {"content":{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:13:14.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480580747956224 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 01:13:14.236 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480580747956224 [0;39m ------------- LoginInterceptor 结束 耗时：18 ms -------------
2023-05-17 01:13:14.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480580827648000 [0;39m ------------- 开始 -------------
2023-05-17 01:13:14.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480580827648000 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:14.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480580827648000 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:14.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480580827648000 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:14.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480580827648000 [0;39m 请求参数: [2]
2023-05-17 01:13:14.241 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480580827648000 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:14.241 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480580827648000 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:14.242 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480580827648000 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:14.242 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480580827648000 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:14.242 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480580827648000 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:14.242 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480580827648000 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:13:14.242 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480580827648000 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:13:14.242 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480580827648000 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:13:14.242 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480580827648000 [0;39m <==      Total: 5
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:14.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:14.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m <==      Total: 1
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:14.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:14.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m <==      Total: 1
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:14.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:14.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m <==      Total: 1
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:14.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:14.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m <==      Total: 1
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:14.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:14.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:14.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m <==      Total: 1
2023-05-17 01:13:14.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:14.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:14.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:14.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:14.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m <==      Total: 1
2023-05-17 01:13:14.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:14.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:14.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:14.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:14.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m <==      Total: 1
2023-05-17 01:13:14.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:14.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:14.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:14.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:14.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m <==      Total: 1
2023-05-17 01:13:14.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:14.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:14.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:14.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480580827648000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:14.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480580827648000 [0;39m <==      Total: 1
2023-05-17 01:13:14.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480580827648000 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:13:14.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480580827648000 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 01:13:17.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:13:19.829 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:13:32.613 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480547164164096 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:13:32.613 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480547164164096 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:13:32.615 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480547164164096 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:13:32.616 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480547164164096 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:13:32.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480657906372608 [0;39m ------------- 开始 -------------
2023-05-17 01:13:32.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480657906372608 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:13:32.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480657906372608 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:13:32.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480657906372608 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:32.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480657906372608 [0;39m 请求参数: [{"content":"2","ebookId":2,"parentId":1,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:13:32.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657906372608 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:32.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657906372608 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:32.620 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657906372608 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:32.620 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657906372608 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:32.620 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657906372608 [0;39m <==      Total: 1
2023-05-17 01:13:32.620 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657906372608 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:32.620 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657906372608 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:32.621 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657906372608 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:32.621 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657906372608 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:32.621 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657906372608 [0;39m <==      Total: 1
2023-05-17 01:13:32.622 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480657906372608 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:13:32.622 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480657906372608 [0;39m ==> Parameters: 1(Long), 2(Long), 1(Long), 1(Long), 2(String), 2023-05-17 01:13:32.621(Timestamp), null
2023-05-17 01:13:32.630 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480657906372608 [0;39m <==    Updates: 1
2023-05-17 01:13:32.630 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480657906372608 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:13:32.630 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480657906372608 [0;39m ==> Parameters: 6(Long)
2023-05-17 01:13:32.630 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480657906372608 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:32.631 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480657906372608 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:13:32.631 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480657906372608 [0;39m <==      Total: 1
2023-05-17 01:13:32.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480657906372608 [0;39m 返回结果: {"content":{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:13:32.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480657906372608 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 01:13:32.631 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480657906372608 [0;39m ------------- LoginInterceptor 结束 耗时：18 ms -------------
2023-05-17 01:13:32.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480657981870080 [0;39m ------------- 开始 -------------
2023-05-17 01:13:32.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480657981870080 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:32.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480657981870080 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:32.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480657981870080 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:32.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480657981870080 [0;39m 请求参数: [2]
2023-05-17 01:13:32.635 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480657981870080 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:32.635 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480657981870080 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:32.636 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480657981870080 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:32.636 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480657981870080 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:32.636 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480657981870080 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:32.637 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480657981870080 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:13:32.637 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480657981870080 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:13:32.637 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480657981870080 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:13:32.637 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480657981870080 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:13:32.637 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480657981870080 [0;39m <==      Total: 6
2023-05-17 01:13:32.638 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:32.638 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:32.638 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:32.638 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:32.638 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m <==      Total: 1
2023-05-17 01:13:32.638 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:32.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:32.639 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:32.639 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:32.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m <==      Total: 1
2023-05-17 01:13:32.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:32.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:32.640 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:32.640 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:32.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m <==      Total: 1
2023-05-17 01:13:32.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:32.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:32.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:32.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:32.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m <==      Total: 1
2023-05-17 01:13:32.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:32.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:32.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:32.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:32.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m <==      Total: 1
2023-05-17 01:13:32.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:32.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:32.643 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:32.643 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:32.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m <==      Total: 1
2023-05-17 01:13:32.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:32.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:32.644 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:32.644 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:32.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m <==      Total: 1
2023-05-17 01:13:32.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:32.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:32.644 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:32.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:32.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m <==      Total: 1
2023-05-17 01:13:32.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:32.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:32.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:32.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:32.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m <==      Total: 1
2023-05-17 01:13:32.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:32.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:32.646 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:32.646 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:32.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m <==      Total: 1
2023-05-17 01:13:32.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:32.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:32.647 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:32.647 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480657981870080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:32.647 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480657981870080 [0;39m <==      Total: 1
2023-05-17 01:13:32.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480657981870080 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:13:32.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480657981870080 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 01:13:33.491 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:13:33.805 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:13:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39480667922370560 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:13:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480667922370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:13:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480667922370560 [0;39m ==> Parameters: 
2023-05-17 01:13:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480667922370560 [0;39m <==    Updates: 2
2023-05-17 01:13:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39480667922370560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:13:35.121 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480555976396800 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:13:35.122 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480555976396800 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:13:35.123 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480555976396800 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:13:35.125 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480555976396800 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:13:35.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480668429881344 [0;39m ------------- 开始 -------------
2023-05-17 01:13:35.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480668429881344 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:13:35.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480668429881344 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:13:35.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480668429881344 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:35.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480668429881344 [0;39m 请求参数: [{"content":"2","ebookId":2,"parentId":1,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:13:35.127 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668429881344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.127 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668429881344 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.128 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668429881344 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.128 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668429881344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668429881344 [0;39m <==      Total: 1
2023-05-17 01:13:35.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668429881344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.129 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668429881344 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.129 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668429881344 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.129 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668429881344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.129 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668429881344 [0;39m <==      Total: 1
2023-05-17 01:13:35.130 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480668429881344 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:13:35.131 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480668429881344 [0;39m ==> Parameters: 1(Long), 2(Long), 1(Long), 1(Long), 2(String), 2023-05-17 01:13:35.13(Timestamp), null
2023-05-17 01:13:35.138 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480668429881344 [0;39m <==    Updates: 1
2023-05-17 01:13:35.138 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480668429881344 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:13:35.138 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480668429881344 [0;39m ==> Parameters: 7(Long)
2023-05-17 01:13:35.138 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480668429881344 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:35.138 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480668429881344 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:13:35.139 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480668429881344 [0;39m <==      Total: 1
2023-05-17 01:13:35.139 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480668429881344 [0;39m 返回结果: {"content":{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:13:35.139 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480668429881344 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:13:35.139 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480668429881344 [0;39m ------------- LoginInterceptor 结束 耗时：17 ms -------------
2023-05-17 01:13:35.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480668505378816 [0;39m ------------- 开始 -------------
2023-05-17 01:13:35.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480668505378816 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:35.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480668505378816 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:35.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480668505378816 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:35.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480668505378816 [0;39m 请求参数: [2]
2023-05-17 01:13:35.145 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480668505378816 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:35.145 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480668505378816 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:35.146 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480668505378816 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:35.146 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480668505378816 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:35.146 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480668505378816 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:35.146 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480668505378816 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:13:35.146 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480668505378816 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:13:35.147 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480668505378816 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:13:35.147 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480668505378816 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:13:35.147 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480668505378816 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:13:35.147 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480668505378816 [0;39m <==      Total: 7
2023-05-17 01:13:35.147 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.147 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.148 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.148 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.148 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m <==      Total: 1
2023-05-17 01:13:35.148 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.149 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.149 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.149 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.149 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m <==      Total: 1
2023-05-17 01:13:35.149 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.149 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.150 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.150 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.150 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m <==      Total: 1
2023-05-17 01:13:35.150 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.150 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.151 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.151 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.151 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m <==      Total: 1
2023-05-17 01:13:35.151 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.151 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.152 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.152 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.152 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m <==      Total: 1
2023-05-17 01:13:35.152 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.152 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.153 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.153 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.153 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m <==      Total: 1
2023-05-17 01:13:35.153 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.153 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.153 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.154 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m <==      Total: 1
2023-05-17 01:13:35.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.154 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.154 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m <==      Total: 1
2023-05-17 01:13:35.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.154 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.154 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m <==      Total: 1
2023-05-17 01:13:35.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.154 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.154 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m <==      Total: 1
2023-05-17 01:13:35.157 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.157 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.158 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.158 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.158 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m <==      Total: 1
2023-05-17 01:13:35.158 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.158 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.158 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.158 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.158 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m <==      Total: 1
2023-05-17 01:13:35.158 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:35.158 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:35.158 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:35.158 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480668505378816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:35.158 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480668505378816 [0;39m <==      Total: 1
2023-05-17 01:13:35.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480668505378816 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:13:35.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480668505378816 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 01:13:37.575 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:13:40.634 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39480564193038336 [0;39m 连接关闭，token：hWxc3eDxvI，session id：10！当前连接数：0
2023-05-17 01:13:41.145 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39480564268535808 [0;39m 有新连接：token：oDIz13LnuN，session id：11，当前连接数：1
2023-05-17 01:13:41.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480693855752193 [0;39m ------------- 开始 -------------
2023-05-17 01:13:41.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480693855752192 [0;39m ------------- 开始 -------------
2023-05-17 01:13:41.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480693855752193 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:13:41.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480693855752192 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:41.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480693855752192 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:41.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480693855752192 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:41.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480693855752193 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:13:41.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480693855752192 [0;39m 请求参数: [2]
2023-05-17 01:13:41.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480693855752193 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:41.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480693855752193 [0;39m 请求参数: [2]
2023-05-17 01:13:41.190 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480693855752192 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:41.190 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39480693855752193 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:13:41.190 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480693855752192 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:41.190 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39480693855752193 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:41.191 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39480693855752193 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:13:41.191 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480693855752192 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:41.191 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39480693855752193 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 190, 1
2023-05-17 01:13:41.191 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480693855752192 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:41.191 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39480693855752193 [0;39m <==      Total: 1
2023-05-17 01:13:41.192 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480693855752192 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:41.192 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480693855752193 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":190,"voteCount":1}],"success":true}
2023-05-17 01:13:41.192 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480693855752193 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 01:13:41.192 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480693855752192 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:13:41.192 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480693855752192 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:13:41.192 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480693855752192 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:13:41.193 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480693855752192 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:13:41.193 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480693855752192 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:13:41.193 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480693855752192 [0;39m <==      Total: 7
2023-05-17 01:13:41.193 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:41.194 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:41.194 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:41.194 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:41.195 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m <==      Total: 1
2023-05-17 01:13:41.195 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:41.195 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:41.195 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:41.196 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:41.196 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m <==      Total: 1
2023-05-17 01:13:41.196 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:41.196 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:41.197 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:41.197 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:41.197 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m <==      Total: 1
2023-05-17 01:13:41.197 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:41.197 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:41.198 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:41.198 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:41.198 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m <==      Total: 1
2023-05-17 01:13:41.198 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:41.199 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:41.199 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:41.199 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:41.199 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m <==      Total: 1
2023-05-17 01:13:41.199 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:41.200 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:41.200 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:41.200 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:41.200 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m <==      Total: 1
2023-05-17 01:13:41.201 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:41.201 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:41.201 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:41.201 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:41.202 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m <==      Total: 1
2023-05-17 01:13:41.202 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:41.202 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:41.202 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:41.203 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:41.203 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m <==      Total: 1
2023-05-17 01:13:41.203 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:41.203 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:41.204 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:41.204 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:41.204 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m <==      Total: 1
2023-05-17 01:13:41.204 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:41.204 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:41.205 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:41.205 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:41.205 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m <==      Total: 1
2023-05-17 01:13:41.205 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:41.205 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:41.206 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:41.206 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:41.206 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m <==      Total: 1
2023-05-17 01:13:41.207 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:41.207 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:41.207 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:41.207 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:41.207 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m <==      Total: 1
2023-05-17 01:13:41.208 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:41.208 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:41.208 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:41.208 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480693855752192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:41.209 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480693855752192 [0;39m <==      Total: 1
2023-05-17 01:13:41.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480693855752192 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:13:41.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480693855752192 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-17 01:13:41.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480694019330048 [0;39m ------------- 开始 -------------
2023-05-17 01:13:41.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480694019330048 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:13:41.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480694019330048 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:13:41.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480694019330048 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:41.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480694019330048 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:13:41.229 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39480694019330048 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:13:41.229 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39480694019330048 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:13:41.229 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39480694019330048 [0;39m <==    Columns: id, content
2023-05-17 01:13:41.229 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39480694019330048 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:13:41.229 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39480694019330048 [0;39m <==      Total: 1
2023-05-17 01:13:41.229 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39480694019330048 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:13:41.229 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39480694019330048 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:13:41.233 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39480694019330048 [0;39m <==    Updates: 1
2023-05-17 01:13:41.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480694019330048 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:13:41.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480694019330048 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 01:13:41.862 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:13:43.894 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:13:43.972 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480705532694528 [0;39m ------------- 开始 -------------
2023-05-17 01:13:43.972 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480705532694528 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:43.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480705532694528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:43.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480705532694528 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:43.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480705532694528 [0;39m 请求参数: [2]
2023-05-17 01:13:43.973 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480705532694528 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:43.974 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480705532694528 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:43.974 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480705532694528 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:43.974 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480705532694528 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:43.975 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480705532694528 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:43.975 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480705532694528 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:13:43.975 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480705532694528 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:13:43.975 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480705532694528 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:13:43.976 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480705532694528 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:13:43.976 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480705532694528 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:13:43.976 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480705532694528 [0;39m <==      Total: 7
2023-05-17 01:13:43.976 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:43.977 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:43.977 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m <==      Total: 1
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:43.977 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:43.977 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m <==      Total: 1
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:43.977 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:43.977 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m <==      Total: 1
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:43.977 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:43.977 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m <==      Total: 1
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:43.977 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:43.977 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m <==      Total: 1
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:43.977 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:43.977 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:43.977 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m <==      Total: 1
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:43.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:43.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m <==      Total: 1
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:43.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:43.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m <==      Total: 1
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:43.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:43.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m <==      Total: 1
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:43.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:43.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m <==      Total: 1
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:43.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:43.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m <==      Total: 1
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:43.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:43.983 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m <==      Total: 1
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:43.983 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:43.990 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:43.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480705532694528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:43.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480705532694528 [0;39m <==      Total: 1
2023-05-17 01:13:43.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480705532694528 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:13:43.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480705532694528 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-17 01:13:46.049 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480657906372608 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:13:46.050 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480657906372608 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 01:13:46.050 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480657906372608 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:13:46.051 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480657906372608 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:13:46.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480714256846848 [0;39m ------------- 开始 -------------
2023-05-17 01:13:46.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480714256846848 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 01:13:46.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480714256846848 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 01:13:46.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480714256846848 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:46.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480714256846848 [0;39m 请求参数: [{"content":"嗯嗯","ebookId":2,"userId":1}]
2023-05-17 01:13:46.053 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714256846848 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.053 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714256846848 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.054 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714256846848 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.054 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714256846848 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714256846848 [0;39m <==      Total: 1
2023-05-17 01:13:46.054 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39480714256846848 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 01:13:46.055 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39480714256846848 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:46.055 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39480714256846848 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 01:13:46.055 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39480714256846848 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 190, 1
2023-05-17 01:13:46.055 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39480714256846848 [0;39m <==      Total: 1
2023-05-17 01:13:46.056 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39480714256846848 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:13:46.056 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39480714256846848 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, 嗯嗯(String), 2023-05-17 01:13:46.056(Timestamp), null
2023-05-17 01:13:46.061 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39480714256846848 [0;39m <==    Updates: 1
2023-05-17 01:13:46.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480714256846848 [0;39m 返回结果: {"success":true}
2023-05-17 01:13:46.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480714256846848 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 01:13:46.061 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480714256846848 [0;39m ------------- LoginInterceptor 结束 耗时：11 ms -------------
2023-05-17 01:13:46.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480714332344320 [0;39m ------------- 开始 -------------
2023-05-17 01:13:46.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480714332344320 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:46.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480714332344320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:46.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480714332344320 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:46.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480714332344320 [0;39m 请求参数: [2]
2023-05-17 01:13:46.070 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480714332344320 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:46.071 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480714332344320 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:46.072 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480714332344320 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:46.072 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480714332344320 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:46.073 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480714332344320 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:46.073 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480714332344320 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:13:46.073 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480714332344320 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:13:46.073 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480714332344320 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:13:46.074 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480714332344320 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:13:46.074 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480714332344320 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:13:46.074 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480714332344320 [0;39m <==        Row: 8, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:46, null
2023-05-17 01:13:46.074 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480714332344320 [0;39m <==      Total: 8
2023-05-17 01:13:46.074 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.075 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.075 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.076 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.076 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.077 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.077 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.077 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.077 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.077 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.077 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.077 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.077 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.077 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.077 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.077 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.077 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.077 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.077 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.080 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.081 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.081 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.088 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.088 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.088 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.088 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:46.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:46.088 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:46.088 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480714332344320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:46.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480714332344320 [0;39m <==      Total: 1
2023-05-17 01:13:46.088 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480714332344320 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257226000,"ebookId":2,"id":8,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 01:13:46.088 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480714332344320 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 01:13:47.957 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480668429881344 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:13:47.958 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480668429881344 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 01:13:47.958 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480668429881344 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:13:47.959 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480668429881344 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:13:47.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480722259578880 [0;39m ------------- 开始 -------------
2023-05-17 01:13:47.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480722259578880 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 01:13:47.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480722259578880 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 01:13:47.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480722259578880 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:47.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480722259578880 [0;39m 请求参数: [{"content":"看看","ebookId":2,"userId":1}]
2023-05-17 01:13:47.961 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722259578880 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.961 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722259578880 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.962 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722259578880 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.962 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722259578880 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.962 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722259578880 [0;39m <==      Total: 1
2023-05-17 01:13:47.962 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39480722259578880 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 01:13:47.962 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39480722259578880 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:47.963 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39480722259578880 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 01:13:47.963 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39480722259578880 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 190, 1
2023-05-17 01:13:47.963 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39480722259578880 [0;39m <==      Total: 1
2023-05-17 01:13:47.964 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39480722259578880 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:13:47.965 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39480722259578880 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, 看看(String), 2023-05-17 01:13:47.964(Timestamp), null
2023-05-17 01:13:47.971 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39480722259578880 [0;39m <==    Updates: 1
2023-05-17 01:13:47.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480722259578880 [0;39m 返回结果: {"success":true}
2023-05-17 01:13:47.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480722259578880 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 01:13:47.971 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480722259578880 [0;39m ------------- LoginInterceptor 结束 耗时：13 ms -------------
2023-05-17 01:13:47.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480722343464960 [0;39m ------------- 开始 -------------
2023-05-17 01:13:47.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480722343464960 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:47.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480722343464960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:47.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480722343464960 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:47.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480722343464960 [0;39m 请求参数: [2]
2023-05-17 01:13:47.982 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480722343464960 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:47.982 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480722343464960 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:47.984 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480722343464960 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:47.984 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480722343464960 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:47.984 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480722343464960 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:47.985 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480722343464960 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:13:47.985 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480722343464960 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:13:47.985 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480722343464960 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:13:47.985 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480722343464960 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:13:47.985 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480722343464960 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:13:47.986 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480722343464960 [0;39m <==        Row: 8, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:46, null
2023-05-17 01:13:47.986 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480722343464960 [0;39m <==        Row: 9, 1, 2, null, null, 看看, 2023-05-17 01:13:48, null
2023-05-17 01:13:47.986 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480722343464960 [0;39m <==      Total: 9
2023-05-17 01:13:47.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.990 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.990 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.990 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.990 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.990 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.991 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.991 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.997 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.997 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.998 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.998 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.998 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.998 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.998 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.998 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:47.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:47.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:47.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:47.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:47.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:48.000 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480722343464960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:48.000 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480722343464960 [0;39m <==      Total: 1
2023-05-17 01:13:48.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480722343464960 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257226000,"ebookId":2,"id":8,"name":"test","replies":[],"userId":1},{"content":"看看","createTime":1684257228000,"ebookId":2,"id":9,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 01:13:48.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480722343464960 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-17 01:13:51.427 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480564193038336 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:13:51.429 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480564193038336 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:13:51.429 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480564193038336 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:13:51.431 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480564193038336 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:13:51.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480736818008064 [0;39m ------------- 开始 -------------
2023-05-17 01:13:51.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480736818008064 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:13:51.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480736818008064 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:13:51.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480736818008064 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:51.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480736818008064 [0;39m 请求参数: [{"content":"看看","ebookId":2,"parentId":8,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:13:51.432 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736818008064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.432 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736818008064 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.434 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736818008064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.434 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736818008064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.434 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736818008064 [0;39m <==      Total: 1
2023-05-17 01:13:51.435 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736818008064 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.435 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736818008064 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.435 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736818008064 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.435 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736818008064 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.436 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736818008064 [0;39m <==      Total: 1
2023-05-17 01:13:51.436 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480736818008064 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:13:51.436 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480736818008064 [0;39m ==> Parameters: 1(Long), 2(Long), 8(Long), 1(Long), 看看(String), 2023-05-17 01:13:51.436(Timestamp), null
2023-05-17 01:13:51.443 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480736818008064 [0;39m <==    Updates: 1
2023-05-17 01:13:51.443 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480736818008064 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:13:51.443 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480736818008064 [0;39m ==> Parameters: 10(Long)
2023-05-17 01:13:51.443 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480736818008064 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:51.443 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480736818008064 [0;39m <==        Row: 10, 1, 2, 8, 1, 看看, 2023-05-17 01:13:51, null
2023-05-17 01:13:51.443 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480736818008064 [0;39m <==      Total: 1
2023-05-17 01:13:51.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480736818008064 [0;39m 返回结果: {"content":{"content":"看看","createTime":1684257231000,"ebookId":2,"id":10,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:13:51.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480736818008064 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:13:51.444 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480736818008064 [0;39m ------------- LoginInterceptor 结束 耗时：15 ms -------------
2023-05-17 01:13:51.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480736897699840 [0;39m ------------- 开始 -------------
2023-05-17 01:13:51.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480736897699840 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:51.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480736897699840 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:51.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480736897699840 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:51.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480736897699840 [0;39m 请求参数: [2]
2023-05-17 01:13:51.450 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480736897699840 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:51.450 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480736897699840 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:51.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480736897699840 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:51.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480736897699840 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:51.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480736897699840 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:51.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480736897699840 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:13:51.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480736897699840 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:13:51.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480736897699840 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:13:51.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480736897699840 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:13:51.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480736897699840 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:13:51.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480736897699840 [0;39m <==        Row: 8, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:46, null
2023-05-17 01:13:51.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480736897699840 [0;39m <==        Row: 9, 1, 2, null, null, 看看, 2023-05-17 01:13:48, null
2023-05-17 01:13:51.450 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480736897699840 [0;39m <==        Row: 10, 1, 2, 8, 1, 看看, 2023-05-17 01:13:51, null
2023-05-17 01:13:51.450 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480736897699840 [0;39m <==      Total: 10
2023-05-17 01:13:51.450 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.450 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.450 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.450 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.455 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.456 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.456 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.456 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.456 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.456 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.457 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.457 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.457 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.457 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.457 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.457 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.457 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.458 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.458 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.458 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.458 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.458 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.458 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.458 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.459 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.459 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.459 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.459 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.459 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.459 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.460 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.460 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.460 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.460 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.460 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.460 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.460 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.461 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.461 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.461 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.461 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.461 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.461 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.461 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.462 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.462 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.462 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.462 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.462 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.463 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.463 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.463 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.463 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.463 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.463 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.464 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.464 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.464 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.464 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.464 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.465 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.465 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.465 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.467 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.467 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.467 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.467 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.467 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.467 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.468 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.468 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:51.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:51.469 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:51.469 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480736897699840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:51.469 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480736897699840 [0;39m <==      Total: 1
2023-05-17 01:13:51.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480736897699840 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257226000,"ebookId":2,"id":8,"name":"test","replies":[{"content":"看看","createTime":1684257231000,"ebookId":2,"id":10,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"看看","createTime":1684257228000,"ebookId":2,"id":9,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 01:13:51.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480736897699840 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-17 01:13:54.029 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480693855752193 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:13:54.029 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480693855752193 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:13:54.029 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480693855752193 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:13:54.030 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480693855752193 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:13:54.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480747723198464 [0;39m ------------- 开始 -------------
2023-05-17 01:13:54.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480747723198464 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:13:54.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480747723198464 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:13:54.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480747723198464 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:54.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480747723198464 [0;39m 请求参数: [{"content":"看看","ebookId":2,"parentId":8,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:13:54.032 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747723198464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.032 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747723198464 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.033 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747723198464 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.033 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747723198464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.033 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747723198464 [0;39m <==      Total: 1
2023-05-17 01:13:54.033 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747723198464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.033 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747723198464 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.035 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747723198464 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.035 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747723198464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.035 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747723198464 [0;39m <==      Total: 1
2023-05-17 01:13:54.035 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480747723198464 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:13:54.036 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480747723198464 [0;39m ==> Parameters: 1(Long), 2(Long), 8(Long), 1(Long), 看看(String), 2023-05-17 01:13:54.035(Timestamp), null
2023-05-17 01:13:54.040 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480747723198464 [0;39m <==    Updates: 1
2023-05-17 01:13:54.040 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480747723198464 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:13:54.040 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480747723198464 [0;39m ==> Parameters: 11(Long)
2023-05-17 01:13:54.041 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480747723198464 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:54.041 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480747723198464 [0;39m <==        Row: 11, 1, 2, 8, 1, 看看, 2023-05-17 01:13:54, null
2023-05-17 01:13:54.041 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480747723198464 [0;39m <==      Total: 1
2023-05-17 01:13:54.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480747723198464 [0;39m 返回结果: {"content":{"content":"看看","createTime":1684257234000,"ebookId":2,"id":11,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:13:54.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480747723198464 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 01:13:54.042 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480747723198464 [0;39m ------------- LoginInterceptor 结束 耗时：13 ms -------------
2023-05-17 01:13:54.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480747786113024 [0;39m ------------- 开始 -------------
2023-05-17 01:13:54.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480747786113024 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:54.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480747786113024 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:54.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480747786113024 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:54.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480747786113024 [0;39m 请求参数: [2]
2023-05-17 01:13:54.047 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480747786113024 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:54.047 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480747786113024 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:54.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480747786113024 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:54.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480747786113024 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:54.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480747786113024 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:54.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480747786113024 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:13:54.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480747786113024 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:13:54.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480747786113024 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:13:54.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480747786113024 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:13:54.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480747786113024 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:13:54.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480747786113024 [0;39m <==        Row: 8, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:46, null
2023-05-17 01:13:54.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480747786113024 [0;39m <==        Row: 9, 1, 2, null, null, 看看, 2023-05-17 01:13:48, null
2023-05-17 01:13:54.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480747786113024 [0;39m <==        Row: 10, 1, 2, 8, 1, 看看, 2023-05-17 01:13:51, null
2023-05-17 01:13:54.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480747786113024 [0;39m <==        Row: 11, 1, 2, 8, 1, 看看, 2023-05-17 01:13:54, null
2023-05-17 01:13:54.047 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480747786113024 [0;39m <==      Total: 11
2023-05-17 01:13:54.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.047 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.047 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.047 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.047 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.047 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.047 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.052 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.052 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.052 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.053 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.053 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.053 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.054 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.054 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.055 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.055 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.055 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.055 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.055 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.055 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.056 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.056 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.056 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.056 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.056 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.056 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.057 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.057 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.057 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.057 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.057 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.057 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.057 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.057 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.058 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.058 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.058 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.058 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.059 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.059 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.059 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.059 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.059 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.059 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.061 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.061 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.061 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.061 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.061 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.061 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.061 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.062 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.062 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.062 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.062 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.062 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.062 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.063 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.063 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.066 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:54.066 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:54.067 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:54.067 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480747786113024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:54.067 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480747786113024 [0;39m <==      Total: 1
2023-05-17 01:13:54.067 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480747786113024 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257226000,"ebookId":2,"id":8,"name":"test","replies":[{"content":"看看","createTime":1684257231000,"ebookId":2,"id":10,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257234000,"ebookId":2,"id":11,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"看看","createTime":1684257228000,"ebookId":2,"id":9,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 01:13:54.067 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480747786113024 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-17 01:13:56.778 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480694019330048 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:13:56.779 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480694019330048 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:13:56.779 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480694019330048 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:13:56.780 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480694019330048 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:13:56.781 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480759257534464 [0;39m ------------- 开始 -------------
2023-05-17 01:13:56.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480759257534464 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:13:56.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480759257534464 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:13:56.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480759257534464 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:56.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480759257534464 [0;39m 请求参数: [{"content":"看看","ebookId":2,"parentId":8,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:13:56.784 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759257534464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.784 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759257534464 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.785 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759257534464 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.785 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759257534464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.785 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759257534464 [0;39m <==      Total: 1
2023-05-17 01:13:56.785 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759257534464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.786 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759257534464 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.786 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759257534464 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.786 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759257534464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.786 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759257534464 [0;39m <==      Total: 1
2023-05-17 01:13:56.786 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480759257534464 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:13:56.786 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480759257534464 [0;39m ==> Parameters: 1(Long), 2(Long), 8(Long), 1(Long), 看看(String), 2023-05-17 01:13:56.786(Timestamp), null
2023-05-17 01:13:56.793 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480759257534464 [0;39m <==    Updates: 1
2023-05-17 01:13:56.793 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480759257534464 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:13:56.793 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480759257534464 [0;39m ==> Parameters: 12(Long)
2023-05-17 01:13:56.795 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480759257534464 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:56.795 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480759257534464 [0;39m <==        Row: 12, 1, 2, 8, 1, 看看, 2023-05-17 01:13:57, null
2023-05-17 01:13:56.795 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480759257534464 [0;39m <==      Total: 1
2023-05-17 01:13:56.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480759257534464 [0;39m 返回结果: {"content":{"content":"看看","createTime":1684257237000,"ebookId":2,"id":12,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:13:56.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480759257534464 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 01:13:56.796 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480759257534464 [0;39m ------------- LoginInterceptor 结束 耗时：17 ms -------------
2023-05-17 01:13:56.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480759337226240 [0;39m ------------- 开始 -------------
2023-05-17 01:13:56.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480759337226240 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:13:56.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480759337226240 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:13:56.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480759337226240 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:13:56.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480759337226240 [0;39m 请求参数: [2]
2023-05-17 01:13:56.801 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480759337226240 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:13:56.802 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480759337226240 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:13:56.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480759337226240 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:13:56.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480759337226240 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:13:56.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480759337226240 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:13:56.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480759337226240 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:13:56.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480759337226240 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:13:56.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480759337226240 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:13:56.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480759337226240 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:13:56.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480759337226240 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:13:56.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480759337226240 [0;39m <==        Row: 8, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:46, null
2023-05-17 01:13:56.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480759337226240 [0;39m <==        Row: 9, 1, 2, null, null, 看看, 2023-05-17 01:13:48, null
2023-05-17 01:13:56.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480759337226240 [0;39m <==        Row: 10, 1, 2, 8, 1, 看看, 2023-05-17 01:13:51, null
2023-05-17 01:13:56.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480759337226240 [0;39m <==        Row: 11, 1, 2, 8, 1, 看看, 2023-05-17 01:13:54, null
2023-05-17 01:13:56.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480759337226240 [0;39m <==        Row: 12, 1, 2, 8, 1, 看看, 2023-05-17 01:13:57, null
2023-05-17 01:13:56.803 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480759337226240 [0;39m <==      Total: 12
2023-05-17 01:13:56.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.809 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.809 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.809 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.809 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.811 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.811 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.812 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.812 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.812 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.812 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.812 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.812 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.812 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.812 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.812 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.812 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.812 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.812 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.812 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.812 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.812 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.812 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.812 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.816 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.817 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.817 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.817 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.818 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.818 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.818 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.818 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.818 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.819 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.819 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.819 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.819 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.820 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.820 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.820 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.820 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.821 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.821 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.821 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.821 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.822 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.822 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.822 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.823 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.823 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.824 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.824 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.824 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.830 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.830 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:13:56.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:13:56.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:13:56.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480759337226240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:13:56.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480759337226240 [0;39m <==      Total: 1
2023-05-17 01:13:56.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480759337226240 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257226000,"ebookId":2,"id":8,"name":"test","replies":[{"content":"看看","createTime":1684257231000,"ebookId":2,"id":10,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257234000,"ebookId":2,"id":11,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257237000,"ebookId":2,"id":12,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"看看","createTime":1684257228000,"ebookId":2,"id":9,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 01:13:56.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480759337226240 [0;39m ------------- 结束 耗时：31 ms -------------
2023-05-17 01:14:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39480772779970560 [0;39m 生成今日电子书快照开始
2023-05-17 01:14:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39480772779970560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:14:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39480772779970560 [0;39m ==> Parameters: 
2023-05-17 01:14:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39480772779970560 [0;39m <==    Updates: 0
2023-05-17 01:14:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39480772779970560 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-17 01:14:03.809 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:14:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39480793747296256 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:14:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480793747296256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:14:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480793747296256 [0;39m ==> Parameters: 
2023-05-17 01:14:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480793747296256 [0;39m <==    Updates: 2
2023-05-17 01:14:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39480793747296256 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 01:14:05.428 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39480714256846848 [0;39m 连接关闭，token：oDIz13LnuN，session id：11！当前连接数：0
2023-05-17 01:14:05.516 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:14:05.664 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39480714332344320 [0;39m 有新连接：token：Zs2rmHKedG，session id：12，当前连接数：1
2023-05-17 01:14:05.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480796653948929 [0;39m ------------- 开始 -------------
2023-05-17 01:14:05.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480796653948928 [0;39m ------------- 开始 -------------
2023-05-17 01:14:05.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480796653948929 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:14:05.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480796653948928 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:14:05.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480796653948929 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:14:05.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480796653948928 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:14:05.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480796653948929 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:14:05.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480796653948928 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:14:05.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480796653948929 [0;39m 请求参数: [2]
2023-05-17 01:14:05.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480796653948928 [0;39m 请求参数: [2]
2023-05-17 01:14:05.698 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480796653948928 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:14:05.698 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39480796653948929 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:14:05.699 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480796653948928 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:14:05.699 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39480796653948929 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:14:05.699 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480796653948928 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:14:05.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39480796653948929 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:14:05.699 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480796653948928 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:14:05.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39480796653948929 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 191, 1
2023-05-17 01:14:05.700 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39480796653948929 [0;39m <==      Total: 1
2023-05-17 01:14:05.700 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480796653948928 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:14:05.700 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480796653948928 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:14:05.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480796653948929 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":191,"voteCount":1}],"success":true}
2023-05-17 01:14:05.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480796653948929 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 01:14:05.700 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480796653948928 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:14:05.700 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480796653948928 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:14:05.700 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480796653948928 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:14:05.701 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480796653948928 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:14:05.701 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480796653948928 [0;39m <==        Row: 8, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:46, null
2023-05-17 01:14:05.701 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480796653948928 [0;39m <==        Row: 9, 1, 2, null, null, 看看, 2023-05-17 01:13:48, null
2023-05-17 01:14:05.701 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480796653948928 [0;39m <==        Row: 10, 1, 2, 8, 1, 看看, 2023-05-17 01:13:51, null
2023-05-17 01:14:05.701 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480796653948928 [0;39m <==        Row: 11, 1, 2, 8, 1, 看看, 2023-05-17 01:13:54, null
2023-05-17 01:14:05.702 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480796653948928 [0;39m <==        Row: 12, 1, 2, 8, 1, 看看, 2023-05-17 01:13:57, null
2023-05-17 01:14:05.702 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480796653948928 [0;39m <==      Total: 12
2023-05-17 01:14:05.702 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.702 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.705 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.705 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.705 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.705 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.706 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.706 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.706 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.706 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.707 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.707 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.708 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.708 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.708 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.708 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.708 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.709 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.709 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.709 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.709 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.709 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.710 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.710 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.710 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.710 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.711 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.711 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.711 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.712 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.712 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.712 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.713 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.713 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.713 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.713 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.713 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.714 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.714 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.714 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.714 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.715 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.715 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.715 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.715 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.715 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.716 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.716 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.716 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.716 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.717 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.717 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.717 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.717 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.718 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.718 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.718 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.719 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.719 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.719 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.720 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.720 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.720 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.720 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.721 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.721 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.721 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.721 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.722 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.722 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.722 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.722 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.723 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.723 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.723 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.723 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.723 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.724 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.724 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.724 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.724 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.725 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.725 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.725 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.725 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.726 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.726 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.726 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.726 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.727 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.727 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.727 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.727 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.727 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.727 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.727 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.727 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.729 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.729 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.729 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.729 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:05.729 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:05.730 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:05.730 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480796653948928 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:05.730 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480796653948928 [0;39m <==      Total: 1
2023-05-17 01:14:05.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480796653948928 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257226000,"ebookId":2,"id":8,"name":"test","replies":[{"content":"看看","createTime":1684257231000,"ebookId":2,"id":10,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257234000,"ebookId":2,"id":11,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257237000,"ebookId":2,"id":12,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"看看","createTime":1684257228000,"ebookId":2,"id":9,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 01:14:05.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480796653948928 [0;39m ------------- 结束 耗时：34 ms -------------
2023-05-17 01:14:05.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480796880441344 [0;39m ------------- 开始 -------------
2023-05-17 01:14:05.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480796880441344 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:14:05.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480796880441344 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:14:05.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480796880441344 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:14:05.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480796880441344 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:14:05.753 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39480796880441344 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:14:05.753 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39480796880441344 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:14:05.755 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39480796880441344 [0;39m <==    Columns: id, content
2023-05-17 01:14:05.755 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39480796880441344 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:14:05.755 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39480796880441344 [0;39m <==      Total: 1
2023-05-17 01:14:05.755 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39480796880441344 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:14:05.755 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39480796880441344 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:14:05.755 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39480796880441344 [0;39m <==    Updates: 1
2023-05-17 01:14:05.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480796880441344 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:14:05.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480796880441344 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 01:14:06.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480801229934592 [0;39m ------------- 开始 -------------
2023-05-17 01:14:06.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480801229934592 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:14:06.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480801229934592 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:14:06.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480801229934592 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:14:06.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480801229934592 [0;39m 请求参数: [2]
2023-05-17 01:14:06.790 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480801229934592 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:14:06.790 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480801229934592 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:14:06.791 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480801229934592 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:14:06.791 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480801229934592 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:14:06.791 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480801229934592 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:14:06.791 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480801229934592 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:14:06.791 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480801229934592 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:14:06.791 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480801229934592 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:14:06.792 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480801229934592 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:14:06.792 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480801229934592 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:14:06.792 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480801229934592 [0;39m <==        Row: 8, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:46, null
2023-05-17 01:14:06.792 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480801229934592 [0;39m <==        Row: 9, 1, 2, null, null, 看看, 2023-05-17 01:13:48, null
2023-05-17 01:14:06.793 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480801229934592 [0;39m <==        Row: 10, 1, 2, 8, 1, 看看, 2023-05-17 01:13:51, null
2023-05-17 01:14:06.793 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480801229934592 [0;39m <==        Row: 11, 1, 2, 8, 1, 看看, 2023-05-17 01:13:54, null
2023-05-17 01:14:06.793 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480801229934592 [0;39m <==        Row: 12, 1, 2, 8, 1, 看看, 2023-05-17 01:13:57, null
2023-05-17 01:14:06.794 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480801229934592 [0;39m <==      Total: 12
2023-05-17 01:14:06.794 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.794 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.802 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.802 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.802 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.815 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.816 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.816 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:06.816 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:06.816 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:06.816 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480801229934592 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:06.816 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480801229934592 [0;39m <==      Total: 1
2023-05-17 01:14:06.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480801229934592 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257226000,"ebookId":2,"id":8,"name":"test","replies":[{"content":"看看","createTime":1684257231000,"ebookId":2,"id":10,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257234000,"ebookId":2,"id":11,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257237000,"ebookId":2,"id":12,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"看看","createTime":1684257228000,"ebookId":2,"id":9,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 01:14:06.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480801229934592 [0;39m ------------- 结束 耗时：28 ms -------------
2023-05-17 01:14:07.532 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:14:09.410 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480747723198464 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:14:09.410 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480747723198464 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:14:09.410 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480747723198464 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:14:09.411 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480747723198464 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:14:09.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480812235788288 [0;39m ------------- 开始 -------------
2023-05-17 01:14:09.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480812235788288 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:14:09.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480812235788288 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:14:09.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480812235788288 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:14:09.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480812235788288 [0;39m 请求参数: [{"content":"2","ebookId":2,"parentId":9,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:14:09.413 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812235788288 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.414 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812235788288 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.415 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812235788288 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.415 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812235788288 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.415 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812235788288 [0;39m <==      Total: 1
2023-05-17 01:14:09.415 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812235788288 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.415 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812235788288 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.416 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812235788288 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.416 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812235788288 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.416 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812235788288 [0;39m <==      Total: 1
2023-05-17 01:14:09.417 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480812235788288 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:14:09.417 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480812235788288 [0;39m ==> Parameters: 1(Long), 2(Long), 9(Long), 1(Long), 2(String), 2023-05-17 01:14:09.417(Timestamp), null
2023-05-17 01:14:09.424 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480812235788288 [0;39m <==    Updates: 1
2023-05-17 01:14:09.424 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480812235788288 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:14:09.424 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480812235788288 [0;39m ==> Parameters: 13(Long)
2023-05-17 01:14:09.425 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480812235788288 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:14:09.425 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480812235788288 [0;39m <==        Row: 13, 1, 2, 9, 1, 2, 2023-05-17 01:14:09, null
2023-05-17 01:14:09.425 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480812235788288 [0;39m <==      Total: 1
2023-05-17 01:14:09.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480812235788288 [0;39m 返回结果: {"content":{"content":"2","createTime":1684257249000,"ebookId":2,"id":13,"name":"test","parentId":9,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:14:09.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480812235788288 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:14:09.426 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480812235788288 [0;39m ------------- LoginInterceptor 结束 耗时：16 ms -------------
2023-05-17 01:14:09.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480812307091456 [0;39m ------------- 开始 -------------
2023-05-17 01:14:09.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480812307091456 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:14:09.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480812307091456 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:14:09.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480812307091456 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:14:09.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480812307091456 [0;39m 请求参数: [2]
2023-05-17 01:14:09.430 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480812307091456 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:14:09.430 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480812307091456 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:14:09.430 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:14:09.432 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:14:09.432 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:14:09.432 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:14:09.432 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:14:09.432 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:14:09.432 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:14:09.433 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:14:09.433 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==        Row: 8, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:46, null
2023-05-17 01:14:09.433 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==        Row: 9, 1, 2, null, null, 看看, 2023-05-17 01:13:48, null
2023-05-17 01:14:09.433 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==        Row: 10, 1, 2, 8, 1, 看看, 2023-05-17 01:13:51, null
2023-05-17 01:14:09.434 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==        Row: 11, 1, 2, 8, 1, 看看, 2023-05-17 01:13:54, null
2023-05-17 01:14:09.434 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==        Row: 12, 1, 2, 8, 1, 看看, 2023-05-17 01:13:57, null
2023-05-17 01:14:09.434 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480812307091456 [0;39m <==        Row: 13, 1, 2, 9, 1, 2, 2023-05-17 01:14:09, null
2023-05-17 01:14:09.434 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480812307091456 [0;39m <==      Total: 13
2023-05-17 01:14:09.434 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.435 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.435 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.435 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.435 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.438 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.438 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.438 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.438 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.438 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.439 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.439 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.439 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.439 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.439 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.439 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.440 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.440 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.440 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.440 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.440 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.447 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.447 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.447 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.447 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.454 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.454 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.454 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.454 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.455 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.455 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.455 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.455 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.455 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.455 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:09.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:09.455 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:09.455 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480812307091456 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:09.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480812307091456 [0;39m <==      Total: 1
2023-05-17 01:14:09.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480812307091456 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257226000,"ebookId":2,"id":8,"name":"test","replies":[{"content":"看看","createTime":1684257231000,"ebookId":2,"id":10,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257234000,"ebookId":2,"id":11,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257237000,"ebookId":2,"id":12,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"看看","createTime":1684257228000,"ebookId":2,"id":9,"name":"test","replies":[{"content":"2","createTime":1684257249000,"ebookId":2,"id":13,"name":"test","parentId":9,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:14:09.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480812307091456 [0;39m ------------- 结束 耗时：26 ms -------------
2023-05-17 01:14:09.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:14:11.573 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:14:11.872 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480759257534464 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:14:11.873 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480759257534464 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:14:11.873 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480759257534464 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:14:11.874 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480759257534464 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:14:11.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480822566359040 [0;39m ------------- 开始 -------------
2023-05-17 01:14:11.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480822566359040 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:14:11.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480822566359040 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:14:11.876 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480822566359040 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:14:11.876 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480822566359040 [0;39m 请求参数: [{"content":"2","ebookId":2,"parentId":9,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:14:11.876 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822566359040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.877 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822566359040 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.877 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822566359040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.879 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822566359040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.879 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822566359040 [0;39m <==      Total: 1
2023-05-17 01:14:11.879 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822566359040 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.879 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822566359040 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.880 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822566359040 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.880 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822566359040 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.880 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822566359040 [0;39m <==      Total: 1
2023-05-17 01:14:11.880 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480822566359040 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:14:11.881 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480822566359040 [0;39m ==> Parameters: 1(Long), 2(Long), 9(Long), 1(Long), 2(String), 2023-05-17 01:14:11.88(Timestamp), null
2023-05-17 01:14:11.888 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39480822566359040 [0;39m <==    Updates: 1
2023-05-17 01:14:11.888 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480822566359040 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:14:11.888 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480822566359040 [0;39m ==> Parameters: 14(Long)
2023-05-17 01:14:11.888 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480822566359040 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:14:11.888 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39480822566359040 [0;39m <==        Row: 14, 1, 2, 9, 1, 2, 2023-05-17 01:14:12, null
2023-05-17 01:14:11.888 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39480822566359040 [0;39m <==      Total: 1
2023-05-17 01:14:11.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480822566359040 [0;39m 返回结果: {"content":{"content":"2","createTime":1684257252000,"ebookId":2,"id":14,"name":"test","parentId":9,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:14:11.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480822566359040 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:14:11.890 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39480822566359040 [0;39m ------------- LoginInterceptor 结束 耗时：17 ms -------------
2023-05-17 01:14:11.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39480822637662208 [0;39m ------------- 开始 -------------
2023-05-17 01:14:11.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39480822637662208 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:14:11.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39480822637662208 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:14:11.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39480822637662208 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:14:11.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39480822637662208 [0;39m 请求参数: [2]
2023-05-17 01:14:11.892 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480822637662208 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:14:11.892 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480822637662208 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 8, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:46, null
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 9, 1, 2, null, null, 看看, 2023-05-17 01:13:48, null
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 10, 1, 2, 8, 1, 看看, 2023-05-17 01:13:51, null
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 11, 1, 2, 8, 1, 看看, 2023-05-17 01:13:54, null
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 12, 1, 2, 8, 1, 看看, 2023-05-17 01:13:57, null
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 13, 1, 2, 9, 1, 2, 2023-05-17 01:14:09, null
2023-05-17 01:14:11.892 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39480822637662208 [0;39m <==        Row: 14, 1, 2, 9, 1, 2, 2023-05-17 01:14:12, null
2023-05-17 01:14:11.892 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39480822637662208 [0;39m <==      Total: 14
2023-05-17 01:14:11.892 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.892 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.892 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.892 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.892 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.892 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.899 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.899 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.899 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.900 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.906 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.906 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:14:11.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:14:11.919 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:14:11.919 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39480822637662208 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:14:11.920 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39480822637662208 [0;39m <==      Total: 1
2023-05-17 01:14:11.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39480822637662208 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257226000,"ebookId":2,"id":8,"name":"test","replies":[{"content":"看看","createTime":1684257231000,"ebookId":2,"id":10,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257234000,"ebookId":2,"id":11,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257237000,"ebookId":2,"id":12,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"看看","createTime":1684257228000,"ebookId":2,"id":9,"name":"test","replies":[{"content":"2","createTime":1684257249000,"ebookId":2,"id":13,"name":"test","parentId":9,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257252000,"ebookId":2,"id":14,"name":"test","parentId":9,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:14:11.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39480822637662208 [0;39m ------------- 结束 耗时：28 ms -------------
2023-05-17 01:14:33.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:14:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39480919568027648 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:14:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480919568027648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:14:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480919568027648 [0;39m ==> Parameters: 
2023-05-17 01:14:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39480919568027648 [0;39m <==    Updates: 2
2023-05-17 01:14:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39480919568027648 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 01:14:35.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:14:37.561 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:14:39.592 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:15:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39481024492736512 [0;39m 生成今日电子书快照开始
2023-05-17 01:15:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39481024492736512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:15:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39481024492736512 [0;39m ==> Parameters: 
2023-05-17 01:15:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39481024492736512 [0;39m <==    Updates: 0
2023-05-17 01:15:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39481024492736512 [0;39m 生成今日电子书快照结束，耗时：9毫秒
2023-05-17 01:15:01.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:15:03.801 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:15:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39481045418119168 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:15:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481045418119168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:15:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481045418119168 [0;39m ==> Parameters: 
2023-05-17 01:15:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481045418119168 [0;39m <==    Updates: 2
2023-05-17 01:15:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39481045418119168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:15:05.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:15:07.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:15:26.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:15:28.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:15:33.489 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:15:33.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:15:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39481171238850560 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:15:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481171238850560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:15:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481171238850560 [0;39m ==> Parameters: 
2023-05-17 01:15:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481171238850560 [0;39m <==    Updates: 2
2023-05-17 01:15:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39481171238850560 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 01:15:35.512 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:15:37.550 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:15:50.779 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:15:52.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:16:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39481276134199296 [0;39m 生成今日电子书快照开始
2023-05-17 01:16:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39481276134199296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:16:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39481276134199296 [0;39m ==> Parameters: 
2023-05-17 01:16:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39481276134199296 [0;39m <==    Updates: 0
2023-05-17 01:16:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39481276134199296 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 01:16:03.483 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:16:03.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:16:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39481297072164864 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:16:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481297072164864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:16:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481297072164864 [0;39m ==> Parameters: 
2023-05-17 01:16:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481297072164864 [0;39m <==    Updates: 2
2023-05-17 01:16:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39481297072164864 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 01:16:07.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:16:16.891 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:16:33.839 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:16:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39481422930644992 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:16:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481422930644992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:16:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481422930644992 [0;39m ==> Parameters: 
2023-05-17 01:16:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481422930644992 [0;39m <==    Updates: 2
2023-05-17 01:16:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39481422930644992 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 01:16:37.565 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:16:39.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:16:41.648 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:17:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39481527746301952 [0;39m 生成今日电子书快照开始
2023-05-17 01:17:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39481527746301952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:17:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39481527746301952 [0;39m ==> Parameters: 
2023-05-17 01:17:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39481527746301952 [0;39m <==    Updates: 0
2023-05-17 01:17:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39481527746301952 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 01:17:03.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:17:03.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:17:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39481548730404864 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:17:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481548730404864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:17:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481548730404864 [0;39m ==> Parameters: 
2023-05-17 01:17:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481548730404864 [0;39m <==    Updates: 2
2023-05-17 01:17:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39481548730404864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 01:17:05.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:17:07.561 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:17:09.597 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:17:31.645 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:17:33.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:17:33.825 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:17:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39481674580496384 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:17:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481674580496384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:17:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481674580496384 [0;39m ==> Parameters: 
2023-05-17 01:17:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481674580496384 [0;39m <==    Updates: 2
2023-05-17 01:17:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39481674580496384 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-17 01:17:35.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:17:37.738 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:17:39.761 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:17:57.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:17:59.773 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:18:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39481779425513472 [0;39m 生成今日电子书快照开始
2023-05-17 01:18:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39481779425513472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:18:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39481779425513472 [0;39m ==> Parameters: 
2023-05-17 01:18:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39481779425513472 [0;39m <==    Updates: 0
2023-05-17 01:18:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39481779425513472 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 01:18:03.497 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:18:03.801 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:18:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39481800367673344 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:18:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481800367673344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:18:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481800367673344 [0;39m ==> Parameters: 
2023-05-17 01:18:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481800367673344 [0;39m <==    Updates: 2
2023-05-17 01:18:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39481800367673344 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 01:18:05.544 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:18:07.579 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:18:21.821 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:18:23.857 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:18:33.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:18:33.809 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:18:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39481926234542080 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481926234542080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481926234542080 [0;39m ==> Parameters: 
2023-05-17 01:18:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39481926234542080 [0;39m <==    Updates: 2
2023-05-17 01:18:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39481926234542080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 01:18:35.532 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:18:37.562 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:18:45.907 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:18:47.953 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:19:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39482031113113600 [0;39m 生成今日电子书快照开始
2023-05-17 01:19:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39482031113113600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:19:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39482031113113600 [0;39m ==> Parameters: 
2023-05-17 01:19:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39482031113113600 [0;39m <==    Updates: 0
2023-05-17 01:19:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39482031113113600 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-17 01:19:03.489 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:19:03.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:19:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39482052055273472 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:19:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482052055273472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:19:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482052055273472 [0;39m ==> Parameters: 
2023-05-17 01:19:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482052055273472 [0;39m <==    Updates: 2
2023-05-17 01:19:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39482052055273472 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 01:19:05.523 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:19:07.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:19:12.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:19:33.508 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:19:33.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:19:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39482177884393472 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:19:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482177884393472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:19:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482177884393472 [0;39m ==> Parameters: 
2023-05-17 01:19:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482177884393472 [0;39m <==    Updates: 2
2023-05-17 01:19:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39482177884393472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:19:35.550 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:19:37.578 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:19:39.613 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:20:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39482282725216256 [0;39m 生成今日电子书快照开始
2023-05-17 01:20:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39482282725216256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:20:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39482282725216256 [0;39m ==> Parameters: 
2023-05-17 01:20:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39482282725216256 [0;39m <==    Updates: 0
2023-05-17 01:20:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39482282725216256 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 01:20:01.655 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:20:03.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:20:03.811 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:20:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39482303696736256 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:20:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482303696736256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:20:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482303696736256 [0;39m ==> Parameters: 
2023-05-17 01:20:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482303696736256 [0;39m <==    Updates: 2
2023-05-17 01:20:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39482303696736256 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:20:05.725 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:20:07.764 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:20:28.740 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:20:33.496 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:20:33.833 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:20:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39482429567799296 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:20:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482429567799296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:20:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482429567799296 [0;39m ==> Parameters: 
2023-05-17 01:20:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482429567799296 [0;39m <==    Updates: 2
2023-05-17 01:20:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39482429567799296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:20:35.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:20:37.566 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:20:52.850 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:21:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39482534442176512 [0;39m 生成今日电子书快照开始
2023-05-17 01:21:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39482534442176512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:21:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39482534442176512 [0;39m ==> Parameters: 
2023-05-17 01:21:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39482534442176512 [0;39m <==    Updates: 0
2023-05-17 01:21:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39482534442176512 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 01:21:00.221 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39480796653948929 [0;39m 连接关闭，token：Zs2rmHKedG，session id：12！当前连接数：0
2023-05-17 01:21:00.937 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39480796653948928 [0;39m 有新连接：token：aB30HlYUyR，session id：13，当前连接数：1
2023-05-17 01:21:00.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482538510651392 [0;39m ------------- 开始 -------------
2023-05-17 01:21:00.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482538510651392 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:21:00.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482538514845696 [0;39m ------------- 开始 -------------
2023-05-17 01:21:00.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482538510651392 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:21:00.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482538514845696 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:21:00.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482538510651392 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:00.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482538514845696 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:21:00.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482538514845696 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:00.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482538510651392 [0;39m 请求参数: [2]
2023-05-17 01:21:00.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482538514845696 [0;39m 请求参数: [2]
2023-05-17 01:21:00.990 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482538514845696 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:21:00.990 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39482538510651392 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:21:00.990 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482538514845696 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:21:00.990 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39482538510651392 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:21:00.991 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39482538510651392 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:21:00.991 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:21:00.991 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39482538510651392 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 192, 1
2023-05-17 01:21:00.991 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:21:00.991 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39482538510651392 [0;39m <==      Total: 1
2023-05-17 01:21:00.991 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:21:00.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482538510651392 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":192,"voteCount":1}],"success":true}
2023-05-17 01:21:00.992 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:21:00.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482538510651392 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 01:21:00.992 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:21:00.993 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:21:00.993 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:21:00.993 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:21:00.993 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 8, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:46, null
2023-05-17 01:21:00.993 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 9, 1, 2, null, null, 看看, 2023-05-17 01:13:48, null
2023-05-17 01:21:00.994 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 10, 1, 2, 8, 1, 看看, 2023-05-17 01:13:51, null
2023-05-17 01:21:00.994 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 11, 1, 2, 8, 1, 看看, 2023-05-17 01:13:54, null
2023-05-17 01:21:00.994 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 12, 1, 2, 8, 1, 看看, 2023-05-17 01:13:57, null
2023-05-17 01:21:00.995 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 13, 1, 2, 9, 1, 2, 2023-05-17 01:14:09, null
2023-05-17 01:21:00.995 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482538514845696 [0;39m <==        Row: 14, 1, 2, 9, 1, 2, 2023-05-17 01:14:12, null
2023-05-17 01:21:00.995 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482538514845696 [0;39m <==      Total: 14
2023-05-17 01:21:00.995 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:00.995 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:00.997 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:00.997 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:00.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:00.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:00.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:00.998 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:00.998 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:00.998 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:00.998 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:00.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:00.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:00.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:00.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.000 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.000 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.000 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.000 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.000 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.001 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.001 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.001 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.002 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.003 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.003 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.003 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.004 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.004 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.004 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.004 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.005 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.005 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.005 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.005 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.005 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.006 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.006 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.006 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.006 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.007 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.007 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.007 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.007 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.008 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.008 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.008 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.009 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.009 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.009 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.009 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.010 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.010 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.010 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.010 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.011 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.011 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.011 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.011 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.012 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.012 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.012 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.012 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.012 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.013 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.013 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.013 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.013 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.013 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.014 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.014 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.014 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.014 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.015 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.015 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.015 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.015 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.016 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.016 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.016 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.017 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.017 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.017 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.017 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.017 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.018 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.018 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.019 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.019 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.019 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.019 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.019 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.020 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.020 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.020 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.020 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.021 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.021 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.021 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.021 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.021 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.022 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.022 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.022 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.022 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.023 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.023 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.023 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.023 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.024 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.025 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.025 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.025 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:01.025 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:01.026 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:01.026 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482538514845696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:01.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482538514845696 [0;39m <==      Total: 1
2023-05-17 01:21:01.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482538514845696 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257226000,"ebookId":2,"id":8,"name":"test","replies":[{"content":"看看","createTime":1684257231000,"ebookId":2,"id":10,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257234000,"ebookId":2,"id":11,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257237000,"ebookId":2,"id":12,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"看看","createTime":1684257228000,"ebookId":2,"id":9,"name":"test","replies":[{"content":"2","createTime":1684257249000,"ebookId":2,"id":13,"name":"test","parentId":9,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257252000,"ebookId":2,"id":14,"name":"test","parentId":9,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:21:01.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482538514845696 [0;39m ------------- 结束 耗时：37 ms -------------
2023-05-17 01:21:01.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482538825224192 [0;39m ------------- 开始 -------------
2023-05-17 01:21:01.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482538825224192 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:21:01.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482538825224192 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:21:01.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482538825224192 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:01.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482538825224192 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:21:01.065 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39482538825224192 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:21:01.065 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39482538825224192 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:21:01.066 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39482538825224192 [0;39m <==    Columns: id, content
2023-05-17 01:21:01.066 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39482538825224192 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:21:01.067 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39482538825224192 [0;39m <==      Total: 1
2023-05-17 01:21:01.067 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39482538825224192 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:21:01.067 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39482538825224192 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:21:01.075 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39482538825224192 [0;39m <==    Updates: 1
2023-05-17 01:21:01.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482538825224192 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:21:01.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482538825224192 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 01:21:03.497 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:21:03.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:21:05.022 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39482555430473728 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:21:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482555430473728 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:21:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482555430473728 [0;39m ==> Parameters: 
2023-05-17 01:21:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482555430473728 [0;39m <==    Updates: 2
2023-05-17 01:21:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39482555430473728 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-17 01:21:05.325 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39480812307091456 [0;39m 连接关闭，token：aB30HlYUyR，session id：13！当前连接数：0
2023-05-17 01:21:05.849 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39480822566359040 [0;39m 有新连接：token：771ykwgB0S，session id：14，当前连接数：1
2023-05-17 01:21:05.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482559096295424 [0;39m ------------- 开始 -------------
2023-05-17 01:21:05.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482559096295424 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:21:05.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482559100489728 [0;39m ------------- 开始 -------------
2023-05-17 01:21:05.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482559100489728 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:21:05.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482559096295424 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:21:05.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482559100489728 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:21:05.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482559096295424 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:05.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482559100489728 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:05.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482559096295424 [0;39m 请求参数: [2]
2023-05-17 01:21:05.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482559100489728 [0;39m 请求参数: [2]
2023-05-17 01:21:05.898 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482559096295424 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:21:05.898 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482559096295424 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:21:05.899 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39482559100489728 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:21:05.899 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39482559100489728 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:21:05.899 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:21:05.899 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:21:05.899 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39482559100489728 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:21:05.900 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39482559100489728 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 193, 1
2023-05-17 01:21:05.900 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:21:05.900 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:21:05.900 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39482559100489728 [0;39m <==      Total: 1
2023-05-17 01:21:05.900 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:21:05.900 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:21:05.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482559100489728 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":193,"voteCount":1}],"success":true}
2023-05-17 01:21:05.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482559100489728 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 01:21:05.901 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:21:05.901 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:21:05.901 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 8, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:46, null
2023-05-17 01:21:05.901 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 9, 1, 2, null, null, 看看, 2023-05-17 01:13:48, null
2023-05-17 01:21:05.901 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 10, 1, 2, 8, 1, 看看, 2023-05-17 01:13:51, null
2023-05-17 01:21:05.902 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 11, 1, 2, 8, 1, 看看, 2023-05-17 01:13:54, null
2023-05-17 01:21:05.902 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 12, 1, 2, 8, 1, 看看, 2023-05-17 01:13:57, null
2023-05-17 01:21:05.902 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 13, 1, 2, 9, 1, 2, 2023-05-17 01:14:09, null
2023-05-17 01:21:05.902 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482559096295424 [0;39m <==        Row: 14, 1, 2, 9, 1, 2, 2023-05-17 01:14:12, null
2023-05-17 01:21:05.902 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482559096295424 [0;39m <==      Total: 14
2023-05-17 01:21:05.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.904 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.904 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.904 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.904 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.905 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.905 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.905 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.905 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.905 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.905 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.907 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.908 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.908 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.909 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.910 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.910 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.911 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.911 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.911 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.911 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.915 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.915 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.916 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.916 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.916 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.916 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.916 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.916 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.917 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.917 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.918 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.918 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.918 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.919 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.919 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.920 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.920 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.920 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.920 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.921 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.921 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.921 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.921 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.922 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.922 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.922 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.922 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.922 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.922 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.923 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.923 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.923 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.923 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.924 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.924 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.924 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.924 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.924 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.925 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.925 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.925 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.925 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.925 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.925 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.926 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.926 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.926 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.926 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.926 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.926 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.926 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.928 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.928 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.928 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.928 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.929 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.929 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.929 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.929 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.930 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.930 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.930 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.931 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.931 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.931 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.931 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.932 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.932 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.932 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.932 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.932 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:05.934 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:05.934 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:05.934 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482559096295424 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:05.934 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482559096295424 [0;39m <==      Total: 1
2023-05-17 01:21:05.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482559096295424 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257226000,"ebookId":2,"id":8,"name":"test","replies":[{"content":"看看","createTime":1684257231000,"ebookId":2,"id":10,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257234000,"ebookId":2,"id":11,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257237000,"ebookId":2,"id":12,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"看看","createTime":1684257228000,"ebookId":2,"id":9,"name":"test","replies":[{"content":"2","createTime":1684257249000,"ebookId":2,"id":13,"name":"test","parentId":9,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257252000,"ebookId":2,"id":14,"name":"test","parentId":9,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:21:05.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482559096295424 [0;39m ------------- 结束 耗时：39 ms -------------
2023-05-17 01:21:05.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482559356342272 [0;39m ------------- 开始 -------------
2023-05-17 01:21:05.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482559356342272 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:21:05.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482559356342272 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:21:05.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482559356342272 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:05.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482559356342272 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:21:05.961 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39482559356342272 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:21:05.962 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39482559356342272 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:21:05.963 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39482559356342272 [0;39m <==    Columns: id, content
2023-05-17 01:21:05.963 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39482559356342272 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:21:05.963 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39482559356342272 [0;39m <==      Total: 1
2023-05-17 01:21:05.963 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39482559356342272 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:21:05.964 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39482559356342272 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:21:05.965 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39482559356342272 [0;39m <==    Updates: 1
2023-05-17 01:21:05.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482559356342272 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:21:05.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482559356342272 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 01:21:06.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482563051524096 [0;39m ------------- 开始 -------------
2023-05-17 01:21:06.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482563051524096 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:21:06.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482563051524096 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:21:06.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482563051524096 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:06.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482563051524096 [0;39m 请求参数: [2]
2023-05-17 01:21:06.840 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482563051524096 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:21:06.841 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482563051524096 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:21:06.841 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:21:06.841 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 1, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:06, null
2023-05-17 01:21:06.842 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 2, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:13:08, null
2023-05-17 01:21:06.842 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 3, 1, 2, 2, 1, 嗯嗯, 2023-05-17 01:13:10, null
2023-05-17 01:21:06.842 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 4, 1, 2, 3, 1, 嗯嗯, 2023-05-17 01:13:12, null
2023-05-17 01:21:06.842 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 5, 1, 2, 4, 1, 嗯嗯, 2023-05-17 01:13:14, null
2023-05-17 01:21:06.842 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 6, 1, 2, 1, 1, 2, 2023-05-17 01:13:33, null
2023-05-17 01:21:06.843 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 7, 1, 2, 1, 1, 2, 2023-05-17 01:13:35, null
2023-05-17 01:21:06.843 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 8, 1, 2, null, null, 嗯嗯, 2023-05-17 01:13:46, null
2023-05-17 01:21:06.843 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 9, 1, 2, null, null, 看看, 2023-05-17 01:13:48, null
2023-05-17 01:21:06.843 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 10, 1, 2, 8, 1, 看看, 2023-05-17 01:13:51, null
2023-05-17 01:21:06.844 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 11, 1, 2, 8, 1, 看看, 2023-05-17 01:13:54, null
2023-05-17 01:21:06.844 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 12, 1, 2, 8, 1, 看看, 2023-05-17 01:13:57, null
2023-05-17 01:21:06.844 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 13, 1, 2, 9, 1, 2, 2023-05-17 01:14:09, null
2023-05-17 01:21:06.844 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482563051524096 [0;39m <==        Row: 14, 1, 2, 9, 1, 2, 2023-05-17 01:14:12, null
2023-05-17 01:21:06.844 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482563051524096 [0;39m <==      Total: 14
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.844 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.844 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.844 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.844 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.844 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.844 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.844 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.844 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.849 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.849 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.849 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.849 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.849 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.851 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.851 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.851 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.851 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.851 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.852 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.852 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.852 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.852 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.852 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.852 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.853 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.853 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.853 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.853 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.853 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.853 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.853 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.854 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.854 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.855 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.855 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.855 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.855 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.855 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.855 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.862 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.862 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:06.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:06.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482563051524096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:06.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482563051524096 [0;39m <==      Total: 1
2023-05-17 01:21:06.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482563051524096 [0;39m 返回结果: {"content":[{"content":"嗯嗯","createTime":1684257186000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257188000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"嗯嗯","createTime":1684257190000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[{"content":"嗯嗯","createTime":1684257192000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"嗯嗯","createTime":1684257194000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257213000,"ebookId":2,"id":6,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257215000,"ebookId":2,"id":7,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257226000,"ebookId":2,"id":8,"name":"test","replies":[{"content":"看看","createTime":1684257231000,"ebookId":2,"id":10,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257234000,"ebookId":2,"id":11,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"看看","createTime":1684257237000,"ebookId":2,"id":12,"name":"test","parentId":8,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"看看","createTime":1684257228000,"ebookId":2,"id":9,"name":"test","replies":[{"content":"2","createTime":1684257249000,"ebookId":2,"id":13,"name":"test","parentId":9,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"2","createTime":1684257252000,"ebookId":2,"id":14,"name":"test","parentId":9,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:21:06.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482563051524096 [0;39m ------------- 结束 耗时：24 ms -------------
2023-05-17 01:21:07.559 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:21:14.886 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:21:16.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:21:27.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482649290608640 [0;39m ------------- 开始 -------------
2023-05-17 01:21:27.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482649290608640 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:21:27.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482649290608640 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:21:27.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482649290608640 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:27.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482649290608640 [0;39m 请求参数: [2]
2023-05-17 01:21:27.401 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482649290608640 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:21:27.401 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482649290608640 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:21:27.402 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482649290608640 [0;39m <==      Total: 0
2023-05-17 01:21:27.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482649290608640 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 01:21:27.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482649290608640 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-17 01:21:31.767 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39482538510651392 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:21:31.767 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39482538510651392 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 01:21:31.767 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39482538510651392 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:21:31.770 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39482538510651392 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:21:31.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482667628105728 [0;39m ------------- 开始 -------------
2023-05-17 01:21:31.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482667628105728 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 01:21:31.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482667628105728 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 01:21:31.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482667628105728 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:31.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482667628105728 [0;39m 请求参数: [{"content":"额外企鹅去","ebookId":2,"userId":1}]
2023-05-17 01:21:31.774 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482667628105728 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:31.774 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482667628105728 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:31.775 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482667628105728 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:31.775 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482667628105728 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:31.776 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482667628105728 [0;39m <==      Total: 1
2023-05-17 01:21:31.777 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39482667628105728 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 01:21:31.777 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39482667628105728 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:21:31.777 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39482667628105728 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 01:21:31.777 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39482667628105728 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 193, 1
2023-05-17 01:21:31.777 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39482667628105728 [0;39m <==      Total: 1
2023-05-17 01:21:31.777 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39482667628105728 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:21:31.779 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39482667628105728 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, 额外企鹅去(String), 2023-05-17 01:21:31.777(Timestamp), null
2023-05-17 01:21:31.786 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39482667628105728 [0;39m <==    Updates: 1
2023-05-17 01:21:31.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482667628105728 [0;39m 返回结果: {"success":true}
2023-05-17 01:21:31.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482667628105728 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 01:21:31.786 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39482667628105728 [0;39m ------------- LoginInterceptor 结束 耗时：19 ms -------------
2023-05-17 01:21:31.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482667716186112 [0;39m ------------- 开始 -------------
2023-05-17 01:21:31.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482667716186112 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:21:31.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482667716186112 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:21:31.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482667716186112 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:31.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482667716186112 [0;39m 请求参数: [2]
2023-05-17 01:21:31.793 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482667716186112 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:21:31.793 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482667716186112 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:21:31.793 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482667716186112 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:21:31.793 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482667716186112 [0;39m <==        Row: 15, 1, 2, null, null, 额外企鹅去, 2023-05-17 01:21:32, null
2023-05-17 01:21:31.793 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482667716186112 [0;39m <==      Total: 1
2023-05-17 01:21:31.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482667716186112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:31.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482667716186112 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:31.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482667716186112 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:31.793 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482667716186112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:31.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482667716186112 [0;39m <==      Total: 1
2023-05-17 01:21:31.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482667716186112 [0;39m 返回结果: {"content":[{"content":"额外企鹅去","createTime":1684257692000,"ebookId":2,"id":15,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 01:21:31.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482667716186112 [0;39m ------------- 结束 耗时：0 ms -------------
2023-05-17 01:21:33.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:21:33.793 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:21:34.039 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39482538825224192 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:21:34.039 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39482538825224192 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:21:34.040 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39482538825224192 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:21:34.040 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39482538825224192 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:21:34.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482677149175808 [0;39m ------------- 开始 -------------
2023-05-17 01:21:34.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482677149175808 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:21:34.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482677149175808 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:21:34.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482677149175808 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:34.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482677149175808 [0;39m 请求参数: [{"content":"嗯嗯","ebookId":2,"parentId":15,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:21:34.045 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677149175808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:34.045 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677149175808 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:34.045 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482677149175808 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:34.045 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482677149175808 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:34.046 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677149175808 [0;39m <==      Total: 1
2023-05-17 01:21:34.046 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677149175808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:34.046 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677149175808 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:34.047 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482677149175808 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:34.047 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482677149175808 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:34.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677149175808 [0;39m <==      Total: 1
2023-05-17 01:21:34.047 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39482677149175808 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:21:34.047 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39482677149175808 [0;39m ==> Parameters: 1(Long), 2(Long), 15(Long), 1(Long), 嗯嗯(String), 2023-05-17 01:21:34.047(Timestamp), null
2023-05-17 01:21:34.056 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39482677149175808 [0;39m <==    Updates: 1
2023-05-17 01:21:34.057 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39482677149175808 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:21:34.057 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39482677149175808 [0;39m ==> Parameters: 16(Long)
2023-05-17 01:21:34.057 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39482677149175808 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:21:34.057 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39482677149175808 [0;39m <==        Row: 16, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:34, null
2023-05-17 01:21:34.057 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39482677149175808 [0;39m <==      Total: 1
2023-05-17 01:21:34.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482677149175808 [0;39m 返回结果: {"content":{"content":"嗯嗯","createTime":1684257694000,"ebookId":2,"id":16,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:21:34.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482677149175808 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 01:21:34.058 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39482677149175808 [0;39m ------------- LoginInterceptor 结束 耗时：19 ms -------------
2023-05-17 01:21:34.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482677233061888 [0;39m ------------- 开始 -------------
2023-05-17 01:21:34.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482677233061888 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:21:34.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482677233061888 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:21:34.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482677233061888 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:34.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482677233061888 [0;39m 请求参数: [2]
2023-05-17 01:21:34.064 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482677233061888 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:21:34.064 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482677233061888 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:21:34.064 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482677233061888 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:21:34.064 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482677233061888 [0;39m <==        Row: 15, 1, 2, null, null, 额外企鹅去, 2023-05-17 01:21:32, null
2023-05-17 01:21:34.064 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482677233061888 [0;39m <==        Row: 16, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:34, null
2023-05-17 01:21:34.064 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482677233061888 [0;39m <==      Total: 2
2023-05-17 01:21:34.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677233061888 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:34.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677233061888 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:34.064 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482677233061888 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:34.064 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482677233061888 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:34.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677233061888 [0;39m <==      Total: 1
2023-05-17 01:21:34.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677233061888 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:34.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677233061888 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:34.064 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482677233061888 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:34.064 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482677233061888 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:34.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677233061888 [0;39m <==      Total: 1
2023-05-17 01:21:34.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677233061888 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:34.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677233061888 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:34.064 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482677233061888 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:34.064 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482677233061888 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:34.064 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482677233061888 [0;39m <==      Total: 1
2023-05-17 01:21:34.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482677233061888 [0;39m 返回结果: {"content":[{"content":"额外企鹅去","createTime":1684257692000,"ebookId":2,"id":15,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257694000,"ebookId":2,"id":16,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:21:34.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482677233061888 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-17 01:21:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39482681205067776 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:21:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482681205067776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:21:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482681205067776 [0;39m ==> Parameters: 
2023-05-17 01:21:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482681205067776 [0;39m <==    Updates: 2
2023-05-17 01:21:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39482681205067776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:21:35.496 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:21:37.512 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:21:41.400 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39480822566359040 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:21:41.400 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39480822566359040 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:21:41.400 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39480822566359040 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:21:41.402 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39480822566359040 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:21:41.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482708027641856 [0;39m ------------- 开始 -------------
2023-05-17 01:21:41.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482708027641856 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:21:41.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482708027641856 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:21:41.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482708027641856 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:41.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482708027641856 [0;39m 请求参数: [{"content":"嗯嗯","ebookId":2,"parentId":15,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:21:41.405 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708027641856 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:41.405 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708027641856 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:41.406 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708027641856 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:41.406 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708027641856 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:41.406 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708027641856 [0;39m <==      Total: 1
2023-05-17 01:21:41.407 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708027641856 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:41.407 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708027641856 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:41.407 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708027641856 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:41.407 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708027641856 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:41.408 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708027641856 [0;39m <==      Total: 1
2023-05-17 01:21:41.408 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39482708027641856 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:21:41.408 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39482708027641856 [0;39m ==> Parameters: 1(Long), 2(Long), 15(Long), 1(Long), 嗯嗯(String), 2023-05-17 01:21:41.408(Timestamp), null
2023-05-17 01:21:41.415 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39482708027641856 [0;39m <==    Updates: 1
2023-05-17 01:21:41.416 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39482708027641856 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:21:41.416 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39482708027641856 [0;39m ==> Parameters: 17(Long)
2023-05-17 01:21:41.416 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39482708027641856 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:21:41.417 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39482708027641856 [0;39m <==        Row: 17, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:41, null
2023-05-17 01:21:41.417 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39482708027641856 [0;39m <==      Total: 1
2023-05-17 01:21:41.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482708027641856 [0;39m 返回结果: {"content":{"content":"嗯嗯","createTime":1684257701000,"ebookId":2,"id":17,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:21:41.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482708027641856 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:21:41.419 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39482708027641856 [0;39m ------------- LoginInterceptor 结束 耗时：19 ms -------------
2023-05-17 01:21:41.425 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482708115722240 [0;39m ------------- 开始 -------------
2023-05-17 01:21:41.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482708115722240 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:21:41.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482708115722240 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:21:41.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482708115722240 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:21:41.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482708115722240 [0;39m 请求参数: [2]
2023-05-17 01:21:41.426 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482708115722240 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:21:41.427 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482708115722240 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:21:41.427 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482708115722240 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:21:41.427 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482708115722240 [0;39m <==        Row: 15, 1, 2, null, null, 额外企鹅去, 2023-05-17 01:21:32, null
2023-05-17 01:21:41.428 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482708115722240 [0;39m <==        Row: 16, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:34, null
2023-05-17 01:21:41.428 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482708115722240 [0;39m <==        Row: 17, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:41, null
2023-05-17 01:21:41.428 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482708115722240 [0;39m <==      Total: 3
2023-05-17 01:21:41.428 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:41.428 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:41.429 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708115722240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:41.429 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708115722240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:41.429 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m <==      Total: 1
2023-05-17 01:21:41.429 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:41.429 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:41.430 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708115722240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:41.430 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708115722240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:41.430 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m <==      Total: 1
2023-05-17 01:21:41.430 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:41.430 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:41.431 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708115722240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:41.431 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708115722240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:41.431 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m <==      Total: 1
2023-05-17 01:21:41.431 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:41.432 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:41.432 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708115722240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:41.432 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708115722240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:41.433 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m <==      Total: 1
2023-05-17 01:21:41.433 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:21:41.434 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:21:41.434 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708115722240 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:21:41.434 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482708115722240 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:21:41.434 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482708115722240 [0;39m <==      Total: 1
2023-05-17 01:21:41.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482708115722240 [0;39m 返回结果: {"content":[{"content":"额外企鹅去","createTime":1684257692000,"ebookId":2,"id":15,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257694000,"ebookId":2,"id":16,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257701000,"ebookId":2,"id":17,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:21:41.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482708115722240 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 01:21:41.585 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:22:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39482786041696256 [0;39m 生成今日电子书快照开始
2023-05-17 01:22:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39482786041696256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:22:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39482786041696256 [0;39m ==> Parameters: 
2023-05-17 01:22:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39482786041696256 [0;39m <==    Updates: 0
2023-05-17 01:22:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39482786041696256 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-17 01:22:03.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:22:03.808 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:22:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39482807029993472 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:22:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482807029993472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:22:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482807029993472 [0;39m ==> Parameters: 
2023-05-17 01:22:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482807029993472 [0;39m <==    Updates: 2
2023-05-17 01:22:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39482807029993472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:22:05.534 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:22:07.573 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:22:09.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:22:20.731 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39482559356342272 [0;39m 连接关闭，token：771ykwgB0S，session id：14！当前连接数：0
2023-05-17 01:22:22.320 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39482563051524096 [0;39m 有新连接：token：nvsQH38Vjb，session id：15，当前连接数：1
2023-05-17 01:22:22.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482880107352064 [0;39m ------------- 开始 -------------
2023-05-17 01:22:22.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482880107352064 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:22:22.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482880107352064 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:22:22.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482880107352065 [0;39m ------------- 开始 -------------
2023-05-17 01:22:22.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482880107352064 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:22:22.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482880107352065 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:22:22.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482880107352064 [0;39m 请求参数: [2]
2023-05-17 01:22:22.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482880107352065 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:22:22.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482880107352065 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:22:22.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482880107352065 [0;39m 请求参数: [2]
2023-05-17 01:22:22.432 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482880107352065 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:22:22.432 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39482880107352064 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:22:22.433 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482880107352065 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:22:22.433 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39482880107352064 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:22:22.433 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482880107352065 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:22:22.433 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39482880107352064 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:22:22.433 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39482880107352064 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 194, 1
2023-05-17 01:22:22.433 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482880107352065 [0;39m <==        Row: 15, 1, 2, null, null, 额外企鹅去, 2023-05-17 01:21:32, null
2023-05-17 01:22:22.434 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39482880107352064 [0;39m <==      Total: 1
2023-05-17 01:22:22.434 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482880107352065 [0;39m <==        Row: 16, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:34, null
2023-05-17 01:22:22.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482880107352064 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":194,"voteCount":1}],"success":true}
2023-05-17 01:22:22.434 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482880107352065 [0;39m <==        Row: 17, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:41, null
2023-05-17 01:22:22.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482880107352064 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 01:22:22.434 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482880107352065 [0;39m <==      Total: 3
2023-05-17 01:22:22.435 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:22.435 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:22.435 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482880107352065 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:22.436 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482880107352065 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:22.436 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m <==      Total: 1
2023-05-17 01:22:22.436 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:22.436 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:22.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482880107352065 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:22.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482880107352065 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:22.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m <==      Total: 1
2023-05-17 01:22:22.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:22.438 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:22.438 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482880107352065 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:22.439 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482880107352065 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:22.439 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m <==      Total: 1
2023-05-17 01:22:22.439 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:22.440 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:22.440 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482880107352065 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:22.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482880107352065 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:22.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m <==      Total: 1
2023-05-17 01:22:22.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:22.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:22.442 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482880107352065 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:22.442 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482880107352065 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:22.442 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482880107352065 [0;39m <==      Total: 1
2023-05-17 01:22:22.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482880107352065 [0;39m 返回结果: {"content":[{"content":"额外企鹅去","createTime":1684257692000,"ebookId":2,"id":15,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257694000,"ebookId":2,"id":16,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257701000,"ebookId":2,"id":17,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:22:22.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482880107352065 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 01:22:22.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482880421924864 [0;39m ------------- 开始 -------------
2023-05-17 01:22:22.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482880421924864 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:22:22.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482880421924864 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:22:22.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482880421924864 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:22:22.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482880421924864 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:22:22.507 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39482880421924864 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:22:22.507 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39482880421924864 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:22:22.508 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39482880421924864 [0;39m <==    Columns: id, content
2023-05-17 01:22:22.509 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39482880421924864 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:22:22.509 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39482880421924864 [0;39m <==      Total: 1
2023-05-17 01:22:22.509 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39482880421924864 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:22:22.510 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39482880421924864 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:22:22.512 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39482880421924864 [0;39m <==    Updates: 1
2023-05-17 01:22:22.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482880421924864 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:22:22.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482880421924864 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 01:22:23.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482883542487040 [0;39m ------------- 开始 -------------
2023-05-17 01:22:23.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482883542487040 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/38625501966897152 GET
2023-05-17 01:22:23.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482883542487040 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-17 01:22:23.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482883542487040 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:22:23.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482883542487040 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:22:23.254 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m39482883542487040 [0;39m key不存在，放入：DOC_VOTE_38625501966897152_127.0.0.1，过期 5000 秒
2023-05-17 01:22:23.256 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39482883542487040 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-17 01:22:23.256 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39482883542487040 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:22:23.258 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39482883542487040 [0;39m <==    Updates: 1
2023-05-17 01:22:23.258 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39482883542487040 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-17 01:22:23.260 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39482883542487040 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:22:23.260 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m39482883542487040 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:22:23.260 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m39482883542487040 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 195, 2
2023-05-17 01:22:23.260 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39482883542487040 [0;39m <==      Total: 1
2023-05-17 01:22:23.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482884804972544 [0;39m ------------- 开始 -------------
2023-05-17 01:22:23.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482884804972544 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:22:23.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482884804972544 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:22:23.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482884804972544 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:22:23.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482884804972544 [0;39m 请求参数: [2]
2023-05-17 01:22:23.552 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482884804972544 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:22:23.552 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482884804972544 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:22:23.553 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482884804972544 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:22:23.553 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482884804972544 [0;39m <==        Row: 15, 1, 2, null, null, 额外企鹅去, 2023-05-17 01:21:32, null
2023-05-17 01:22:23.553 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482884804972544 [0;39m <==        Row: 16, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:34, null
2023-05-17 01:22:23.553 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482884804972544 [0;39m <==        Row: 17, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:41, null
2023-05-17 01:22:23.554 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482884804972544 [0;39m <==      Total: 3
2023-05-17 01:22:23.554 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:23.554 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:23.555 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482884804972544 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:23.555 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482884804972544 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:23.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m <==      Total: 1
2023-05-17 01:22:23.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:23.556 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:23.556 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482884804972544 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:23.556 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482884804972544 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:23.556 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m <==      Total: 1
2023-05-17 01:22:23.556 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:23.556 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:23.557 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482884804972544 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:23.557 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482884804972544 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:23.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m <==      Total: 1
2023-05-17 01:22:23.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:23.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:23.558 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482884804972544 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:23.558 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482884804972544 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:23.558 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m <==      Total: 1
2023-05-17 01:22:23.558 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:23.558 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:23.559 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482884804972544 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:23.559 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482884804972544 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:23.559 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482884804972544 [0;39m <==      Total: 1
2023-05-17 01:22:23.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482884804972544 [0;39m 返回结果: {"content":[{"content":"额外企鹅去","createTime":1684257692000,"ebookId":2,"id":15,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257694000,"ebookId":2,"id":16,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257701000,"ebookId":2,"id":17,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:22:23.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482884804972544 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 01:22:25.310 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:22:25.980 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39482708115722240 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:22:25.980 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39482708115722240 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 01:22:25.980 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39482708115722240 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:22:25.982 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39482708115722240 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:22:25.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482895001325568 [0;39m ------------- 开始 -------------
2023-05-17 01:22:25.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482895001325568 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 01:22:25.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482895001325568 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 01:22:25.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482895001325568 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:22:25.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482895001325568 [0;39m 请求参数: [{"content":"嗯嗯","ebookId":2,"userId":1}]
2023-05-17 01:22:25.984 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895001325568 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:25.985 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895001325568 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:25.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895001325568 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:25.986 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895001325568 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:25.986 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895001325568 [0;39m <==      Total: 1
2023-05-17 01:22:25.986 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39482895001325568 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 01:22:25.987 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39482895001325568 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:22:25.987 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39482895001325568 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 01:22:25.987 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39482895001325568 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 194, 1
2023-05-17 01:22:25.988 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39482895001325568 [0;39m <==      Total: 1
2023-05-17 01:22:25.988 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39482895001325568 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:22:25.988 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39482895001325568 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, 嗯嗯(String), 2023-05-17 01:22:25.988(Timestamp), null
2023-05-17 01:22:25.996 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39482895001325568 [0;39m <==    Updates: 1
2023-05-17 01:22:25.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482895001325568 [0;39m 返回结果: {"success":true}
2023-05-17 01:22:25.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482895001325568 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 01:22:25.998 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39482895001325568 [0;39m ------------- LoginInterceptor 结束 耗时：18 ms -------------
2023-05-17 01:22:26.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482895240400896 [0;39m ------------- 开始 -------------
2023-05-17 01:22:26.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482895240400896 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:22:26.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482895240400896 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:22:26.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482895240400896 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:22:26.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482895240400896 [0;39m 请求参数: [2]
2023-05-17 01:22:26.040 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482895240400896 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:22:26.040 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482895240400896 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:22:26.041 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482895240400896 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:22:26.041 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482895240400896 [0;39m <==        Row: 15, 1, 2, null, null, 额外企鹅去, 2023-05-17 01:21:32, null
2023-05-17 01:22:26.042 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482895240400896 [0;39m <==        Row: 16, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:34, null
2023-05-17 01:22:26.042 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482895240400896 [0;39m <==        Row: 17, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:41, null
2023-05-17 01:22:26.042 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482895240400896 [0;39m <==        Row: 18, 1, 2, null, null, 嗯嗯, 2023-05-17 01:22:26, null
2023-05-17 01:22:26.042 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482895240400896 [0;39m <==      Total: 4
2023-05-17 01:22:26.042 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:26.042 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:26.043 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895240400896 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:26.043 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895240400896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:26.043 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m <==      Total: 1
2023-05-17 01:22:26.043 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:26.043 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:26.044 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895240400896 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:26.044 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895240400896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:26.044 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m <==      Total: 1
2023-05-17 01:22:26.044 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:26.045 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:26.045 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895240400896 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:26.045 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895240400896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:26.046 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m <==      Total: 1
2023-05-17 01:22:26.046 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:26.046 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:26.047 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895240400896 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:26.047 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895240400896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:26.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m <==      Total: 1
2023-05-17 01:22:26.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:26.047 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:26.048 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895240400896 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:26.048 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895240400896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:26.048 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m <==      Total: 1
2023-05-17 01:22:26.048 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:26.048 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:26.049 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895240400896 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:26.049 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482895240400896 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:26.049 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482895240400896 [0;39m <==      Total: 1
2023-05-17 01:22:26.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482895240400896 [0;39m 返回结果: {"content":[{"content":"额外企鹅去","createTime":1684257692000,"ebookId":2,"id":15,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257694000,"ebookId":2,"id":16,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257701000,"ebookId":2,"id":17,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257746000,"ebookId":2,"id":18,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 01:22:26.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482895240400896 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 01:22:27.347 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:22:27.347 ERROR org.apache.rocketmq.spring.core.RocketMQTemplate  :153  [32m39482883542487040 [0;39m syncSend failed. destination:VOTE_TOPIC, message:GenericMessage [payload=【初识Vue】被点赞！, headers={contentType=text/plain, id=456baaa3-2b18-c16c-d4f3-36252e023e05, timestamp=1684257743264}] 
2023-05-17 01:22:27.360 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39482883542487040 [0;39m 系统异常：
org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:154)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:123)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:111)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:459)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:50)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at com.jiawa.wiki.service.DocService.vote(DocService.java:167)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$80391669.vote(<generated>)
	at com.jiawa.wiki.controller.DocController.vote(DocController.java:96)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor103.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$96f14e6e.vote(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:656)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1279)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:301)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:148)
	... 87 common frames omitted
2023-05-17 01:22:27.360 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39482883542487040 [0;39m Resolved [org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.]
2023-05-17 01:22:29.205 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39482559356342272 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:22:29.205 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39482559356342272 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:22:29.206 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39482559356342272 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:22:29.208 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39482559356342272 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:22:29.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482908536344576 [0;39m ------------- 开始 -------------
2023-05-17 01:22:29.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482908536344576 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:22:29.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482908536344576 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:22:29.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482908536344576 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:22:29.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482908536344576 [0;39m 请求参数: [{"content":"嗯嗯","ebookId":2,"parentId":18,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:22:29.210 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908536344576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:29.211 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908536344576 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:29.211 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908536344576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:29.211 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908536344576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:29.211 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908536344576 [0;39m <==      Total: 1
2023-05-17 01:22:29.212 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908536344576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:29.212 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908536344576 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:29.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908536344576 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:29.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908536344576 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:29.212 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908536344576 [0;39m <==      Total: 1
2023-05-17 01:22:29.214 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39482908536344576 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:22:29.214 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39482908536344576 [0;39m ==> Parameters: 1(Long), 2(Long), 18(Long), 1(Long), 嗯嗯(String), 2023-05-17 01:22:29.212(Timestamp), null
2023-05-17 01:22:29.221 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39482908536344576 [0;39m <==    Updates: 1
2023-05-17 01:22:29.222 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39482908536344576 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:22:29.222 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39482908536344576 [0;39m ==> Parameters: 19(Long)
2023-05-17 01:22:29.223 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39482908536344576 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:22:29.223 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39482908536344576 [0;39m <==        Row: 19, 1, 2, 18, 1, 嗯嗯, 2023-05-17 01:22:29, null
2023-05-17 01:22:29.224 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39482908536344576 [0;39m <==      Total: 1
2023-05-17 01:22:29.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482908536344576 [0;39m 返回结果: {"content":{"content":"嗯嗯","createTime":1684257749000,"ebookId":2,"id":19,"name":"test","parentId":18,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:22:29.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482908536344576 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 01:22:29.225 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39482908536344576 [0;39m ------------- LoginInterceptor 结束 耗时：20 ms -------------
2023-05-17 01:22:29.237 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39482908653785088 [0;39m ------------- 开始 -------------
2023-05-17 01:22:29.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39482908653785088 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:22:29.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39482908653785088 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:22:29.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39482908653785088 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:22:29.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39482908653785088 [0;39m 请求参数: [2]
2023-05-17 01:22:29.239 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482908653785088 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:22:29.239 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482908653785088 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:22:29.240 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482908653785088 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:22:29.240 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482908653785088 [0;39m <==        Row: 15, 1, 2, null, null, 额外企鹅去, 2023-05-17 01:21:32, null
2023-05-17 01:22:29.240 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482908653785088 [0;39m <==        Row: 16, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:34, null
2023-05-17 01:22:29.240 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482908653785088 [0;39m <==        Row: 17, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:41, null
2023-05-17 01:22:29.241 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482908653785088 [0;39m <==        Row: 18, 1, 2, null, null, 嗯嗯, 2023-05-17 01:22:26, null
2023-05-17 01:22:29.241 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39482908653785088 [0;39m <==        Row: 19, 1, 2, 18, 1, 嗯嗯, 2023-05-17 01:22:29, null
2023-05-17 01:22:29.241 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39482908653785088 [0;39m <==      Total: 5
2023-05-17 01:22:29.241 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:29.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:29.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:29.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:29.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m <==      Total: 1
2023-05-17 01:22:29.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:29.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:29.243 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:29.243 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:29.244 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m <==      Total: 1
2023-05-17 01:22:29.244 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:29.244 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:29.244 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:29.244 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:29.245 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m <==      Total: 1
2023-05-17 01:22:29.245 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:29.245 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:29.245 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:29.245 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:29.245 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m <==      Total: 1
2023-05-17 01:22:29.246 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:29.246 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:29.246 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:29.246 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:29.247 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m <==      Total: 1
2023-05-17 01:22:29.247 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:29.247 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:29.247 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:29.247 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:29.247 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m <==      Total: 1
2023-05-17 01:22:29.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:29.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:29.248 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:29.248 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:29.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m <==      Total: 1
2023-05-17 01:22:29.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:22:29.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:22:29.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:22:29.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39482908653785088 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:22:29.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39482908653785088 [0;39m <==      Total: 1
2023-05-17 01:22:29.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39482908653785088 [0;39m 返回结果: {"content":[{"content":"额外企鹅去","createTime":1684257692000,"ebookId":2,"id":15,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257694000,"ebookId":2,"id":16,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257701000,"ebookId":2,"id":17,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257746000,"ebookId":2,"id":18,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257749000,"ebookId":2,"id":19,"name":"test","parentId":18,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:22:29.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39482908653785088 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:22:33.696 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:22:33.790 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:22:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39482932901056512 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:22:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482932901056512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:22:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482932901056512 [0;39m ==> Parameters: 
2023-05-17 01:22:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39482932901056512 [0;39m <==    Updates: 2
2023-05-17 01:22:35.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39482932901056512 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-17 01:22:35.714 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:22:37.755 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:22:56.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:22:58.772 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:23:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39483037716713472 [0;39m 生成今日电子书快照开始
2023-05-17 01:23:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39483037716713472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:23:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39483037716713472 [0;39m ==> Parameters: 
2023-05-17 01:23:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39483037716713472 [0;39m <==    Updates: 0
2023-05-17 01:23:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39483037716713472 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 01:23:03.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:23:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39483058684039168 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:23:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483058684039168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:23:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483058684039168 [0;39m ==> Parameters: 
2023-05-17 01:23:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483058684039168 [0;39m <==    Updates: 2
2023-05-17 01:23:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39483058684039168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:23:05.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:23:07.675 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:23:22.841 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:23:33.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:23:33.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:23:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39483184534130688 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:23:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483184534130688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:23:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483184534130688 [0;39m ==> Parameters: 
2023-05-17 01:23:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483184534130688 [0;39m <==    Updates: 2
2023-05-17 01:23:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39483184534130688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:23:35.523 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:23:36.540 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39482880421924864 [0;39m 连接关闭，token：nvsQH38Vjb，session id：15！当前连接数：0
2023-05-17 01:23:37.558 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:23:39.051 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39482677149175808 [0;39m 有新连接：token：BtKKYBVc2l，session id：16，当前连接数：1
2023-05-17 01:23:39.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483201961463808 [0;39m ------------- 开始 -------------
2023-05-17 01:23:39.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483201961463808 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:23:39.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483201961463808 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:23:39.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483201961463808 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:23:39.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483201961463808 [0;39m 请求参数: [2]
2023-05-17 01:23:39.169 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483201961463808 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:23:39.169 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483201961463808 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:23:39.170 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39483201961463808 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:23:39.170 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39483201961463808 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 195, 2
2023-05-17 01:23:39.170 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483201961463808 [0;39m <==      Total: 1
2023-05-17 01:23:39.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483201961463808 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":195,"voteCount":2}],"success":true}
2023-05-17 01:23:39.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483201961463808 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 01:23:39.174 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483201990823936 [0;39m ------------- 开始 -------------
2023-05-17 01:23:39.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483201990823936 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:23:39.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483201990823936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:23:39.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483201990823936 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:23:39.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483201990823936 [0;39m 请求参数: [2]
2023-05-17 01:23:39.176 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483201990823936 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:23:39.176 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483201990823936 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:23:39.177 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483201990823936 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:23:39.177 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483201990823936 [0;39m <==        Row: 15, 1, 2, null, null, 额外企鹅去, 2023-05-17 01:21:32, null
2023-05-17 01:23:39.178 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483201990823936 [0;39m <==        Row: 16, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:34, null
2023-05-17 01:23:39.178 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483201990823936 [0;39m <==        Row: 17, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:41, null
2023-05-17 01:23:39.178 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483201990823936 [0;39m <==        Row: 18, 1, 2, null, null, 嗯嗯, 2023-05-17 01:22:26, null
2023-05-17 01:23:39.178 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483201990823936 [0;39m <==        Row: 19, 1, 2, 18, 1, 嗯嗯, 2023-05-17 01:22:29, null
2023-05-17 01:23:39.179 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483201990823936 [0;39m <==      Total: 5
2023-05-17 01:23:39.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:39.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:39.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:39.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:39.180 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m <==      Total: 1
2023-05-17 01:23:39.180 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:39.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:39.182 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:39.182 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:39.182 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m <==      Total: 1
2023-05-17 01:23:39.182 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:39.182 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:39.183 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:39.183 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:39.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m <==      Total: 1
2023-05-17 01:23:39.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:39.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:39.185 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:39.185 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:39.185 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m <==      Total: 1
2023-05-17 01:23:39.185 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:39.185 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:39.186 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:39.186 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:39.186 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m <==      Total: 1
2023-05-17 01:23:39.186 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:39.187 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:39.187 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:39.187 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:39.188 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m <==      Total: 1
2023-05-17 01:23:39.188 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:39.188 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:39.189 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:39.189 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:39.189 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m <==      Total: 1
2023-05-17 01:23:39.190 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:39.190 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:39.190 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:39.190 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483201990823936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:39.191 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483201990823936 [0;39m <==      Total: 1
2023-05-17 01:23:39.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483201990823936 [0;39m 返回结果: {"content":[{"content":"额外企鹅去","createTime":1684257692000,"ebookId":2,"id":15,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257694000,"ebookId":2,"id":16,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257701000,"ebookId":2,"id":17,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257746000,"ebookId":2,"id":18,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257749000,"ebookId":2,"id":19,"name":"test","parentId":18,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:23:39.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483201990823936 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-17 01:23:39.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483202284425216 [0;39m ------------- 开始 -------------
2023-05-17 01:23:39.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483202284425216 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:23:39.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483202284425216 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:23:39.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483202284425216 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:23:39.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483202284425216 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:23:39.247 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483202284425216 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:23:39.247 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483202284425216 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:23:39.248 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39483202284425216 [0;39m <==    Columns: id, content
2023-05-17 01:23:39.248 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39483202284425216 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:23:39.248 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483202284425216 [0;39m <==      Total: 1
2023-05-17 01:23:39.249 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483202284425216 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:23:39.249 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483202284425216 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:23:39.256 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483202284425216 [0;39m <==    Updates: 1
2023-05-17 01:23:39.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483202284425216 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:23:39.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483202284425216 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:23:40.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483209435713536 [0;39m ------------- 开始 -------------
2023-05-17 01:23:40.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483209435713536 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:23:40.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483209435713536 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:23:40.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483209435713536 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:23:40.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483209435713536 [0;39m 请求参数: [2]
2023-05-17 01:23:40.950 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483209435713536 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:23:40.950 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483209435713536 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:23:40.950 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483209435713536 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:23:40.951 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483209435713536 [0;39m <==        Row: 15, 1, 2, null, null, 额外企鹅去, 2023-05-17 01:21:32, null
2023-05-17 01:23:40.951 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483209435713536 [0;39m <==        Row: 16, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:34, null
2023-05-17 01:23:40.951 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483209435713536 [0;39m <==        Row: 17, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:41, null
2023-05-17 01:23:40.951 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483209435713536 [0;39m <==        Row: 18, 1, 2, null, null, 嗯嗯, 2023-05-17 01:22:26, null
2023-05-17 01:23:40.952 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483209435713536 [0;39m <==        Row: 19, 1, 2, 18, 1, 嗯嗯, 2023-05-17 01:22:29, null
2023-05-17 01:23:40.952 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483209435713536 [0;39m <==      Total: 5
2023-05-17 01:23:40.952 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:40.952 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:40.953 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:40.953 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:40.953 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m <==      Total: 1
2023-05-17 01:23:40.953 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:40.953 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:40.954 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:40.954 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:40.954 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m <==      Total: 1
2023-05-17 01:23:40.954 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:40.954 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:40.955 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:40.955 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:40.955 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m <==      Total: 1
2023-05-17 01:23:40.956 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:40.956 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:40.956 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:40.956 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:40.957 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m <==      Total: 1
2023-05-17 01:23:40.957 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:40.957 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:40.957 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:40.958 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:40.958 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m <==      Total: 1
2023-05-17 01:23:40.958 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:40.958 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:40.959 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:40.959 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:40.959 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m <==      Total: 1
2023-05-17 01:23:40.959 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:40.959 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:40.960 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:40.960 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:40.960 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m <==      Total: 1
2023-05-17 01:23:40.961 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:40.961 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:40.962 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:40.962 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483209435713536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:40.962 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483209435713536 [0;39m <==      Total: 1
2023-05-17 01:23:40.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483209435713536 [0;39m 返回结果: {"content":[{"content":"额外企鹅去","createTime":1684257692000,"ebookId":2,"id":15,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257694000,"ebookId":2,"id":16,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257701000,"ebookId":2,"id":17,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257746000,"ebookId":2,"id":18,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257749000,"ebookId":2,"id":19,"name":"test","parentId":18,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:23:40.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483209435713536 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:23:44.886 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:23:46.912 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39482908536344576 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:23:46.912 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39482908536344576 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:23:46.913 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39482908536344576 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:23:46.913 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39482908536344576 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:23:46.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483234458931200 [0;39m ------------- 开始 -------------
2023-05-17 01:23:46.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483234458931200 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:23:46.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483234458931200 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:23:46.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483234458931200 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:23:46.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483234458931200 [0;39m 请求参数: [{"content":"嗯嗯嗯","ebookId":2,"parentId":15,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:23:46.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:23:46.916 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234458931200 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:46.916 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234458931200 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:46.917 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234458931200 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:46.917 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234458931200 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:46.917 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234458931200 [0;39m <==      Total: 1
2023-05-17 01:23:46.917 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234458931200 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:46.918 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234458931200 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:46.918 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234458931200 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:46.918 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234458931200 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:46.918 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234458931200 [0;39m <==      Total: 1
2023-05-17 01:23:46.919 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483234458931200 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:23:46.919 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483234458931200 [0;39m ==> Parameters: 1(Long), 2(Long), 15(Long), 1(Long), 嗯嗯嗯(String), 2023-05-17 01:23:46.919(Timestamp), null
2023-05-17 01:23:46.927 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483234458931200 [0;39m <==    Updates: 1
2023-05-17 01:23:46.928 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483234458931200 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:23:46.928 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483234458931200 [0;39m ==> Parameters: 20(Long)
2023-05-17 01:23:46.929 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39483234458931200 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:23:46.929 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39483234458931200 [0;39m <==        Row: 20, 1, 2, 15, 1, 嗯嗯嗯, 2023-05-17 01:23:47, null
2023-05-17 01:23:46.930 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483234458931200 [0;39m <==      Total: 1
2023-05-17 01:23:46.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483234458931200 [0;39m 返回结果: {"content":{"content":"嗯嗯嗯","createTime":1684257827000,"ebookId":2,"id":20,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:23:46.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483234458931200 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 01:23:46.931 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39483234458931200 [0;39m ------------- LoginInterceptor 结束 耗时：19 ms -------------
2023-05-17 01:23:46.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483234547011584 [0;39m ------------- 开始 -------------
2023-05-17 01:23:46.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483234547011584 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:23:46.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483234547011584 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:23:46.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483234547011584 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:23:46.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483234547011584 [0;39m 请求参数: [2]
2023-05-17 01:23:46.938 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483234547011584 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:23:46.938 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483234547011584 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:23:46.939 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483234547011584 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:23:46.939 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483234547011584 [0;39m <==        Row: 15, 1, 2, null, null, 额外企鹅去, 2023-05-17 01:21:32, null
2023-05-17 01:23:46.939 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483234547011584 [0;39m <==        Row: 16, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:34, null
2023-05-17 01:23:46.939 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483234547011584 [0;39m <==        Row: 17, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:41, null
2023-05-17 01:23:46.940 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483234547011584 [0;39m <==        Row: 18, 1, 2, null, null, 嗯嗯, 2023-05-17 01:22:26, null
2023-05-17 01:23:46.940 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483234547011584 [0;39m <==        Row: 19, 1, 2, 18, 1, 嗯嗯, 2023-05-17 01:22:29, null
2023-05-17 01:23:46.940 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483234547011584 [0;39m <==        Row: 20, 1, 2, 15, 1, 嗯嗯嗯, 2023-05-17 01:23:47, null
2023-05-17 01:23:46.940 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483234547011584 [0;39m <==      Total: 6
2023-05-17 01:23:46.941 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:46.941 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:46.941 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:46.941 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:46.941 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m <==      Total: 1
2023-05-17 01:23:46.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:46.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:46.942 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:46.942 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:46.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m <==      Total: 1
2023-05-17 01:23:46.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:46.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:46.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:46.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:46.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m <==      Total: 1
2023-05-17 01:23:46.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:46.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:46.944 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:46.944 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:46.944 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m <==      Total: 1
2023-05-17 01:23:46.944 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:46.944 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:46.945 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:46.945 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:46.945 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m <==      Total: 1
2023-05-17 01:23:46.945 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:46.945 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:46.946 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:46.946 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:46.946 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m <==      Total: 1
2023-05-17 01:23:46.946 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:46.946 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:46.947 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:46.947 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:46.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m <==      Total: 1
2023-05-17 01:23:46.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:46.948 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:46.948 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:46.948 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:46.948 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m <==      Total: 1
2023-05-17 01:23:46.949 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:46.949 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:46.949 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:46.949 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:46.950 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m <==      Total: 1
2023-05-17 01:23:46.950 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:46.951 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:46.951 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:46.951 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483234547011584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:46.951 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483234547011584 [0;39m <==      Total: 1
2023-05-17 01:23:46.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483234547011584 [0;39m 返回结果: {"content":[{"content":"额外企鹅去","createTime":1684257692000,"ebookId":2,"id":15,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257694000,"ebookId":2,"id":16,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257701000,"ebookId":2,"id":17,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯嗯","createTime":1684257827000,"ebookId":2,"id":20,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257746000,"ebookId":2,"id":18,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257749000,"ebookId":2,"id":19,"name":"test","parentId":18,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:23:46.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483234547011584 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 01:23:51.569 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39482880107352064 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:23:51.570 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39482880107352064 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:23:51.570 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39482880107352064 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:23:51.572 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39482880107352064 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:23:51.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483253995999232 [0;39m ------------- 开始 -------------
2023-05-17 01:23:51.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483253995999232 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:23:51.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483253995999232 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:23:51.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483253995999232 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:23:51.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483253995999232 [0;39m 请求参数: [{"content":"嗯嗯嗯","ebookId":2,"parentId":15,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:23:51.574 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483253995999232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.574 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483253995999232 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.575 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483253995999232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.575 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483253995999232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.575 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483253995999232 [0;39m <==      Total: 1
2023-05-17 01:23:51.575 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483253995999232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.575 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483253995999232 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.576 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483253995999232 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.576 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483253995999232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.576 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483253995999232 [0;39m <==      Total: 1
2023-05-17 01:23:51.576 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483253995999232 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:23:51.576 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483253995999232 [0;39m ==> Parameters: 1(Long), 2(Long), 15(Long), 1(Long), 嗯嗯嗯(String), 2023-05-17 01:23:51.576(Timestamp), null
2023-05-17 01:23:51.578 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483253995999232 [0;39m <==    Updates: 1
2023-05-17 01:23:51.578 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483253995999232 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:23:51.578 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483253995999232 [0;39m ==> Parameters: 21(Long)
2023-05-17 01:23:51.579 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39483253995999232 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:23:51.579 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39483253995999232 [0;39m <==        Row: 21, 1, 2, 15, 1, 嗯嗯嗯, 2023-05-17 01:23:52, null
2023-05-17 01:23:51.579 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483253995999232 [0;39m <==      Total: 1
2023-05-17 01:23:51.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483253995999232 [0;39m 返回结果: {"content":{"content":"嗯嗯嗯","createTime":1684257832000,"ebookId":2,"id":21,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:23:51.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483253995999232 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 01:23:51.580 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39483253995999232 [0;39m ------------- LoginInterceptor 结束 耗时：10 ms -------------
2023-05-17 01:23:51.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483254063108096 [0;39m ------------- 开始 -------------
2023-05-17 01:23:51.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483254063108096 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:23:51.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483254063108096 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:23:51.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483254063108096 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:23:51.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483254063108096 [0;39m 请求参数: [2]
2023-05-17 01:23:51.591 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483254063108096 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:23:51.591 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483254063108096 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:23:51.592 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483254063108096 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:23:51.592 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483254063108096 [0;39m <==        Row: 15, 1, 2, null, null, 额外企鹅去, 2023-05-17 01:21:32, null
2023-05-17 01:23:51.592 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483254063108096 [0;39m <==        Row: 16, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:34, null
2023-05-17 01:23:51.592 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483254063108096 [0;39m <==        Row: 17, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:41, null
2023-05-17 01:23:51.593 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483254063108096 [0;39m <==        Row: 18, 1, 2, null, null, 嗯嗯, 2023-05-17 01:22:26, null
2023-05-17 01:23:51.593 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483254063108096 [0;39m <==        Row: 19, 1, 2, 18, 1, 嗯嗯, 2023-05-17 01:22:29, null
2023-05-17 01:23:51.593 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483254063108096 [0;39m <==        Row: 20, 1, 2, 15, 1, 嗯嗯嗯, 2023-05-17 01:23:47, null
2023-05-17 01:23:51.593 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483254063108096 [0;39m <==        Row: 21, 1, 2, 15, 1, 嗯嗯嗯, 2023-05-17 01:23:52, null
2023-05-17 01:23:51.594 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483254063108096 [0;39m <==      Total: 7
2023-05-17 01:23:51.594 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.594 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.594 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.594 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.595 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m <==      Total: 1
2023-05-17 01:23:51.595 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.595 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.595 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.595 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.596 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m <==      Total: 1
2023-05-17 01:23:51.596 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.596 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.596 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.596 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.596 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m <==      Total: 1
2023-05-17 01:23:51.597 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.597 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.597 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.597 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.597 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m <==      Total: 1
2023-05-17 01:23:51.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.599 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.599 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m <==      Total: 1
2023-05-17 01:23:51.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.600 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.600 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m <==      Total: 1
2023-05-17 01:23:51.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.601 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.601 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m <==      Total: 1
2023-05-17 01:23:51.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.602 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.602 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m <==      Total: 1
2023-05-17 01:23:51.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.603 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.603 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m <==      Total: 1
2023-05-17 01:23:51.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.604 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.604 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.604 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m <==      Total: 1
2023-05-17 01:23:51.604 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.604 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.605 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.605 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.605 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m <==      Total: 1
2023-05-17 01:23:51.605 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:23:51.606 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:23:51.606 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:23:51.606 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483254063108096 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:23:51.606 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483254063108096 [0;39m <==      Total: 1
2023-05-17 01:23:51.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483254063108096 [0;39m 返回结果: {"content":[{"content":"额外企鹅去","createTime":1684257692000,"ebookId":2,"id":15,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257694000,"ebookId":2,"id":16,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257701000,"ebookId":2,"id":17,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯嗯","createTime":1684257827000,"ebookId":2,"id":20,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯嗯","createTime":1684257832000,"ebookId":2,"id":21,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257746000,"ebookId":2,"id":18,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257749000,"ebookId":2,"id":19,"name":"test","parentId":18,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:23:51.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483254063108096 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-17 01:24:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39483289374953472 [0;39m 生成今日电子书快照开始
2023-05-17 01:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39483289374953472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39483289374953472 [0;39m ==> Parameters: 
2023-05-17 01:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39483289374953472 [0;39m <==    Updates: 0
2023-05-17 01:24:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39483289374953472 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 01:24:03.486 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:24:03.801 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:24:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39483310363250688 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:24:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483310363250688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:24:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483310363250688 [0;39m ==> Parameters: 
2023-05-17 01:24:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483310363250688 [0;39m <==    Updates: 2
2023-05-17 01:24:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39483310363250688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:24:05.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:24:07.554 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:24:09.587 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:24:11.634 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:24:12.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483343850573824 [0;39m ------------- 开始 -------------
2023-05-17 01:24:12.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483343850573824 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:24:12.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483343850573824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:24:12.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483343850573824 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:24:12.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483343850573824 [0;39m 请求参数: [2]
2023-05-17 01:24:12.997 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483343850573824 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:24:12.998 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483343850573824 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:24:12.998 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483343850573824 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:24:12.998 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483343850573824 [0;39m <==        Row: 15, 1, 2, null, null, 额外企鹅去, 2023-05-17 01:21:32, null
2023-05-17 01:24:12.999 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483343850573824 [0;39m <==        Row: 16, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:34, null
2023-05-17 01:24:12.999 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483343850573824 [0;39m <==        Row: 17, 1, 2, 15, 1, 嗯嗯, 2023-05-17 01:21:41, null
2023-05-17 01:24:12.999 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483343850573824 [0;39m <==        Row: 18, 1, 2, null, null, 嗯嗯, 2023-05-17 01:22:26, null
2023-05-17 01:24:12.999 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483343850573824 [0;39m <==        Row: 19, 1, 2, 18, 1, 嗯嗯, 2023-05-17 01:22:29, null
2023-05-17 01:24:13.000 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483343850573824 [0;39m <==        Row: 20, 1, 2, 15, 1, 嗯嗯嗯, 2023-05-17 01:23:47, null
2023-05-17 01:24:13.000 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483343850573824 [0;39m <==        Row: 21, 1, 2, 15, 1, 嗯嗯嗯, 2023-05-17 01:23:52, null
2023-05-17 01:24:13.000 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483343850573824 [0;39m <==      Total: 7
2023-05-17 01:24:13.000 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:13.000 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:13.001 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:13.001 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:13.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m <==      Total: 1
2023-05-17 01:24:13.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:13.002 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:13.003 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:13.003 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:13.003 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m <==      Total: 1
2023-05-17 01:24:13.003 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:13.003 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:13.004 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:13.004 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:13.004 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m <==      Total: 1
2023-05-17 01:24:13.004 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:13.005 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:13.005 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:13.005 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:13.006 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m <==      Total: 1
2023-05-17 01:24:13.006 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:13.008 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:13.009 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:13.009 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:13.009 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m <==      Total: 1
2023-05-17 01:24:13.009 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:13.009 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:13.010 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:13.010 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:13.010 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m <==      Total: 1
2023-05-17 01:24:13.011 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:13.011 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:13.011 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:13.011 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:13.012 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m <==      Total: 1
2023-05-17 01:24:13.012 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:13.012 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:13.012 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:13.013 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:13.013 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m <==      Total: 1
2023-05-17 01:24:13.013 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:13.013 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:13.014 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:13.014 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:13.014 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m <==      Total: 1
2023-05-17 01:24:13.014 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:13.014 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:13.015 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:13.015 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:13.015 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m <==      Total: 1
2023-05-17 01:24:13.015 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:13.016 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:13.016 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:13.016 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:13.016 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m <==      Total: 1
2023-05-17 01:24:13.016 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:13.017 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:13.017 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:13.017 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483343850573824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:13.017 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483343850573824 [0;39m <==      Total: 1
2023-05-17 01:24:13.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483343850573824 [0;39m 返回结果: {"content":[{"content":"额外企鹅去","createTime":1684257692000,"ebookId":2,"id":15,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257694000,"ebookId":2,"id":16,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257701000,"ebookId":2,"id":17,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯嗯","createTime":1684257827000,"ebookId":2,"id":20,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯嗯","createTime":1684257832000,"ebookId":2,"id":21,"name":"test","parentId":15,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"嗯嗯","createTime":1684257746000,"ebookId":2,"id":18,"name":"test","replies":[{"content":"嗯嗯","createTime":1684257749000,"ebookId":2,"id":19,"name":"test","parentId":18,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:24:13.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483343850573824 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-17 01:24:23.566 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39482677149175808 [0;39m 连接关闭，token：BtKKYBVc2l，session id：16！当前连接数：0
2023-05-17 01:24:25.171 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39483201961463808 [0;39m 有新连接：token：4DZORwWSnQ，session id：17，当前连接数：1
2023-05-17 01:24:25.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483395348238336 [0;39m ------------- 开始 -------------
2023-05-17 01:24:25.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483395352432640 [0;39m ------------- 开始 -------------
2023-05-17 01:24:25.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483395348238336 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:24:25.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483395352432640 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:24:25.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483395348238336 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:24:25.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483395352432640 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:24:25.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483395348238336 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:24:25.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483395352432640 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:24:25.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483395348238336 [0;39m 请求参数: [2]
2023-05-17 01:24:25.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483395352432640 [0;39m 请求参数: [2]
2023-05-17 01:24:25.275 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483395352432640 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:24:25.276 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483395348238336 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:24:25.276 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483395352432640 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:24:25.276 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483395348238336 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:24:25.276 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39483395348238336 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:24:25.277 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39483395348238336 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 196, 2
2023-05-17 01:24:25.277 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483395348238336 [0;39m <==      Total: 1
2023-05-17 01:24:25.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483395348238336 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":196,"voteCount":2}],"success":true}
2023-05-17 01:24:25.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483395348238336 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 01:24:25.277 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483395352432640 [0;39m <==      Total: 0
2023-05-17 01:24:25.278 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483395352432640 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 01:24:25.278 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483395352432640 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 01:24:25.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483395587313664 [0;39m ------------- 开始 -------------
2023-05-17 01:24:25.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483395587313664 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:24:25.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483395587313664 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:24:25.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483395587313664 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:24:25.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483395587313664 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:24:25.333 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483395587313664 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:24:25.333 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483395587313664 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:24:25.335 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39483395587313664 [0;39m <==    Columns: id, content
2023-05-17 01:24:25.335 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39483395587313664 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:24:25.336 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483395587313664 [0;39m <==      Total: 1
2023-05-17 01:24:25.336 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483395587313664 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:24:25.336 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483395587313664 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:24:25.339 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483395587313664 [0;39m <==    Updates: 1
2023-05-17 01:24:25.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483395587313664 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:24:25.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483395587313664 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 01:24:26.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483400247185408 [0;39m ------------- 开始 -------------
2023-05-17 01:24:26.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483400247185408 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:24:26.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483400247185408 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:24:26.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483400247185408 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:24:26.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483400247185408 [0;39m 请求参数: [2]
2023-05-17 01:24:26.444 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483400247185408 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:24:26.444 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483400247185408 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:24:26.444 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483400247185408 [0;39m <==      Total: 0
2023-05-17 01:24:26.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483400247185408 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 01:24:26.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483400247185408 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 01:24:29.672 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39483234547011584 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:24:29.672 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39483234547011584 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 01:24:29.672 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39483234547011584 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:24:29.675 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39483234547011584 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:24:29.676 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483413811564544 [0;39m ------------- 开始 -------------
2023-05-17 01:24:29.676 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483413811564544 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 01:24:29.676 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483413811564544 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 01:24:29.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483413811564544 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:24:29.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483413811564544 [0;39m 请求参数: [{"content":"额外企鹅请问","ebookId":2,"userId":1}]
2023-05-17 01:24:29.677 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483413811564544 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:29.677 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483413811564544 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:29.678 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483413811564544 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:29.679 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483413811564544 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:29.679 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483413811564544 [0;39m <==      Total: 1
2023-05-17 01:24:29.679 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39483413811564544 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 01:24:29.679 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39483413811564544 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:24:29.680 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39483413811564544 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 01:24:29.680 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39483413811564544 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 196, 2
2023-05-17 01:24:29.680 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39483413811564544 [0;39m <==      Total: 1
2023-05-17 01:24:29.680 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39483413811564544 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:24:29.680 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39483413811564544 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, 额外企鹅请问(String), 2023-05-17 01:24:29.68(Timestamp), null
2023-05-17 01:24:29.683 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39483413811564544 [0;39m <==    Updates: 1
2023-05-17 01:24:29.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483413811564544 [0;39m 返回结果: {"success":true}
2023-05-17 01:24:29.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483413811564544 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 01:24:29.684 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39483413811564544 [0;39m ------------- LoginInterceptor 结束 耗时：12 ms -------------
2023-05-17 01:24:29.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483413908033536 [0;39m ------------- 开始 -------------
2023-05-17 01:24:29.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483413908033536 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:24:29.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483413908033536 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:24:29.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483413908033536 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:24:29.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483413908033536 [0;39m 请求参数: [2]
2023-05-17 01:24:29.701 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483413908033536 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:24:29.701 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483413908033536 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:24:29.703 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483413908033536 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:24:29.703 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483413908033536 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:24:29.703 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483413908033536 [0;39m <==      Total: 1
2023-05-17 01:24:29.703 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483413908033536 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:29.705 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483413908033536 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:29.705 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483413908033536 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:29.705 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483413908033536 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:29.705 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483413908033536 [0;39m <==      Total: 1
2023-05-17 01:24:29.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483413908033536 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 01:24:29.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483413908033536 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 01:24:31.995 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39483254063108096 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:24:31.995 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39483254063108096 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:24:31.995 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39483254063108096 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:24:31.996 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39483254063108096 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:24:31.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483423542349824 [0;39m ------------- 开始 -------------
2023-05-17 01:24:31.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483423542349824 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:24:31.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483423542349824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:24:31.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483423542349824 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:24:31.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483423542349824 [0;39m 请求参数: [{"content":"二位","ebookId":2,"parentId":1,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:24:31.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423542349824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:31.997 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423542349824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:31.998 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483423542349824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:31.998 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483423542349824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:31.998 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423542349824 [0;39m <==      Total: 1
2023-05-17 01:24:31.998 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423542349824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:31.999 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423542349824 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:31.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483423542349824 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:31.999 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483423542349824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:32.000 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423542349824 [0;39m <==      Total: 1
2023-05-17 01:24:32.000 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483423542349824 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:24:32.000 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483423542349824 [0;39m ==> Parameters: 1(Long), 2(Long), 1(Long), 1(Long), 二位(String), 2023-05-17 01:24:32.0(Timestamp), null
2023-05-17 01:24:32.008 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483423542349824 [0;39m <==    Updates: 1
2023-05-17 01:24:32.009 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483423542349824 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:24:32.009 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483423542349824 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:24:32.010 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39483423542349824 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:24:32.010 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39483423542349824 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:24:32.010 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483423542349824 [0;39m <==      Total: 1
2023-05-17 01:24:32.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483423542349824 [0;39m 返回结果: {"content":{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:24:32.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483423542349824 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 01:24:32.011 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39483423542349824 [0;39m ------------- LoginInterceptor 结束 耗时：16 ms -------------
2023-05-17 01:24:32.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483423638818816 [0;39m ------------- 开始 -------------
2023-05-17 01:24:32.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483423638818816 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:24:32.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483423638818816 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:24:32.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483423638818816 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:24:32.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483423638818816 [0;39m 请求参数: [2]
2023-05-17 01:24:32.019 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483423638818816 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:24:32.019 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483423638818816 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:24:32.022 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483423638818816 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:24:32.022 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483423638818816 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:24:32.022 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483423638818816 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:24:32.023 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483423638818816 [0;39m <==      Total: 2
2023-05-17 01:24:32.023 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423638818816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:32.023 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423638818816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:32.023 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483423638818816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:32.023 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483423638818816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:32.023 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423638818816 [0;39m <==      Total: 1
2023-05-17 01:24:32.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423638818816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:32.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423638818816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:32.024 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483423638818816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:32.024 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483423638818816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:32.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423638818816 [0;39m <==      Total: 1
2023-05-17 01:24:32.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423638818816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:24:32.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423638818816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:24:32.024 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483423638818816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:24:32.025 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483423638818816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:24:32.025 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483423638818816 [0;39m <==      Total: 1
2023-05-17 01:24:32.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483423638818816 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:24:32.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483423638818816 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 01:24:33.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:24:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39483436154621952 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:24:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483436154621952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:24:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483436154621952 [0;39m ==> Parameters: 
2023-05-17 01:24:35.066 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483436154621952 [0;39m <==    Updates: 2
2023-05-17 01:24:35.066 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39483436154621952 [0;39m 更新电子书下的文档数据结束，耗时：47毫秒
2023-05-17 01:24:35.504 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:24:37.526 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:24:39.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:25:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39483541075136512 [0;39m 生成今日电子书快照开始
2023-05-17 01:25:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39483541075136512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:25:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39483541075136512 [0;39m ==> Parameters: 
2023-05-17 01:25:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39483541075136512 [0;39m <==    Updates: 0
2023-05-17 01:25:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39483541075136512 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-17 01:25:01.575 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:25:03.592 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:25:03.822 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:25:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39483562042462208 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:25:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483562042462208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:25:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483562042462208 [0;39m ==> Parameters: 
2023-05-17 01:25:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483562042462208 [0;39m <==    Updates: 2
2023-05-17 01:25:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39483562042462208 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:25:07.640 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:25:09.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:25:22.627 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39482677149175808 [0;39m 连接关闭，token：4DZORwWSnQ，session id：17！当前连接数：0
2023-05-17 01:25:24.220 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39483201961463808 [0;39m 有新连接：token：saHRMsxjeo，session id：18，当前连接数：1
2023-05-17 01:25:24.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483643047055361 [0;39m ------------- 开始 -------------
2023-05-17 01:25:24.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483643047055360 [0;39m ------------- 开始 -------------
2023-05-17 01:25:24.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483643047055360 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:25:24.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483643047055361 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:25:24.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483643047055360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:25:24.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483643047055361 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:25:24.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483643047055360 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:24.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483643047055361 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:24.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483643047055360 [0;39m 请求参数: [2]
2023-05-17 01:25:24.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483643047055361 [0;39m 请求参数: [2]
2023-05-17 01:25:24.331 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483643047055361 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:25:24.331 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483643047055360 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:25:24.331 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483643047055361 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:25:24.331 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483643047055360 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:25:24.332 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483643047055361 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:25:24.332 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39483643047055360 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:25:24.332 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483643047055361 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:25:24.332 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39483643047055360 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 197, 2
2023-05-17 01:25:24.332 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483643047055361 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:25:24.332 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483643047055360 [0;39m <==      Total: 1
2023-05-17 01:25:24.332 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483643047055361 [0;39m <==      Total: 2
2023-05-17 01:25:24.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483643047055360 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":197,"voteCount":2}],"success":true}
2023-05-17 01:25:24.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483643047055360 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 01:25:24.333 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483643047055361 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:24.333 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483643047055361 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:24.333 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483643047055361 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:24.333 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483643047055361 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:24.334 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483643047055361 [0;39m <==      Total: 1
2023-05-17 01:25:24.334 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483643047055361 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:24.334 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483643047055361 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:24.335 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483643047055361 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:24.335 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483643047055361 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:24.335 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483643047055361 [0;39m <==      Total: 1
2023-05-17 01:25:24.335 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483643047055361 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:24.335 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483643047055361 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:24.336 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483643047055361 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:24.336 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483643047055361 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:24.336 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483643047055361 [0;39m <==      Total: 1
2023-05-17 01:25:24.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483643047055361 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:25:24.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483643047055361 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 01:25:24.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483643340656640 [0;39m ------------- 开始 -------------
2023-05-17 01:25:24.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483643340656640 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:25:24.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483643340656640 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:25:24.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483643340656640 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:24.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483643340656640 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:25:24.402 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483643340656640 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:25:24.404 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483643340656640 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:25:24.405 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39483643340656640 [0;39m <==    Columns: id, content
2023-05-17 01:25:24.405 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39483643340656640 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:25:24.406 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483643340656640 [0;39m <==      Total: 1
2023-05-17 01:25:24.406 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483643340656640 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:25:24.406 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483643340656640 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:25:24.412 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483643340656640 [0;39m <==    Updates: 1
2023-05-17 01:25:24.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483643340656640 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:25:24.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483643340656640 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 01:25:25.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483647170056192 [0;39m ------------- 开始 -------------
2023-05-17 01:25:25.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483647170056192 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:25:25.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483647170056192 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:25:25.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483647170056192 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:25.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483647170056192 [0;39m 请求参数: [2]
2023-05-17 01:25:25.314 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483647170056192 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:25:25.314 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483647170056192 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:25:25.315 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483647170056192 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:25:25.315 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483647170056192 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:25:25.315 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483647170056192 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:25:25.315 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483647170056192 [0;39m <==      Total: 2
2023-05-17 01:25:25.316 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483647170056192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:25.316 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483647170056192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:25.316 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483647170056192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:25.316 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483647170056192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:25.316 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483647170056192 [0;39m <==      Total: 1
2023-05-17 01:25:25.317 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483647170056192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:25.317 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483647170056192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:25.317 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483647170056192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:25.317 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483647170056192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:25.318 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483647170056192 [0;39m <==      Total: 1
2023-05-17 01:25:25.318 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483647170056192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:25.318 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483647170056192 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:25.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483647170056192 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:25.319 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483647170056192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:25.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483647170056192 [0;39m <==      Total: 1
2023-05-17 01:25:25.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483647170056192 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:25:25.320 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483647170056192 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 01:25:27.661 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:25:33.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:25:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39483687825444864 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:25:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483687825444864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:25:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483687825444864 [0;39m ==> Parameters: 
2023-05-17 01:25:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483687825444864 [0;39m <==    Updates: 2
2023-05-17 01:25:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39483687825444864 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 01:25:36.739 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39483413811564544 [0;39m 连接关闭，token：saHRMsxjeo，session id：18！当前连接数：0
2023-05-17 01:25:37.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:25:38.258 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39483413908033536 [0;39m 有新连接：token：ucqjDkIa42，session id：19，当前连接数：1
2023-05-17 01:25:38.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483701981220864 [0;39m ------------- 开始 -------------
2023-05-17 01:25:38.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483701981220864 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:25:38.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483701981220864 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:25:38.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483701981220864 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:38.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483701981220864 [0;39m 请求参数: [2]
2023-05-17 01:25:38.383 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483701981220864 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:25:38.383 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483701981220864 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:25:38.383 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39483701981220864 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:25:38.384 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39483701981220864 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 198, 2
2023-05-17 01:25:38.384 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483701981220864 [0;39m <==      Total: 1
2023-05-17 01:25:38.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483701981220864 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":198,"voteCount":2}],"success":true}
2023-05-17 01:25:38.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483701993803776 [0;39m ------------- 开始 -------------
2023-05-17 01:25:38.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483701981220864 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 01:25:38.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483701993803776 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:25:38.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483701993803776 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:25:38.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483701993803776 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:38.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483701993803776 [0;39m 请求参数: [2]
2023-05-17 01:25:38.385 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483701993803776 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:25:38.385 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483701993803776 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:25:38.386 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483701993803776 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:25:38.386 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483701993803776 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:25:38.387 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483701993803776 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:25:38.387 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483701993803776 [0;39m <==      Total: 2
2023-05-17 01:25:38.387 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483701993803776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:38.387 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483701993803776 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:38.388 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483701993803776 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:38.388 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483701993803776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:38.388 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483701993803776 [0;39m <==      Total: 1
2023-05-17 01:25:38.388 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483701993803776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:38.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483701993803776 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:38.389 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483701993803776 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:38.389 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483701993803776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:38.390 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483701993803776 [0;39m <==      Total: 1
2023-05-17 01:25:38.390 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483701993803776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:38.390 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483701993803776 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:38.390 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483701993803776 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:38.390 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483701993803776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:38.391 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483701993803776 [0;39m <==      Total: 1
2023-05-17 01:25:38.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483701993803776 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:25:38.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483701993803776 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 01:25:38.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483702283210752 [0;39m ------------- 开始 -------------
2023-05-17 01:25:38.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483702283210752 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:25:38.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483702283210752 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:25:38.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483702283210752 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:38.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483702283210752 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:25:38.455 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483702283210752 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:25:38.455 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483702283210752 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:25:38.457 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39483702283210752 [0;39m <==    Columns: id, content
2023-05-17 01:25:38.457 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39483702283210752 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:25:38.458 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483702283210752 [0;39m <==      Total: 1
2023-05-17 01:25:38.458 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483702283210752 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:25:38.458 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483702283210752 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:25:38.465 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483702283210752 [0;39m <==    Updates: 1
2023-05-17 01:25:38.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483702283210752 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:25:38.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483702283210752 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:25:39.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483705768677376 [0;39m ------------- 开始 -------------
2023-05-17 01:25:39.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483705768677376 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:25:39.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483705768677376 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:25:39.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483705768677376 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:39.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483705768677376 [0;39m 请求参数: [2]
2023-05-17 01:25:39.285 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483705768677376 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:25:39.286 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483705768677376 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:25:39.286 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483705768677376 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:25:39.286 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483705768677376 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:25:39.287 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483705768677376 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:25:39.287 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483705768677376 [0;39m <==      Total: 2
2023-05-17 01:25:39.287 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483705768677376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:39.287 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483705768677376 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:39.288 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483705768677376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:39.288 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483705768677376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:39.288 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483705768677376 [0;39m <==      Total: 1
2023-05-17 01:25:39.288 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483705768677376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:39.289 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483705768677376 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:39.289 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483705768677376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:39.289 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483705768677376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:39.289 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483705768677376 [0;39m <==      Total: 1
2023-05-17 01:25:39.290 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483705768677376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:39.290 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483705768677376 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:39.290 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483705768677376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:39.290 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483705768677376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:39.291 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483705768677376 [0;39m <==      Total: 1
2023-05-17 01:25:39.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483705768677376 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:25:39.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483705768677376 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 01:25:46.916 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39483643047055360 [0;39m 连接关闭，token：ucqjDkIa42，session id：19！当前连接数：0
2023-05-17 01:25:48.413 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39483643047055361 [0;39m 有新连接：token：1kuNQaUqC6，session id：1a，当前连接数：1
2023-05-17 01:25:48.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483744649875456 [0;39m ------------- 开始 -------------
2023-05-17 01:25:48.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483744649875457 [0;39m ------------- 开始 -------------
2023-05-17 01:25:48.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483744649875456 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:25:48.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483744649875457 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:25:48.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483744649875456 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:25:48.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483744649875457 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:25:48.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483744649875456 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:48.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483744649875457 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:48.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483744649875457 [0;39m 请求参数: [2]
2023-05-17 01:25:48.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483744649875456 [0;39m 请求参数: [2]
2023-05-17 01:25:48.555 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483744649875457 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:25:48.555 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483744649875457 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:25:48.555 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483744649875456 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:25:48.555 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483744649875456 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:25:48.556 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483744649875457 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:25:48.556 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39483744649875456 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:25:48.556 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483744649875457 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:25:48.556 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39483744649875456 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 199, 2
2023-05-17 01:25:48.556 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39483744649875456 [0;39m <==      Total: 1
2023-05-17 01:25:48.556 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483744649875457 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:25:48.557 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483744649875457 [0;39m <==      Total: 2
2023-05-17 01:25:48.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483744649875456 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":199,"voteCount":2}],"success":true}
2023-05-17 01:25:48.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483744649875456 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 01:25:48.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483744649875457 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:48.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483744649875457 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:48.557 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483744649875457 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:48.558 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483744649875457 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:48.558 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483744649875457 [0;39m <==      Total: 1
2023-05-17 01:25:48.558 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483744649875457 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:48.558 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483744649875457 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:48.559 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483744649875457 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:48.559 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483744649875457 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:48.559 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483744649875457 [0;39m <==      Total: 1
2023-05-17 01:25:48.559 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483744649875457 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:48.560 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483744649875457 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:48.560 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483744649875457 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:48.560 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483744649875457 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:48.561 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483744649875457 [0;39m <==      Total: 1
2023-05-17 01:25:48.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483744649875457 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:25:48.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483744649875457 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 01:25:48.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483744897339392 [0;39m ------------- 开始 -------------
2023-05-17 01:25:48.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483744897339392 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:25:48.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483744897339392 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:25:48.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483744897339392 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:48.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483744897339392 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:25:48.615 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483744897339392 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:25:48.615 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483744897339392 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:25:48.616 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39483744897339392 [0;39m <==    Columns: id, content
2023-05-17 01:25:48.616 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39483744897339392 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:25:48.617 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39483744897339392 [0;39m <==      Total: 1
2023-05-17 01:25:48.617 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483744897339392 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:25:48.617 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483744897339392 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:25:48.619 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39483744897339392 [0;39m <==    Updates: 1
2023-05-17 01:25:48.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483744897339392 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:25:48.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483744897339392 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 01:25:49.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483748194062336 [0;39m ------------- 开始 -------------
2023-05-17 01:25:49.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483748194062336 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:25:49.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483748194062336 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:25:49.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483748194062336 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:49.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483748194062336 [0;39m 请求参数: [2]
2023-05-17 01:25:49.401 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483748194062336 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:25:49.401 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483748194062336 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:25:49.402 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483748194062336 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:25:49.402 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483748194062336 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:25:49.402 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483748194062336 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:25:49.402 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483748194062336 [0;39m <==      Total: 2
2023-05-17 01:25:49.403 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483748194062336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:49.403 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483748194062336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:49.403 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483748194062336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:49.403 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483748194062336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:49.403 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483748194062336 [0;39m <==      Total: 1
2023-05-17 01:25:49.403 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483748194062336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:49.403 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483748194062336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:49.404 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483748194062336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:49.404 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483748194062336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:49.404 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483748194062336 [0;39m <==      Total: 1
2023-05-17 01:25:49.404 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483748194062336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:49.405 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483748194062336 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:49.405 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483748194062336 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:49.405 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483748194062336 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:49.405 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483748194062336 [0;39m <==      Total: 1
2023-05-17 01:25:49.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483748194062336 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:25:49.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483748194062336 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 01:25:49.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:25:51.735 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:25:53.442 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39483701981220864 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:25:53.443 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39483701981220864 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:25:53.443 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39483701981220864 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:25:53.444 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39483701981220864 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:25:53.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483765164216320 [0;39m ------------- 开始 -------------
2023-05-17 01:25:53.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483765164216320 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:25:53.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483765164216320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:25:53.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483765164216320 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:53.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483765164216320 [0;39m 请求参数: [{"content":"玩玩","ebookId":2,"parentId":1,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:25:53.447 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765164216320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:53.447 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765164216320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:53.447 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765164216320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:53.447 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765164216320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:53.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765164216320 [0;39m <==      Total: 1
2023-05-17 01:25:53.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765164216320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:53.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765164216320 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:53.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765164216320 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:53.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765164216320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:53.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765164216320 [0;39m <==      Total: 1
2023-05-17 01:25:53.449 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483765164216320 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:25:53.449 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483765164216320 [0;39m ==> Parameters: 1(Long), 2(Long), 1(Long), 1(Long), 玩玩(String), 2023-05-17 01:25:53.449(Timestamp), null
2023-05-17 01:25:53.452 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483765164216320 [0;39m <==    Updates: 1
2023-05-17 01:25:53.453 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483765164216320 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:25:53.453 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483765164216320 [0;39m ==> Parameters: 3(Long)
2023-05-17 01:25:53.454 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39483765164216320 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:25:53.454 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39483765164216320 [0;39m <==        Row: 3, 1, 2, 1, 1, 玩玩, 2023-05-17 01:25:53, null
2023-05-17 01:25:53.454 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483765164216320 [0;39m <==      Total: 1
2023-05-17 01:25:53.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483765164216320 [0;39m 返回结果: {"content":{"content":"玩玩","createTime":1684257953000,"ebookId":2,"id":3,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:25:53.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483765164216320 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 01:25:53.455 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39483765164216320 [0;39m ------------- LoginInterceptor 结束 耗时：12 ms -------------
2023-05-17 01:25:53.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483765248102400 [0;39m ------------- 开始 -------------
2023-05-17 01:25:53.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483765248102400 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:25:53.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483765248102400 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:25:53.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483765248102400 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:53.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483765248102400 [0;39m 请求参数: [2]
2023-05-17 01:25:53.466 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483765248102400 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:25:53.466 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483765248102400 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:25:53.467 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483765248102400 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:25:53.467 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483765248102400 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:25:53.467 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483765248102400 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:25:53.467 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483765248102400 [0;39m <==        Row: 3, 1, 2, 1, 1, 玩玩, 2023-05-17 01:25:53, null
2023-05-17 01:25:53.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483765248102400 [0;39m <==      Total: 3
2023-05-17 01:25:53.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:53.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:53.469 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765248102400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:53.469 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765248102400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:53.469 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m <==      Total: 1
2023-05-17 01:25:53.469 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:53.470 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:53.470 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765248102400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:53.470 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765248102400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:53.470 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m <==      Total: 1
2023-05-17 01:25:53.470 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:53.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:53.471 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765248102400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:53.471 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765248102400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:53.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m <==      Total: 1
2023-05-17 01:25:53.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:53.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:53.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765248102400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:53.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765248102400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:53.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m <==      Total: 1
2023-05-17 01:25:53.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:53.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:53.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765248102400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:53.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483765248102400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:53.473 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483765248102400 [0;39m <==      Total: 1
2023-05-17 01:25:53.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483765248102400 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"玩玩","createTime":1684257953000,"ebookId":2,"id":3,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:25:53.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483765248102400 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 01:25:55.858 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39483702283210752 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:25:55.859 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39483702283210752 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:25:55.859 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39483702283210752 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:25:55.861 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39483702283210752 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:25:55.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483775306043392 [0;39m ------------- 开始 -------------
2023-05-17 01:25:55.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483775306043392 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:25:55.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483775306043392 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:25:55.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483775306043392 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:55.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483775306043392 [0;39m 请求参数: [{"content":"嗯嗯","ebookId":2,"parentId":1,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:25:55.865 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775306043392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:55.865 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775306043392 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:55.866 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775306043392 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:55.866 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775306043392 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:55.866 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775306043392 [0;39m <==      Total: 1
2023-05-17 01:25:55.867 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775306043392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:55.867 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775306043392 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:55.867 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775306043392 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:55.867 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775306043392 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:55.868 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775306043392 [0;39m <==      Total: 1
2023-05-17 01:25:55.868 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483775306043392 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:25:55.868 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483775306043392 [0;39m ==> Parameters: 1(Long), 2(Long), 1(Long), 1(Long), 嗯嗯(String), 2023-05-17 01:25:55.868(Timestamp), null
2023-05-17 01:25:55.876 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39483775306043392 [0;39m <==    Updates: 1
2023-05-17 01:25:55.876 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483775306043392 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:25:55.877 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483775306043392 [0;39m ==> Parameters: 4(Long)
2023-05-17 01:25:55.877 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39483775306043392 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:25:55.877 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39483775306043392 [0;39m <==        Row: 4, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:25:56, null
2023-05-17 01:25:55.877 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39483775306043392 [0;39m <==      Total: 1
2023-05-17 01:25:55.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483775306043392 [0;39m 返回结果: {"content":{"content":"嗯嗯","createTime":1684257956000,"ebookId":2,"id":4,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:25:55.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483775306043392 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 01:25:55.879 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39483775306043392 [0;39m ------------- LoginInterceptor 结束 耗时：20 ms -------------
2023-05-17 01:25:55.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39483775402512384 [0;39m ------------- 开始 -------------
2023-05-17 01:25:55.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39483775402512384 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:25:55.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39483775402512384 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:25:55.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39483775402512384 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:25:55.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39483775402512384 [0;39m 请求参数: [2]
2023-05-17 01:25:55.887 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483775402512384 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:25:55.887 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483775402512384 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:25:55.888 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483775402512384 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:25:55.888 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483775402512384 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:25:55.888 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483775402512384 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:25:55.888 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483775402512384 [0;39m <==        Row: 3, 1, 2, 1, 1, 玩玩, 2023-05-17 01:25:53, null
2023-05-17 01:25:55.888 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39483775402512384 [0;39m <==        Row: 4, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:25:56, null
2023-05-17 01:25:55.889 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39483775402512384 [0;39m <==      Total: 4
2023-05-17 01:25:55.889 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:55.889 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:55.889 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:55.889 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:55.890 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m <==      Total: 1
2023-05-17 01:25:55.890 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:55.890 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:55.890 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:55.890 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:55.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m <==      Total: 1
2023-05-17 01:25:55.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:55.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:55.891 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:55.891 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:55.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m <==      Total: 1
2023-05-17 01:25:55.891 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:55.892 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:55.892 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:55.892 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:55.892 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m <==      Total: 1
2023-05-17 01:25:55.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:55.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:55.893 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:55.893 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:55.894 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m <==      Total: 1
2023-05-17 01:25:55.894 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:55.894 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:55.895 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:55.895 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:55.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m <==      Total: 1
2023-05-17 01:25:55.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:25:55.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:25:55.896 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:25:55.896 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39483775402512384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:25:55.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39483775402512384 [0;39m <==      Total: 1
2023-05-17 01:25:55.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39483775402512384 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"玩玩","createTime":1684257953000,"ebookId":2,"id":3,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257956000,"ebookId":2,"id":4,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:25:55.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39483775402512384 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 01:26:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39483792729182208 [0;39m 生成今日电子书快照开始
2023-05-17 01:26:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39483792729182208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:26:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39483792729182208 [0;39m ==> Parameters: 
2023-05-17 01:26:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39483792729182208 [0;39m <==    Updates: 0
2023-05-17 01:26:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39483792729182208 [0;39m 生成今日电子书快照结束，耗时：7毫秒
2023-05-17 01:26:03.475 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:26:03.824 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:26:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39483813704896512 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:26:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483813704896512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:26:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483813704896512 [0;39m ==> Parameters: 
2023-05-17 01:26:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483813704896512 [0;39m <==    Updates: 2
2023-05-17 01:26:05.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39483813704896512 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 01:26:05.509 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:26:07.549 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:26:15.818 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:26:33.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:26:33.796 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:26:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39483939492073472 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:26:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483939492073472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:26:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483939492073472 [0;39m ==> Parameters: 
2023-05-17 01:26:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39483939492073472 [0;39m <==    Updates: 2
2023-05-17 01:26:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39483939492073472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:26:35.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:26:37.558 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:26:39.581 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:26:41.627 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:27:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39484044349673472 [0;39m 生成今日电子书快照开始
2023-05-17 01:27:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39484044349673472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:27:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39484044349673472 [0;39m ==> Parameters: 
2023-05-17 01:27:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39484044349673472 [0;39m <==    Updates: 0
2023-05-17 01:27:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39484044349673472 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-17 01:27:03.486 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:27:03.831 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:27:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39484065333776384 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:27:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484065333776384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:27:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484065333776384 [0;39m ==> Parameters: 
2023-05-17 01:27:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484065333776384 [0;39m <==    Updates: 2
2023-05-17 01:27:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39484065333776384 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 01:27:05.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:27:07.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:27:09.573 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:27:33.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:27:33.816 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:27:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39484191179673600 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:27:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484191179673600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:27:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484191179673600 [0;39m ==> Parameters: 
2023-05-17 01:27:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484191179673600 [0;39m <==    Updates: 2
2023-05-17 01:27:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39484191179673600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 01:27:35.663 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:27:39.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:27:55.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:27:57.685 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:28:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39484296028884992 [0;39m 生成今日电子书快照开始
2023-05-17 01:28:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39484296028884992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:28:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39484296028884992 [0;39m ==> Parameters: 
2023-05-17 01:28:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39484296028884992 [0;39m <==    Updates: 0
2023-05-17 01:28:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39484296028884992 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 01:28:03.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:28:03.825 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:28:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39484316950073344 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:28:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484316950073344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:28:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484316950073344 [0;39m ==> Parameters: 
2023-05-17 01:28:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484316950073344 [0;39m <==    Updates: 2
2023-05-17 01:28:05.001 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39484316950073344 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:28:07.531 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:28:10.334 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39483744649875456 [0;39m 连接关闭，token：1kuNQaUqC6，session id：1a！当前连接数：0
2023-05-17 01:28:11.945 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39483744649875457 [0;39m 有新连接：token：seHx1whWCw，session id：1b，当前连接数：1
2023-05-17 01:28:12.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484346494750720 [0;39m ------------- 开始 -------------
2023-05-17 01:28:12.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484346494750720 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:28:12.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484346494750721 [0;39m ------------- 开始 -------------
2023-05-17 01:28:12.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484346494750720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:28:12.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484346494750720 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:28:12.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484346494750721 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:28:12.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484346494750721 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:28:12.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484346494750720 [0;39m 请求参数: [2]
2023-05-17 01:28:12.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484346494750721 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:28:12.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484346494750721 [0;39m 请求参数: [2]
2023-05-17 01:28:12.046 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484346494750721 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:28:12.047 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484346494750721 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:28:12.046 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484346494750720 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:28:12.047 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484346494750720 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:28:12.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484346494750721 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:28:12.047 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484346494750721 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:28:12.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39484346494750720 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:28:12.048 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39484346494750720 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 200, 2
2023-05-17 01:28:12.048 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484346494750721 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:28:12.048 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484346494750721 [0;39m <==        Row: 3, 1, 2, 1, 1, 玩玩, 2023-05-17 01:25:53, null
2023-05-17 01:28:12.048 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484346494750720 [0;39m <==      Total: 1
2023-05-17 01:28:12.048 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484346494750721 [0;39m <==        Row: 4, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:25:56, null
2023-05-17 01:28:12.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484346494750720 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":200,"voteCount":2}],"success":true}
2023-05-17 01:28:12.048 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484346494750721 [0;39m <==      Total: 4
2023-05-17 01:28:12.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484346494750720 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 01:28:12.049 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:12.049 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:12.049 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:12.050 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:12.050 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m <==      Total: 1
2023-05-17 01:28:12.050 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:12.050 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:12.051 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:12.051 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:12.051 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m <==      Total: 1
2023-05-17 01:28:12.051 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:12.051 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:12.052 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:12.052 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:12.052 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m <==      Total: 1
2023-05-17 01:28:12.053 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:12.053 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:12.053 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:12.054 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:12.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m <==      Total: 1
2023-05-17 01:28:12.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:12.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:12.055 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:12.055 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:12.055 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m <==      Total: 1
2023-05-17 01:28:12.055 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:12.056 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:12.056 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:12.056 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:12.056 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m <==      Total: 1
2023-05-17 01:28:12.057 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:12.057 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:12.057 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:12.057 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484346494750721 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:12.058 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484346494750721 [0;39m <==      Total: 1
2023-05-17 01:28:12.058 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484346494750721 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"玩玩","createTime":1684257953000,"ebookId":2,"id":3,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257956000,"ebookId":2,"id":4,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:28:12.058 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484346494750721 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:28:12.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484346746408960 [0;39m ------------- 开始 -------------
2023-05-17 01:28:12.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484346746408960 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:28:12.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484346746408960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:28:12.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484346746408960 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:28:12.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484346746408960 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:28:12.108 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484346746408960 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:28:12.108 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484346746408960 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:28:12.108 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39484346746408960 [0;39m <==    Columns: id, content
2023-05-17 01:28:12.108 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39484346746408960 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:28:12.108 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484346746408960 [0;39m <==      Total: 1
2023-05-17 01:28:12.108 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484346746408960 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:28:12.108 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484346746408960 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:28:12.118 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484346746408960 [0;39m <==    Updates: 1
2023-05-17 01:28:12.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484346746408960 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:28:12.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484346746408960 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 01:28:13.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484350580002816 [0;39m ------------- 开始 -------------
2023-05-17 01:28:13.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484350580002816 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:28:13.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484350580002816 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:28:13.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484350580002816 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:28:13.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484350580002816 [0;39m 请求参数: [2]
2023-05-17 01:28:13.020 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484350580002816 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:28:13.020 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484350580002816 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:28:13.021 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484350580002816 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:28:13.021 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484350580002816 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:28:13.021 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484350580002816 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:28:13.021 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484350580002816 [0;39m <==        Row: 3, 1, 2, 1, 1, 玩玩, 2023-05-17 01:25:53, null
2023-05-17 01:28:13.023 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484350580002816 [0;39m <==        Row: 4, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:25:56, null
2023-05-17 01:28:13.023 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484350580002816 [0;39m <==      Total: 4
2023-05-17 01:28:13.023 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:13.023 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:13.024 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:13.024 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:13.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m <==      Total: 1
2023-05-17 01:28:13.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:13.024 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:13.025 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:13.025 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:13.025 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m <==      Total: 1
2023-05-17 01:28:13.025 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:13.025 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:13.026 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:13.026 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:13.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m <==      Total: 1
2023-05-17 01:28:13.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:13.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:13.027 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:13.027 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:13.027 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m <==      Total: 1
2023-05-17 01:28:13.027 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:13.028 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:13.028 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:13.028 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:13.028 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m <==      Total: 1
2023-05-17 01:28:13.029 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:13.029 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:13.029 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:13.029 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:13.029 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m <==      Total: 1
2023-05-17 01:28:13.030 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:13.030 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:13.030 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:13.030 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484350580002816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:13.031 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484350580002816 [0;39m <==      Total: 1
2023-05-17 01:28:13.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484350580002816 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"玩玩","createTime":1684257953000,"ebookId":2,"id":3,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257956000,"ebookId":2,"id":4,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:28:13.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484350580002816 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 01:28:19.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:28:21.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:28:33.807 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:28:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39484442808553472 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:28:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484442808553472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:28:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484442808553472 [0;39m ==> Parameters: 
2023-05-17 01:28:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484442808553472 [0;39m <==    Updates: 2
2023-05-17 01:28:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39484442808553472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 01:28:35.691 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39483775306043392 [0;39m 连接关闭，token：seHx1whWCw，session id：1b！当前连接数：0
2023-05-17 01:28:37.293 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39483775402512384 [0;39m 有新连接：token：Z1eLheTPff，session id：1c，当前连接数：1
2023-05-17 01:28:37.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484452870688768 [0;39m ------------- 开始 -------------
2023-05-17 01:28:37.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484452870688768 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:28:37.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484452870688768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:28:37.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484452870688768 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:28:37.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484452870688768 [0;39m 请求参数: [2]
2023-05-17 01:28:37.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484452879077376 [0;39m ------------- 开始 -------------
2023-05-17 01:28:37.409 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484452870688768 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:28:37.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484452879077376 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:28:37.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484452879077376 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:28:37.409 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484452870688768 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:28:37.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484452879077376 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:28:37.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484452879077376 [0;39m 请求参数: [2]
2023-05-17 01:28:37.410 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484452879077376 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:28:37.410 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39484452870688768 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:28:37.410 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39484452870688768 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 201, 2
2023-05-17 01:28:37.410 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484452879077376 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:28:37.410 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484452870688768 [0;39m <==      Total: 1
2023-05-17 01:28:37.411 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484452879077376 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:28:37.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484452870688768 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":201,"voteCount":2}],"success":true}
2023-05-17 01:28:37.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484452870688768 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 01:28:37.411 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484452879077376 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:28:37.411 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484452879077376 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:28:37.411 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484452879077376 [0;39m <==        Row: 3, 1, 2, 1, 1, 玩玩, 2023-05-17 01:25:53, null
2023-05-17 01:28:37.411 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484452879077376 [0;39m <==        Row: 4, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:25:56, null
2023-05-17 01:28:37.412 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484452879077376 [0;39m <==      Total: 4
2023-05-17 01:28:37.412 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:37.412 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:37.412 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:37.413 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:37.413 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m <==      Total: 1
2023-05-17 01:28:37.413 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:37.413 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:37.414 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:37.414 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:37.414 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m <==      Total: 1
2023-05-17 01:28:37.414 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:37.414 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:37.415 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:37.415 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:37.415 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m <==      Total: 1
2023-05-17 01:28:37.415 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:37.415 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:37.416 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:37.416 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:37.416 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m <==      Total: 1
2023-05-17 01:28:37.416 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:37.416 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:37.417 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:37.417 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:37.417 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m <==      Total: 1
2023-05-17 01:28:37.417 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:37.417 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:37.418 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:37.418 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:37.418 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m <==      Total: 1
2023-05-17 01:28:37.418 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:37.419 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:37.419 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:37.419 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484452879077376 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:37.419 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484452879077376 [0;39m <==      Total: 1
2023-05-17 01:28:37.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484452879077376 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"玩玩","createTime":1684257953000,"ebookId":2,"id":3,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257956000,"ebookId":2,"id":4,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:28:37.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484452879077376 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-17 01:28:37.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484453168484352 [0;39m ------------- 开始 -------------
2023-05-17 01:28:37.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484453168484352 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:28:37.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484453168484352 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:28:37.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484453168484352 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:28:37.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484453168484352 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:28:37.481 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484453168484352 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:28:37.482 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484453168484352 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:28:37.482 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39484453168484352 [0;39m <==    Columns: id, content
2023-05-17 01:28:37.482 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39484453168484352 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:28:37.482 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484453168484352 [0;39m <==      Total: 1
2023-05-17 01:28:37.482 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484453168484352 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:28:37.482 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484453168484352 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:28:37.525 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484453168484352 [0;39m <==    Updates: 1
2023-05-17 01:28:37.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484453168484352 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:28:37.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484453168484352 [0;39m ------------- 结束 耗时：47 ms -------------
2023-05-17 01:28:37.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:28:38.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484456838500352 [0;39m ------------- 开始 -------------
2023-05-17 01:28:38.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484456838500352 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:28:38.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484456838500352 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:28:38.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484456838500352 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:28:38.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484456838500352 [0;39m 请求参数: [2]
2023-05-17 01:28:38.355 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484456838500352 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:28:38.355 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484456838500352 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:28:38.356 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484456838500352 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:28:38.356 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484456838500352 [0;39m <==        Row: 1, 1, 2, null, null, 额外企鹅请问, 2023-05-17 01:24:30, null
2023-05-17 01:28:38.356 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484456838500352 [0;39m <==        Row: 2, 1, 2, 1, 1, 二位, 2023-05-17 01:24:32, null
2023-05-17 01:28:38.356 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484456838500352 [0;39m <==        Row: 3, 1, 2, 1, 1, 玩玩, 2023-05-17 01:25:53, null
2023-05-17 01:28:38.357 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484456838500352 [0;39m <==        Row: 4, 1, 2, 1, 1, 嗯嗯, 2023-05-17 01:25:56, null
2023-05-17 01:28:38.357 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484456838500352 [0;39m <==      Total: 4
2023-05-17 01:28:38.357 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:38.357 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:38.358 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:38.358 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:38.358 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m <==      Total: 1
2023-05-17 01:28:38.358 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:38.358 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:38.359 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:38.359 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:38.359 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m <==      Total: 1
2023-05-17 01:28:38.359 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:38.360 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:38.360 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:38.360 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:38.361 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m <==      Total: 1
2023-05-17 01:28:38.361 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:38.361 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:38.362 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:38.362 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:38.362 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m <==      Total: 1
2023-05-17 01:28:38.362 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:38.362 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:38.363 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:38.363 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:38.363 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m <==      Total: 1
2023-05-17 01:28:38.363 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:38.364 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:38.364 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:38.364 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:38.364 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m <==      Total: 1
2023-05-17 01:28:38.365 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:28:38.365 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:28:38.365 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:28:38.365 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484456838500352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:28:38.365 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484456838500352 [0;39m <==      Total: 1
2023-05-17 01:28:38.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484456838500352 [0;39m 返回结果: {"content":[{"content":"额外企鹅请问","createTime":1684257870000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"二位","createTime":1684257872000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"玩玩","createTime":1684257953000,"ebookId":2,"id":3,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"嗯嗯","createTime":1684257956000,"ebookId":2,"id":4,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:28:38.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484456838500352 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:28:43.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:28:45.876 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:28:48.974 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39484346494750720 [0;39m 连接关闭，token：Z1eLheTPff，session id：1c！当前连接数：0
2023-05-17 01:28:50.849 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39484346494750721 [0;39m 有新连接：token：AquogBnts9，session id：1d，当前连接数：1
2023-05-17 01:28:50.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484509690925056 [0;39m ------------- 开始 -------------
2023-05-17 01:28:50.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484509690925056 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:28:50.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484509690925056 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:28:50.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484509690925056 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:28:50.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484509690925056 [0;39m 请求参数: [2]
2023-05-17 01:28:50.956 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484509690925056 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:28:50.956 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484509690925056 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:28:50.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484509703507968 [0;39m ------------- 开始 -------------
2023-05-17 01:28:50.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484509703507968 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:28:50.957 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39484509690925056 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:28:50.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484509703507968 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:28:50.957 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39484509690925056 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 202, 2
2023-05-17 01:28:50.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484509703507968 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:28:50.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484509703507968 [0;39m 请求参数: [2]
2023-05-17 01:28:50.958 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484509690925056 [0;39m <==      Total: 1
2023-05-17 01:28:50.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484509690925056 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":202,"voteCount":2}],"success":true}
2023-05-17 01:28:50.958 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484509703507968 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:28:50.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484509690925056 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 01:28:50.958 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484509703507968 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:28:50.962 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484509703507968 [0;39m <==      Total: 0
2023-05-17 01:28:50.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484509703507968 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 01:28:50.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484509703507968 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-17 01:28:51.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484509950971904 [0;39m ------------- 开始 -------------
2023-05-17 01:28:51.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484509950971904 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:28:51.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484509950971904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:28:51.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484509950971904 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:28:51.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484509950971904 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:28:51.017 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484509950971904 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:28:51.018 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484509950971904 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:28:51.019 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39484509950971904 [0;39m <==    Columns: id, content
2023-05-17 01:28:51.019 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39484509950971904 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:28:51.019 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484509950971904 [0;39m <==      Total: 1
2023-05-17 01:28:51.019 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484509950971904 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:28:51.020 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484509950971904 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:28:51.027 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484509950971904 [0;39m <==    Updates: 1
2023-05-17 01:28:51.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484509950971904 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:28:51.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484509950971904 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 01:29:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39484547687124992 [0;39m 生成今日电子书快照开始
2023-05-17 01:29:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39484547687124992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:29:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39484547687124992 [0;39m ==> Parameters: 
2023-05-17 01:29:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39484547687124992 [0;39m <==    Updates: 0
2023-05-17 01:29:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39484547687124992 [0;39m 生成今日电子书快照结束，耗时：7毫秒
2023-05-17 01:29:03.473 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:29:03.809 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:29:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39484568641867776 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:29:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484568641867776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:29:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484568641867776 [0;39m ==> Parameters: 
2023-05-17 01:29:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484568641867776 [0;39m <==    Updates: 2
2023-05-17 01:29:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39484568641867776 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-17 01:29:05.514 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:29:07.537 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:29:08.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484585339392000 [0;39m ------------- 开始 -------------
2023-05-17 01:29:08.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484585339392000 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:29:08.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484585339392000 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:29:08.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484585339392000 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:29:08.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484585339392000 [0;39m 请求参数: [2]
2023-05-17 01:29:08.992 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484585339392000 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:29:08.992 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484585339392000 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:29:08.993 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39484585339392000 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:29:08.993 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39484585339392000 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 203, 2
2023-05-17 01:29:08.993 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484585339392000 [0;39m <==      Total: 1
2023-05-17 01:29:08.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484585339392000 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":203,"voteCount":2}],"success":true}
2023-05-17 01:29:08.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484585339392000 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 01:29:08.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484585360363520 [0;39m ------------- 开始 -------------
2023-05-17 01:29:08.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484585360363520 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:29:08.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484585360363520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:29:08.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484585360363520 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:29:08.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484585360363520 [0;39m 请求参数: [2]
2023-05-17 01:29:08.996 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484585360363520 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:29:08.996 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484585360363520 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:29:08.997 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484585360363520 [0;39m <==      Total: 0
2023-05-17 01:29:08.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484585360363520 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 01:29:08.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484585360363520 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-17 01:29:09.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484585880457216 [0;39m ------------- 开始 -------------
2023-05-17 01:29:09.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484585880457216 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:29:09.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484585880457216 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:29:09.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484585880457216 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:29:09.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484585880457216 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:29:09.119 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484585880457216 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:29:09.119 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484585880457216 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:29:09.123 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39484585880457216 [0;39m <==    Columns: id, content
2023-05-17 01:29:09.123 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39484585880457216 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:29:09.123 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484585880457216 [0;39m <==      Total: 1
2023-05-17 01:29:09.123 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484585880457216 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:29:09.124 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484585880457216 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:29:09.133 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484585880457216 [0;39m <==    Updates: 1
2023-05-17 01:29:09.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484585880457216 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:29:09.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484585880457216 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-17 01:29:09.569 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:29:11.607 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:29:33.501 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:29:33.827 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:29:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39484694445821952 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:29:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484694445821952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:29:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484694445821952 [0;39m ==> Parameters: 
2023-05-17 01:29:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484694445821952 [0;39m <==    Updates: 2
2023-05-17 01:29:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39484694445821952 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-17 01:29:39.609 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:29:50.041 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39484453168484352 [0;39m 连接关闭，token：AquogBnts9，session id：1d！当前连接数：0
2023-05-17 01:29:51.634 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39484456838500352 [0;39m 有新连接：token：WYgTNJQpAO，session id：1e，当前连接数：1
2023-05-17 01:29:51.737 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484764633305088 [0;39m ------------- 开始 -------------
2023-05-17 01:29:51.737 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484764633305089 [0;39m ------------- 开始 -------------
2023-05-17 01:29:51.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484764633305088 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:29:51.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484764633305089 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 01:29:51.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484764633305088 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:29:51.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484764633305089 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 01:29:51.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484764633305088 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:29:51.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484764633305089 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:29:51.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484764633305088 [0;39m 请求参数: [2]
2023-05-17 01:29:51.738 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484764633305089 [0;39m 请求参数: [2]
2023-05-17 01:29:51.739 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484764633305088 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:29:51.739 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484764633305088 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:29:51.739 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484764633305089 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 01:29:51.739 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484764633305089 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:29:51.740 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484764633305088 [0;39m <==      Total: 0
2023-05-17 01:29:51.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484764633305088 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 01:29:51.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484764633305088 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-17 01:29:51.740 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39484764633305089 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 01:29:51.740 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39484764633305089 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 204, 2
2023-05-17 01:29:51.740 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39484764633305089 [0;39m <==      Total: 1
2023-05-17 01:29:51.741 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484764633305089 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":204,"voteCount":2}],"success":true}
2023-05-17 01:29:51.741 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484764633305089 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 01:29:51.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484764880769024 [0;39m ------------- 开始 -------------
2023-05-17 01:29:51.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484764880769024 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 01:29:51.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484764880769024 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 01:29:51.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484764880769024 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:29:51.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484764880769024 [0;39m 请求参数: [38625501966897152]
2023-05-17 01:29:51.798 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484764880769024 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 01:29:51.798 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484764880769024 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:29:51.799 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39484764880769024 [0;39m <==    Columns: id, content
2023-05-17 01:29:51.799 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39484764880769024 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 01:29:51.799 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39484764880769024 [0;39m <==      Total: 1
2023-05-17 01:29:51.799 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484764880769024 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 01:29:51.799 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484764880769024 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 01:29:51.808 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39484764880769024 [0;39m <==    Updates: 1
2023-05-17 01:29:51.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484764880769024 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 01:29:51.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484764880769024 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:29:53.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484770698268672 [0;39m ------------- 开始 -------------
2023-05-17 01:29:53.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484770698268672 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:29:53.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484770698268672 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:29:53.184 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484770698268672 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:29:53.184 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484770698268672 [0;39m 请求参数: [2]
2023-05-17 01:29:53.184 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484770698268672 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:29:53.184 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484770698268672 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:29:53.185 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484770698268672 [0;39m <==      Total: 0
2023-05-17 01:29:53.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484770698268672 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 01:29:53.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484770698268672 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-17 01:29:55.620 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39484509950971904 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:29:55.620 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39484509950971904 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-17 01:29:55.621 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39484509950971904 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:29:55.622 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39484509950971904 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:29:55.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484780932370432 [0;39m ------------- 开始 -------------
2023-05-17 01:29:55.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484780932370432 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-17 01:29:55.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484780932370432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-17 01:29:55.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484780932370432 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:29:55.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484780932370432 [0;39m 请求参数: [{"content":"天天","ebookId":2,"userId":1}]
2023-05-17 01:29:55.624 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484780932370432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:55.625 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484780932370432 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:55.625 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484780932370432 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:55.625 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484780932370432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:55.626 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484780932370432 [0;39m <==      Total: 1
2023-05-17 01:29:55.626 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39484780932370432 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-17 01:29:55.626 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39484780932370432 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:29:55.627 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39484780932370432 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 01:29:55.627 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39484780932370432 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 204, 2
2023-05-17 01:29:55.627 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39484780932370432 [0;39m <==      Total: 1
2023-05-17 01:29:55.627 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39484780932370432 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:29:55.629 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39484780932370432 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, 天天(String), 2023-05-17 01:29:55.627(Timestamp), null
2023-05-17 01:29:55.635 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39484780932370432 [0;39m <==    Updates: 1
2023-05-17 01:29:55.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484780932370432 [0;39m 返回结果: {"success":true}
2023-05-17 01:29:55.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484780932370432 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-17 01:29:55.637 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39484780932370432 [0;39m ------------- LoginInterceptor 结束 耗时：17 ms -------------
2023-05-17 01:29:55.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484781037228032 [0;39m ------------- 开始 -------------
2023-05-17 01:29:55.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484781037228032 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:29:55.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484781037228032 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:29:55.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484781037228032 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:29:55.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484781037228032 [0;39m 请求参数: [2]
2023-05-17 01:29:55.650 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484781037228032 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:29:55.650 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484781037228032 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:29:55.650 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484781037228032 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:29:55.650 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484781037228032 [0;39m <==        Row: 1, 1, 2, null, null, 天天, 2023-05-17 01:29:56, null
2023-05-17 01:29:55.651 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484781037228032 [0;39m <==      Total: 1
2023-05-17 01:29:55.651 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484781037228032 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:55.651 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484781037228032 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:55.652 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484781037228032 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:55.652 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484781037228032 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:55.652 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484781037228032 [0;39m <==      Total: 1
2023-05-17 01:29:55.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484781037228032 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684258196000,"ebookId":2,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-17 01:29:55.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484781037228032 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-17 01:29:57.242 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39484585360363520 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:29:57.242 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39484585360363520 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:29:57.243 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39484585360363520 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:29:57.244 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39484585360363520 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:29:57.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484787735531520 [0;39m ------------- 开始 -------------
2023-05-17 01:29:57.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484787735531520 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:29:57.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484787735531520 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:29:57.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484787735531520 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:29:57.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484787735531520 [0;39m 请求参数: [{"content":"天天","ebookId":2,"parentId":1,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:29:57.247 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787735531520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:57.247 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787735531520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:57.247 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484787735531520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:57.248 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484787735531520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:57.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787735531520 [0;39m <==      Total: 1
2023-05-17 01:29:57.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787735531520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:57.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787735531520 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:57.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484787735531520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:57.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484787735531520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:57.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787735531520 [0;39m <==      Total: 1
2023-05-17 01:29:57.249 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39484787735531520 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:29:57.250 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39484787735531520 [0;39m ==> Parameters: 1(Long), 2(Long), 1(Long), 1(Long), 天天(String), 2023-05-17 01:29:57.249(Timestamp), null
2023-05-17 01:29:57.252 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39484787735531520 [0;39m <==    Updates: 1
2023-05-17 01:29:57.252 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39484787735531520 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:29:57.252 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39484787735531520 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:29:57.253 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39484787735531520 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:29:57.254 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39484787735531520 [0;39m <==        Row: 2, 1, 2, 1, 1, 天天, 2023-05-17 01:29:57, null
2023-05-17 01:29:57.254 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39484787735531520 [0;39m <==      Total: 1
2023-05-17 01:29:57.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484787735531520 [0;39m 返回结果: {"content":{"content":"天天","createTime":1684258197000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:29:57.254 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484787735531520 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-17 01:29:57.255 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39484787735531520 [0;39m ------------- LoginInterceptor 结束 耗时：13 ms -------------
2023-05-17 01:29:57.263 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484787811028992 [0;39m ------------- 开始 -------------
2023-05-17 01:29:57.263 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484787811028992 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:29:57.264 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484787811028992 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:29:57.264 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484787811028992 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:29:57.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484787811028992 [0;39m 请求参数: [2]
2023-05-17 01:29:57.265 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484787811028992 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:29:57.266 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484787811028992 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:29:57.266 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484787811028992 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:29:57.266 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484787811028992 [0;39m <==        Row: 1, 1, 2, null, null, 天天, 2023-05-17 01:29:56, null
2023-05-17 01:29:57.267 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484787811028992 [0;39m <==        Row: 2, 1, 2, 1, 1, 天天, 2023-05-17 01:29:57, null
2023-05-17 01:29:57.267 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484787811028992 [0;39m <==      Total: 2
2023-05-17 01:29:57.267 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787811028992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:57.267 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787811028992 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:57.268 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484787811028992 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:57.268 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484787811028992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:57.268 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787811028992 [0;39m <==      Total: 1
2023-05-17 01:29:57.268 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787811028992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:57.268 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787811028992 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:57.269 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484787811028992 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:57.269 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484787811028992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:57.269 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787811028992 [0;39m <==      Total: 1
2023-05-17 01:29:57.269 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787811028992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:57.269 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787811028992 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:57.270 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484787811028992 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:57.270 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484787811028992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:57.270 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484787811028992 [0;39m <==      Total: 1
2023-05-17 01:29:57.270 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484787811028992 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684258196000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"天天","createTime":1684258197000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:29:57.270 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484787811028992 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-17 01:29:59.897 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39484453168484352 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:29:59.897 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39484453168484352 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:29:59.897 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39484453168484352 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:29:59.899 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39484453168484352 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:29:59.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484798871408640 [0;39m ------------- 开始 -------------
2023-05-17 01:29:59.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484798871408640 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:29:59.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484798871408640 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:29:59.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484798871408640 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:29:59.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484798871408640 [0;39m 请求参数: [{"content":"天天","ebookId":2,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:29:59.902 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798871408640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:59.902 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798871408640 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:59.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798871408640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:59.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798871408640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:59.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798871408640 [0;39m <==      Total: 1
2023-05-17 01:29:59.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798871408640 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:59.904 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798871408640 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:59.904 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798871408640 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:59.904 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798871408640 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:59.904 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798871408640 [0;39m <==      Total: 1
2023-05-17 01:29:59.904 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39484798871408640 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:29:59.905 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39484798871408640 [0;39m ==> Parameters: 1(Long), 2(Long), 2(Long), 1(Long), 天天(String), 2023-05-17 01:29:59.904(Timestamp), null
2023-05-17 01:29:59.912 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39484798871408640 [0;39m <==    Updates: 1
2023-05-17 01:29:59.913 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39484798871408640 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:29:59.914 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39484798871408640 [0;39m ==> Parameters: 3(Long)
2023-05-17 01:29:59.914 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39484798871408640 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:29:59.915 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39484798871408640 [0;39m <==        Row: 3, 1, 2, 2, 1, 天天, 2023-05-17 01:30:00, null
2023-05-17 01:29:59.915 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39484798871408640 [0;39m <==      Total: 1
2023-05-17 01:29:59.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484798871408640 [0;39m 返回结果: {"content":{"content":"天天","createTime":1684258200000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:29:59.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484798871408640 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 01:29:59.916 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39484798871408640 [0;39m ------------- LoginInterceptor 结束 耗时：19 ms -------------
2023-05-17 01:29:59.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484798972071936 [0;39m ------------- 开始 -------------
2023-05-17 01:29:59.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484798972071936 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:29:59.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484798972071936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:29:59.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484798972071936 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:29:59.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484798972071936 [0;39m 请求参数: [2]
2023-05-17 01:29:59.926 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484798972071936 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:29:59.926 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484798972071936 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:29:59.926 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484798972071936 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:29:59.927 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484798972071936 [0;39m <==        Row: 1, 1, 2, null, null, 天天, 2023-05-17 01:29:56, null
2023-05-17 01:29:59.927 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484798972071936 [0;39m <==        Row: 2, 1, 2, 1, 1, 天天, 2023-05-17 01:29:57, null
2023-05-17 01:29:59.927 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484798972071936 [0;39m <==        Row: 3, 1, 2, 2, 1, 天天, 2023-05-17 01:30:00, null
2023-05-17 01:29:59.927 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484798972071936 [0;39m <==      Total: 3
2023-05-17 01:29:59.928 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:59.928 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:59.928 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798972071936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:59.929 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798972071936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:59.929 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m <==      Total: 1
2023-05-17 01:29:59.929 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:59.929 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:59.930 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798972071936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:59.930 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798972071936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:59.930 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m <==      Total: 1
2023-05-17 01:29:59.930 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:59.930 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:59.931 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798972071936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:59.931 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798972071936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:59.931 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m <==      Total: 1
2023-05-17 01:29:59.931 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:59.931 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:59.932 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798972071936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:59.932 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798972071936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:59.932 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m <==      Total: 1
2023-05-17 01:29:59.932 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:29:59.933 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:29:59.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798972071936 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:29:59.933 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484798972071936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:29:59.934 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484798972071936 [0;39m <==      Total: 1
2023-05-17 01:29:59.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484798972071936 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684258196000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"天天","createTime":1684258197000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"天天","createTime":1684258200000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:29:59.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484798972071936 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-17 01:30:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39484799316004864 [0;39m 生成今日电子书快照开始
2023-05-17 01:30:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39484799316004864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:30:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39484799316004864 [0;39m ==> Parameters: 
2023-05-17 01:30:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39484799316004864 [0;39m <==    Updates: 0
2023-05-17 01:30:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39484799316004864 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 01:30:01.643 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:30:03.668 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:30:03.786 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:30:04.083 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39484764633305088 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:30:04.083 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39484764633305088 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:30:04.084 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39484764633305088 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:30:04.085 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39484764633305088 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:30:04.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484816428765184 [0;39m ------------- 开始 -------------
2023-05-17 01:30:04.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484816428765184 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:30:04.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484816428765184 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:30:04.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484816428765184 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:30:04.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484816428765184 [0;39m 请求参数: [{"content":"天天","ebookId":2,"parentId":2,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:30:04.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816428765184 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:04.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816428765184 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:04.089 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816428765184 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:04.089 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816428765184 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:04.089 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816428765184 [0;39m <==      Total: 1
2023-05-17 01:30:04.089 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816428765184 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:04.089 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816428765184 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:04.090 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816428765184 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:04.090 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816428765184 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:04.090 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816428765184 [0;39m <==      Total: 1
2023-05-17 01:30:04.091 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39484816428765184 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:30:04.091 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39484816428765184 [0;39m ==> Parameters: 1(Long), 2(Long), 2(Long), 1(Long), 天天(String), 2023-05-17 01:30:04.09(Timestamp), null
2023-05-17 01:30:04.092 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39484816428765184 [0;39m <==    Updates: 1
2023-05-17 01:30:04.093 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39484816428765184 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:30:04.093 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39484816428765184 [0;39m ==> Parameters: 4(Long)
2023-05-17 01:30:04.094 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39484816428765184 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:30:04.094 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39484816428765184 [0;39m <==        Row: 4, 1, 2, 2, 1, 天天, 2023-05-17 01:30:04, null
2023-05-17 01:30:04.094 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39484816428765184 [0;39m <==      Total: 1
2023-05-17 01:30:04.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484816428765184 [0;39m 返回结果: {"content":{"content":"天天","createTime":1684258204000,"ebookId":2,"id":4,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:30:04.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484816428765184 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-17 01:30:04.095 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39484816428765184 [0;39m ------------- LoginInterceptor 结束 耗时：12 ms -------------
2023-05-17 01:30:04.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484816504262656 [0;39m ------------- 开始 -------------
2023-05-17 01:30:04.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484816504262656 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:30:04.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484816504262656 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:30:04.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484816504262656 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:30:04.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484816504262656 [0;39m 请求参数: [2]
2023-05-17 01:30:04.106 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484816504262656 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:30:04.106 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484816504262656 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:30:04.108 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484816504262656 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:30:04.108 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484816504262656 [0;39m <==        Row: 1, 1, 2, null, null, 天天, 2023-05-17 01:29:56, null
2023-05-17 01:30:04.108 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484816504262656 [0;39m <==        Row: 2, 1, 2, 1, 1, 天天, 2023-05-17 01:29:57, null
2023-05-17 01:30:04.108 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484816504262656 [0;39m <==        Row: 3, 1, 2, 2, 1, 天天, 2023-05-17 01:30:00, null
2023-05-17 01:30:04.108 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484816504262656 [0;39m <==        Row: 4, 1, 2, 2, 1, 天天, 2023-05-17 01:30:04, null
2023-05-17 01:30:04.108 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484816504262656 [0;39m <==      Total: 4
2023-05-17 01:30:04.109 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:04.109 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:04.109 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:04.109 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:04.111 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m <==      Total: 1
2023-05-17 01:30:04.111 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:04.111 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:04.112 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:04.112 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:04.112 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m <==      Total: 1
2023-05-17 01:30:04.112 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:04.112 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:04.113 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:04.113 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:04.113 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m <==      Total: 1
2023-05-17 01:30:04.113 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:04.113 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:04.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:04.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:04.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m <==      Total: 1
2023-05-17 01:30:04.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:04.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:04.115 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:04.115 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:04.115 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m <==      Total: 1
2023-05-17 01:30:04.115 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:04.115 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:04.116 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:04.116 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:04.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m <==      Total: 1
2023-05-17 01:30:04.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:04.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:04.116 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:04.116 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484816504262656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:04.117 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484816504262656 [0;39m <==      Total: 1
2023-05-17 01:30:04.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484816504262656 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684258196000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"天天","createTime":1684258197000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"天天","createTime":1684258200000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"天天","createTime":1684258204000,"ebookId":2,"id":4,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:30:04.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484816504262656 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-17 01:30:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39484820274941952 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:30:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484820274941952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:30:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484820274941952 [0;39m ==> Parameters: 
2023-05-17 01:30:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484820274941952 [0;39m <==    Updates: 2
2023-05-17 01:30:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39484820274941952 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-17 01:30:05.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:30:07.726 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:30:09.560 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39484764880769024 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 01:30:09.560 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39484764880769024 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-17 01:30:09.560 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39484764880769024 [0;39m 登录校验开始，token：39477033427931136
2023-05-17 01:30:09.563 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39484764880769024 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39477033427931136"}
2023-05-17 01:30:09.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484839405162496 [0;39m ------------- 开始 -------------
2023-05-17 01:30:09.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484839405162496 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-17 01:30:09.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484839405162496 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-17 01:30:09.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484839405162496 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:30:09.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484839405162496 [0;39m 请求参数: [{"content":"天天","ebookId":2,"parentId":1,"replies":[],"replytouserId":1,"userId":1}]
2023-05-17 01:30:09.567 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839405162496 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:09.568 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839405162496 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:09.568 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839405162496 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:09.569 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839405162496 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:09.569 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839405162496 [0;39m <==      Total: 1
2023-05-17 01:30:09.569 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839405162496 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:09.569 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839405162496 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:09.570 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839405162496 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:09.570 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839405162496 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:09.570 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839405162496 [0;39m <==      Total: 1
2023-05-17 01:30:09.570 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39484839405162496 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-17 01:30:09.571 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39484839405162496 [0;39m ==> Parameters: 1(Long), 2(Long), 1(Long), 1(Long), 天天(String), 2023-05-17 01:30:09.57(Timestamp), null
2023-05-17 01:30:09.577 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39484839405162496 [0;39m <==    Updates: 1
2023-05-17 01:30:09.578 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39484839405162496 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-17 01:30:09.579 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39484839405162496 [0;39m ==> Parameters: 5(Long)
2023-05-17 01:30:09.579 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39484839405162496 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:30:09.580 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39484839405162496 [0;39m <==        Row: 5, 1, 2, 1, 1, 天天, 2023-05-17 01:30:10, null
2023-05-17 01:30:09.580 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39484839405162496 [0;39m <==      Total: 1
2023-05-17 01:30:09.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484839405162496 [0;39m 返回结果: {"content":{"content":"天天","createTime":1684258210000,"ebookId":2,"id":5,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-17 01:30:09.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484839405162496 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-17 01:30:09.581 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39484839405162496 [0;39m ------------- LoginInterceptor 结束 耗时：21 ms -------------
2023-05-17 01:30:09.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39484839514214400 [0;39m ------------- 开始 -------------
2023-05-17 01:30:09.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39484839514214400 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 01:30:09.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39484839514214400 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 01:30:09.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39484839514214400 [0;39m 远程地址: 127.0.0.1
2023-05-17 01:30:09.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39484839514214400 [0;39m 请求参数: [2]
2023-05-17 01:30:09.590 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484839514214400 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 01:30:09.592 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484839514214400 [0;39m ==> Parameters: 2(Long)
2023-05-17 01:30:09.592 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484839514214400 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-17 01:30:09.592 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484839514214400 [0;39m <==        Row: 1, 1, 2, null, null, 天天, 2023-05-17 01:29:56, null
2023-05-17 01:30:09.592 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484839514214400 [0;39m <==        Row: 2, 1, 2, 1, 1, 天天, 2023-05-17 01:29:57, null
2023-05-17 01:30:09.592 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484839514214400 [0;39m <==        Row: 3, 1, 2, 2, 1, 天天, 2023-05-17 01:30:00, null
2023-05-17 01:30:09.593 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484839514214400 [0;39m <==        Row: 4, 1, 2, 2, 1, 天天, 2023-05-17 01:30:04, null
2023-05-17 01:30:09.593 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39484839514214400 [0;39m <==        Row: 5, 1, 2, 1, 1, 天天, 2023-05-17 01:30:10, null
2023-05-17 01:30:09.593 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39484839514214400 [0;39m <==      Total: 5
2023-05-17 01:30:09.593 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:09.594 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:09.594 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:09.594 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:09.594 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m <==      Total: 1
2023-05-17 01:30:09.594 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:09.595 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:09.595 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:09.595 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:09.595 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m <==      Total: 1
2023-05-17 01:30:09.595 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:09.596 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:09.596 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:09.596 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:09.596 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m <==      Total: 1
2023-05-17 01:30:09.596 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:09.596 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:09.597 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:09.597 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:09.597 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m <==      Total: 1
2023-05-17 01:30:09.597 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:09.597 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:09.598 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:09.598 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:09.598 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m <==      Total: 1
2023-05-17 01:30:09.598 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:09.598 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:09.598 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:09.599 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:09.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m <==      Total: 1
2023-05-17 01:30:09.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:09.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:09.600 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:09.600 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:09.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m <==      Total: 1
2023-05-17 01:30:09.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:09.600 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:09.601 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:09.601 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:09.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m <==      Total: 1
2023-05-17 01:30:09.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-17 01:30:09.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m ==> Parameters: 1(Long)
2023-05-17 01:30:09.602 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 01:30:09.602 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39484839514214400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 01:30:09.602 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39484839514214400 [0;39m <==      Total: 1
2023-05-17 01:30:09.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39484839514214400 [0;39m 返回结果: {"content":[{"content":"天天","createTime":1684258196000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"天天","createTime":1684258197000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[{"content":"天天","createTime":1684258200000,"ebookId":2,"id":3,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1},{"content":"天天","createTime":1684258204000,"ebookId":2,"id":4,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1},{"content":"天天","createTime":1684258210000,"ebookId":2,"id":5,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-17 01:30:09.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39484839514214400 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-17 01:30:26.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:30:28.736 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:30:33.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:30:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39484946158587904 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:30:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484946158587904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:30:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484946158587904 [0;39m ==> Parameters: 
2023-05-17 01:30:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39484946158587904 [0;39m <==    Updates: 2
2023-05-17 01:30:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39484946158587904 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 01:30:35.536 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:30:37.555 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:30:52.801 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:31:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39485050995216384 [0;39m 生成今日电子书快照开始
2023-05-17 01:31:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39485050995216384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:31:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39485050995216384 [0;39m ==> Parameters: 
2023-05-17 01:31:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39485050995216384 [0;39m <==    Updates: 0
2023-05-17 01:31:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39485050995216384 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-17 01:31:03.482 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:31:03.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:31:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39485071928987648 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:31:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485071928987648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:31:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485071928987648 [0;39m ==> Parameters: 
2023-05-17 01:31:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485071928987648 [0;39m <==    Updates: 2
2023-05-17 01:31:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39485071928987648 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:31:07.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:31:14.851 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:31:16.884 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:31:33.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:31:33.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:31:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39485197779079168 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:31:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485197779079168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:31:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485197779079168 [0;39m ==> Parameters: 
2023-05-17 01:31:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485197779079168 [0;39m <==    Updates: 2
2023-05-17 01:31:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39485197779079168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 01:31:35.500 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:31:37.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:31:39.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:31:41.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:32:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39485302640873472 [0;39m 生成今日电子书快照开始
2023-05-17 01:32:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39485302640873472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:32:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39485302640873472 [0;39m ==> Parameters: 
2023-05-17 01:32:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39485302640873472 [0;39m <==    Updates: 0
2023-05-17 01:32:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39485302640873472 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-17 01:32:03.488 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:32:03.797 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:32:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39485323599810560 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:32:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485323599810560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:32:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485323599810560 [0;39m ==> Parameters: 
2023-05-17 01:32:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485323599810560 [0;39m <==    Updates: 2
2023-05-17 01:32:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39485323599810560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-17 01:32:07.577 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:32:09.608 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:32:29.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:32:31.648 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:32:33.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:32:33.807 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:32:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39485449441513472 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:32:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485449441513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:32:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485449441513472 [0;39m ==> Parameters: 
2023-05-17 01:32:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485449441513472 [0;39m <==    Updates: 2
2023-05-17 01:32:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39485449441513472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-17 01:32:35.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:32:37.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:32:53.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:32:55.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:33:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39485554324279296 [0;39m 生成今日电子书快照开始
2023-05-17 01:33:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39485554324279296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 01:33:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39485554324279296 [0;39m ==> Parameters: 
2023-05-17 01:33:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39485554324279296 [0;39m <==    Updates: 0
2023-05-17 01:33:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39485554324279296 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-17 01:33:03.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:33:03.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 01:33:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39485575258050560 [0;39m 更新电子书下的文档数据开始
2023-05-17 01:33:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485575258050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 01:33:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485575258050560 [0;39m ==> Parameters: 
2023-05-17 01:33:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39485575258050560 [0;39m <==    Updates: 2
2023-05-17 01:33:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39485575258050560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-17 01:33:07.530 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:27:55.573 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 19796 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 21:27:55.576 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 21:27:55.582 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 21:27:55.634 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 21:27:55.636 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 21:27:56.407 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 21:27:56.408 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 21:27:56.435 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2023-05-17 21:27:56.658 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$a0374d08] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:56.669 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.074 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.076 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$4271c209] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.077 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.078 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.080 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.081 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.083 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.085 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.085 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.096 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.096 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.098 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.101 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:57.113 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:58.010 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:58.011 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:27:58.427 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 21:27:58.436 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 21:27:58.437 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 21:27:58.438 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 21:27:58.519 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 21:27:58.520 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2882 ms
2023-05-17 21:27:59.171 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 21:27:59.512 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 21:27:59.555 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 21:28:00.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:28:00.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:28:02.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:28:04.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:28:04.259 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 21:28:04.259 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 21:28:04.278 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 21:28:04.288 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 21:28:04.300 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 9.104 seconds (JVM running for 10.102)
2023-05-17 21:28:04.302 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 21:28:04.304 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 21:28:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39786306859044864 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:28:05.038 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39786306859044864 [0;39m HikariPool-1 - Starting...
2023-05-17 21:28:06.003 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39786306859044864 [0;39m HikariPool-1 - Start completed.
2023-05-17 21:28:06.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786306859044864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:28:06.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786306859044864 [0;39m ==> Parameters: 
2023-05-17 21:28:06.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786306859044864 [0;39m <==    Updates: 2
2023-05-17 21:28:06.096 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39786306859044864 [0;39m 更新电子书下的文档数据结束，耗时：1090毫秒
2023-05-17 21:28:06.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:28:08.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:28:30.046 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:28:33.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:28:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39786432667193344 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:28:35.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786432667193344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:28:35.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786432667193344 [0;39m ==> Parameters: 
2023-05-17 21:28:35.106 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786432667193344 [0;39m <==    Updates: 2
2023-05-17 21:28:35.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39786432667193344 [0;39m 更新电子书下的文档数据结束，耗时：106毫秒
2023-05-17 21:28:35.755 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:28:50.775 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 21:28:50.776 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 21:28:50.777 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-17 21:28:50.842 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：BK4hytKMeQ，session id：0，当前连接数：1
2023-05-17 21:28:50.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786499125940226 [0;39m ------------- 开始 -------------
2023-05-17 21:28:50.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786499125940224 [0;39m ------------- 开始 -------------
2023-05-17 21:28:50.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786499125940225 [0;39m ------------- 开始 -------------
2023-05-17 21:28:50.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786499125940224 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 21:28:50.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786499125940226 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:28:50.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786499125940225 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 21:28:50.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786499125940226 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:28:50.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786499125940225 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 21:28:50.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786499125940224 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 21:28:50.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786499125940225 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:28:50.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786499125940224 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:28:50.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786499125940226 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:28:50.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786499125940226 [0;39m 请求参数: []
2023-05-17 21:28:50.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786499125940224 [0;39m 请求参数: []
2023-05-17 21:28:50.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786499125940225 [0;39m 请求参数: []
2023-05-17 21:28:51.054 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39786499125940224 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:28:51.054 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39786499125940225 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:28:51.056 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39786499125940225 [0;39m ==> Parameters: 
2023-05-17 21:28:51.056 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39786499125940224 [0;39m ==> Parameters: 
2023-05-17 21:28:51.103 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786499125940224 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 21:28:51.103 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39786499125940225 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 21:28:51.104 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786499125940226 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:28:51.104 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786499125940226 [0;39m ==> Parameters: 
2023-05-17 21:28:51.104 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786499125940224 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 21:28:51.104 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39786499125940225 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 21:28:51.106 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786499125940224 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 21:28:51.107 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39786499125940225 [0;39m <==        Row: 2023-05-17, 666, 17, 71, 1
2023-05-17 21:28:51.107 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39786499125940225 [0;39m <==      Total: 2
2023-05-17 21:28:51.107 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786499125940224 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 21:28:51.107 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786499125940224 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 21:28:51.108 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786499125940224 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 21:28:51.108 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786499125940224 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 21:28:51.108 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786499125940224 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 21:28:51.108 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786499125940224 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 21:28:51.110 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39786499125940224 [0;39m <==      Total: 8
2023-05-17 21:28:51.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786499125940225 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":666,"viewIncrease":71,"voteCount":17,"voteIncrease":1}],"success":true}
2023-05-17 21:28:51.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786499125940224 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 21:28:51.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786499125940225 [0;39m ------------- 结束 耗时：283 ms -------------
2023-05-17 21:28:51.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786499125940224 [0;39m ------------- 结束 耗时：283 ms -------------
2023-05-17 21:28:51.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:28:51.139 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:28:51.139 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:28:51.140 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:28:51.140 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:28:51.140 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:28:51.140 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:28:51.142 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:28:51.142 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:28:51.142 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:28:51.143 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:28:51.143 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:28:51.143 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:28:51.143 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:28:51.144 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:28:51.144 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786499125940226 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:28:51.144 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786499125940226 [0;39m <==      Total: 15
2023-05-17 21:28:51.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786499125940226 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:28:51.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786499125940226 [0;39m ------------- 结束 耗时：306 ms -------------
2023-05-17 21:28:57.815 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:28:59.857 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:29:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39786537562542080 [0;39m 生成今日电子书快照开始
2023-05-17 21:29:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39786537562542080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:29:00.045 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39786537562542080 [0;39m ==> Parameters: 
2023-05-17 21:29:00.073 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:29:00.112 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39786537562542080 [0;39m <==    Updates: 0
2023-05-17 21:29:00.113 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39786537562542080 [0;39m 生成今日电子书快照结束，耗时：103毫秒
2023-05-17 21:29:01.895 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:29:03.936 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:29:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39786558517284864 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:29:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786558517284864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:29:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786558517284864 [0;39m ==> Parameters: 
2023-05-17 21:29:05.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786558517284864 [0;39m <==    Updates: 2
2023-05-17 21:29:05.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39786558517284864 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 21:29:05.985 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:29:21.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:29:23.958 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:29:29.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:29:30.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:29:31.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:29:33.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:29:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39786684354793472 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:29:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786684354793472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:29:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786684354793472 [0;39m ==> Parameters: 
2023-05-17 21:29:35.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786684354793472 [0;39m <==    Updates: 2
2023-05-17 21:29:35.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39786684354793472 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 21:29:46.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:29:48.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:29:53.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786760162643968 [0;39m ------------- 开始 -------------
2023-05-17 21:29:53.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786760162643968 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-17 21:29:53.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786760162643968 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-17 21:29:53.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786760162643968 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:29:53.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786760162643968 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-17 21:29:53.132 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39786760162643968 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-17 21:29:53.132 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39786760162643968 [0;39m ==> Parameters: test(String)
2023-05-17 21:29:53.168 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39786760162643968 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 21:29:53.168 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39786760162643968 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 21:29:53.168 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39786760162643968 [0;39m <==      Total: 1
2023-05-17 21:29:53.172 INFO  com.jiawa.wiki.controller.UserController          :86   [32m39786760162643968 [0;39m 生成单点登录token：39786760540131328，并放入redis中
2023-05-17 21:29:53.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786760162643968 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"39786760540131328"},"success":true}
2023-05-17 21:29:53.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786760162643968 [0;39m ------------- 结束 耗时：327 ms -------------
2023-05-17 21:29:54.887 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:29:54.887 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 21:29:54.903 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:29:54.903 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-17 21:29:54.903 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39786760540131328
2023-05-17 21:29:54.939 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39786760540131328"}
2023-05-17 21:29:54.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786768060518400 [0;39m ------------- 开始 -------------
2023-05-17 21:29:54.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786768060518400 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-17 21:29:54.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786768060518400 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-17 21:29:54.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786768060518400 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:29:54.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786768060518400 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:29:55.019 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39786768060518400 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-17 21:29:55.019 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39786768060518400 [0;39m ==> Parameters: 
2023-05-17 21:29:55.067 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39786768060518400 [0;39m <==    Columns: count(0)
2023-05-17 21:29:55.067 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39786768060518400 [0;39m <==        Row: 2
2023-05-17 21:29:55.067 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39786768060518400 [0;39m <==      Total: 1
2023-05-17 21:29:55.072 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39786768060518400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-17 21:29:55.072 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39786768060518400 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:29:55.099 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39786768060518400 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 21:29:55.099 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39786768060518400 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 21:29:55.099 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39786768060518400 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-17 21:29:55.099 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39786768060518400 [0;39m <==      Total: 2
2023-05-17 21:29:55.108 INFO  com.jiawa.wiki.service.UserService                :50   [32m39786768060518400 [0;39m 总行数：2
2023-05-17 21:29:55.108 INFO  com.jiawa.wiki.service.UserService                :51   [32m39786768060518400 [0;39m 总页数：1
2023-05-17 21:29:55.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786768060518400 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-17 21:29:55.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786768060518400 [0;39m ------------- 结束 耗时：144 ms -------------
2023-05-17 21:29:55.109 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39786768060518400 [0;39m ------------- LoginInterceptor 结束 耗时：206 ms -------------
2023-05-17 21:29:56.135 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786772967854080 [0;39m ------------- 开始 -------------
2023-05-17 21:29:56.135 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786772967854080 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:29:56.135 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786772967854080 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:29:56.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786772967854080 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:29:56.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786772967854080 [0;39m 请求参数: []
2023-05-17 21:29:56.165 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786772967854080 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:29:56.165 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786772967854080 [0;39m ==> Parameters: 
2023-05-17 21:29:56.200 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:29:56.200 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:29:56.207 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:29:56.207 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:29:56.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:29:56.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:29:56.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:29:56.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:29:56.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:29:56.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:29:56.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:29:56.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:29:56.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:29:56.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:29:56.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:29:56.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786772967854080 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:29:56.208 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786772967854080 [0;39m <==      Total: 15
2023-05-17 21:29:56.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786772967854080 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:29:56.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786772967854080 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-17 21:29:56.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786773387284480 [0;39m ------------- 开始 -------------
2023-05-17 21:29:56.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786773387284480 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:29:56.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786773387284480 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:29:56.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786773387284480 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:29:56.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786773387284480 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:29:56.242 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786773387284480 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-17 21:29:56.242 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786773387284480 [0;39m ==> Parameters: 
2023-05-17 21:29:56.277 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39786773387284480 [0;39m <==    Columns: count(0)
2023-05-17 21:29:56.277 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39786773387284480 [0;39m <==        Row: 5
2023-05-17 21:29:56.277 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786773387284480 [0;39m <==      Total: 1
2023-05-17 21:29:56.277 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39786773387284480 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-17 21:29:56.277 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39786773387284480 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:29:56.312 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39786773387284480 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:29:56.315 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39786773387284480 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-17 21:29:56.315 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39786773387284480 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 205, 2
2023-05-17 21:29:56.315 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39786773387284480 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:29:56.315 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39786773387284480 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:29:56.315 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39786773387284480 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:29:56.315 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39786773387284480 [0;39m <==      Total: 5
2023-05-17 21:29:56.318 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39786773387284480 [0;39m 总行数：5
2023-05-17 21:29:56.318 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39786773387284480 [0;39m 总页数：1
2023-05-17 21:29:56.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786773387284480 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":205,"voteCount":2},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-17 21:29:56.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786773387284480 [0;39m ------------- 结束 耗时：90 ms -------------
2023-05-17 21:29:56.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786776419766272 [0;39m ------------- 开始 -------------
2023-05-17 21:29:56.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786776419766272 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:29:56.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786776419766272 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:29:56.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786776419766272 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:29:56.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786776419766272 [0;39m 请求参数: []
2023-05-17 21:29:56.992 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786776419766272 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:29:56.992 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786776419766272 [0;39m ==> Parameters: 
2023-05-17 21:29:57.026 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:29:57.026 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:29:57.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:29:57.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:29:57.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:29:57.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:29:57.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:29:57.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:29:57.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:29:57.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:29:57.029 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:29:57.033 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:29:57.033 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:29:57.033 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:29:57.033 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:29:57.033 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786776419766272 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:29:57.033 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786776419766272 [0;39m <==      Total: 15
2023-05-17 21:29:57.033 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786776419766272 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:29:57.033 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786776419766272 [0;39m ------------- 结束 耗时：75 ms -------------
2023-05-17 21:29:57.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786778915377152 [0;39m ------------- 开始 -------------
2023-05-17 21:29:57.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786778915377152 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 21:29:57.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786778915377152 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 21:29:57.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786778915377152 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:29:57.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786778915377152 [0;39m 请求参数: []
2023-05-17 21:29:57.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786778923765760 [0;39m ------------- 开始 -------------
2023-05-17 21:29:57.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786778923765760 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 21:29:57.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786778923765760 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 21:29:57.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786778923765760 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:29:57.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786778923765760 [0;39m 请求参数: []
2023-05-17 21:29:57.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786778927960064 [0;39m ------------- 开始 -------------
2023-05-17 21:29:57.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786778927960064 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:29:57.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786778927960064 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:29:57.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786778927960064 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:29:57.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786778927960064 [0;39m 请求参数: []
2023-05-17 21:29:57.584 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39786778915377152 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:29:57.584 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39786778915377152 [0;39m ==> Parameters: 
2023-05-17 21:29:57.589 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39786778923765760 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:29:57.589 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39786778923765760 [0;39m ==> Parameters: 
2023-05-17 21:29:57.589 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786778927960064 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:29:57.589 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786778927960064 [0;39m ==> Parameters: 
2023-05-17 21:29:57.616 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39786778915377152 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 21:29:57.616 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39786778915377152 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 21:29:57.616 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39786778915377152 [0;39m <==        Row: 2023-05-17, 666, 17, 71, 1
2023-05-17 21:29:57.616 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39786778915377152 [0;39m <==      Total: 2
2023-05-17 21:29:57.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786778915377152 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":666,"viewIncrease":71,"voteCount":17,"voteIncrease":1}],"success":true}
2023-05-17 21:29:57.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786778915377152 [0;39m ------------- 结束 耗时：63 ms -------------
2023-05-17 21:29:57.624 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:29:57.624 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:29:57.624 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:29:57.624 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786778923765760 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 21:29:57.624 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:29:57.624 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786778923765760 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 21:29:57.624 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:29:57.624 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:29:57.624 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786778923765760 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 21:29:57.624 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:29:57.624 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786778923765760 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 21:29:57.624 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:29:57.624 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786778923765760 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 21:29:57.624 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:29:57.627 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:29:57.627 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:29:57.627 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:29:57.627 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786778923765760 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 21:29:57.627 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:29:57.627 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:29:57.627 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:29:57.627 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786778927960064 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:29:57.627 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786778923765760 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 21:29:57.627 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786778927960064 [0;39m <==      Total: 15
2023-05-17 21:29:57.627 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786778923765760 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 21:29:57.627 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786778923765760 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 21:29:57.627 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39786778923765760 [0;39m <==      Total: 8
2023-05-17 21:29:57.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786778927960064 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:29:57.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786778927960064 [0;39m ------------- 结束 耗时：71 ms -------------
2023-05-17 21:29:57.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786778923765760 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 21:29:57.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786778923765760 [0;39m ------------- 结束 耗时：72 ms -------------
2023-05-17 21:29:59.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:30:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39786789220782080 [0;39m 生成今日电子书快照开始
2023-05-17 21:30:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39786789220782080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:30:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39786789220782080 [0;39m ==> Parameters: 
2023-05-17 21:30:00.059 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:30:00.107 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39786789220782080 [0;39m <==    Updates: 0
2023-05-17 21:30:00.107 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39786789220782080 [0;39m 生成今日电子书快照结束，耗时：97毫秒
2023-05-17 21:30:03.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:30:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39786810217467904 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:30:05.179 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786810217467904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:30:05.179 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786810217467904 [0;39m ==> Parameters: 
2023-05-17 21:30:05.467 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786810217467904 [0;39m <==    Updates: 2
2023-05-17 21:30:05.467 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39786810217467904 [0;39m 更新电子书下的文档数据结束，耗时：451毫秒
2023-05-17 21:30:08.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786825996439552 [0;39m ------------- 开始 -------------
2023-05-17 21:30:08.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786825996439552 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:30:08.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786825996439552 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:30:08.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786825996439552 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:08.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786825996439552 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-17 21:30:09.073 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786825996439552 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 21:30:09.074 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786825996439552 [0;39m ==> Parameters: 101(Long)
2023-05-17 21:30:09.325 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39786825996439552 [0;39m <==    Columns: count(0)
2023-05-17 21:30:09.325 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39786825996439552 [0;39m <==        Row: 1
2023-05-17 21:30:09.326 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786825996439552 [0;39m <==      Total: 1
2023-05-17 21:30:09.326 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39786825996439552 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 21:30:09.327 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39786825996439552 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-17 21:30:09.359 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39786825996439552 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:30:09.360 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39786825996439552 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 205, 2
2023-05-17 21:30:09.360 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39786825996439552 [0;39m <==      Total: 1
2023-05-17 21:30:09.360 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39786825996439552 [0;39m 总行数：1
2023-05-17 21:30:09.360 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39786825996439552 [0;39m 总页数：1
2023-05-17 21:30:09.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786825996439552 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":205,"voteCount":2}],"total":1},"success":true}
2023-05-17 21:30:09.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786825996439552 [0;39m ------------- 结束 耗时：582 ms -------------
2023-05-17 21:30:10.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:30:10.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786834640900096 [0;39m ------------- 开始 -------------
2023-05-17 21:30:10.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786834640900096 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:30:10.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786834640900096 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:30:10.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786834640900096 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:10.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786834640900096 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-17 21:30:10.875 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786834640900096 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 21:30:10.875 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786834640900096 [0;39m ==> Parameters: 102(Long)
2023-05-17 21:30:10.908 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39786834640900096 [0;39m <==    Columns: count(0)
2023-05-17 21:30:10.908 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39786834640900096 [0;39m <==        Row: 0
2023-05-17 21:30:10.908 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786834640900096 [0;39m <==      Total: 1
2023-05-17 21:30:10.908 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39786834640900096 [0;39m 总行数：0
2023-05-17 21:30:10.908 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39786834640900096 [0;39m 总页数：0
2023-05-17 21:30:10.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786834640900096 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-17 21:30:10.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786834640900096 [0;39m ------------- 结束 耗时：69 ms -------------
2023-05-17 21:30:11.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786838810038272 [0;39m ------------- 开始 -------------
2023-05-17 21:30:11.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786838810038272 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:30:11.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786838810038272 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:30:11.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786838810038272 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:11.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786838810038272 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-17 21:30:11.867 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786838810038272 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 21:30:11.867 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786838810038272 [0;39m ==> Parameters: 101(Long)
2023-05-17 21:30:11.901 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39786838810038272 [0;39m <==    Columns: count(0)
2023-05-17 21:30:11.901 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39786838810038272 [0;39m <==        Row: 1
2023-05-17 21:30:11.901 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786838810038272 [0;39m <==      Total: 1
2023-05-17 21:30:11.901 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39786838810038272 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 21:30:11.901 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39786838810038272 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-17 21:30:11.935 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39786838810038272 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:30:11.935 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39786838810038272 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 205, 2
2023-05-17 21:30:11.935 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39786838810038272 [0;39m <==      Total: 1
2023-05-17 21:30:11.935 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39786838810038272 [0;39m 总行数：1
2023-05-17 21:30:11.935 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39786838810038272 [0;39m 总页数：1
2023-05-17 21:30:11.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786838810038272 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":205,"voteCount":2}],"total":1},"success":true}
2023-05-17 21:30:11.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786838810038272 [0;39m ------------- 结束 耗时：102 ms -------------
2023-05-17 21:30:12.088 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:30:24.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786893113692160 [0;39m ------------- 开始 -------------
2023-05-17 21:30:24.781 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786893113692160 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 21:30:24.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786893113692160 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:30:24.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786893113692160 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:24.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786893113692160 [0;39m 请求参数: [2]
2023-05-17 21:30:24.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786893134663680 [0;39m ------------- 开始 -------------
2023-05-17 21:30:24.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786893134663680 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 21:30:24.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786893134663680 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 21:30:24.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786893134663680 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:24.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786893134663680 [0;39m 请求参数: [2]
2023-05-17 21:30:24.819 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39786893134663680 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 21:30:24.819 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39786893134663680 [0;39m ==> Parameters: 2(Long)
2023-05-17 21:30:24.819 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39786893113692160 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:30:24.819 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39786893113692160 [0;39m ==> Parameters: 2(Long)
2023-05-17 21:30:24.850 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39786893134663680 [0;39m <==      Total: 0
2023-05-17 21:30:24.850 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39786893113692160 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:30:24.850 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39786893113692160 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 205, 2
2023-05-17 21:30:24.850 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39786893113692160 [0;39m <==      Total: 1
2023-05-17 21:30:24.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786893134663680 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 21:30:24.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786893134663680 [0;39m ------------- 结束 耗时：65 ms -------------
2023-05-17 21:30:24.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786893113692160 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":205,"voteCount":2}],"success":true}
2023-05-17 21:30:24.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786893113692160 [0;39m ------------- 结束 耗时：78 ms -------------
2023-05-17 21:30:24.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786893524733952 [0;39m ------------- 开始 -------------
2023-05-17 21:30:24.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786893524733952 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 21:30:24.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786893524733952 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:30:24.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786893524733952 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:24.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786893524733952 [0;39m 请求参数: [38625501966897152]
2023-05-17 21:30:24.879 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39786893524733952 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:30:24.879 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39786893524733952 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 21:30:24.912 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39786893524733952 [0;39m <==    Columns: id, content
2023-05-17 21:30:24.912 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39786893524733952 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 21:30:24.916 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39786893524733952 [0;39m <==      Total: 1
2023-05-17 21:30:24.916 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39786893524733952 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:30:24.916 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39786893524733952 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 21:30:24.987 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39786893524733952 [0;39m <==    Updates: 1
2023-05-17 21:30:24.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786893524733952 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 21:30:24.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786893524733952 [0;39m ------------- 结束 耗时：110 ms -------------
2023-05-17 21:30:25.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786897589014528 [0;39m ------------- 开始 -------------
2023-05-17 21:30:25.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786897589014528 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 21:30:25.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786897589014528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 21:30:25.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786897589014528 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:25.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786897589014528 [0;39m 请求参数: [2]
2023-05-17 21:30:25.879 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39786897589014528 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 21:30:25.879 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39786897589014528 [0;39m ==> Parameters: 2(Long)
2023-05-17 21:30:25.907 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39786897589014528 [0;39m <==      Total: 0
2023-05-17 21:30:25.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786897589014528 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 21:30:25.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786897589014528 [0;39m ------------- 结束 耗时：68 ms -------------
2023-05-17 21:30:29.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:30:30.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:30:31.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:30:33.735 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:30:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39786936021422080 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:30:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786936021422080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:30:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786936021422080 [0;39m ==> Parameters: 
2023-05-17 21:30:35.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39786936021422080 [0;39m <==    Updates: 2
2023-05-17 21:30:35.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39786936021422080 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-17 21:30:35.801 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:30:37.834 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:30:41.280 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39786499125940225 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:30:41.280 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39786499125940225 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-17 21:30:41.282 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39786499125940225 [0;39m 登录校验开始，token：39786760540131328
2023-05-17 21:30:41.315 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39786499125940225 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39786760540131328"}
2023-05-17 21:30:41.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786962470703104 [0;39m ------------- 开始 -------------
2023-05-17 21:30:41.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786962470703104 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-17 21:30:41.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786962470703104 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-17 21:30:41.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786962470703104 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:41.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786962470703104 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:30:41.353 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39786962470703104 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-17 21:30:41.353 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39786962470703104 [0;39m ==> Parameters: 
2023-05-17 21:30:41.387 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39786962470703104 [0;39m <==    Columns: count(0)
2023-05-17 21:30:41.388 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39786962470703104 [0;39m <==        Row: 2
2023-05-17 21:30:41.388 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39786962470703104 [0;39m <==      Total: 1
2023-05-17 21:30:41.388 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39786962470703104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-17 21:30:41.388 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39786962470703104 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:30:41.422 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39786962470703104 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 21:30:41.423 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39786962470703104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 21:30:41.423 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39786962470703104 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-17 21:30:41.423 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39786962470703104 [0;39m <==      Total: 2
2023-05-17 21:30:41.423 INFO  com.jiawa.wiki.service.UserService                :50   [32m39786962470703104 [0;39m 总行数：2
2023-05-17 21:30:41.423 INFO  com.jiawa.wiki.service.UserService                :51   [32m39786962470703104 [0;39m 总页数：1
2023-05-17 21:30:41.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786962470703104 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-17 21:30:41.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786962470703104 [0;39m ------------- 结束 耗时：108 ms -------------
2023-05-17 21:30:41.425 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39786962470703104 [0;39m ------------- LoginInterceptor 结束 耗时：145 ms -------------
2023-05-17 21:30:41.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786964001624065 [0;39m ------------- 开始 -------------
2023-05-17 21:30:41.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786964001624064 [0;39m ------------- 开始 -------------
2023-05-17 21:30:41.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786964001624065 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 21:30:41.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786964001624064 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 21:30:41.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786964001624065 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 21:30:41.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786964001624064 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 21:30:41.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786964001624065 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:41.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786964001624064 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:41.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786964001624065 [0;39m 请求参数: []
2023-05-17 21:30:41.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786964001624064 [0;39m 请求参数: []
2023-05-17 21:30:41.682 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39786964001624065 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:30:41.682 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39786964001624065 [0;39m ==> Parameters: 
2023-05-17 21:30:41.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786964010012672 [0;39m ------------- 开始 -------------
2023-05-17 21:30:41.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786964010012672 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:30:41.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786964010012672 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:30:41.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786964010012672 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:41.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786964010012672 [0;39m 请求参数: []
2023-05-17 21:30:41.714 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39786964001624064 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:30:41.714 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39786964001624064 [0;39m ==> Parameters: 
2023-05-17 21:30:41.715 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786964010012672 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:30:41.715 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786964010012672 [0;39m ==> Parameters: 
2023-05-17 21:30:41.716 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39786964001624065 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 21:30:41.716 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39786964001624065 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 21:30:41.716 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39786964001624065 [0;39m <==        Row: 2023-05-17, 666, 17, 71, 1
2023-05-17 21:30:41.716 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39786964001624065 [0;39m <==      Total: 2
2023-05-17 21:30:41.717 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786964001624065 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":666,"viewIncrease":71,"voteCount":17,"voteIncrease":1}],"success":true}
2023-05-17 21:30:41.717 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786964001624065 [0;39m ------------- 结束 耗时：36 ms -------------
2023-05-17 21:30:41.747 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786964001624064 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 21:30:41.747 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786964001624064 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 21:30:41.748 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786964001624064 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 21:30:41.748 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786964001624064 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 21:30:41.748 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:30:41.749 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786964001624064 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 21:30:41.749 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:30:41.749 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786964001624064 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 21:30:41.749 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:30:41.749 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:30:41.749 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786964001624064 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 21:30:41.750 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:30:41.750 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786964001624064 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 21:30:41.750 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:30:41.750 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39786964001624064 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 21:30:41.750 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:30:41.750 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39786964001624064 [0;39m <==      Total: 8
2023-05-17 21:30:41.751 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:30:41.751 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:30:41.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786964001624064 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 21:30:41.751 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:30:41.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786964001624064 [0;39m ------------- 结束 耗时：70 ms -------------
2023-05-17 21:30:41.751 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:30:41.751 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:30:41.751 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:30:41.753 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:30:41.753 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:30:41.753 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39786964010012672 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:30:41.754 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39786964010012672 [0;39m <==      Total: 15
2023-05-17 21:30:41.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786964010012672 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:30:41.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786964010012672 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-17 21:30:42.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786968829267968 [0;39m ------------- 开始 -------------
2023-05-17 21:30:42.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786968829267968 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:30:42.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786968829267968 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:30:42.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786968829267968 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:42.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786968829267968 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-17 21:30:42.865 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786968829267968 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 21:30:42.866 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786968829267968 [0;39m ==> Parameters: 101(Long)
2023-05-17 21:30:42.898 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39786968829267968 [0;39m <==    Columns: count(0)
2023-05-17 21:30:42.899 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39786968829267968 [0;39m <==        Row: 1
2023-05-17 21:30:42.900 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39786968829267968 [0;39m <==      Total: 1
2023-05-17 21:30:42.900 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39786968829267968 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 21:30:42.900 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39786968829267968 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-17 21:30:42.934 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39786968829267968 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:30:42.934 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39786968829267968 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 206, 2
2023-05-17 21:30:42.935 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39786968829267968 [0;39m <==      Total: 1
2023-05-17 21:30:42.935 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39786968829267968 [0;39m 总行数：1
2023-05-17 21:30:42.935 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39786968829267968 [0;39m 总页数：1
2023-05-17 21:30:42.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786968829267968 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":206,"voteCount":2}],"total":1},"success":true}
2023-05-17 21:30:42.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786968829267968 [0;39m ------------- 结束 耗时：104 ms -------------
2023-05-17 21:30:43.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786972465729536 [0;39m ------------- 开始 -------------
2023-05-17 21:30:43.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786972469923840 [0;39m ------------- 开始 -------------
2023-05-17 21:30:43.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786972465729536 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 21:30:43.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786972469923840 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 21:30:43.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786972465729536 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:30:43.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786972469923840 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 21:30:43.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786972465729536 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:43.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786972469923840 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:43.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786972465729536 [0;39m 请求参数: [2]
2023-05-17 21:30:43.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786972469923840 [0;39m 请求参数: [2]
2023-05-17 21:30:43.732 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39786972469923840 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 21:30:43.732 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39786972469923840 [0;39m ==> Parameters: 2(Long)
2023-05-17 21:30:43.733 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39786972465729536 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:30:43.733 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39786972465729536 [0;39m ==> Parameters: 2(Long)
2023-05-17 21:30:43.764 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39786972469923840 [0;39m <==      Total: 0
2023-05-17 21:30:43.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786972469923840 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 21:30:43.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786972469923840 [0;39m ------------- 结束 耗时：66 ms -------------
2023-05-17 21:30:43.767 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39786972465729536 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:30:43.768 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39786972465729536 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 206, 2
2023-05-17 21:30:43.768 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39786972465729536 [0;39m <==      Total: 1
2023-05-17 21:30:43.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786972465729536 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":206,"voteCount":2}],"success":true}
2023-05-17 21:30:43.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786972465729536 [0;39m ------------- 结束 耗时：70 ms -------------
2023-05-17 21:30:43.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786972797079552 [0;39m ------------- 开始 -------------
2023-05-17 21:30:43.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786972797079552 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 21:30:43.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786972797079552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:30:43.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786972797079552 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:43.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786972797079552 [0;39m 请求参数: [38625501966897152]
2023-05-17 21:30:43.812 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39786972797079552 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:30:43.812 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39786972797079552 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 21:30:43.846 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39786972797079552 [0;39m <==    Columns: id, content
2023-05-17 21:30:43.846 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39786972797079552 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 21:30:43.847 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39786972797079552 [0;39m <==      Total: 1
2023-05-17 21:30:43.847 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39786972797079552 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:30:43.848 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39786972797079552 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 21:30:43.918 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39786972797079552 [0;39m <==    Updates: 1
2023-05-17 21:30:43.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786972797079552 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 21:30:43.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786972797079552 [0;39m ------------- 结束 耗时：141 ms -------------
2023-05-17 21:30:44.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39786975368187904 [0;39m ------------- 开始 -------------
2023-05-17 21:30:44.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39786975368187904 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 21:30:44.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39786975368187904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 21:30:44.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39786975368187904 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:30:44.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39786975368187904 [0;39m 请求参数: [2]
2023-05-17 21:30:44.424 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39786975368187904 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 21:30:44.424 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39786975368187904 [0;39m ==> Parameters: 2(Long)
2023-05-17 21:30:44.458 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39786975368187904 [0;39m <==      Total: 0
2023-05-17 21:30:44.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39786975368187904 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 21:30:44.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39786975368187904 [0;39m ------------- 结束 耗时：68 ms -------------
2023-05-17 21:31:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39787040904187904 [0;39m 生成今日电子书快照开始
2023-05-17 21:31:00.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:31:00.378 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39787040904187904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:31:00.379 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39787040904187904 [0;39m ==> Parameters: 
2023-05-17 21:31:00.699 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39787040904187904 [0;39m <==    Updates: 0
2023-05-17 21:31:00.699 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39787040904187904 [0;39m 生成今日电子书快照结束，耗时：683毫秒
2023-05-17 21:31:01.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:31:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39787061850542080 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:31:05.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787061850542080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:31:05.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787061850542080 [0;39m ==> Parameters: 
2023-05-17 21:31:05.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787061850542080 [0;39m <==    Updates: 2
2023-05-17 21:31:05.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39787061850542080 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 21:31:05.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:31:27.865 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:31:29.889 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:31:30.068 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:31:31.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:31:33.948 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:31:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39787187667079168 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:31:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787187667079168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:31:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787187667079168 [0;39m ==> Parameters: 
2023-05-17 21:31:35.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787187667079168 [0;39m <==    Updates: 2
2023-05-17 21:31:35.104 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39787187667079168 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 21:31:35.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:31:53.982 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:32:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39787292545650688 [0;39m 生成今日电子书快照开始
2023-05-17 21:32:00.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:32:00.209 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39787292545650688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:32:00.219 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39787292545650688 [0;39m ==> Parameters: 
2023-05-17 21:32:00.674 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39787292545650688 [0;39m <==    Updates: 0
2023-05-17 21:32:00.674 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39787292545650688 [0;39m 生成今日电子书快照结束，耗时：662毫秒
2023-05-17 21:32:02.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:32:04.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:32:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39787313487810560 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:32:05.115 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787313487810560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:32:05.116 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787313487810560 [0;39m ==> Parameters: 
2023-05-17 21:32:05.412 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787313487810560 [0;39m <==    Updates: 2
2023-05-17 21:32:05.413 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39787313487810560 [0;39m 更新电子书下的文档数据结束，耗时：408毫秒
2023-05-17 21:32:16.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:32:18.054 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:32:29.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:32:30.053 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:32:31.696 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:32:33.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:32:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39787439350484992 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:32:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787439350484992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:32:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787439350484992 [0;39m ==> Parameters: 
2023-05-17 21:32:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787439350484992 [0;39m <==    Updates: 2
2023-05-17 21:32:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39787439350484992 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-05-17 21:32:40.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:32:42.134 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:32:59.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:33:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39787544216473600 [0;39m 生成今日电子书快照开始
2023-05-17 21:33:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39787544216473600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:33:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39787544216473600 [0;39m ==> Parameters: 
2023-05-17 21:33:00.066 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:33:00.144 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39787544216473600 [0;39m <==    Updates: 0
2023-05-17 21:33:00.144 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39787544216473600 [0;39m 生成今日电子书快照结束，耗时：128毫秒
2023-05-17 21:33:01.738 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:33:03.783 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:33:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39787565158633472 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:33:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787565158633472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:33:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787565158633472 [0;39m ==> Parameters: 
2023-05-17 21:33:05.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787565158633472 [0;39m <==    Updates: 2
2023-05-17 21:33:05.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39787565158633472 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-17 21:33:05.808 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:33:07.842 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:33:29.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:33:30.083 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:33:31.749 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:33:33.779 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:33:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39787690970976256 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:33:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787690970976256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:33:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787690970976256 [0;39m ==> Parameters: 
2023-05-17 21:33:35.130 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787690970976256 [0;39m <==    Updates: 2
2023-05-17 21:33:35.130 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39787690970976256 [0;39m 更新电子书下的文档数据结束，耗时：126毫秒
2023-05-17 21:33:35.840 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:33:57.897 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:33:59.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:34:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39787795857936384 [0;39m 生成今日电子书快照开始
2023-05-17 21:34:00.041 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:34:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39787795857936384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:34:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39787795857936384 [0;39m ==> Parameters: 
2023-05-17 21:34:00.109 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39787795857936384 [0;39m <==    Updates: 0
2023-05-17 21:34:00.109 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39787795857936384 [0;39m 生成今日电子书快照结束，耗时：98毫秒
2023-05-17 21:34:01.951 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:34:04.004 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:34:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39787816829456384 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:34:05.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787816829456384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:34:05.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787816829456384 [0;39m ==> Parameters: 
2023-05-17 21:34:05.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787816829456384 [0;39m <==    Updates: 2
2023-05-17 21:34:05.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39787816829456384 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 21:34:06.053 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:34:21.974 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:34:24.032 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:34:29.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:34:30.090 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:34:31.741 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:34:33.787 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:34:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39787942637604864 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:34:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787942637604864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:34:35.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787942637604864 [0;39m ==> Parameters: 
2023-05-17 21:34:35.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39787942637604864 [0;39m <==    Updates: 2
2023-05-17 21:34:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39787942637604864 [0;39m 更新电子书下的文档数据结束，耗时：103毫秒
2023-05-17 21:34:46.086 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:34:48.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:35:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39788047511982080 [0;39m 生成今日电子书快照开始
2023-05-17 21:35:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39788047511982080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:35:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39788047511982080 [0;39m ==> Parameters: 
2023-05-17 21:35:00.058 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:35:00.110 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39788047511982080 [0;39m <==    Updates: 0
2023-05-17 21:35:00.110 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39788047511982080 [0;39m 生成今日电子书快照结束，耗时：100毫秒
2023-05-17 21:35:01.766 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:35:03.825 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:35:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39788068458336256 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:35:05.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788068458336256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:35:05.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788068458336256 [0;39m ==> Parameters: 
2023-05-17 21:35:05.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788068458336256 [0;39m <==    Updates: 2
2023-05-17 21:35:05.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39788068458336256 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-17 21:35:12.226 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:35:29.717 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:35:30.091 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:35:31.757 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:35:33.818 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:35:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39788194325204992 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:35:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788194325204992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:35:35.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788194325204992 [0;39m ==> Parameters: 
2023-05-17 21:35:35.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788194325204992 [0;39m <==    Updates: 2
2023-05-17 21:35:35.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39788194325204992 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 21:35:35.866 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:35:37.906 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:35:59.714 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:36:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39788299161833472 [0;39m 生成今日电子书快照开始
2023-05-17 21:36:00.040 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39788299161833472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:36:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39788299161833472 [0;39m ==> Parameters: 
2023-05-17 21:36:00.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:36:00.105 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39788299161833472 [0;39m <==    Updates: 0
2023-05-17 21:36:00.106 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39788299161833472 [0;39m 生成今日电子书快照结束，耗时：98毫秒
2023-05-17 21:36:01.766 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:36:03.817 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:36:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39788320133353472 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:36:05.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788320133353472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:36:05.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788320133353472 [0;39m ==> Parameters: 
2023-05-17 21:36:05.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788320133353472 [0;39m <==    Updates: 2
2023-05-17 21:36:05.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39788320133353472 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 21:36:05.851 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:36:25.836 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:36:27.890 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:36:30.079 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:36:31.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:36:33.997 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:36:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39788445975056384 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:36:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788445975056384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:36:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788445975056384 [0;39m ==> Parameters: 
2023-05-17 21:36:35.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788445975056384 [0;39m <==    Updates: 2
2023-05-17 21:36:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39788445975056384 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 21:36:49.952 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:36:51.993 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:37:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39788550799101952 [0;39m 生成今日电子书快照开始
2023-05-17 21:37:00.036 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39788550799101952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:37:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39788550799101952 [0;39m ==> Parameters: 
2023-05-17 21:37:00.081 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:37:00.103 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39788550799101952 [0;39m <==    Updates: 0
2023-05-17 21:37:00.103 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39788550799101952 [0;39m 生成今日电子书快照结束，耗时：100毫秒
2023-05-17 21:37:03.788 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:37:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39788571795787776 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:37:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788571795787776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:37:05.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788571795787776 [0;39m ==> Parameters: 
2023-05-17 21:37:05.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788571795787776 [0;39m <==    Updates: 2
2023-05-17 21:37:05.117 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39788571795787776 [0;39m 更新电子书下的文档数据结束，耗时：108毫秒
2023-05-17 21:37:14.025 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:37:16.053 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:37:29.715 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:37:30.058 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:37:31.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:37:33.773 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:37:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39788697629102080 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:37:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788697629102080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:37:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788697629102080 [0;39m ==> Parameters: 
2023-05-17 21:37:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788697629102080 [0;39m <==    Updates: 2
2023-05-17 21:37:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39788697629102080 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-17 21:37:38.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:37:40.149 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:37:59.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:38:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39788802444759040 [0;39m 生成今日电子书快照开始
2023-05-17 21:38:00.031 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39788802444759040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:38:00.031 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39788802444759040 [0;39m ==> Parameters: 
2023-05-17 21:38:00.065 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:38:00.098 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39788802444759040 [0;39m <==    Updates: 0
2023-05-17 21:38:00.099 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39788802444759040 [0;39m 生成今日电子书快照结束，耗时：99毫秒
2023-05-17 21:38:01.747 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:38:03.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:38:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39788823458222080 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:38:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788823458222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:38:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788823458222080 [0;39m ==> Parameters: 
2023-05-17 21:38:05.106 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788823458222080 [0;39m <==    Updates: 2
2023-05-17 21:38:05.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39788823458222080 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-05-17 21:38:05.833 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:38:27.879 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:38:29.904 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:38:30.074 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:38:31.937 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:38:33.976 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:38:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39788949266370560 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:38:35.305 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788949266370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:38:35.305 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788949266370560 [0;39m ==> Parameters: 
2023-05-17 21:38:35.613 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39788949266370560 [0;39m <==    Updates: 2
2023-05-17 21:38:35.613 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39788949266370560 [0;39m 更新电子书下的文档数据结束，耗时：608毫秒
2023-05-17 21:38:54.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:39:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39789054165913600 [0;39m 生成今日电子书快照开始
2023-05-17 21:39:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39789054165913600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:39:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39789054165913600 [0;39m ==> Parameters: 
2023-05-17 21:39:00.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:39:00.523 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39789054165913600 [0;39m <==    Updates: 0
2023-05-17 21:39:00.524 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39789054165913600 [0;39m 生成今日电子书快照结束，耗时：509毫秒
2023-05-17 21:39:03.796 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:39:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39789075133239296 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:39:05.301 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789075133239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:39:05.302 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789075133239296 [0;39m ==> Parameters: 
2023-05-17 21:39:05.606 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789075133239296 [0;39m <==    Updates: 2
2023-05-17 21:39:05.607 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39789075133239296 [0;39m 更新电子书下的文档数据结束，耗时：593毫秒
2023-05-17 21:39:17.031 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:39:19.068 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:39:29.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:39:30.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:39:31.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:39:33.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:39:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39789200966553600 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:39:35.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789200966553600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:39:35.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789200966553600 [0;39m ==> Parameters: 
2023-05-17 21:39:35.118 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789200966553600 [0;39m <==    Updates: 2
2023-05-17 21:39:35.118 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39789200966553600 [0;39m 更新电子书下的文档数据结束，耗时：103毫秒
2023-05-17 21:39:41.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:39:43.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:39:59.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:40:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39789305819959296 [0;39m 生成今日电子书快照开始
2023-05-17 21:40:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39789305819959296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:40:00.047 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:40:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39789305819959296 [0;39m ==> Parameters: 
2023-05-17 21:40:00.144 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39789305819959296 [0;39m <==    Updates: 0
2023-05-17 21:40:00.144 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39789305819959296 [0;39m 生成今日电子书快照结束，耗时：130毫秒
2023-05-17 21:40:01.729 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:40:03.764 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:40:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39789326787284992 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:40:05.145 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789326787284992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:40:05.145 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789326787284992 [0;39m ==> Parameters: 
2023-05-17 21:40:05.328 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789326787284992 [0;39m <==    Updates: 2
2023-05-17 21:40:05.329 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39789326787284992 [0;39m 更新电子书下的文档数据结束，耗时：316毫秒
2023-05-17 21:40:05.794 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:40:07.831 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:40:29.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:40:30.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:40:31.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:40:33.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:40:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39789452574461952 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:40:35.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789452574461952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:40:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789452574461952 [0;39m ==> Parameters: 
2023-05-17 21:40:35.099 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789452574461952 [0;39m <==    Updates: 2
2023-05-17 21:40:35.100 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39789452574461952 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 21:40:35.764 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:40:57.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:40:59.843 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:41:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39789557427867648 [0;39m 生成今日电子书快照开始
2023-05-17 21:41:00.034 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39789557427867648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:41:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39789557427867648 [0;39m ==> Parameters: 
2023-05-17 21:41:00.053 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:41:00.101 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39789557427867648 [0;39m <==    Updates: 0
2023-05-17 21:41:00.101 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39789557427867648 [0;39m 生成今日电子书快照结束，耗时：99毫秒
2023-05-17 21:41:03.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:41:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39789578449719296 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:41:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789578449719296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:41:05.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789578449719296 [0;39m ==> Parameters: 
2023-05-17 21:41:05.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789578449719296 [0;39m <==    Updates: 2
2023-05-17 21:41:05.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39789578449719296 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 21:41:14.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789618119446528 [0;39m ------------- 开始 -------------
2023-05-17 21:41:14.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789618119446528 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:41:14.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789618119446528 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:41:14.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789618119446528 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:41:14.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789618119446528 [0;39m 请求参数: []
2023-05-17 21:41:14.505 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789618119446528 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:41:14.506 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789618119446528 [0;39m ==> Parameters: 
2023-05-17 21:41:14.538 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:41:14.540 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:41:14.540 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:41:14.540 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:41:14.540 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:41:14.540 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:41:14.540 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:41:14.541 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:41:14.541 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:41:14.541 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:41:14.541 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:41:14.541 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:41:14.541 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:41:14.541 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:41:14.542 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:41:14.542 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789618119446528 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:41:14.542 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789618119446528 [0;39m <==      Total: 15
2023-05-17 21:41:14.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789618119446528 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:41:14.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789618119446528 [0;39m ------------- 结束 耗时：71 ms -------------
2023-05-17 21:41:14.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789618454990848 [0;39m ------------- 开始 -------------
2023-05-17 21:41:14.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789618454990848 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:41:14.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789618454990848 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:41:14.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789618454990848 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:41:14.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789618454990848 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:41:15.006 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39786968829267968 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:41:15.007 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39786968829267968 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-17 21:41:15.007 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39786968829267968 [0;39m 登录校验开始，token：39786760540131328
2023-05-17 21:41:19.565 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39789618454990848 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@a0c9d3d (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 21:41:19.600 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39789618454990848 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-17 21:41:19.600 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39789618454990848 [0;39m ==> Parameters: 
2023-05-17 21:41:19.634 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39789618454990848 [0;39m <==    Columns: count(0)
2023-05-17 21:41:19.634 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39789618454990848 [0;39m <==        Row: 5
2023-05-17 21:41:19.635 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39789618454990848 [0;39m <==      Total: 1
2023-05-17 21:41:19.635 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39789618454990848 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-17 21:41:19.636 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39789618454990848 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:41:19.669 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789618454990848 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:41:19.669 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789618454990848 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-17 21:41:19.669 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789618454990848 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 207, 2
2023-05-17 21:41:19.670 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789618454990848 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:41:19.670 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789618454990848 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:41:19.670 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789618454990848 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:41:19.670 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39789618454990848 [0;39m <==      Total: 5
2023-05-17 21:41:19.671 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39789618454990848 [0;39m 总行数：5
2023-05-17 21:41:19.671 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39789618454990848 [0;39m 总页数：1
2023-05-17 21:41:19.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789618454990848 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":207,"voteCount":2},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-17 21:41:19.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789618454990848 [0;39m ------------- 结束 耗时：5119 ms -------------
2023-05-17 21:41:20.700 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39786972469923840 [0;39m 连接关闭，token：BK4hytKMeQ，session id：0！当前连接数：0
2023-05-17 21:41:21.367 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39786972465729536 [0;39m 有新连接：token：kKKVUMRhRy，session id：1，当前连接数：1
2023-05-17 21:41:21.469 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39786972797079552 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:41:21.470 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39786972797079552 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-17 21:41:21.470 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39786972797079552 [0;39m 登录校验开始，token：39786760540131328
2023-05-17 21:41:22.848 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:41:24.876 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:41:29.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:41:30.056 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:41:30.698 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39786975368187904 [0;39m 连接关闭，token：kKKVUMRhRy，session id：1！当前连接数：0
2023-05-17 21:41:33.755 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:41:34.240 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39786968829267968 [0;39m 系统异常：
org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:74)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:272)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.convertLettuceAccessException(LettuceStringCommands.java:800)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:70)
	at org.springframework.data.redis.connection.DefaultedRedisConnection.get(DefaultedRedisConnection.java:267)
	at org.springframework.data.redis.core.DefaultValueOperations$1.inRedis(DefaultValueOperations.java:57)
	at org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:60)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:229)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:189)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:96)
	at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:53)
	at com.jiawa.wiki.interceptor.LoginInterceptor.preHandle(LoginInterceptor.java:53)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1056)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at io.lettuce.core.internal.Exceptions.bubble(Exceptions.java:83)
	at io.lettuce.core.internal.Futures.awaitOrCancel(Futures.java:250)
	at io.lettuce.core.FutureSyncInvocationHandler.handleInvocation(FutureSyncInvocationHandler.java:75)
	at io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80)
	at com.sun.proxy.$Proxy144.get(Unknown Source)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:68)
	... 49 common frames omitted
Caused by: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at sun.nio.ch.SocketDispatcher.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)
	at sun.nio.ch.IOUtil.read(IOUtil.java:192)
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:378)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1134)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-17 21:41:34.243 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39786968829267968 [0;39m Resolved [org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。]
2023-05-17 21:41:34.382 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39786972797079552 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39786760540131328"}
2023-05-17 21:41:34.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789701632233472 [0;39m ------------- 开始 -------------
2023-05-17 21:41:34.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789701632233472 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-17 21:41:34.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789701632233472 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-17 21:41:34.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789701632233472 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:41:34.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789701632233472 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:41:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39789704220119040 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:41:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789704220119040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:41:35.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789704220119040 [0;39m ==> Parameters: 
2023-05-17 21:41:35.098 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789704220119040 [0;39m <==    Updates: 2
2023-05-17 21:41:35.098 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39789704220119040 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 21:41:39.390 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39789701632233472 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5d51e006 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 21:41:39.424 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39789701632233472 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-17 21:41:39.424 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39789701632233472 [0;39m ==> Parameters: 
2023-05-17 21:41:39.455 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39789701632233472 [0;39m <==    Columns: count(0)
2023-05-17 21:41:39.455 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39789701632233472 [0;39m <==        Row: 2
2023-05-17 21:41:39.455 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39789701632233472 [0;39m <==      Total: 1
2023-05-17 21:41:39.455 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39789701632233472 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-17 21:41:39.455 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39789701632233472 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:41:39.490 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39789701632233472 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 21:41:39.490 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39789701632233472 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 21:41:39.493 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39789701632233472 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-17 21:41:39.493 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39789701632233472 [0;39m <==      Total: 2
2023-05-17 21:41:39.493 INFO  com.jiawa.wiki.service.UserService                :50   [32m39789701632233472 [0;39m 总行数：2
2023-05-17 21:41:39.493 INFO  com.jiawa.wiki.service.UserService                :51   [32m39789701632233472 [0;39m 总页数：1
2023-05-17 21:41:39.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789701632233472 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-17 21:41:39.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789701632233472 [0;39m ------------- 结束 耗时：5111 ms -------------
2023-05-17 21:41:39.494 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39789701632233472 [0;39m ------------- LoginInterceptor 结束 耗时：18024 ms -------------
2023-05-17 21:41:42.373 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 21:41:42.375 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 21:41:42.376 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 21:41:42.377 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-17 21:41:42.383 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-17 21:41:42.613 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 21:41:42.613 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 21:41:47.254 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 2588 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 21:41:47.254 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 21:41:47.258 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 21:41:47.323 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 21:41:47.323 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 21:41:48.017 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 21:41:48.019 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 21:41:48.044 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2023-05-17 21:41:48.315 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$47364767] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.328 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.652 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.653 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$e970bc68] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.654 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.656 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.658 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.658 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.660 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.662 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.662 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.666 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.666 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.685 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.688 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:48.702 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:49.698 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:49.699 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-17 21:41:50.204 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 21:41:50.211 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 21:41:50.211 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 21:41:50.212 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 21:41:50.277 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 21:41:50.277 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2953 ms
2023-05-17 21:41:51.067 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 21:41:51.354 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 21:41:51.407 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 21:41:51.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:41:51.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:41:53.955 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:41:56.095 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 21:41:56.144 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-17 21:41:56.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:41:56.426 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 21:41:56.446 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 21:41:56.479 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 9.687 seconds (JVM running for 10.662)
2023-05-17 21:41:56.496 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 21:41:56.496 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 21:41:58.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:42:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39789809153216512 [0;39m 生成今日电子书快照开始
2023-05-17 21:42:00.037 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39789809153216512 [0;39m HikariPool-1 - Starting...
2023-05-17 21:42:00.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:42:02.472 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39789809153216512 [0;39m HikariPool-1 - Start completed.
2023-05-17 21:42:02.493 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39789809153216512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:42:02.522 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39789809153216512 [0;39m ==> Parameters: 
2023-05-17 21:42:02.629 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39789809153216512 [0;39m <==    Updates: 0
2023-05-17 21:42:02.646 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39789809153216512 [0;39m 生成今日电子书快照结束，耗时：2627毫秒
2023-05-17 21:42:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39789830070210560 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:42:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789830070210560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:42:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789830070210560 [0;39m ==> Parameters: 
2023-05-17 21:42:05.119 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789830070210560 [0;39m <==    Updates: 2
2023-05-17 21:42:05.120 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39789830070210560 [0;39m 更新电子书下的文档数据结束，耗时：115毫秒
2023-05-17 21:42:07.286 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 21:42:07.287 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 21:42:07.289 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2023-05-17 21:42:07.412 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：oOsZlmbqZY，session id：0，当前连接数：1
2023-05-17 21:42:07.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789840358838274 [0;39m ------------- 开始 -------------
2023-05-17 21:42:07.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789840358838273 [0;39m ------------- 开始 -------------
2023-05-17 21:42:07.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789840358838272 [0;39m ------------- 开始 -------------
2023-05-17 21:42:07.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789840358838273 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 21:42:07.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789840358838273 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 21:42:07.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789840358838274 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 21:42:07.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789840358838273 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:07.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789840358838274 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 21:42:07.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789840358838274 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:07.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789840358838272 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:42:07.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789840358838272 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:42:07.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789840358838272 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:07.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789840358838273 [0;39m 请求参数: []
2023-05-17 21:42:07.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789840358838272 [0;39m 请求参数: []
2023-05-17 21:42:07.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789840358838274 [0;39m 请求参数: []
2023-05-17 21:42:07.871 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39789840358838273 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:42:07.871 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39789840358838274 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:42:07.872 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39789840358838273 [0;39m ==> Parameters: 
2023-05-17 21:42:07.872 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39789840358838274 [0;39m ==> Parameters: 
2023-05-17 21:42:07.924 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789840358838274 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 21:42:07.924 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39789840358838273 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 21:42:07.925 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789840358838274 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 21:42:07.927 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39789840358838273 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 21:42:07.927 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789840358838272 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:42:07.928 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789840358838272 [0;39m ==> Parameters: 
2023-05-17 21:42:07.931 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39789840358838273 [0;39m <==        Row: 2023-05-17, 668, 17, 73, 1
2023-05-17 21:42:07.931 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789840358838274 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 21:42:07.931 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39789840358838273 [0;39m <==      Total: 2
2023-05-17 21:42:07.931 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789840358838274 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 21:42:07.931 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789840358838274 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 21:42:07.932 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789840358838274 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 21:42:07.933 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789840358838274 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 21:42:07.933 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789840358838274 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 21:42:07.934 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789840358838274 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 21:42:07.934 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39789840358838274 [0;39m <==      Total: 8
2023-05-17 21:42:07.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789840358838273 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":668,"viewIncrease":73,"voteCount":17,"voteIncrease":1}],"success":true}
2023-05-17 21:42:07.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789840358838274 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 21:42:07.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789840358838273 [0;39m ------------- 结束 耗时：501 ms -------------
2023-05-17 21:42:07.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789840358838274 [0;39m ------------- 结束 耗时：501 ms -------------
2023-05-17 21:42:07.965 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:42:07.966 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:42:07.966 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:42:07.967 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:42:07.967 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:42:07.968 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:42:07.968 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:42:07.969 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:42:07.969 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:42:07.969 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:42:07.970 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:42:07.970 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:42:07.971 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:42:07.971 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:42:07.971 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:42:07.971 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789840358838272 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:42:07.971 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789840358838272 [0;39m <==      Total: 15
2023-05-17 21:42:07.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789840358838272 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:42:07.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789840358838272 [0;39m ------------- 结束 耗时：526 ms -------------
2023-05-17 21:42:20.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789895539101696 [0;39m ------------- 开始 -------------
2023-05-17 21:42:20.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789895539101696 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-17 21:42:20.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789895539101696 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-17 21:42:20.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789895539101696 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:20.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789895539101696 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-17 21:42:20.667 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39789895539101696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-17 21:42:20.668 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39789895539101696 [0;39m ==> Parameters: test(String)
2023-05-17 21:42:20.703 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39789895539101696 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 21:42:20.704 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39789895539101696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 21:42:20.705 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39789895539101696 [0;39m <==      Total: 1
2023-05-17 21:42:20.710 INFO  com.jiawa.wiki.controller.UserController          :86   [32m39789895539101696 [0;39m 生成单点登录token：39789895941754880，并放入redis中
2023-05-17 21:42:20.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789895539101696 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"39789895941754880"},"success":true}
2023-05-17 21:42:20.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789895539101696 [0;39m ------------- 结束 耗时：332 ms -------------
2023-05-17 21:42:21.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:42:21.771 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:42:21.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789901255938048 [0;39m ------------- 开始 -------------
2023-05-17 21:42:21.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789901255938048 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:42:21.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789901255938048 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:42:21.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789901255938048 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:21.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789901255938048 [0;39m 请求参数: []
2023-05-17 21:42:22.011 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789901255938048 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:42:22.011 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789901255938048 [0;39m ==> Parameters: 
2023-05-17 21:42:22.045 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:42:22.046 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:42:22.047 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:42:22.048 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:42:22.048 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:42:22.048 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:42:22.049 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:42:22.049 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:42:22.049 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:42:22.049 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:42:22.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:42:22.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:42:22.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:42:22.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:42:22.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:42:22.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789901255938048 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:42:22.051 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789901255938048 [0;39m <==      Total: 15
2023-05-17 21:42:22.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789901255938048 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:42:22.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789901255938048 [0;39m ------------- 结束 耗时：78 ms -------------
2023-05-17 21:42:22.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789901687951360 [0;39m ------------- 开始 -------------
2023-05-17 21:42:22.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789901687951360 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:42:22.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789901687951360 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:42:22.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789901687951360 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:22.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789901687951360 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:42:22.107 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39789901687951360 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-17 21:42:22.114 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39789901687951360 [0;39m ==> Parameters: 
2023-05-17 21:42:22.149 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39789901687951360 [0;39m <==    Columns: count(0)
2023-05-17 21:42:22.149 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39789901687951360 [0;39m <==        Row: 5
2023-05-17 21:42:22.150 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39789901687951360 [0;39m <==      Total: 1
2023-05-17 21:42:22.153 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39789901687951360 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-17 21:42:22.153 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39789901687951360 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:42:22.187 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789901687951360 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:42:22.188 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789901687951360 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-17 21:42:22.189 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789901687951360 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 207, 2
2023-05-17 21:42:22.189 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789901687951360 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:42:22.190 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789901687951360 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:42:22.190 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789901687951360 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:42:22.190 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39789901687951360 [0;39m <==      Total: 5
2023-05-17 21:42:22.194 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39789901687951360 [0;39m 总行数：5
2023-05-17 21:42:22.194 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39789901687951360 [0;39m 总页数：1
2023-05-17 21:42:22.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789901687951360 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":207,"voteCount":2},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-17 21:42:22.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789901687951360 [0;39m ------------- 结束 耗时：125 ms -------------
2023-05-17 21:42:23.378 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:42:25.422 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:42:27.452 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:42:33.694 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:42:33.695 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 21:42:33.701 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:42:33.701 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/ebook/save
2023-05-17 21:42:33.701 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:42:33.739 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:42:33.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789950652256256 [0;39m ------------- 开始 -------------
2023-05-17 21:42:33.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789950652256256 [0;39m 请求地址: http://127.0.0.1:8880/ebook/save POST
2023-05-17 21:42:33.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789950652256256 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.save
2023-05-17 21:42:33.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789950652256256 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:33.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789950652256256 [0;39m 请求参数: [{"category1Id":200,"category2Id":202,"name":"RocketMq实战基础"}]
2023-05-17 21:42:33.793 DEBUG com.jiawa.wiki.mapper.EbookMapper.insert          :137  [32m39789950652256256 [0;39m ==>  Preparing: insert into ebook (id, `name`, category1_id, category2_id, description, cover ) values (?, ?, ?, ?, ?, ? )
2023-05-17 21:42:33.796 DEBUG com.jiawa.wiki.mapper.EbookMapper.insert          :137  [32m39789950652256256 [0;39m ==> Parameters: 39789950677422080(Long), RocketMq实战基础(String), 200(Long), 202(Long), null, null
2023-05-17 21:42:33.866 DEBUG com.jiawa.wiki.mapper.EbookMapper.insert          :137  [32m39789950652256256 [0;39m <==    Updates: 1
2023-05-17 21:42:33.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789950652256256 [0;39m 返回结果: {"success":true}
2023-05-17 21:42:33.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789950652256256 [0;39m ------------- 结束 耗时：113 ms -------------
2023-05-17 21:42:33.868 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39789950652256256 [0;39m ------------- LoginInterceptor 结束 耗时：167 ms -------------
2023-05-17 21:42:33.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789951218487296 [0;39m ------------- 开始 -------------
2023-05-17 21:42:33.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789951218487296 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:42:33.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789951218487296 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:42:33.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789951218487296 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:33.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789951218487296 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:42:33.892 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39789951218487296 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-17 21:42:33.892 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39789951218487296 [0;39m ==> Parameters: 
2023-05-17 21:42:33.932 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39789951218487296 [0;39m <==    Columns: count(0)
2023-05-17 21:42:33.934 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39789951218487296 [0;39m <==        Row: 6
2023-05-17 21:42:33.934 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39789951218487296 [0;39m <==      Total: 1
2023-05-17 21:42:33.935 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39789951218487296 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-17 21:42:33.935 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39789951218487296 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:42:33.969 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789951218487296 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:42:33.969 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789951218487296 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-17 21:42:33.970 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789951218487296 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 207, 2
2023-05-17 21:42:33.970 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789951218487296 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:42:33.970 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789951218487296 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:42:33.971 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789951218487296 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:42:33.971 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789951218487296 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 0, 0, 0
2023-05-17 21:42:33.972 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39789951218487296 [0;39m <==      Total: 6
2023-05-17 21:42:33.972 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39789951218487296 [0;39m 总行数：6
2023-05-17 21:42:33.972 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39789951218487296 [0;39m 总页数：1
2023-05-17 21:42:33.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789951218487296 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":207,"voteCount":2},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":200,"category2Id":202,"docCount":0,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":0,"voteCount":0}],"total":6},"success":true}
2023-05-17 21:42:33.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789951218487296 [0;39m ------------- 结束 耗时：84 ms -------------
2023-05-17 21:42:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39789955911913472 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:42:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789955911913472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:42:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789955911913472 [0;39m ==> Parameters: 
2023-05-17 21:42:35.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39789955911913472 [0;39m <==    Updates: 2
2023-05-17 21:42:35.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39789955911913472 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-17 21:42:35.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789958302666752 [0;39m ------------- 开始 -------------
2023-05-17 21:42:35.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789958302666754 [0;39m ------------- 开始 -------------
2023-05-17 21:42:35.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789958302666752 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 21:42:35.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789958302666753 [0;39m ------------- 开始 -------------
2023-05-17 21:42:35.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789958302666754 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 21:42:35.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789958302666753 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:42:35.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789958302666754 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 21:42:35.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789958302666753 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:42:35.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789958302666754 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:35.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789958302666753 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:35.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789958302666754 [0;39m 请求参数: []
2023-05-17 21:42:35.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789958302666753 [0;39m 请求参数: []
2023-05-17 21:42:35.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789958302666752 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 21:42:35.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789958302666752 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:35.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789958302666752 [0;39m 请求参数: []
2023-05-17 21:42:35.612 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39789958302666754 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:42:35.612 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789958302666753 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:42:35.614 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39789958302666754 [0;39m ==> Parameters: 
2023-05-17 21:42:35.614 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789958302666753 [0;39m ==> Parameters: 
2023-05-17 21:42:35.614 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39789958302666752 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:42:35.615 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39789958302666752 [0;39m ==> Parameters: 
2023-05-17 21:42:35.647 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39789958302666754 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 21:42:35.648 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39789958302666754 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 21:42:35.648 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:42:35.648 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:42:35.648 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:42:35.648 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39789958302666754 [0;39m <==        Row: 2023-05-17, 668, 17, 73, 1
2023-05-17 21:42:35.648 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:42:35.648 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39789958302666754 [0;39m <==      Total: 2
2023-05-17 21:42:35.650 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:42:35.650 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:42:35.650 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:42:35.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789958302666754 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":668,"viewIncrease":73,"voteCount":17,"voteIncrease":1}],"success":true}
2023-05-17 21:42:35.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789958302666754 [0;39m ------------- 结束 耗时：72 ms -------------
2023-05-17 21:42:35.650 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:42:35.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:42:35.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:42:35.651 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:42:35.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:42:35.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:42:35.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:42:35.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:42:35.653 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789958302666753 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:42:35.653 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789958302666753 [0;39m <==      Total: 15
2023-05-17 21:42:35.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789958302666753 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:42:35.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789958302666753 [0;39m ------------- 结束 耗时：76 ms -------------
2023-05-17 21:42:35.654 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789958302666752 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 21:42:35.655 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789958302666752 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 21:42:35.655 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789958302666752 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 21:42:35.656 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789958302666752 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 21:42:35.656 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789958302666752 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 21:42:35.658 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789958302666752 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 21:42:35.658 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789958302666752 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 21:42:35.659 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789958302666752 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 21:42:35.659 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39789958302666752 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 21:42:35.659 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39789958302666752 [0;39m <==      Total: 8
2023-05-17 21:42:35.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789958302666752 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 21:42:35.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789958302666752 [0;39m ------------- 结束 耗时：82 ms -------------
2023-05-17 21:42:35.884 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39789840358838274 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:42:35.884 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39789840358838274 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-17 21:42:35.884 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39789840358838274 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:42:35.919 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39789840358838274 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:42:35.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789959766478848 [0;39m ------------- 开始 -------------
2023-05-17 21:42:35.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789959766478848 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-17 21:42:35.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789959766478848 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-17 21:42:35.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789959766478848 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:35.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789959766478848 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:42:35.933 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39789959766478848 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-17 21:42:35.933 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39789959766478848 [0;39m ==> Parameters: 
2023-05-17 21:42:35.968 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39789959766478848 [0;39m <==    Columns: count(0)
2023-05-17 21:42:35.969 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39789959766478848 [0;39m <==        Row: 2
2023-05-17 21:42:35.969 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39789959766478848 [0;39m <==      Total: 1
2023-05-17 21:42:35.970 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39789959766478848 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-17 21:42:35.970 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39789959766478848 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:42:36.007 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39789959766478848 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 21:42:36.007 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39789959766478848 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 21:42:36.007 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39789959766478848 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-17 21:42:36.008 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39789959766478848 [0;39m <==      Total: 2
2023-05-17 21:42:36.008 INFO  com.jiawa.wiki.service.UserService                :50   [32m39789959766478848 [0;39m 总行数：2
2023-05-17 21:42:36.008 INFO  com.jiawa.wiki.service.UserService                :51   [32m39789959766478848 [0;39m 总页数：1
2023-05-17 21:42:36.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789959766478848 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-17 21:42:36.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789959766478848 [0;39m ------------- 结束 耗时：86 ms -------------
2023-05-17 21:42:36.014 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39789959766478848 [0;39m ------------- LoginInterceptor 结束 耗时：130 ms -------------
2023-05-17 21:42:36.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789960907329536 [0;39m ------------- 开始 -------------
2023-05-17 21:42:36.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789960907329536 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:42:36.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789960907329536 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:42:36.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789960907329536 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:36.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789960907329536 [0;39m 请求参数: []
2023-05-17 21:42:36.236 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789960907329536 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:42:36.236 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789960907329536 [0;39m ==> Parameters: 
2023-05-17 21:42:36.271 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:42:36.271 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:42:36.271 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:42:36.272 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:42:36.272 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:42:36.272 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:42:36.273 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:42:36.273 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:42:36.273 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:42:36.273 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:42:36.273 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:42:36.274 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:42:36.274 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:42:36.274 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:42:36.275 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:42:36.275 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39789960907329536 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:42:36.275 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39789960907329536 [0;39m <==      Total: 15
2023-05-17 21:42:36.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789960907329536 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:42:36.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789960907329536 [0;39m ------------- 结束 耗时：78 ms -------------
2023-05-17 21:42:36.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789961293205504 [0;39m ------------- 开始 -------------
2023-05-17 21:42:36.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789961293205504 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:42:36.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789961293205504 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:42:36.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789961293205504 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:36.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789961293205504 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:42:36.294 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39789961293205504 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-17 21:42:36.294 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39789961293205504 [0;39m ==> Parameters: 
2023-05-17 21:42:36.328 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39789961293205504 [0;39m <==    Columns: count(0)
2023-05-17 21:42:36.329 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39789961293205504 [0;39m <==        Row: 6
2023-05-17 21:42:36.329 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39789961293205504 [0;39m <==      Total: 1
2023-05-17 21:42:36.329 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39789961293205504 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-17 21:42:36.330 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39789961293205504 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:42:36.363 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789961293205504 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:42:36.364 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789961293205504 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-17 21:42:36.365 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789961293205504 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 207, 2
2023-05-17 21:42:36.365 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789961293205504 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:42:36.365 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789961293205504 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:42:36.367 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789961293205504 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:42:36.368 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39789961293205504 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 0, 0, 0
2023-05-17 21:42:36.368 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39789961293205504 [0;39m <==      Total: 6
2023-05-17 21:42:36.368 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39789961293205504 [0;39m 总行数：6
2023-05-17 21:42:36.368 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39789961293205504 [0;39m 总页数：1
2023-05-17 21:42:36.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789961293205504 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":207,"voteCount":2},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":200,"category2Id":202,"docCount":0,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":0,"voteCount":0}],"total":6},"success":true}
2023-05-17 21:42:36.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789961293205504 [0;39m ------------- 结束 耗时：80 ms -------------
2023-05-17 21:42:37.259 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39789965353291776 [0;39m ------------- 开始 -------------
2023-05-17 21:42:37.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39789965353291776 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:42:37.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39789965353291776 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:42:37.262 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39789965353291776 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:42:37.262 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39789965353291776 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:42:37.313 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39789965353291776 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:42:37.313 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39789965353291776 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:42:37.346 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39789965353291776 [0;39m <==      Total: 0
2023-05-17 21:42:37.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39789965353291776 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 21:42:37.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39789965353291776 [0;39m ------------- 结束 耗时：88 ms -------------
2023-05-17 21:42:49.510 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:42:51.553 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:42:51.735 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:42:55.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:42:57.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:43:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39790060790484992 [0;39m 生成今日电子书快照开始
2023-05-17 21:43:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39790060790484992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:43:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39790060790484992 [0;39m ==> Parameters: 
2023-05-17 21:43:00.118 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39790060790484992 [0;39m <==    Updates: 1
2023-05-17 21:43:00.119 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39790060790484992 [0;39m 生成今日电子书快照结束，耗时：106毫秒
2023-05-17 21:43:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39790081724256256 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:43:05.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790081724256256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:43:05.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790081724256256 [0;39m ==> Parameters: 
2023-05-17 21:43:05.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790081724256256 [0;39m <==    Updates: 2
2023-05-17 21:43:05.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39790081724256256 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-17 21:43:13.573 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:43:15.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:43:21.761 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:43:25.413 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:43:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39790207578542080 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:43:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790207578542080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:43:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790207578542080 [0;39m ==> Parameters: 
2023-05-17 21:43:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790207578542080 [0;39m <==    Updates: 2
2023-05-17 21:43:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39790207578542080 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 21:43:36.936 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39789958302666754 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:43:36.936 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39789958302666754 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-17 21:43:36.936 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39789958302666754 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:43:36.968 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39789958302666754 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:43:36.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790215790989312 [0;39m ------------- 开始 -------------
2023-05-17 21:43:36.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790215790989312 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-17 21:43:36.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790215790989312 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-17 21:43:36.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790215790989312 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:36.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790215790989312 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:43:37.008 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39790215790989312 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-17 21:43:37.009 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39790215790989312 [0;39m ==> Parameters: 
2023-05-17 21:43:37.039 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39790215790989312 [0;39m <==    Columns: count(0)
2023-05-17 21:43:37.044 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39790215790989312 [0;39m <==        Row: 2
2023-05-17 21:43:37.044 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39790215790989312 [0;39m <==      Total: 1
2023-05-17 21:43:37.044 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39790215790989312 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-17 21:43:37.044 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39790215790989312 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:43:37.080 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39790215790989312 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 21:43:37.083 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39790215790989312 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 21:43:37.083 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39790215790989312 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-17 21:43:37.083 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39790215790989312 [0;39m <==      Total: 2
2023-05-17 21:43:37.083 INFO  com.jiawa.wiki.service.UserService                :50   [32m39790215790989312 [0;39m 总行数：2
2023-05-17 21:43:37.083 INFO  com.jiawa.wiki.service.UserService                :51   [32m39790215790989312 [0;39m 总页数：1
2023-05-17 21:43:37.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790215790989312 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-17 21:43:37.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790215790989312 [0;39m ------------- 结束 耗时：117 ms -------------
2023-05-17 21:43:37.086 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39790215790989312 [0;39m ------------- LoginInterceptor 结束 耗时：150 ms -------------
2023-05-17 21:43:37.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790218584395776 [0;39m ------------- 开始 -------------
2023-05-17 21:43:37.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790218584395776 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:43:37.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790218584395776 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:43:37.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790218584395776 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:37.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790218584395776 [0;39m 请求参数: []
2023-05-17 21:43:37.656 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:43:37.670 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39790218584395776 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:43:37.670 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39790218584395776 [0;39m ==> Parameters: 
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:43:37.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790218584395776 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:43:37.704 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39790218584395776 [0;39m <==      Total: 15
2023-05-17 21:43:37.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790218584395776 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:43:37.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790218584395776 [0;39m ------------- 结束 耗时：78 ms -------------
2023-05-17 21:43:37.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790218936717312 [0;39m ------------- 开始 -------------
2023-05-17 21:43:37.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790218936717312 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:43:37.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790218936717312 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:43:37.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790218936717312 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:37.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790218936717312 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:43:37.754 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790218936717312 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-17 21:43:37.754 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790218936717312 [0;39m ==> Parameters: 
2023-05-17 21:43:37.797 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790218936717312 [0;39m <==    Columns: count(0)
2023-05-17 21:43:37.797 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790218936717312 [0;39m <==        Row: 6
2023-05-17 21:43:37.798 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790218936717312 [0;39m <==      Total: 1
2023-05-17 21:43:37.798 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790218936717312 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-17 21:43:37.798 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790218936717312 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:43:37.829 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790218936717312 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:43:37.829 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790218936717312 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-17 21:43:37.835 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790218936717312 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 207, 2
2023-05-17 21:43:37.836 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790218936717312 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:43:37.836 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790218936717312 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:43:37.836 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790218936717312 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:43:37.836 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790218936717312 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 0, 0, 0
2023-05-17 21:43:37.836 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790218936717312 [0;39m <==      Total: 6
2023-05-17 21:43:37.836 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39790218936717312 [0;39m 总行数：6
2023-05-17 21:43:37.836 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39790218936717312 [0;39m 总页数：1
2023-05-17 21:43:37.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790218936717312 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":207,"voteCount":2},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":200,"category2Id":202,"docCount":0,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":0,"voteCount":0}],"total":6},"success":true}
2023-05-17 21:43:37.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790218936717312 [0;39m ------------- 结束 耗时：118 ms -------------
2023-05-17 21:43:39.021 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39789959766478848 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:43:39.022 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39789959766478848 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-17 21:43:39.022 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39789959766478848 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:43:39.059 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39789959766478848 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:43:39.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790224565473280 [0;39m ------------- 开始 -------------
2023-05-17 21:43:39.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790224565473280 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-17 21:43:39.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790224565473280 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-17 21:43:39.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790224565473280 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:39.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790224565473280 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:43:39.094 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39790224565473280 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-17 21:43:39.095 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39790224565473280 [0;39m ==> Parameters: 
2023-05-17 21:43:39.127 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39790224565473280 [0;39m <==    Columns: count(0)
2023-05-17 21:43:39.130 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39790224565473280 [0;39m <==        Row: 2
2023-05-17 21:43:39.130 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39790224565473280 [0;39m <==      Total: 1
2023-05-17 21:43:39.130 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39790224565473280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-17 21:43:39.130 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39790224565473280 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:43:39.162 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39790224565473280 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 21:43:39.162 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39790224565473280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 21:43:39.162 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39790224565473280 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-17 21:43:39.162 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39790224565473280 [0;39m <==      Total: 2
2023-05-17 21:43:39.162 INFO  com.jiawa.wiki.service.UserService                :50   [32m39790224565473280 [0;39m 总行数：2
2023-05-17 21:43:39.162 INFO  com.jiawa.wiki.service.UserService                :51   [32m39790224565473280 [0;39m 总页数：1
2023-05-17 21:43:39.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790224565473280 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-17 21:43:39.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790224565473280 [0;39m ------------- 结束 耗时：102 ms -------------
2023-05-17 21:43:39.162 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39790224565473280 [0;39m ------------- LoginInterceptor 结束 耗时：140 ms -------------
2023-05-17 21:43:39.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790226868146176 [0;39m ------------- 开始 -------------
2023-05-17 21:43:39.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790226868146176 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 21:43:39.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790226868146176 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 21:43:39.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790226868146177 [0;39m ------------- 开始 -------------
2023-05-17 21:43:39.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790226868146176 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:39.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790226868146177 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 21:43:39.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790226868146176 [0;39m 请求参数: []
2023-05-17 21:43:39.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790226868146177 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 21:43:39.610 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790226868146177 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:39.610 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790226872340480 [0;39m ------------- 开始 -------------
2023-05-17 21:43:39.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790226868146177 [0;39m 请求参数: []
2023-05-17 21:43:39.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790226872340480 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:43:39.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790226872340480 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:43:39.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790226872340480 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:39.611 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39790226868146177 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:43:39.612 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790226872340480 [0;39m 请求参数: []
2023-05-17 21:43:39.612 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39790226868146177 [0;39m ==> Parameters: 
2023-05-17 21:43:39.642 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39790226868146176 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:43:39.642 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39790226868146176 [0;39m ==> Parameters: 
2023-05-17 21:43:39.642 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39790226868146177 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 21:43:39.642 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39790226868146177 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 21:43:39.642 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39790226868146177 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 21:43:39.642 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39790226868146177 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 21:43:39.642 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39790226868146177 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 21:43:39.642 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39790226868146177 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 21:43:39.642 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39790226868146177 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 21:43:39.642 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39790226872340480 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:43:39.642 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39790226868146177 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 21:43:39.642 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39790226872340480 [0;39m ==> Parameters: 
2023-05-17 21:43:39.642 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39790226868146177 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 21:43:39.642 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39790226868146177 [0;39m <==      Total: 8
2023-05-17 21:43:39.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790226868146177 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 21:43:39.648 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790226868146177 [0;39m ------------- 结束 耗时：39 ms -------------
2023-05-17 21:43:39.677 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39790226868146176 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 21:43:39.677 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39790226868146176 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 21:43:39.678 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39790226868146176 [0;39m <==        Row: 2023-05-17, 668, 17, 73, 1
2023-05-17 21:43:39.678 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39790226868146176 [0;39m <==      Total: 2
2023-05-17 21:43:39.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790226868146176 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":668,"viewIncrease":73,"voteCount":17,"voteIncrease":1}],"success":true}
2023-05-17 21:43:39.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790226868146176 [0;39m ------------- 结束 耗时：69 ms -------------
2023-05-17 21:43:39.690 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:43:39.690 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:43:39.691 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:43:39.691 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:43:39.691 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:43:39.691 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:43:39.692 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:43:39.693 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:43:39.693 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:43:39.693 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:43:39.693 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:43:39.693 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:43:39.693 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:43:39.693 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:43:39.693 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:43:39.693 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:43:39.694 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790226872340480 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:43:39.694 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39790226872340480 [0;39m <==      Total: 15
2023-05-17 21:43:39.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790226872340480 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:43:39.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790226872340480 [0;39m ------------- 结束 耗时：85 ms -------------
2023-05-17 21:43:40.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790230747877376 [0;39m ------------- 开始 -------------
2023-05-17 21:43:40.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790230747877376 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:43:40.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790230747877376 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:43:40.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790230747877376 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:40.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790230747877376 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-17 21:43:40.576 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790230747877376 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 21:43:40.576 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790230747877376 [0;39m ==> Parameters: 101(Long)
2023-05-17 21:43:40.610 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790230747877376 [0;39m <==    Columns: count(0)
2023-05-17 21:43:40.610 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790230747877376 [0;39m <==        Row: 1
2023-05-17 21:43:40.611 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790230747877376 [0;39m <==      Total: 1
2023-05-17 21:43:40.611 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790230747877376 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 21:43:40.611 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790230747877376 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-17 21:43:40.644 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790230747877376 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:43:40.644 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790230747877376 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 207, 2
2023-05-17 21:43:40.645 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790230747877376 [0;39m <==      Total: 1
2023-05-17 21:43:40.645 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39790230747877376 [0;39m 总行数：1
2023-05-17 21:43:40.645 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39790230747877376 [0;39m 总页数：1
2023-05-17 21:43:40.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790230747877376 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":207,"voteCount":2}],"total":1},"success":true}
2023-05-17 21:43:40.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790230747877376 [0;39m ------------- 结束 耗时：111 ms -------------
2023-05-17 21:43:41.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790233633558528 [0;39m ------------- 开始 -------------
2023-05-17 21:43:41.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790233633558528 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:43:41.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790233633558528 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:43:41.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790233633558528 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:41.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790233633558528 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-17 21:43:41.253 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790233633558528 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 21:43:41.253 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790233633558528 [0;39m ==> Parameters: 102(Long)
2023-05-17 21:43:41.291 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790233633558528 [0;39m <==    Columns: count(0)
2023-05-17 21:43:41.291 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790233633558528 [0;39m <==        Row: 0
2023-05-17 21:43:41.291 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790233633558528 [0;39m <==      Total: 1
2023-05-17 21:43:41.291 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39790233633558528 [0;39m 总行数：0
2023-05-17 21:43:41.291 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39790233633558528 [0;39m 总页数：0
2023-05-17 21:43:41.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790233633558528 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-17 21:43:41.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790233633558528 [0;39m ------------- 结束 耗时：69 ms -------------
2023-05-17 21:43:42.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790237207105536 [0;39m ------------- 开始 -------------
2023-05-17 21:43:42.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790237207105536 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:43:42.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790237207105536 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:43:42.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790237207105536 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:42.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790237207105536 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-17 21:43:42.114 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790237207105536 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 21:43:42.115 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790237207105536 [0;39m ==> Parameters: 201(Long)
2023-05-17 21:43:42.148 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790237207105536 [0;39m <==    Columns: count(0)
2023-05-17 21:43:42.149 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790237207105536 [0;39m <==        Row: 0
2023-05-17 21:43:42.149 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790237207105536 [0;39m <==      Total: 1
2023-05-17 21:43:42.149 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39790237207105536 [0;39m 总行数：0
2023-05-17 21:43:42.149 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39790237207105536 [0;39m 总页数：0
2023-05-17 21:43:42.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790237207105536 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-17 21:43:42.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790237207105536 [0;39m ------------- 结束 耗时：75 ms -------------
2023-05-17 21:43:42.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790239123902464 [0;39m ------------- 开始 -------------
2023-05-17 21:43:42.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790239123902464 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:43:42.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790239123902464 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:43:42.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790239123902464 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:42.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790239123902464 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-17 21:43:42.572 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790239123902464 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 21:43:42.572 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790239123902464 [0;39m ==> Parameters: 202(Long)
2023-05-17 21:43:42.608 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790239123902464 [0;39m <==    Columns: count(0)
2023-05-17 21:43:42.608 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790239123902464 [0;39m <==        Row: 2
2023-05-17 21:43:42.608 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790239123902464 [0;39m <==      Total: 1
2023-05-17 21:43:42.608 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790239123902464 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 21:43:42.608 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790239123902464 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-17 21:43:42.641 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790239123902464 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:43:42.649 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790239123902464 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-17 21:43:42.649 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790239123902464 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 0, 0, 0
2023-05-17 21:43:42.649 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790239123902464 [0;39m <==      Total: 2
2023-05-17 21:43:42.650 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39790239123902464 [0;39m 总行数：2
2023-05-17 21:43:42.650 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39790239123902464 [0;39m 总页数：1
2023-05-17 21:43:42.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790239123902464 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":200,"category2Id":202,"docCount":0,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":0,"voteCount":0}],"total":2},"success":true}
2023-05-17 21:43:42.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790239123902464 [0;39m ------------- 结束 耗时：119 ms -------------
2023-05-17 21:43:44.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790248997294080 [0;39m ------------- 开始 -------------
2023-05-17 21:43:44.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790248997294080 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:43:44.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790248997294080 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:43:44.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790248997294080 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:44.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790248997294080 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:43:44.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790249005682688 [0;39m ------------- 开始 -------------
2023-05-17 21:43:44.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790249005682688 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/39789950677422080 GET
2023-05-17 21:43:44.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790249005682688 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 21:43:44.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790249005682688 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:44.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790249005682688 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:43:44.920 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39790249005682688 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 21:43:44.920 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790248997294080 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:43:44.922 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790248997294080 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:43:44.922 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39790249005682688 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:43:44.954 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790248997294080 [0;39m <==      Total: 0
2023-05-17 21:43:44.954 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39790249005682688 [0;39m <==      Total: 0
2023-05-17 21:43:44.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790248997294080 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 21:43:44.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790248997294080 [0;39m ------------- 结束 耗时：69 ms -------------
2023-05-17 21:43:44.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790249005682688 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 21:43:44.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790249005682688 [0;39m ------------- 结束 耗时：67 ms -------------
2023-05-17 21:43:51.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:43:51.755 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:43:53.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:43:54.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790290294411264 [0;39m ------------- 开始 -------------
2023-05-17 21:43:54.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790290294411264 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:43:54.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790290294411264 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:43:54.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790290294411264 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:54.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790290294411264 [0;39m 请求参数: []
2023-05-17 21:43:54.766 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39790290294411264 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:43:54.767 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39790290294411264 [0;39m ==> Parameters: 
2023-05-17 21:43:54.803 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:43:54.804 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790290294411264 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:43:54.804 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39790290294411264 [0;39m <==      Total: 15
2023-05-17 21:43:54.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790290294411264 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:43:54.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790290294411264 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-17 21:43:54.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790290642538496 [0;39m ------------- 开始 -------------
2023-05-17 21:43:54.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790290642538496 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:43:54.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790290642538496 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:43:54.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790290642538496 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:54.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790290642538496 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:43:54.849 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790290642538496 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-17 21:43:54.849 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790290642538496 [0;39m ==> Parameters: 
2023-05-17 21:43:54.885 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790290642538496 [0;39m <==    Columns: count(0)
2023-05-17 21:43:54.885 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790290642538496 [0;39m <==        Row: 6
2023-05-17 21:43:54.885 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790290642538496 [0;39m <==      Total: 1
2023-05-17 21:43:54.885 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790290642538496 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-17 21:43:54.885 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790290642538496 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:43:54.922 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790290642538496 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:43:54.923 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790290642538496 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-17 21:43:54.923 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790290642538496 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 207, 2
2023-05-17 21:43:54.924 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790290642538496 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:43:54.924 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790290642538496 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:43:54.924 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790290642538496 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:43:54.924 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790290642538496 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 0, 0, 0
2023-05-17 21:43:54.925 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790290642538496 [0;39m <==      Total: 6
2023-05-17 21:43:54.925 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39790290642538496 [0;39m 总行数：6
2023-05-17 21:43:54.926 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39790290642538496 [0;39m 总页数：1
2023-05-17 21:43:54.926 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790290642538496 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":207,"voteCount":2},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":200,"category2Id":202,"docCount":0,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":0,"voteCount":0}],"total":6},"success":true}
2023-05-17 21:43:54.926 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790290642538496 [0;39m ------------- 结束 耗时：112 ms -------------
2023-05-17 21:43:55.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:43:56.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790296476815360 [0;39m ------------- 开始 -------------
2023-05-17 21:43:56.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790296476815360 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:43:56.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790296476815360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:43:56.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790296476815360 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:43:56.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790296476815360 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:43:56.243 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790296476815360 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:43:56.243 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790296476815360 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:43:56.276 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790296476815360 [0;39m <==      Total: 0
2023-05-17 21:43:56.276 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790296476815360 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 21:43:56.276 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790296476815360 [0;39m ------------- 结束 耗时：71 ms -------------
2023-05-17 21:44:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39790312402587648 [0;39m 生成今日电子书快照开始
2023-05-17 21:44:00.030 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39790312402587648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:44:00.030 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39790312402587648 [0;39m ==> Parameters: 
2023-05-17 21:44:00.101 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39790312402587648 [0;39m <==    Updates: 0
2023-05-17 21:44:00.101 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39790312402587648 [0;39m 生成今日电子书快照结束，耗时：99毫秒
2023-05-17 21:44:01.726 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:44:03.758 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:44:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39790333399273472 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:44:05.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790333399273472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:44:05.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790333399273472 [0;39m ==> Parameters: 
2023-05-17 21:44:05.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790333399273472 [0;39m <==    Updates: 2
2023-05-17 21:44:05.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39790333399273472 [0;39m 更新电子书下的文档数据结束，耗时：105毫秒
2023-05-17 21:44:14.358 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39789951218487296 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:44:14.359 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39789951218487296 [0;39m ------------- LoginInterceptor 结束 耗时：1 ms -------------
2023-05-17 21:44:14.362 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39790237207105536 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:44:14.362 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39790237207105536 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:44:14.362 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39790237207105536 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:44:14.399 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39790237207105536 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:44:14.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790372804759552 [0;39m ------------- 开始 -------------
2023-05-17 21:44:14.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790372804759552 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:44:14.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790372804759552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:44:14.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790372804759552 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:44:14.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790372804759552 [0;39m 请求参数: [{"content":"","ebookId":39789950677422080,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":1}]
2023-05-17 21:44:14.495 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39790372804759552 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-17 21:44:14.495 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39790372804759552 [0;39m ==> Parameters: 39790373182246912(Long), 39789950677422080(Long), 0(Long), RocketMQ 介绍及基本概念(String), 1(Integer), 0(Integer), 0(Integer)
2023-05-17 21:44:14.563 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39790372804759552 [0;39m <==    Updates: 1
2023-05-17 21:44:14.564 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39790372804759552 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-17 21:44:14.565 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39790372804759552 [0;39m ==> Parameters: 39790373182246912(Long), (String)
2023-05-17 21:44:14.634 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39790372804759552 [0;39m <==    Updates: 1
2023-05-17 21:44:14.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790372804759552 [0;39m 返回结果: {"success":true}
2023-05-17 21:44:14.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790372804759552 [0;39m ------------- 结束 耗时：301 ms -------------
2023-05-17 21:44:14.705 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39790372804759552 [0;39m ------------- LoginInterceptor 结束 耗时：343 ms -------------
2023-05-17 21:44:14.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790374096605184 [0;39m ------------- 开始 -------------
2023-05-17 21:44:14.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790374096605184 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:44:14.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790374096605184 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:44:14.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790374096605184 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:44:14.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790374096605184 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:44:14.749 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790374096605184 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:44:14.750 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790374096605184 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:44:14.782 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790374096605184 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:44:14.783 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790374096605184 [0;39m <==        Row: 39790373182246912, 39789950677422080, 0, RocketMQ 介绍及基本概念, 1, 0, 0
2023-05-17 21:44:14.783 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790374096605184 [0;39m <==      Total: 1
2023-05-17 21:44:14.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790374096605184 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790373182246912,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":1,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 21:44:14.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790374096605184 [0;39m ------------- 结束 耗时：76 ms -------------
2023-05-17 21:44:16.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790381080121344 [0;39m ------------- 开始 -------------
2023-05-17 21:44:16.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790381080121344 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790373182246912 GET
2023-05-17 21:44:16.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790381080121344 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:44:16.377 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790381080121344 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:44:16.377 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790381080121344 [0;39m 请求参数: [39790373182246912]
2023-05-17 21:44:16.412 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790381080121344 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:44:16.412 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790381080121344 [0;39m ==> Parameters: 39790373182246912(Long)
2023-05-17 21:44:16.445 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39790381080121344 [0;39m <==    Columns: id, content
2023-05-17 21:44:16.445 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39790381080121344 [0;39m <==        Row: 39790373182246912, <<BLOB>>
2023-05-17 21:44:16.445 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790381080121344 [0;39m <==      Total: 1
2023-05-17 21:44:16.445 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790381080121344 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:44:16.445 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790381080121344 [0;39m ==> Parameters: 39790373182246912(Long)
2023-05-17 21:44:16.524 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790381080121344 [0;39m <==    Updates: 1
2023-05-17 21:44:16.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790381080121344 [0;39m 返回结果: {"content":"","success":true}
2023-05-17 21:44:16.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790381080121344 [0;39m ------------- 结束 耗时：149 ms -------------
2023-05-17 21:44:21.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:44:21.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:44:23.370 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:44:25.392 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:44:27.427 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:44:29.453 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:44:33.184 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39790249005682688 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:44:33.185 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39790249005682688 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:44:33.185 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39790249005682688 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:44:33.220 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39790249005682688 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:44:33.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790451733172224 [0;39m ------------- 开始 -------------
2023-05-17 21:44:33.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790451733172224 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:44:33.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790451733172224 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:44:33.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790451733172224 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:44:33.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790451733172224 [0;39m 请求参数: [{"content":"<h1><a href=\"https://so.csdn.net/so/search?q=RocketMQ&amp;spm=1001.2101.3001.7020\" target=\"_blank\" style=\"font-size: 1em; background-color: rgb(255, 255, 255);\">RocketMQ</a><span style=\"font-size: 1em; color: rgba(0, 0, 0, 0.65);\">作为一款纯java、分布式、队列模型的开源消息中间件，支持事务消息、顺序消息、批量消息、定时消息、消息回溯等</span><br></h1>","ebookId":39789950677422080,"id":39790373182246912,"name":"1 介绍","parent":0,"sort":1,"viewCount":0,"voteCount":0}]
2023-05-17 21:44:33.287 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39790451733172224 [0;39m ==>  Preparing: update doc set ebook_id = ?, parent = ?, `name` = ?, sort = ?, view_count = ?, vote_count = ? where id = ?
2023-05-17 21:44:33.287 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39790451733172224 [0;39m ==> Parameters: 39789950677422080(Long), 0(Long), 1 介绍(String), 1(Integer), 0(Integer), 0(Integer), 39790373182246912(Long)
2023-05-17 21:44:33.355 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39790451733172224 [0;39m <==    Updates: 1
2023-05-17 21:44:33.357 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39790451733172224 [0;39m ==>  Preparing: update content set content = ? where id = ?
2023-05-17 21:44:33.357 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39790451733172224 [0;39m ==> Parameters: <h1><a href="https://so.csdn.net/so/search?q=RocketMQ&amp;spm=1001.2101.3001.7020" target="_blank" style="font-size: 1em; background-color: rgb(255, 255, 255);">RocketMQ</a><span style="font-size: 1em; color: rgba(0, 0, 0, 0.65);">作为一款纯java、分布式、队列模型的开源消息中间件，支持事务消息、顺序消息、批量消息、定时消息、消息回溯等</span><br></h1>(String), 39790373182246912(Long)
2023-05-17 21:44:33.425 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39790451733172224 [0;39m <==    Updates: 1
2023-05-17 21:44:33.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790451733172224 [0;39m 返回结果: {"success":true}
2023-05-17 21:44:33.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790451733172224 [0;39m ------------- 结束 耗时：273 ms -------------
2023-05-17 21:44:33.494 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39790451733172224 [0;39m ------------- LoginInterceptor 结束 耗时：309 ms -------------
2023-05-17 21:44:33.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790452915965952 [0;39m ------------- 开始 -------------
2023-05-17 21:44:33.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790452915965952 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:44:33.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790452915965952 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:44:33.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790452915965952 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:44:33.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790452915965952 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:44:33.536 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790452915965952 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:44:33.536 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790452915965952 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:44:33.571 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790452915965952 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:44:33.573 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790452915965952 [0;39m <==        Row: 39790373182246912, 39789950677422080, 0, 1 介绍, 1, 0, 0
2023-05-17 21:44:33.573 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790452915965952 [0;39m <==      Total: 1
2023-05-17 21:44:33.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790452915965952 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790373182246912,"name":"1 介绍","parent":0,"sort":1,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 21:44:33.573 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790452915965952 [0;39m ------------- 结束 耗时：70 ms -------------
2023-05-17 21:44:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39790459228393472 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:44:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790459228393472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:44:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790459228393472 [0;39m ==> Parameters: 
2023-05-17 21:44:35.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790459228393472 [0;39m <==    Updates: 3
2023-05-17 21:44:35.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39790459228393472 [0;39m 更新电子书下的文档数据结束，耗时：104毫秒
2023-05-17 21:44:47.351 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39790296476815360 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:44:47.352 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39790296476815360 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:44:47.352 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39790296476815360 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:44:47.386 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39790296476815360 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:44:47.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790511145488384 [0;39m ------------- 开始 -------------
2023-05-17 21:44:47.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790511145488384 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:44:47.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790511145488384 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:44:47.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790511145488384 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:44:47.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790511145488384 [0;39m 请求参数: [{"content":"<h1><br></h1>","ebookId":39789950677422080,"id":39790373182246912,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":1,"viewCount":0,"voteCount":0}]
2023-05-17 21:44:47.452 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39790511145488384 [0;39m ==>  Preparing: update doc set ebook_id = ?, parent = ?, `name` = ?, sort = ?, view_count = ?, vote_count = ? where id = ?
2023-05-17 21:44:47.452 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39790511145488384 [0;39m ==> Parameters: 39789950677422080(Long), 0(Long), RocketMQ 介绍及基本概念(String), 1(Integer), 0(Integer), 0(Integer), 39790373182246912(Long)
2023-05-17 21:44:47.520 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39790511145488384 [0;39m <==    Updates: 1
2023-05-17 21:44:47.521 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39790511145488384 [0;39m ==>  Preparing: update content set content = ? where id = ?
2023-05-17 21:44:47.522 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39790511145488384 [0;39m ==> Parameters: <h1><br></h1>(String), 39790373182246912(Long)
2023-05-17 21:44:47.589 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39790511145488384 [0;39m <==    Updates: 1
2023-05-17 21:44:47.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790511145488384 [0;39m 返回结果: {"success":true}
2023-05-17 21:44:47.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790511145488384 [0;39m ------------- 结束 耗时：274 ms -------------
2023-05-17 21:44:47.661 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39790511145488384 [0;39m ------------- LoginInterceptor 结束 耗时：309 ms -------------
2023-05-17 21:44:47.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790512336670720 [0;39m ------------- 开始 -------------
2023-05-17 21:44:47.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790512336670720 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:44:47.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790512336670720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:44:47.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790512336670720 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:44:47.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790512336670720 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:44:47.670 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790512336670720 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:44:47.670 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790512336670720 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:44:47.703 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790512336670720 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:44:47.703 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790512336670720 [0;39m <==        Row: 39790373182246912, 39789950677422080, 0, RocketMQ 介绍及基本概念, 1, 0, 0
2023-05-17 21:44:47.703 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790512336670720 [0;39m <==      Total: 1
2023-05-17 21:44:47.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790512336670720 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790373182246912,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":1,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 21:44:47.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790512336670720 [0;39m ------------- 结束 耗时：36 ms -------------
2023-05-17 21:44:47.851 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39790372804759552 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:44:47.851 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39790372804759552 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:44:47.852 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39790372804759552 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:44:47.883 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39790372804759552 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:44:47.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790513246834688 [0;39m ------------- 开始 -------------
2023-05-17 21:44:47.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790513246834688 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:44:47.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790513246834688 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:44:47.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790513246834688 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:44:47.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790513246834688 [0;39m 请求参数: [{"content":"<h1><br></h1>","ebookId":39789950677422080,"id":39790373182246912,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":1,"viewCount":0,"voteCount":0}]
2023-05-17 21:44:47.923 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39790513246834688 [0;39m ==>  Preparing: update doc set ebook_id = ?, parent = ?, `name` = ?, sort = ?, view_count = ?, vote_count = ? where id = ?
2023-05-17 21:44:47.924 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39790513246834688 [0;39m ==> Parameters: 39789950677422080(Long), 0(Long), RocketMQ 介绍及基本概念(String), 1(Integer), 0(Integer), 0(Integer), 39790373182246912(Long)
2023-05-17 21:44:47.987 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39790513246834688 [0;39m <==    Updates: 1
2023-05-17 21:44:47.987 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39790513246834688 [0;39m ==>  Preparing: update content set content = ? where id = ?
2023-05-17 21:44:47.987 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39790513246834688 [0;39m ==> Parameters: <h1><br></h1>(String), 39790373182246912(Long)
2023-05-17 21:44:48.058 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39790513246834688 [0;39m <==    Updates: 1
2023-05-17 21:44:48.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790513246834688 [0;39m 返回结果: {"success":true}
2023-05-17 21:44:48.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790513246834688 [0;39m ------------- 结束 耗时：237 ms -------------
2023-05-17 21:44:48.124 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39790513246834688 [0;39m ------------- LoginInterceptor 结束 耗时：273 ms -------------
2023-05-17 21:44:48.131 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790514270244864 [0;39m ------------- 开始 -------------
2023-05-17 21:44:48.131 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790514270244864 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:44:48.131 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790514270244864 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:44:48.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790514270244864 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:44:48.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790514270244864 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:44:48.166 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790514270244864 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:44:48.167 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790514270244864 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:44:48.203 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790514270244864 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:44:48.203 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790514270244864 [0;39m <==        Row: 39790373182246912, 39789950677422080, 0, RocketMQ 介绍及基本概念, 1, 0, 0
2023-05-17 21:44:48.203 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790514270244864 [0;39m <==      Total: 1
2023-05-17 21:44:48.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790514270244864 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790373182246912,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":1,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 21:44:48.204 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790514270244864 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-17 21:44:51.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:44:51.749 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:44:55.389 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:44:57.414 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:45:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39790564081799168 [0;39m 生成今日电子书快照开始
2023-05-17 21:45:00.040 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39790564081799168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:45:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39790564081799168 [0;39m ==> Parameters: 
2023-05-17 21:45:00.105 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39790564081799168 [0;39m <==    Updates: 0
2023-05-17 21:45:00.105 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39790564081799168 [0;39m 生成今日电子书快照结束，耗时：98毫秒
2023-05-17 21:45:04.622 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39790239123902464 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:45:04.622 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39790239123902464 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:45:04.622 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39790239123902464 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:45:04.657 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39790239123902464 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:45:04.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790583585312768 [0;39m ------------- 开始 -------------
2023-05-17 21:45:04.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790583585312768 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:45:04.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790583585312768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:45:04.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790583585312768 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:45:04.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790583585312768 [0;39m 请求参数: [{"content":"<h1><a href=\"https://so.csdn.net/so/search?q=RocketMQ&amp;spm=1001.2101.3001.7020\" target=\"_blank\" style=\"font-size: 1em; background-color: rgb(255, 255, 255);\">RocketMQ</a><span style=\"font-size: 1em;\">作为一款纯java、分布式、队列模型的开源消息中间件，支持事务消息、顺序消息、批量消息、定时消息、消息回溯等</span><br></h1>","ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0}]
2023-05-17 21:45:04.730 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39790583585312768 [0;39m ==>  Preparing: update doc set ebook_id = ?, parent = ?, `name` = ?, sort = ?, view_count = ?, vote_count = ? where id = ?
2023-05-17 21:45:04.730 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39790583585312768 [0;39m ==> Parameters: 39789950677422080(Long), 39790373182246912(Long), 介绍(String), 1(Integer), 0(Integer), 0(Integer), 39790373182246912(Long)
2023-05-17 21:45:04.801 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39790583585312768 [0;39m <==    Updates: 1
2023-05-17 21:45:04.801 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39790583585312768 [0;39m ==>  Preparing: update content set content = ? where id = ?
2023-05-17 21:45:04.804 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39790583585312768 [0;39m ==> Parameters: <h1><a href="https://so.csdn.net/so/search?q=RocketMQ&amp;spm=1001.2101.3001.7020" target="_blank" style="font-size: 1em; background-color: rgb(255, 255, 255);">RocketMQ</a><span style="font-size: 1em;">作为一款纯java、分布式、队列模型的开源消息中间件，支持事务消息、顺序消息、批量消息、定时消息、消息回溯等</span><br></h1>(String), 39790373182246912(Long)
2023-05-17 21:45:04.875 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39790583585312768 [0;39m <==    Updates: 1
2023-05-17 21:45:04.951 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790583585312768 [0;39m 返回结果: {"success":true}
2023-05-17 21:45:04.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790583585312768 [0;39m ------------- 结束 耗时：295 ms -------------
2023-05-17 21:45:04.952 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39790583585312768 [0;39m ------------- LoginInterceptor 结束 耗时：330 ms -------------
2023-05-17 21:45:04.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790584856186880 [0;39m ------------- 开始 -------------
2023-05-17 21:45:04.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790584856186880 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:45:04.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790584856186880 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:45:04.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790584856186880 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:45:04.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790584856186880 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:45:04.993 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790584856186880 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:45:04.994 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790584856186880 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:45:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39790585053319168 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:45:05.028 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790584856186880 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:45:05.028 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790584856186880 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 21:45:05.028 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790584856186880 [0;39m <==      Total: 1
2023-05-17 21:45:05.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790584856186880 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 21:45:05.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790584856186880 [0;39m ------------- 结束 耗时：69 ms -------------
2023-05-17 21:45:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790585053319168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:45:05.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790585053319168 [0;39m ==> Parameters: 
2023-05-17 21:45:05.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790585053319168 [0;39m <==    Updates: 3
2023-05-17 21:45:05.104 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39790585053319168 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 21:45:09.577 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39790451733172224 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:45:09.577 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39790451733172224 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-17 21:45:09.577 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39790451733172224 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:45:09.605 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39790451733172224 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:45:09.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790604338728960 [0;39m ------------- 开始 -------------
2023-05-17 21:45:09.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790604338728960 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-17 21:45:09.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790604338728960 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-17 21:45:09.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790604338728960 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:45:09.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790604338728960 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:45:09.639 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39790604338728960 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-17 21:45:09.647 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39790604338728960 [0;39m ==> Parameters: 
2023-05-17 21:45:09.679 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39790604338728960 [0;39m <==    Columns: count(0)
2023-05-17 21:45:09.679 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39790604338728960 [0;39m <==        Row: 2
2023-05-17 21:45:09.679 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39790604338728960 [0;39m <==      Total: 1
2023-05-17 21:45:09.679 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39790604338728960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-17 21:45:09.679 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39790604338728960 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:45:09.716 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39790604338728960 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 21:45:09.716 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39790604338728960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 21:45:09.716 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39790604338728960 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-17 21:45:09.716 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39790604338728960 [0;39m <==      Total: 2
2023-05-17 21:45:09.716 INFO  com.jiawa.wiki.service.UserService                :50   [32m39790604338728960 [0;39m 总行数：2
2023-05-17 21:45:09.716 INFO  com.jiawa.wiki.service.UserService                :51   [32m39790604338728960 [0;39m 总页数：1
2023-05-17 21:45:09.716 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790604338728960 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-17 21:45:09.716 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790604338728960 [0;39m ------------- 结束 耗时：111 ms -------------
2023-05-17 21:45:09.716 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39790604338728960 [0;39m ------------- LoginInterceptor 结束 耗时：139 ms -------------
2023-05-17 21:45:10.067 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790606276497408 [0;39m ------------- 开始 -------------
2023-05-17 21:45:10.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790606276497408 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:45:10.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790606276497408 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:45:10.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790606276497408 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:45:10.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790606276497408 [0;39m 请求参数: []
2023-05-17 21:45:10.100 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39790606276497408 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:45:10.103 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39790606276497408 [0;39m ==> Parameters: 
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:45:10.138 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39790606276497408 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:45:10.138 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39790606276497408 [0;39m <==      Total: 15
2023-05-17 21:45:10.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790606276497408 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:45:10.138 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790606276497408 [0;39m ------------- 结束 耗时：71 ms -------------
2023-05-17 21:45:10.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790606633013248 [0;39m ------------- 开始 -------------
2023-05-17 21:45:10.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790606633013248 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:45:10.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790606633013248 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:45:10.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790606633013248 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:45:10.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790606633013248 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:45:10.187 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790606633013248 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-17 21:45:10.187 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790606633013248 [0;39m ==> Parameters: 
2023-05-17 21:45:10.223 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790606633013248 [0;39m <==    Columns: count(0)
2023-05-17 21:45:10.229 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39790606633013248 [0;39m <==        Row: 6
2023-05-17 21:45:10.229 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39790606633013248 [0;39m <==      Total: 1
2023-05-17 21:45:10.229 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790606633013248 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-17 21:45:10.229 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790606633013248 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:45:10.266 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790606633013248 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:45:10.267 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790606633013248 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-17 21:45:10.267 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790606633013248 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 207, 2
2023-05-17 21:45:10.267 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790606633013248 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:45:10.268 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790606633013248 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:45:10.268 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790606633013248 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:45:10.268 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39790606633013248 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 1, 0, 0
2023-05-17 21:45:10.269 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39790606633013248 [0;39m <==      Total: 6
2023-05-17 21:45:10.269 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39790606633013248 [0;39m 总行数：6
2023-05-17 21:45:10.269 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39790606633013248 [0;39m 总页数：1
2023-05-17 21:45:10.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790606633013248 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":207,"voteCount":2},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":200,"category2Id":202,"docCount":1,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":0,"voteCount":0}],"total":6},"success":true}
2023-05-17 21:45:10.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790606633013248 [0;39m ------------- 结束 耗时：119 ms -------------
2023-05-17 21:45:11.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790611703926784 [0;39m ------------- 开始 -------------
2023-05-17 21:45:11.362 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790611703926784 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:45:11.362 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790611703926784 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:45:11.362 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790611703926784 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:45:11.362 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790611703926784 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:45:11.396 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790611703926784 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:45:11.397 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790611703926784 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:45:11.433 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790611703926784 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:45:11.433 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790611703926784 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 21:45:11.434 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790611703926784 [0;39m <==      Total: 1
2023-05-17 21:45:11.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790611703926784 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 21:45:11.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790611703926784 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-17 21:45:19.443 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:45:21.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:45:21.757 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:45:23.253 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39790511145488384 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:45:23.254 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39790511145488384 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:45:23.254 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39790511145488384 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:45:23.284 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39790511145488384 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:45:23.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790661737779200 [0;39m ------------- 开始 -------------
2023-05-17 21:45:23.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790661737779200 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:45:23.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790661737779200 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:45:23.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790661737779200 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:45:23.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790661737779200 [0;39m 请求参数: [{"content":"","ebookId":39789950677422080,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":1}]
2023-05-17 21:45:23.354 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39790661737779200 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-17 21:45:23.354 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39790661737779200 [0;39m ==> Parameters: 39790662006214656(Long), 39789950677422080(Long), 0(Long), RocketMQ 介绍及基本概念(String), 1(Integer), 0(Integer), 0(Integer)
2023-05-17 21:45:23.424 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39790661737779200 [0;39m <==    Updates: 1
2023-05-17 21:45:23.424 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39790661737779200 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-17 21:45:23.424 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39790661737779200 [0;39m ==> Parameters: 39790662006214656(Long), (String)
2023-05-17 21:45:23.491 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39790661737779200 [0;39m <==    Updates: 1
2023-05-17 21:45:23.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:45:23.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790661737779200 [0;39m 返回结果: {"success":true}
2023-05-17 21:45:23.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790661737779200 [0;39m ------------- 结束 耗时：267 ms -------------
2023-05-17 21:45:23.561 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39790661737779200 [0;39m ------------- LoginInterceptor 结束 耗时：307 ms -------------
2023-05-17 21:45:23.568 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790662903795712 [0;39m ------------- 开始 -------------
2023-05-17 21:45:23.569 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790662903795712 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:45:23.569 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790662903795712 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:45:23.569 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790662903795712 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:45:23.569 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790662903795712 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:45:23.570 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790662903795712 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:45:23.570 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790662903795712 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:45:23.604 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790662903795712 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:45:23.604 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790662903795712 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 21:45:23.604 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790662903795712 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 1, 0, 0
2023-05-17 21:45:23.604 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790662903795712 [0;39m <==      Total: 2
2023-05-17 21:45:23.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790662903795712 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":1,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 21:45:23.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790662903795712 [0;39m ------------- 结束 耗时：36 ms -------------
2023-05-17 21:45:24.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790667450421248 [0;39m ------------- 开始 -------------
2023-05-17 21:45:24.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790667450421248 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2023-05-17 21:45:24.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790667450421248 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:45:24.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790667450421248 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:45:24.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790667450421248 [0;39m 请求参数: [39790662006214656]
2023-05-17 21:45:24.686 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790667450421248 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:45:24.687 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790667450421248 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:45:24.722 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39790667450421248 [0;39m <==    Columns: id, content
2023-05-17 21:45:24.722 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39790667450421248 [0;39m <==        Row: 39790662006214656, <<BLOB>>
2023-05-17 21:45:24.722 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790667450421248 [0;39m <==      Total: 1
2023-05-17 21:45:24.722 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790667450421248 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:45:24.722 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790667450421248 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:45:24.792 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790667450421248 [0;39m <==    Updates: 1
2023-05-17 21:45:24.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790667450421248 [0;39m 返回结果: {"content":"","success":true}
2023-05-17 21:45:24.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790667450421248 [0;39m ------------- 结束 耗时：141 ms -------------
2023-05-17 21:45:25.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:45:27.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:45:33.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790704406433792 [0;39m ------------- 开始 -------------
2023-05-17 21:45:33.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790704406433792 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2023-05-17 21:45:33.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790704406433792 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:45:33.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790704406433792 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:45:33.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790704406433792 [0;39m 请求参数: [39790662006214656]
2023-05-17 21:45:33.500 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790704406433792 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:45:33.500 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790704406433792 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:45:33.534 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39790704406433792 [0;39m <==    Columns: id, content
2023-05-17 21:45:33.534 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39790704406433792 [0;39m <==        Row: 39790662006214656, <<BLOB>>
2023-05-17 21:45:33.534 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790704406433792 [0;39m <==      Total: 1
2023-05-17 21:45:33.534 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790704406433792 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:45:33.534 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790704406433792 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:45:33.611 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790704406433792 [0;39m <==    Updates: 1
2023-05-17 21:45:33.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790704406433792 [0;39m 返回结果: {"content":"","success":true}
2023-05-17 21:45:33.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790704406433792 [0;39m ------------- 结束 耗时：148 ms -------------
2023-05-17 21:45:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39790710878244864 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:45:35.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790710878244864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:45:35.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790710878244864 [0;39m ==> Parameters: 
2023-05-17 21:45:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790710878244864 [0;39m <==    Updates: 3
2023-05-17 21:45:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39790710878244864 [0;39m 更新电子书下的文档数据结束，耗时：103毫秒
2023-05-17 21:45:43.520 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:45:45.544 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:45:51.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:45:51.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:45:53.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:45:55.408 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:45:55.606 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39790584856186880 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:45:55.606 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39790584856186880 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:45:55.607 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39790584856186880 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:45:55.637 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39790584856186880 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:45:55.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790797431902208 [0;39m ------------- 开始 -------------
2023-05-17 21:45:55.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790797431902208 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:45:55.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790797431902208 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:45:55.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790797431902208 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:45:55.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790797431902208 [0;39m 请求参数: [{"content":"<p><a href=\"https://so.csdn.net/so/search?q=RocketMQ&amp;spm=1001.2101.3001.7020\" target=\"_blank\">RocketMQ</a>作为一款纯java、分布式、队列模型的开源消息中间件，支持事务消息、顺序消息、批量消息、定时消息、消息回溯等。<br></p>","ebookId":39789950677422080,"name":"介绍","parent":39790662006214656,"sort":1}]
2023-05-17 21:45:55.707 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39790797431902208 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-17 21:45:55.707 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39790797431902208 [0;39m ==> Parameters: 39790797704531968(Long), 39789950677422080(Long), 39790662006214656(Long), 介绍(String), 1(Integer), 0(Integer), 0(Integer)
2023-05-17 21:45:55.775 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39790797431902208 [0;39m <==    Updates: 1
2023-05-17 21:45:55.776 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39790797431902208 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-17 21:45:55.777 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39790797431902208 [0;39m ==> Parameters: 39790797704531968(Long), <p><a href="https://so.csdn.net/so/search?q=RocketMQ&amp;spm=1001.2101.3001.7020" target="_blank">RocketMQ</a>作为一款纯java、分布式、队列模型的开源消息中间件，支持事务消息、顺序消息、批量消息、定时消息、消息回溯等。<br></p>(String)
2023-05-17 21:45:55.846 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39790797431902208 [0;39m <==    Updates: 1
2023-05-17 21:45:55.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790797431902208 [0;39m 返回结果: {"success":true}
2023-05-17 21:45:55.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790797431902208 [0;39m ------------- 结束 耗时：274 ms -------------
2023-05-17 21:45:55.916 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39790797431902208 [0;39m ------------- LoginInterceptor 结束 耗时：310 ms -------------
2023-05-17 21:45:55.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790798610501632 [0;39m ------------- 开始 -------------
2023-05-17 21:45:55.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790798610501632 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:45:55.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790798610501632 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:45:55.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790798610501632 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:45:55.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790798610501632 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:45:55.957 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790798610501632 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:45:55.957 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790798610501632 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:45:55.992 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790798610501632 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:45:55.992 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790798610501632 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 21:45:55.993 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790798610501632 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 1, 2, 0
2023-05-17 21:45:55.993 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39790798610501632 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 21:45:55.994 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39790798610501632 [0;39m <==      Total: 3
2023-05-17 21:45:55.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790798610501632 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 21:45:55.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790798610501632 [0;39m ------------- 结束 耗时：71 ms -------------
2023-05-17 21:45:57.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790806499987456 [0;39m ------------- 开始 -------------
2023-05-17 21:45:57.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790806499987456 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2023-05-17 21:45:57.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790806499987456 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:45:57.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790806499987456 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:45:57.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790806499987456 [0;39m 请求参数: [39790662006214656]
2023-05-17 21:45:57.838 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790806499987456 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:45:57.840 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790806499987456 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:45:57.873 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39790806499987456 [0;39m <==    Columns: id, content
2023-05-17 21:45:57.873 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39790806499987456 [0;39m <==        Row: 39790662006214656, <<BLOB>>
2023-05-17 21:45:57.873 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790806499987456 [0;39m <==      Total: 1
2023-05-17 21:45:57.876 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790806499987456 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:45:57.876 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790806499987456 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:45:57.942 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790806499987456 [0;39m <==    Updates: 1
2023-05-17 21:45:57.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790806499987456 [0;39m 返回结果: {"content":"","success":true}
2023-05-17 21:45:57.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790806499987456 [0;39m ------------- 结束 耗时：142 ms -------------
2023-05-17 21:46:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39790815748427776 [0;39m 生成今日电子书快照开始
2023-05-17 21:46:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39790815748427776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:46:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39790815748427776 [0;39m ==> Parameters: 
2023-05-17 21:46:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39790815748427776 [0;39m <==    Updates: 0
2023-05-17 21:46:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39790815748427776 [0;39m 生成今日电子书快照结束，耗时：102毫秒
2023-05-17 21:46:04.998 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39790836673810432 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:46:05.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790836673810432 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:46:05.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790836673810432 [0;39m ==> Parameters: 
2023-05-17 21:46:05.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790836673810432 [0;39m <==    Updates: 3
2023-05-17 21:46:05.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39790836673810432 [0;39m 更新电子书下的文档数据结束，耗时：108毫秒
2023-05-17 21:46:05.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790839756623872 [0;39m ------------- 开始 -------------
2023-05-17 21:46:05.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790839756623872 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790797704531968 GET
2023-05-17 21:46:05.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790839756623872 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:46:05.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790839756623872 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:46:05.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790839756623872 [0;39m 请求参数: [39790797704531968]
2023-05-17 21:46:05.768 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790839756623872 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:46:05.768 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790839756623872 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:46:05.803 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39790839756623872 [0;39m <==    Columns: id, content
2023-05-17 21:46:05.803 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39790839756623872 [0;39m <==        Row: 39790797704531968, <<BLOB>>
2023-05-17 21:46:05.804 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790839756623872 [0;39m <==      Total: 1
2023-05-17 21:46:05.804 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790839756623872 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:46:05.804 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790839756623872 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:46:05.873 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790839756623872 [0;39m <==    Updates: 1
2023-05-17 21:46:05.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790839756623872 [0;39m 返回结果: {"content":"<p><a href=\"https://so.csdn.net/so/search?q=RocketMQ&amp;spm=1001.2101.3001.7020\" target=\"_blank\">RocketMQ</a>作为一款纯java、分布式、队列模型的开源消息中间件，支持事务消息、顺序消息、批量消息、定时消息、消息回溯等。<br></p>","success":true}
2023-05-17 21:46:05.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790839756623872 [0;39m ------------- 结束 耗时：140 ms -------------
2023-05-17 21:46:07.567 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:46:09.601 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:46:16.631 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39790661737779200 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:46:16.631 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39790661737779200 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:46:16.632 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39790661737779200 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:46:16.666 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39790661737779200 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:46:16.677 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39790661737779200 [0;39m 系统异常：
org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.lang.Integer` from String "1.1": not a valid Integer value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.lang.Integer` from String "1.1": not a valid Integer value
 at [Source: (PushbackInputStream); line: 1, column: 118] (through reference chain: com.jiawa.wiki.req.DocSaveReq["sort"])
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:285)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:243)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:205)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:158)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:131)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.lang.Integer` from String "1.1": not a valid Integer value
 at [Source: (PushbackInputStream); line: 1, column: 118] (through reference chain: com.jiawa.wiki.req.DocSaveReq["sort"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1702)
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:947)
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer._parseInteger(NumberDeserializers.java:527)
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:479)
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:457)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:371)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4526)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3521)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:274)
	... 51 common frames omitted
2023-05-17 21:46:16.677 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39790661737779200 [0;39m Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.lang.Integer` from String "1.1": not a valid Integer value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.lang.Integer` from String "1.1": not a valid Integer value
 at [Source: (PushbackInputStream); line: 1, column: 118] (through reference chain: com.jiawa.wiki.req.DocSaveReq["sort"])]
2023-05-17 21:46:21.777 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:46:23.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39790915547697152 [0;39m ------------- 开始 -------------
2023-05-17 21:46:23.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39790915547697152 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790797704531968 GET
2023-05-17 21:46:23.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39790915547697152 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:46:23.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39790915547697152 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:46:23.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39790915547697152 [0;39m 请求参数: [39790797704531968]
2023-05-17 21:46:23.837 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790915547697152 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:46:23.837 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790915547697152 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:46:23.871 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39790915547697152 [0;39m <==    Columns: id, content
2023-05-17 21:46:23.872 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39790915547697152 [0;39m <==        Row: 39790797704531968, <<BLOB>>
2023-05-17 21:46:23.872 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39790915547697152 [0;39m <==      Total: 1
2023-05-17 21:46:23.873 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790915547697152 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:46:23.873 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790915547697152 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:46:23.942 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39790915547697152 [0;39m <==    Updates: 1
2023-05-17 21:46:23.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39790915547697152 [0;39m 返回结果: {"content":"<p><a href=\"https://so.csdn.net/so/search?q=RocketMQ&amp;spm=1001.2101.3001.7020\" target=\"_blank\">RocketMQ</a>作为一款纯java、分布式、队列模型的开源消息中间件，支持事务消息、顺序消息、批量消息、定时消息、消息回溯等。<br></p>","success":true}
2023-05-17 21:46:23.943 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39790915547697152 [0;39m ------------- 结束 耗时：140 ms -------------
2023-05-17 21:46:25.379 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:46:31.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:46:33.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:46:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39790962532290560 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:46:35.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790962532290560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:46:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790962532290560 [0;39m ==> Parameters: 
2023-05-17 21:46:35.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39790962532290560 [0;39m <==    Updates: 3
2023-05-17 21:46:35.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39790962532290560 [0;39m 更新电子书下的文档数据结束，耗时：105毫秒
2023-05-17 21:46:37.275 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39790513246834688 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:46:37.275 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39790513246834688 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:46:37.275 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39790513246834688 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:46:37.309 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39790513246834688 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:46:37.309 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39790513246834688 [0;39m 系统异常：
org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.lang.Integer` from String "1.1": not a valid Integer value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.lang.Integer` from String "1.1": not a valid Integer value
 at [Source: (PushbackInputStream); line: 1, column: 118] (through reference chain: com.jiawa.wiki.req.DocSaveReq["sort"])
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:285)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:243)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:205)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:158)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:131)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.lang.Integer` from String "1.1": not a valid Integer value
 at [Source: (PushbackInputStream); line: 1, column: 118] (through reference chain: com.jiawa.wiki.req.DocSaveReq["sort"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1702)
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:947)
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer._parseInteger(NumberDeserializers.java:527)
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:479)
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:457)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:371)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4526)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3521)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:274)
	... 51 common frames omitted
2023-05-17 21:46:37.309 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39790513246834688 [0;39m Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.lang.Integer` from String "1.1": not a valid Integer value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.lang.Integer` from String "1.1": not a valid Integer value
 at [Source: (PushbackInputStream); line: 1, column: 118] (through reference chain: com.jiawa.wiki.req.DocSaveReq["sort"])]
2023-05-17 21:46:51.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:46:51.410 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39790667450421248 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:46:51.410 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39790667450421248 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:46:51.411 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39790667450421248 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:46:51.440 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39790667450421248 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:46:51.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791031499231232 [0;39m ------------- 开始 -------------
2023-05-17 21:46:51.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791031499231232 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:46:51.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791031499231232 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:46:51.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791031499231232 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:46:51.448 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791031499231232 [0;39m 请求参数: [{"content":"<p>支持发布/订阅（Pub/Sub）和点对点（P2P）消息模型<br><br>在一个队列中可靠的先进先出（FIFO）和严格的顺序传递 （RocketMQ可以保证严格的消息顺序，而ActiveMQ无法保证）<br><br>支持拉（pull）和推（push）两种消息模式<br><br>pull其实就是消费者主动从MQ中去拉消息，而push则像rabbit MQ一样，是MQ给消费者推送消息。但是RocketMQ的push其实是基于pull来实现的。<br>它会先由一个业务代码从MQ中pull消息，然后再由业务代码push给特定的应用/消费者。其实底层就是一个pull模式<br><br>单一队列百万消息的堆积能力 （RocketMQ提供亿级消息的堆积能力，这不是重点，重点是堆积了亿级的消息后，依然保持写入低延迟）<br><br>支持多种消息协议，如 JMS、MQTT 等<br><br>分布式高可用的部署架构,满足至少一次消息传递语义（RocketMQ原生就是支持分布式的，而ActiveMQ原生存在单点性）<br><br>提供 docker 镜像用于隔离测试和云集群部署<br><br>提供配置、指标和监控等功能丰富的 Dashboard<br>————————————————<br>版权声明：本文为CSDN博主「fFee-ops」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：https://blog.csdn.net/qq_21040559/article/details/122703715</p>","ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":0,"voteCount":0}]
2023-05-17 21:46:51.516 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39791031499231232 [0;39m ==>  Preparing: update doc set ebook_id = ?, parent = ?, `name` = ?, sort = ?, view_count = ?, vote_count = ? where id = ?
2023-05-17 21:46:51.516 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39791031499231232 [0;39m ==> Parameters: 39789950677422080(Long), 39790662006214656(Long), RocketMQ 特点(String), 2(Integer), 0(Integer), 0(Integer), 39790797704531968(Long)
2023-05-17 21:46:51.586 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39791031499231232 [0;39m <==    Updates: 1
2023-05-17 21:46:51.586 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39791031499231232 [0;39m ==>  Preparing: update content set content = ? where id = ?
2023-05-17 21:46:51.588 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39791031499231232 [0;39m ==> Parameters: <p>支持发布/订阅（Pub/Sub）和点对点（P2P）消息模型<br><br>在一个队列中可靠的先进先出（FIFO）和严格的顺序传递 （RocketMQ可以保证严格的消息顺序，而ActiveMQ无法保证）<br><br>支持拉（pull）和推（push）两种消息模式<br><br>pull其实就是消费者主动从MQ中去拉消息，而push则像rabbit MQ一样，是MQ给消费者推送消息。但是RocketMQ的push其实是基于pull来实现的。<br>它会先由一个业务代码从MQ中pull消息，然后再由业务代码push给特定的应用/消费者。其实底层就是一个pull模式<br><br>单一队列百万消息的堆积能力 （RocketMQ提供亿级消息的堆积能力，这不是重点，重点是堆积了亿级的消息后，依然保持写入低延迟）<br><br>支持多种消息协议，如 JMS、MQTT 等<br><br>分布式高可用的部署架构,满足至少一次消息传递语义（RocketMQ原生就是支持分布式的，而ActiveMQ原生存在单点性）<br><br>提供 docker 镜像用于隔离测试和云集群部署<br><br>提供配置、指标和监控等功能丰富的 Dashboard<br>————————————————<br>版权声明：本文为CSDN博主「fFee-ops」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：https://blog.csdn.net/qq_21040559/article/details/122703715</p>(String), 39790797704531968(Long)
2023-05-17 21:46:51.655 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39791031499231232 [0;39m <==    Updates: 1
2023-05-17 21:46:51.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791031499231232 [0;39m 返回结果: {"success":true}
2023-05-17 21:46:51.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791031499231232 [0;39m ------------- 结束 耗时：277 ms -------------
2023-05-17 21:46:51.726 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39791031499231232 [0;39m ------------- LoginInterceptor 结束 耗时：316 ms -------------
2023-05-17 21:46:51.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791032669442048 [0;39m ------------- 开始 -------------
2023-05-17 21:46:51.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791032669442048 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:46:51.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791032669442048 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:46:51.732 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:46:51.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791032669442048 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:46:51.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791032669442048 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:46:51.766 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791032669442048 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:46:51.770 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791032669442048 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:46:51.802 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791032669442048 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:46:51.802 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791032669442048 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 21:46:51.802 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791032669442048 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 1, 3, 0
2023-05-17 21:46:51.802 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791032669442048 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 0, 0
2023-05-17 21:46:51.802 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791032669442048 [0;39m <==      Total: 3
2023-05-17 21:46:51.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791032669442048 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 21:46:51.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791032669442048 [0;39m ------------- 结束 耗时：75 ms -------------
2023-05-17 21:46:53.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:46:55.359 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:46:57.382 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:46:57.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791058602823680 [0;39m ------------- 开始 -------------
2023-05-17 21:46:57.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791058602823681 [0;39m ------------- 开始 -------------
2023-05-17 21:46:57.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791058602823680 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 21:46:57.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791058602823681 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 21:46:57.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791058602823680 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 21:46:57.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791058602823681 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 21:46:57.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791058602823681 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:46:57.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791058602823681 [0;39m 请求参数: []
2023-05-17 21:46:57.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791058602823680 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:46:57.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791058602823680 [0;39m 请求参数: []
2023-05-17 21:46:57.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791058623795200 [0;39m ------------- 开始 -------------
2023-05-17 21:46:57.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791058623795200 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:46:57.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791058623795200 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:46:57.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791058623795200 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:46:57.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791058623795200 [0;39m 请求参数: []
2023-05-17 21:46:57.940 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39791058602823680 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:46:57.940 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39791058602823681 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 21:46:57.940 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39791058602823680 [0;39m ==> Parameters: 
2023-05-17 21:46:57.940 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39791058602823681 [0;39m ==> Parameters: 
2023-05-17 21:46:57.946 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39791058623795200 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:46:57.953 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39791058623795200 [0;39m ==> Parameters: 
2023-05-17 21:46:57.978 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39791058602823681 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 21:46:57.978 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39791058602823680 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 21:46:57.978 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39791058602823680 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 21:46:57.978 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39791058602823681 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 21:46:57.978 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39791058602823680 [0;39m <==        Row: 2023-05-17, 670, 17, 75, 1
2023-05-17 21:46:57.978 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39791058602823681 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 21:46:57.978 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39791058602823680 [0;39m <==      Total: 2
2023-05-17 21:46:57.978 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39791058602823681 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 21:46:57.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791058602823680 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":670,"viewIncrease":75,"voteCount":17,"voteIncrease":1}],"success":true}
2023-05-17 21:46:57.981 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39791058602823681 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 21:46:57.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791058602823680 [0;39m ------------- 结束 耗时：71 ms -------------
2023-05-17 21:46:57.981 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39791058602823681 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 21:46:57.981 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39791058602823681 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 21:46:57.982 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39791058602823681 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 21:46:57.982 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39791058602823681 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 21:46:57.982 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39791058602823681 [0;39m <==      Total: 8
2023-05-17 21:46:57.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791058602823681 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 21:46:57.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791058602823681 [0;39m ------------- 结束 耗时：72 ms -------------
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:46:57.989 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791058623795200 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:46:57.989 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39791058623795200 [0;39m <==      Total: 15
2023-05-17 21:46:57.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791058623795200 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:46:57.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791058623795200 [0;39m ------------- 结束 耗时：74 ms -------------
2023-05-17 21:46:58.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791061123600384 [0;39m ------------- 开始 -------------
2023-05-17 21:46:58.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791061123600384 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:46:58.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791061123600384 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:46:58.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791061123600384 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:46:58.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791061123600384 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-17 21:46:58.544 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791061123600384 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 21:46:58.551 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791061123600384 [0;39m ==> Parameters: 102(Long)
2023-05-17 21:46:58.586 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39791061123600384 [0;39m <==    Columns: count(0)
2023-05-17 21:46:58.586 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39791061123600384 [0;39m <==        Row: 0
2023-05-17 21:46:58.586 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791061123600384 [0;39m <==      Total: 1
2023-05-17 21:46:58.586 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39791061123600384 [0;39m 总行数：0
2023-05-17 21:46:58.586 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39791061123600384 [0;39m 总页数：0
2023-05-17 21:46:58.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791061123600384 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-17 21:46:58.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791061123600384 [0;39m ------------- 结束 耗时：75 ms -------------
2023-05-17 21:46:59.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791063766011904 [0;39m ------------- 开始 -------------
2023-05-17 21:46:59.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791063766011904 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:46:59.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791063766011904 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:46:59.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791063766011904 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:46:59.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791063766011904 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-17 21:46:59.176 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791063766011904 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 21:46:59.176 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791063766011904 [0;39m ==> Parameters: 202(Long)
2023-05-17 21:46:59.210 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39791063766011904 [0;39m <==    Columns: count(0)
2023-05-17 21:46:59.210 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39791063766011904 [0;39m <==        Row: 2
2023-05-17 21:46:59.210 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791063766011904 [0;39m <==      Total: 1
2023-05-17 21:46:59.210 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39791063766011904 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 21:46:59.210 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39791063766011904 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-17 21:46:59.247 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791063766011904 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:46:59.247 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791063766011904 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-17 21:46:59.247 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791063766011904 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 3, 5, 0
2023-05-17 21:46:59.247 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39791063766011904 [0;39m <==      Total: 2
2023-05-17 21:46:59.247 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39791063766011904 [0;39m 总行数：2
2023-05-17 21:46:59.247 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39791063766011904 [0;39m 总页数：1
2023-05-17 21:46:59.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791063766011904 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":200,"category2Id":202,"docCount":3,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":5,"voteCount":0}],"total":2},"success":true}
2023-05-17 21:46:59.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791063766011904 [0;39m ------------- 结束 耗时：106 ms -------------
2023-05-17 21:46:59.407 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:47:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39791067410862080 [0;39m 生成今日电子书快照开始
2023-05-17 21:47:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39791067410862080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:47:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39791067410862080 [0;39m ==> Parameters: 
2023-05-17 21:47:00.114 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39791067410862080 [0;39m <==    Updates: 0
2023-05-17 21:47:00.120 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39791067410862080 [0;39m 生成今日电子书快照结束，耗时：110毫秒
2023-05-17 21:47:00.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791068178419712 [0;39m ------------- 开始 -------------
2023-05-17 21:47:00.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791068178419712 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/39789950677422080 GET
2023-05-17 21:47:00.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791068182614016 [0;39m ------------- 开始 -------------
2023-05-17 21:47:00.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791068178419712 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 21:47:00.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791068182614016 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:47:00.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791068182614016 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:47:00.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791068178419712 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:00.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791068182614016 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:00.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791068182614016 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:47:00.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791068178419712 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:47:00.194 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39791068178419712 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 21:47:00.195 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39791068178419712 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:47:00.227 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791068182614016 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:47:00.229 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39791068178419712 [0;39m <==      Total: 0
2023-05-17 21:47:00.229 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791068182614016 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:47:00.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791068178419712 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 21:47:00.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791068178419712 [0;39m ------------- 结束 耗时：36 ms -------------
2023-05-17 21:47:00.262 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791068182614016 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:47:00.263 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791068182614016 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 21:47:00.263 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791068182614016 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 1, 3, 0
2023-05-17 21:47:00.264 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791068182614016 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 0, 0
2023-05-17 21:47:00.265 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791068182614016 [0;39m <==      Total: 3
2023-05-17 21:47:00.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791068182614016 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 21:47:00.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791068182614016 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-17 21:47:00.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791068543324160 [0;39m ------------- 开始 -------------
2023-05-17 21:47:00.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791068543324160 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2023-05-17 21:47:00.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791068543324160 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:47:00.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791068543324160 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:00.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791068543324160 [0;39m 请求参数: [39790662006214656]
2023-05-17 21:47:00.282 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791068543324160 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:47:00.282 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791068543324160 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:00.314 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791068543324160 [0;39m <==    Columns: id, content
2023-05-17 21:47:00.314 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791068543324160 [0;39m <==        Row: 39790662006214656, <<BLOB>>
2023-05-17 21:47:00.314 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791068543324160 [0;39m <==      Total: 1
2023-05-17 21:47:00.314 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791068543324160 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:47:00.317 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791068543324160 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:00.381 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791068543324160 [0;39m <==    Updates: 1
2023-05-17 21:47:00.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791068543324160 [0;39m 返回结果: {"content":"","success":true}
2023-05-17 21:47:00.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791068543324160 [0;39m ------------- 结束 耗时：101 ms -------------
2023-05-17 21:47:01.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791072741822464 [0;39m ------------- 开始 -------------
2023-05-17 21:47:01.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791072741822464 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790797704531968 GET
2023-05-17 21:47:01.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791072741822464 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:47:01.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791072741822464 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:01.282 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791072741822464 [0;39m 请求参数: [39790797704531968]
2023-05-17 21:47:01.315 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791072741822464 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:47:01.316 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791072741822464 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:47:01.351 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791072741822464 [0;39m <==    Columns: id, content
2023-05-17 21:47:01.351 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791072741822464 [0;39m <==        Row: 39790797704531968, <<BLOB>>
2023-05-17 21:47:01.351 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791072741822464 [0;39m <==      Total: 1
2023-05-17 21:47:01.351 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791072741822464 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:47:01.351 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791072741822464 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:47:01.420 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791072741822464 [0;39m <==    Updates: 1
2023-05-17 21:47:01.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791072741822464 [0;39m 返回结果: {"content":"<p>支持发布/订阅（Pub/Sub）和点对点（P2P）消息模型<br><br>在一个队列中可靠的先进先出（FIFO）和严格的顺序传递 （RocketMQ可以保证严格的消息顺序，而ActiveMQ无法保证）<br><br>支持拉（pull）和推（push）两种消息模式<br><br>pull其实就是消费者主动从MQ中去拉消息，而push则像rabbit MQ一样，是MQ给消费者推送消息。但是RocketMQ的push其实是基于pull来实现的。<br>它会先由一个业务代码从MQ中pull消息，然后再由业务代码push给特定的应用/消费者。其实底层就是一个pull模式<br><br>单一队列百万消息的堆积能力 （RocketMQ提供亿级消息的堆积能力，这不是重点，重点是堆积了亿级的消息后，依然保持写入低延迟）<br><br>支持多种消息协议，如 JMS、MQTT 等<br><br>分布式高可用的部署架构,满足至少一次消息传递语义（RocketMQ原生就是支持分布式的，而ActiveMQ原生存在单点性）<br><br>提供 docker 镜像用于隔离测试和云集群部署<br><br>提供配置、指标和监控等功能丰富的 Dashboard<br>————————————————<br>版权声明：本文为CSDN博主「fFee-ops」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：https://blog.csdn.net/qq_21040559/article/details/122703715</p>","success":true}
2023-05-17 21:47:01.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791072741822464 [0;39m ------------- 结束 耗时：139 ms -------------
2023-05-17 21:47:02.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791076567027712 [0;39m ------------- 开始 -------------
2023-05-17 21:47:02.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791076567027712 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2023-05-17 21:47:02.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791076567027712 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:47:02.195 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791076567027712 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:02.195 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791076567027712 [0;39m 请求参数: [39790662006214656]
2023-05-17 21:47:02.225 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791076567027712 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:47:02.231 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791076567027712 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:02.267 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791076567027712 [0;39m <==    Columns: id, content
2023-05-17 21:47:02.267 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791076567027712 [0;39m <==        Row: 39790662006214656, <<BLOB>>
2023-05-17 21:47:02.267 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791076567027712 [0;39m <==      Total: 1
2023-05-17 21:47:02.267 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791076567027712 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:47:02.267 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791076567027712 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:02.343 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791076567027712 [0;39m <==    Updates: 1
2023-05-17 21:47:02.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791076567027712 [0;39m 返回结果: {"content":"","success":true}
2023-05-17 21:47:02.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791076567027712 [0;39m ------------- 结束 耗时：150 ms -------------
2023-05-17 21:47:03.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791082841706496 [0;39m ------------- 开始 -------------
2023-05-17 21:47:03.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791082841706496 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790797704531968 GET
2023-05-17 21:47:03.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791082841706496 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:47:03.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791082841706496 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:03.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791082841706496 [0;39m 请求参数: [39790797704531968]
2023-05-17 21:47:03.718 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791082841706496 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:47:03.718 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791082841706496 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:47:03.752 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791082841706496 [0;39m <==    Columns: id, content
2023-05-17 21:47:03.752 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791082841706496 [0;39m <==        Row: 39790797704531968, <<BLOB>>
2023-05-17 21:47:03.759 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791082841706496 [0;39m <==      Total: 1
2023-05-17 21:47:03.760 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791082841706496 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:47:03.760 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791082841706496 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:47:03.829 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791082841706496 [0;39m <==    Updates: 1
2023-05-17 21:47:03.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791082841706496 [0;39m 返回结果: {"content":"<p>支持发布/订阅（Pub/Sub）和点对点（P2P）消息模型<br><br>在一个队列中可靠的先进先出（FIFO）和严格的顺序传递 （RocketMQ可以保证严格的消息顺序，而ActiveMQ无法保证）<br><br>支持拉（pull）和推（push）两种消息模式<br><br>pull其实就是消费者主动从MQ中去拉消息，而push则像rabbit MQ一样，是MQ给消费者推送消息。但是RocketMQ的push其实是基于pull来实现的。<br>它会先由一个业务代码从MQ中pull消息，然后再由业务代码push给特定的应用/消费者。其实底层就是一个pull模式<br><br>单一队列百万消息的堆积能力 （RocketMQ提供亿级消息的堆积能力，这不是重点，重点是堆积了亿级的消息后，依然保持写入低延迟）<br><br>支持多种消息协议，如 JMS、MQTT 等<br><br>分布式高可用的部署架构,满足至少一次消息传递语义（RocketMQ原生就是支持分布式的，而ActiveMQ原生存在单点性）<br><br>提供 docker 镜像用于隔离测试和云集群部署<br><br>提供配置、指标和监控等功能丰富的 Dashboard<br>————————————————<br>版权声明：本文为CSDN博主「fFee-ops」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：https://blog.csdn.net/qq_21040559/article/details/122703715</p>","success":true}
2023-05-17 21:47:03.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791082841706496 [0;39m ------------- 结束 耗时：140 ms -------------
2023-05-17 21:47:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39791088390770688 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:47:05.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791088390770688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:47:05.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791088390770688 [0;39m ==> Parameters: 
2023-05-17 21:47:05.114 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791088390770688 [0;39m <==    Updates: 3
2023-05-17 21:47:05.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39791088390770688 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-17 21:47:07.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791099346292736 [0;39m ------------- 开始 -------------
2023-05-17 21:47:07.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791099346292736 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/39789950677422080 GET
2023-05-17 21:47:07.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791099346292736 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 21:47:07.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791099346292736 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:07.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791099346292736 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:47:07.654 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39791099346292736 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 21:47:07.654 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39791099346292736 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:47:07.689 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39791099346292736 [0;39m <==      Total: 0
2023-05-17 21:47:07.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791099346292736 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 21:47:07.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791099346292736 [0;39m ------------- 结束 耗时：65 ms -------------
2023-05-17 21:47:14.230 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791127053864960 [0;39m ------------- 开始 -------------
2023-05-17 21:47:14.231 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791127053864960 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2023-05-17 21:47:14.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791127053864960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:47:14.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791127053864960 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:14.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791127053864960 [0;39m 请求参数: [39790662006214656]
2023-05-17 21:47:14.266 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791127053864960 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:47:14.266 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791127053864960 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:14.300 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791127053864960 [0;39m <==    Columns: id, content
2023-05-17 21:47:14.300 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791127053864960 [0;39m <==        Row: 39790662006214656, <<BLOB>>
2023-05-17 21:47:14.300 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791127053864960 [0;39m <==      Total: 1
2023-05-17 21:47:14.300 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791127053864960 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:47:14.307 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791127053864960 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:14.384 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791127053864960 [0;39m <==    Updates: 1
2023-05-17 21:47:14.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791127053864960 [0;39m 返回结果: {"content":"","success":true}
2023-05-17 21:47:14.385 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791127053864960 [0;39m ------------- 结束 耗时：155 ms -------------
2023-05-17 21:47:15.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791133148188672 [0;39m ------------- 开始 -------------
2023-05-17 21:47:15.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791133148188672 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/39789950677422080 GET
2023-05-17 21:47:15.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791133148188672 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 21:47:15.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791133148188672 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:15.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791133148188672 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:47:15.717 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39791133148188672 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 21:47:15.717 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39791133148188672 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:47:15.758 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39791133148188672 [0;39m <==      Total: 0
2023-05-17 21:47:15.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791133148188672 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 21:47:15.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791133148188672 [0;39m ------------- 结束 耗时：76 ms -------------
2023-05-17 21:47:19.016 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39791063766011904 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:47:19.016 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39791063766011904 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-17 21:47:19.016 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39791063766011904 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:47:19.051 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39791063766011904 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:47:19.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791147274604544 [0;39m ------------- 开始 -------------
2023-05-17 21:47:19.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791147274604544 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-17 21:47:19.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791147274604544 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-17 21:47:19.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791147274604544 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:19.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791147274604544 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:47:19.085 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39791147274604544 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-17 21:47:19.085 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39791147274604544 [0;39m ==> Parameters: 
2023-05-17 21:47:19.120 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39791147274604544 [0;39m <==    Columns: count(0)
2023-05-17 21:47:19.120 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39791147274604544 [0;39m <==        Row: 2
2023-05-17 21:47:19.120 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39791147274604544 [0;39m <==      Total: 1
2023-05-17 21:47:19.120 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39791147274604544 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-17 21:47:19.120 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39791147274604544 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:47:19.155 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39791147274604544 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 21:47:19.155 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39791147274604544 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 21:47:19.155 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39791147274604544 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-17 21:47:19.155 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39791147274604544 [0;39m <==      Total: 2
2023-05-17 21:47:19.155 INFO  com.jiawa.wiki.service.UserService                :50   [32m39791147274604544 [0;39m 总行数：2
2023-05-17 21:47:19.155 INFO  com.jiawa.wiki.service.UserService                :51   [32m39791147274604544 [0;39m 总页数：1
2023-05-17 21:47:19.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791147274604544 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-17 21:47:19.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791147274604544 [0;39m ------------- 结束 耗时：104 ms -------------
2023-05-17 21:47:19.155 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39791147274604544 [0;39m ------------- LoginInterceptor 结束 耗时：139 ms -------------
2023-05-17 21:47:19.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791148977491968 [0;39m ------------- 开始 -------------
2023-05-17 21:47:19.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791148977491968 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:47:19.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791148977491968 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:47:19.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791148977491968 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:19.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791148977491968 [0;39m 请求参数: []
2023-05-17 21:47:19.458 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39791148977491968 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:47:19.459 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39791148977491968 [0;39m ==> Parameters: 
2023-05-17 21:47:19.493 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:47:19.493 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:47:19.493 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:47:19.493 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:47:19.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:47:19.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:47:19.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:47:19.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:47:19.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:47:19.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:47:19.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:47:19.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:47:19.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:47:19.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:47:19.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:47:19.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791148977491968 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:47:19.494 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39791148977491968 [0;39m <==      Total: 15
2023-05-17 21:47:19.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791148977491968 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:47:19.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791148977491968 [0;39m ------------- 结束 耗时：37 ms -------------
2023-05-17 21:47:19.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791149170429952 [0;39m ------------- 开始 -------------
2023-05-17 21:47:19.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791149170429952 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:47:19.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791149170429952 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:47:19.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791149170429952 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:19.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791149170429952 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:47:19.536 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791149170429952 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-17 21:47:19.536 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791149170429952 [0;39m ==> Parameters: 
2023-05-17 21:47:19.574 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39791149170429952 [0;39m <==    Columns: count(0)
2023-05-17 21:47:19.574 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39791149170429952 [0;39m <==        Row: 6
2023-05-17 21:47:19.574 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791149170429952 [0;39m <==      Total: 1
2023-05-17 21:47:19.575 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39791149170429952 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-17 21:47:19.575 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39791149170429952 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:47:19.605 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791149170429952 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:47:19.610 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791149170429952 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-17 21:47:19.610 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791149170429952 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 207, 2
2023-05-17 21:47:19.610 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791149170429952 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:47:19.610 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791149170429952 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:47:19.610 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791149170429952 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:47:19.610 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791149170429952 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 3, 7, 0
2023-05-17 21:47:19.610 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39791149170429952 [0;39m <==      Total: 6
2023-05-17 21:47:19.610 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39791149170429952 [0;39m 总行数：6
2023-05-17 21:47:19.610 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39791149170429952 [0;39m 总页数：1
2023-05-17 21:47:19.610 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791149170429952 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":207,"voteCount":2},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":200,"category2Id":202,"docCount":3,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":7,"voteCount":0}],"total":6},"success":true}
2023-05-17 21:47:19.610 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791149170429952 [0;39m ------------- 结束 耗时：107 ms -------------
2023-05-17 21:47:20.212 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39791068543324160 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:47:20.212 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39791068543324160 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-17 21:47:20.212 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39791068543324160 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:47:20.245 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39791068543324160 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:47:20.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791152282603520 [0;39m ------------- 开始 -------------
2023-05-17 21:47:20.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791152282603520 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-17 21:47:20.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791152282603520 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-17 21:47:20.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791152282603520 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:20.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791152282603520 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:47:20.280 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39791152282603520 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-17 21:47:20.280 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39791152282603520 [0;39m ==> Parameters: 
2023-05-17 21:47:20.314 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39791152282603520 [0;39m <==    Columns: count(0)
2023-05-17 21:47:20.314 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39791152282603520 [0;39m <==        Row: 2
2023-05-17 21:47:20.314 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39791152282603520 [0;39m <==      Total: 1
2023-05-17 21:47:20.314 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39791152282603520 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-17 21:47:20.314 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39791152282603520 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:47:20.349 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39791152282603520 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 21:47:20.349 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39791152282603520 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 21:47:20.349 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39791152282603520 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-17 21:47:20.349 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39791152282603520 [0;39m <==      Total: 2
2023-05-17 21:47:20.349 INFO  com.jiawa.wiki.service.UserService                :50   [32m39791152282603520 [0;39m 总行数：2
2023-05-17 21:47:20.349 INFO  com.jiawa.wiki.service.UserService                :51   [32m39791152282603520 [0;39m 总页数：1
2023-05-17 21:47:20.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791152282603520 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-17 21:47:20.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791152282603520 [0;39m ------------- 结束 耗时：104 ms -------------
2023-05-17 21:47:20.349 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39791152282603520 [0;39m ------------- LoginInterceptor 结束 耗时：137 ms -------------
2023-05-17 21:47:20.876 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791154925015040 [0;39m ------------- 开始 -------------
2023-05-17 21:47:20.876 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791154925015040 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:47:20.876 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791154925015040 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:47:20.876 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791154925015040 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:20.876 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791154925015040 [0;39m 请求参数: []
2023-05-17 21:47:20.904 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39791154925015040 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:47:20.910 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39791154925015040 [0;39m ==> Parameters: 
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:47:20.946 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791154925015040 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:47:20.946 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39791154925015040 [0;39m <==      Total: 15
2023-05-17 21:47:20.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791154925015040 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:47:20.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791154925015040 [0;39m ------------- 结束 耗时：71 ms -------------
2023-05-17 21:47:20.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791155256365056 [0;39m ------------- 开始 -------------
2023-05-17 21:47:20.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791155256365056 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:47:20.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791155256365056 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:47:20.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791155256365056 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:20.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791155256365056 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:47:20.991 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791155256365056 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-17 21:47:20.991 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791155256365056 [0;39m ==> Parameters: 
2023-05-17 21:47:21.030 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39791155256365056 [0;39m <==    Columns: count(0)
2023-05-17 21:47:21.030 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39791155256365056 [0;39m <==        Row: 6
2023-05-17 21:47:21.030 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791155256365056 [0;39m <==      Total: 1
2023-05-17 21:47:21.030 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39791155256365056 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-17 21:47:21.030 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39791155256365056 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:47:21.067 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791155256365056 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:47:21.068 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791155256365056 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-17 21:47:21.068 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791155256365056 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 207, 2
2023-05-17 21:47:21.068 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791155256365056 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:47:21.068 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791155256365056 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:47:21.069 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791155256365056 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:47:21.069 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791155256365056 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 3, 7, 0
2023-05-17 21:47:21.070 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39791155256365056 [0;39m <==      Total: 6
2023-05-17 21:47:21.071 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39791155256365056 [0;39m 总行数：6
2023-05-17 21:47:21.071 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39791155256365056 [0;39m 总页数：1
2023-05-17 21:47:21.071 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791155256365056 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":207,"voteCount":2},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":200,"category2Id":202,"docCount":3,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":7,"voteCount":0}],"total":6},"success":true}
2023-05-17 21:47:21.071 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791155256365056 [0;39m ------------- 结束 耗时：117 ms -------------
2023-05-17 21:47:21.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:47:21.397 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39791082841706496 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:47:21.397 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39791082841706496 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-17 21:47:21.399 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39791082841706496 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:47:21.432 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39791082841706496 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:47:21.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791157269630976 [0;39m ------------- 开始 -------------
2023-05-17 21:47:21.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791157269630976 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-17 21:47:21.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791157269630976 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-17 21:47:21.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791157269630976 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:21.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791157269630976 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:47:21.434 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39791157269630976 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-17 21:47:21.434 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39791157269630976 [0;39m ==> Parameters: 
2023-05-17 21:47:21.468 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39791157269630976 [0;39m <==    Columns: count(0)
2023-05-17 21:47:21.468 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m39791157269630976 [0;39m <==        Row: 2
2023-05-17 21:47:21.468 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m39791157269630976 [0;39m <==      Total: 1
2023-05-17 21:47:21.468 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39791157269630976 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-17 21:47:21.468 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39791157269630976 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:47:21.501 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39791157269630976 [0;39m <==    Columns: id, login_name, name, password
2023-05-17 21:47:21.501 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39791157269630976 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-17 21:47:21.501 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39791157269630976 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-17 21:47:21.501 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39791157269630976 [0;39m <==      Total: 2
2023-05-17 21:47:21.501 INFO  com.jiawa.wiki.service.UserService                :50   [32m39791157269630976 [0;39m 总行数：2
2023-05-17 21:47:21.501 INFO  com.jiawa.wiki.service.UserService                :51   [32m39791157269630976 [0;39m 总页数：1
2023-05-17 21:47:21.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791157269630976 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"test"},{"id":2,"loginName":"1","name":"demo"}],"total":2},"success":true}
2023-05-17 21:47:21.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791157269630976 [0;39m ------------- 结束 耗时：67 ms -------------
2023-05-17 21:47:21.509 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39791157269630976 [0;39m ------------- LoginInterceptor 结束 耗时：112 ms -------------
2023-05-17 21:47:21.734 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:47:22.139 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791160226615296 [0;39m ------------- 开始 -------------
2023-05-17 21:47:22.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791160226615296 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 21:47:22.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791160226615296 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 21:47:22.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791160226615296 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:22.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791160226615296 [0;39m 请求参数: []
2023-05-17 21:47:22.170 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39791160226615296 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 21:47:22.174 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39791160226615296 [0;39m ==> Parameters: 
2023-05-17 21:47:22.208 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 21:47:22.209 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39791160226615296 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 21:47:22.209 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39791160226615296 [0;39m <==      Total: 15
2023-05-17 21:47:22.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791160226615296 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 21:47:22.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791160226615296 [0;39m ------------- 结束 耗时：70 ms -------------
2023-05-17 21:47:22.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791160553771008 [0;39m ------------- 开始 -------------
2023-05-17 21:47:22.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791160553771008 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 21:47:22.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791160553771008 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 21:47:22.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791160553771008 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:22.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791160553771008 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-17 21:47:22.252 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791160553771008 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-17 21:47:22.255 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791160553771008 [0;39m ==> Parameters: 
2023-05-17 21:47:22.291 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39791160553771008 [0;39m <==    Columns: count(0)
2023-05-17 21:47:22.291 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39791160553771008 [0;39m <==        Row: 6
2023-05-17 21:47:22.291 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39791160553771008 [0;39m <==      Total: 1
2023-05-17 21:47:22.292 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39791160553771008 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-17 21:47:22.293 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39791160553771008 [0;39m ==> Parameters: 10(Integer)
2023-05-17 21:47:22.328 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791160553771008 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 21:47:22.330 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791160553771008 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 461, 15
2023-05-17 21:47:22.330 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791160553771008 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 207, 2
2023-05-17 21:47:22.331 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791160553771008 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:47:22.331 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791160553771008 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:47:22.331 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791160553771008 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-17 21:47:22.331 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39791160553771008 [0;39m <==        Row: 39789950677422080, RocketMq实战基础, 200, 202, null, null, 3, 7, 0
2023-05-17 21:47:22.332 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39791160553771008 [0;39m <==      Total: 6
2023-05-17 21:47:22.332 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39791160553771008 [0;39m 总行数：6
2023-05-17 21:47:22.332 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39791160553771008 [0;39m 总页数：1
2023-05-17 21:47:22.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791160553771008 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":461,"voteCount":15},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":207,"voteCount":2},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":200,"category2Id":202,"docCount":3,"id":39789950677422080,"name":"RocketMq实战基础","viewCount":7,"voteCount":0}],"total":6},"success":true}
2023-05-17 21:47:22.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791160553771008 [0;39m ------------- 结束 耗时：116 ms -------------
2023-05-17 21:47:23.349 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:47:23.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791165926674432 [0;39m ------------- 开始 -------------
2023-05-17 21:47:23.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791165926674432 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:47:23.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791165926674432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:47:23.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791165926674432 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:23.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791165926674432 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:47:23.534 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791165926674432 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:47:23.535 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791165926674432 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:47:23.570 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791165926674432 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:47:23.570 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791165926674432 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 21:47:23.570 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791165926674432 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 1, 6, 0
2023-05-17 21:47:23.570 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791165926674432 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 2, 0
2023-05-17 21:47:23.570 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791165926674432 [0;39m <==      Total: 3
2023-05-17 21:47:23.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791165926674432 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":1,"viewCount":6,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":2,"voteCount":0}],"success":true}
2023-05-17 21:47:23.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791165926674432 [0;39m ------------- 结束 耗时：72 ms -------------
2023-05-17 21:47:24.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791171366686720 [0;39m ------------- 开始 -------------
2023-05-17 21:47:24.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791171366686720 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790797704531968 GET
2023-05-17 21:47:24.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791171366686720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:47:24.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791171366686720 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:24.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791171366686720 [0;39m 请求参数: [39790797704531968]
2023-05-17 21:47:24.829 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791171366686720 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:47:24.829 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791171366686720 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:47:24.863 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791171366686720 [0;39m <==    Columns: id, content
2023-05-17 21:47:24.864 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791171366686720 [0;39m <==        Row: 39790797704531968, <<BLOB>>
2023-05-17 21:47:24.864 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791171366686720 [0;39m <==      Total: 1
2023-05-17 21:47:24.864 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791171366686720 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:47:24.865 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791171366686720 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:47:24.933 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791171366686720 [0;39m <==    Updates: 1
2023-05-17 21:47:24.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791171366686720 [0;39m 返回结果: {"content":"<p>支持发布/订阅（Pub/Sub）和点对点（P2P）消息模型<br><br>在一个队列中可靠的先进先出（FIFO）和严格的顺序传递 （RocketMQ可以保证严格的消息顺序，而ActiveMQ无法保证）<br><br>支持拉（pull）和推（push）两种消息模式<br><br>pull其实就是消费者主动从MQ中去拉消息，而push则像rabbit MQ一样，是MQ给消费者推送消息。但是RocketMQ的push其实是基于pull来实现的。<br>它会先由一个业务代码从MQ中pull消息，然后再由业务代码push给特定的应用/消费者。其实底层就是一个pull模式<br><br>单一队列百万消息的堆积能力 （RocketMQ提供亿级消息的堆积能力，这不是重点，重点是堆积了亿级的消息后，依然保持写入低延迟）<br><br>支持多种消息协议，如 JMS、MQTT 等<br><br>分布式高可用的部署架构,满足至少一次消息传递语义（RocketMQ原生就是支持分布式的，而ActiveMQ原生存在单点性）<br><br>提供 docker 镜像用于隔离测试和云集群部署<br><br>提供配置、指标和监控等功能丰富的 Dashboard<br>————————————————<br>版权声明：本文为CSDN博主「fFee-ops」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：https://blog.csdn.net/qq_21040559/article/details/122703715</p>","success":true}
2023-05-17 21:47:24.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791171366686720 [0;39m ------------- 结束 耗时：138 ms -------------
2023-05-17 21:47:25.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:47:27.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:47:30.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791195198722048 [0;39m ------------- 开始 -------------
2023-05-17 21:47:30.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791195198722048 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2023-05-17 21:47:30.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791195198722048 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:47:30.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791195198722048 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:30.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791195198722048 [0;39m 请求参数: [39790662006214656]
2023-05-17 21:47:30.510 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791195198722048 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:47:30.511 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791195198722048 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:30.544 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791195198722048 [0;39m <==    Columns: id, content
2023-05-17 21:47:30.544 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791195198722048 [0;39m <==        Row: 39790662006214656, <<BLOB>>
2023-05-17 21:47:30.544 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791195198722048 [0;39m <==      Total: 1
2023-05-17 21:47:30.544 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791195198722048 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:47:30.544 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791195198722048 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:30.613 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791195198722048 [0;39m <==    Updates: 1
2023-05-17 21:47:30.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791195198722048 [0;39m 返回结果: {"content":"","success":true}
2023-05-17 21:47:30.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791195198722048 [0;39m ------------- 结束 耗时：137 ms -------------
2023-05-17 21:47:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39791214203113472 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:47:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791214203113472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:47:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791214203113472 [0;39m ==> Parameters: 
2023-05-17 21:47:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791214203113472 [0;39m <==    Updates: 3
2023-05-17 21:47:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39791214203113472 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-17 21:47:36.177 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39791149170429952 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:47:36.177 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39791149170429952 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:47:36.177 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39791149170429952 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:47:36.211 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39791149170429952 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:47:36.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791219253055488 [0;39m ------------- 开始 -------------
2023-05-17 21:47:36.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791219253055488 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:47:36.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791219253055488 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:47:36.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791219253055488 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:36.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791219253055488 [0;39m 请求参数: [{"content":"","ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":6,"voteCount":0}]
2023-05-17 21:47:36.282 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39791219253055488 [0;39m ==>  Preparing: update doc set ebook_id = ?, parent = ?, `name` = ?, sort = ?, view_count = ?, vote_count = ? where id = ?
2023-05-17 21:47:36.282 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39791219253055488 [0;39m ==> Parameters: 39789950677422080(Long), 0(Long), RocketMQ 介绍及基本概念(String), 0(Integer), 6(Integer), 0(Integer), 39790662006214656(Long)
2023-05-17 21:47:36.348 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39791219253055488 [0;39m <==    Updates: 1
2023-05-17 21:47:36.348 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39791219253055488 [0;39m ==>  Preparing: update content set content = ? where id = ?
2023-05-17 21:47:36.348 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39791219253055488 [0;39m ==> Parameters: (String), 39790662006214656(Long)
2023-05-17 21:47:36.421 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39791219253055488 [0;39m <==    Updates: 1
2023-05-17 21:47:36.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791219253055488 [0;39m 返回结果: {"success":true}
2023-05-17 21:47:36.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791219253055488 [0;39m ------------- 结束 耗时：275 ms -------------
2023-05-17 21:47:36.487 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39791219253055488 [0;39m ------------- LoginInterceptor 结束 耗时：310 ms -------------
2023-05-17 21:47:36.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791220465209344 [0;39m ------------- 开始 -------------
2023-05-17 21:47:36.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791220465209344 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:47:36.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791220465209344 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:47:36.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791220465209344 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:36.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791220465209344 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:47:36.535 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791220465209344 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:47:36.535 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791220465209344 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:47:36.571 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791220465209344 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:47:36.571 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791220465209344 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 6, 0
2023-05-17 21:47:36.571 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791220465209344 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 21:47:36.571 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791220465209344 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 21:47:36.571 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791220465209344 [0;39m <==      Total: 3
2023-05-17 21:47:36.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791220465209344 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":6,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0}],"success":true}
2023-05-17 21:47:36.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791220465209344 [0;39m ------------- 结束 耗时：70 ms -------------
2023-05-17 21:47:37.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791225406099456 [0;39m ------------- 开始 -------------
2023-05-17 21:47:37.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791225406099456 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2023-05-17 21:47:37.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791225406099456 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:47:37.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791225406099456 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:37.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791225406099456 [0;39m 请求参数: [39790662006214656]
2023-05-17 21:47:37.711 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791225406099456 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:47:37.711 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791225406099456 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:37.749 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791225406099456 [0;39m <==    Columns: id, content
2023-05-17 21:47:37.749 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791225406099456 [0;39m <==        Row: 39790662006214656, <<BLOB>>
2023-05-17 21:47:37.749 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791225406099456 [0;39m <==      Total: 1
2023-05-17 21:47:37.750 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791225406099456 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:47:37.751 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791225406099456 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:37.821 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791225406099456 [0;39m <==    Updates: 1
2023-05-17 21:47:37.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791225406099456 [0;39m 返回结果: {"content":"","success":true}
2023-05-17 21:47:37.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791225406099456 [0;39m ------------- 结束 耗时：142 ms -------------
2023-05-17 21:47:40.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791236000911360 [0;39m ------------- 开始 -------------
2023-05-17 21:47:40.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791236000911360 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790797704531968 GET
2023-05-17 21:47:40.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791236000911360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:47:40.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791236000911360 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:40.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791236000911360 [0;39m 请求参数: [39790797704531968]
2023-05-17 21:47:40.239 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791236000911360 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:47:40.239 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791236000911360 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:47:40.276 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791236000911360 [0;39m <==    Columns: id, content
2023-05-17 21:47:40.277 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791236000911360 [0;39m <==        Row: 39790797704531968, <<BLOB>>
2023-05-17 21:47:40.277 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791236000911360 [0;39m <==      Total: 1
2023-05-17 21:47:40.277 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791236000911360 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:47:40.277 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791236000911360 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:47:40.349 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791236000911360 [0;39m <==    Updates: 1
2023-05-17 21:47:40.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791236000911360 [0;39m 返回结果: {"content":"<p>支持发布/订阅（Pub/Sub）和点对点（P2P）消息模型<br><br>在一个队列中可靠的先进先出（FIFO）和严格的顺序传递 （RocketMQ可以保证严格的消息顺序，而ActiveMQ无法保证）<br><br>支持拉（pull）和推（push）两种消息模式<br><br>pull其实就是消费者主动从MQ中去拉消息，而push则像rabbit MQ一样，是MQ给消费者推送消息。但是RocketMQ的push其实是基于pull来实现的。<br>它会先由一个业务代码从MQ中pull消息，然后再由业务代码push给特定的应用/消费者。其实底层就是一个pull模式<br><br>单一队列百万消息的堆积能力 （RocketMQ提供亿级消息的堆积能力，这不是重点，重点是堆积了亿级的消息后，依然保持写入低延迟）<br><br>支持多种消息协议，如 JMS、MQTT 等<br><br>分布式高可用的部署架构,满足至少一次消息传递语义（RocketMQ原生就是支持分布式的，而ActiveMQ原生存在单点性）<br><br>提供 docker 镜像用于隔离测试和云集群部署<br><br>提供配置、指标和监控等功能丰富的 Dashboard<br>————————————————<br>版权声明：本文为CSDN博主「fFee-ops」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：https://blog.csdn.net/qq_21040559/article/details/122703715</p>","success":true}
2023-05-17 21:47:40.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791236000911360 [0;39m ------------- 结束 耗时：144 ms -------------
2023-05-17 21:47:40.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791237783490560 [0;39m ------------- 开始 -------------
2023-05-17 21:47:40.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791237783490560 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2023-05-17 21:47:40.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791237783490560 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:47:40.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791237783490560 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:40.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791237783490560 [0;39m 请求参数: [39790662006214656]
2023-05-17 21:47:40.667 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791237783490560 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:47:40.667 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791237783490560 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:40.703 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791237783490560 [0;39m <==    Columns: id, content
2023-05-17 21:47:40.703 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791237783490560 [0;39m <==        Row: 39790662006214656, <<BLOB>>
2023-05-17 21:47:40.703 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791237783490560 [0;39m <==      Total: 1
2023-05-17 21:47:40.703 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791237783490560 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:47:40.703 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791237783490560 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:40.773 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791237783490560 [0;39m <==    Updates: 1
2023-05-17 21:47:40.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791237783490560 [0;39m 返回结果: {"content":"","success":true}
2023-05-17 21:47:40.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791237783490560 [0;39m ------------- 结束 耗时：143 ms -------------
2023-05-17 21:47:44.297 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791253164003328 [0;39m ------------- 开始 -------------
2023-05-17 21:47:44.297 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791253164003328 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2023-05-17 21:47:44.297 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791253164003328 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:47:44.297 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791253164003328 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:44.297 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791253164003328 [0;39m 请求参数: [39790662006214656]
2023-05-17 21:47:44.331 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791253164003328 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:47:44.332 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791253164003328 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:44.356 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791253164003328 [0;39m <==    Columns: id, content
2023-05-17 21:47:44.356 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791253164003328 [0;39m <==        Row: 39790662006214656, <<BLOB>>
2023-05-17 21:47:44.356 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791253164003328 [0;39m <==      Total: 1
2023-05-17 21:47:44.356 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791253164003328 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:47:44.356 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791253164003328 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:44.434 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791253164003328 [0;39m <==    Updates: 1
2023-05-17 21:47:44.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791253164003328 [0;39m 返回结果: {"content":"","success":true}
2023-05-17 21:47:44.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791253164003328 [0;39m ------------- 结束 耗时：137 ms -------------
2023-05-17 21:47:46.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791261179318272 [0;39m ------------- 开始 -------------
2023-05-17 21:47:46.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791261179318272 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790797704531968 GET
2023-05-17 21:47:46.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791261179318272 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:47:46.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791261179318272 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:46.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791261179318272 [0;39m 请求参数: [39790797704531968]
2023-05-17 21:47:46.245 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791261179318272 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:47:46.245 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791261179318272 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:47:46.281 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791261179318272 [0;39m <==    Columns: id, content
2023-05-17 21:47:46.282 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791261179318272 [0;39m <==        Row: 39790797704531968, <<BLOB>>
2023-05-17 21:47:46.282 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791261179318272 [0;39m <==      Total: 1
2023-05-17 21:47:46.283 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791261179318272 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:47:46.283 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791261179318272 [0;39m ==> Parameters: 39790797704531968(Long)
2023-05-17 21:47:46.354 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791261179318272 [0;39m <==    Updates: 1
2023-05-17 21:47:46.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791261179318272 [0;39m 返回结果: {"content":"<p>支持发布/订阅（Pub/Sub）和点对点（P2P）消息模型<br><br>在一个队列中可靠的先进先出（FIFO）和严格的顺序传递 （RocketMQ可以保证严格的消息顺序，而ActiveMQ无法保证）<br><br>支持拉（pull）和推（push）两种消息模式<br><br>pull其实就是消费者主动从MQ中去拉消息，而push则像rabbit MQ一样，是MQ给消费者推送消息。但是RocketMQ的push其实是基于pull来实现的。<br>它会先由一个业务代码从MQ中pull消息，然后再由业务代码push给特定的应用/消费者。其实底层就是一个pull模式<br><br>单一队列百万消息的堆积能力 （RocketMQ提供亿级消息的堆积能力，这不是重点，重点是堆积了亿级的消息后，依然保持写入低延迟）<br><br>支持多种消息协议，如 JMS、MQTT 等<br><br>分布式高可用的部署架构,满足至少一次消息传递语义（RocketMQ原生就是支持分布式的，而ActiveMQ原生存在单点性）<br><br>提供 docker 镜像用于隔离测试和云集群部署<br><br>提供配置、指标和监控等功能丰富的 Dashboard<br>————————————————<br>版权声明：本文为CSDN博主「fFee-ops」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：https://blog.csdn.net/qq_21040559/article/details/122703715</p>","success":true}
2023-05-17 21:47:46.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791261179318272 [0;39m ------------- 结束 耗时：146 ms -------------
2023-05-17 21:47:49.419 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:47:51.323 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39791165926674432 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:47:51.323 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39791165926674432 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:47:51.323 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39791165926674432 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:47:51.355 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39791165926674432 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:47:51.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791282767400960 [0;39m ------------- 开始 -------------
2023-05-17 21:47:51.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791282767400960 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:47:51.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791282767400960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:47:51.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791282767400960 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:51.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791282767400960 [0;39m 请求参数: [{"content":"<p>支持发布/订阅（Pub/Sub）和点对点（P2P）消息模型<br><br>在一个队列中可靠的先进先出（FIFO）和严格的顺序传递 （RocketMQ可以保证严格的消息顺序，而ActiveMQ无法保证）<br><br>支持拉（pull）和推（push）两种消息模式<br><br>pull其实就是消费者主动从MQ中去拉消息，而push则像rabbit MQ一样，是MQ给消费者推送消息。但是RocketMQ的push其实是基于pull来实现的。<br>它会先由一个业务代码从MQ中pull消息，然后再由业务代码push给特定的应用/消费者。其实底层就是一个pull模式<br><br>单一队列百万消息的堆积能力 （RocketMQ提供亿级消息的堆积能力，这不是重点，重点是堆积了亿级的消息后，依然保持写入低延迟）<br><br>支持多种消息协议，如 JMS、MQTT 等<br><br>分布式高可用的部署架构,满足至少一次消息传递语义（RocketMQ原生就是支持分布式的，而ActiveMQ原生存在单点性）<br><br>提供 docker 镜像用于隔离测试和云集群部署<br><br>提供配置、指标和监控等功能丰富的 Dashboard<br>————————————————<br>版权声明：本文为CSDN博主「fFee-ops」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：https://blog.csdn.net/qq_21040559/article/details/122703715</p>","ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0}]
2023-05-17 21:47:51.429 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39791282767400960 [0;39m ==>  Preparing: update doc set ebook_id = ?, parent = ?, `name` = ?, sort = ?, view_count = ?, vote_count = ? where id = ?
2023-05-17 21:47:51.430 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39791282767400960 [0;39m ==> Parameters: 39789950677422080(Long), 39790662006214656(Long), RocketMQ 特点(String), 2(Integer), 3(Integer), 0(Integer), 39790797704531968(Long)
2023-05-17 21:47:51.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:47:51.501 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39791282767400960 [0;39m <==    Updates: 1
2023-05-17 21:47:51.502 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39791282767400960 [0;39m ==>  Preparing: update content set content = ? where id = ?
2023-05-17 21:47:51.502 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39791282767400960 [0;39m ==> Parameters: <p>支持发布/订阅（Pub/Sub）和点对点（P2P）消息模型<br><br>在一个队列中可靠的先进先出（FIFO）和严格的顺序传递 （RocketMQ可以保证严格的消息顺序，而ActiveMQ无法保证）<br><br>支持拉（pull）和推（push）两种消息模式<br><br>pull其实就是消费者主动从MQ中去拉消息，而push则像rabbit MQ一样，是MQ给消费者推送消息。但是RocketMQ的push其实是基于pull来实现的。<br>它会先由一个业务代码从MQ中pull消息，然后再由业务代码push给特定的应用/消费者。其实底层就是一个pull模式<br><br>单一队列百万消息的堆积能力 （RocketMQ提供亿级消息的堆积能力，这不是重点，重点是堆积了亿级的消息后，依然保持写入低延迟）<br><br>支持多种消息协议，如 JMS、MQTT 等<br><br>分布式高可用的部署架构,满足至少一次消息传递语义（RocketMQ原生就是支持分布式的，而ActiveMQ原生存在单点性）<br><br>提供 docker 镜像用于隔离测试和云集群部署<br><br>提供配置、指标和监控等功能丰富的 Dashboard<br>————————————————<br>版权声明：本文为CSDN博主「fFee-ops」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：https://blog.csdn.net/qq_21040559/article/details/122703715</p>(String), 39790797704531968(Long)
2023-05-17 21:47:51.572 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39791282767400960 [0;39m <==    Updates: 1
2023-05-17 21:47:51.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791282767400960 [0;39m 返回结果: {"success":true}
2023-05-17 21:47:51.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791282767400960 [0;39m ------------- 结束 耗时：292 ms -------------
2023-05-17 21:47:51.647 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39791282767400960 [0;39m ------------- LoginInterceptor 结束 耗时：324 ms -------------
2023-05-17 21:47:51.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791284025692160 [0;39m ------------- 开始 -------------
2023-05-17 21:47:51.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791284025692160 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:47:51.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791284025692160 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:47:51.656 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791284025692160 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:51.656 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791284025692160 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:47:51.688 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791284025692160 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:47:51.688 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791284025692160 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:47:51.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791284025692160 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:47:51.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791284025692160 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 9, 0
2023-05-17 21:47:51.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791284025692160 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 21:47:51.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791284025692160 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 21:47:51.723 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791284025692160 [0;39m <==      Total: 3
2023-05-17 21:47:51.723 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791284025692160 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":9,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0}],"success":true}
2023-05-17 21:47:51.723 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791284025692160 [0;39m ------------- 结束 耗时：68 ms -------------
2023-05-17 21:47:51.759 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:47:52.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791286823292928 [0;39m ------------- 开始 -------------
2023-05-17 21:47:52.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791286823292928 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2023-05-17 21:47:52.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791286823292928 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:47:52.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791286823292928 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:47:52.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791286823292928 [0;39m 请求参数: [39790662006214656]
2023-05-17 21:47:52.357 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791286823292928 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:47:52.357 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791286823292928 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:52.389 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791286823292928 [0;39m <==    Columns: id, content
2023-05-17 21:47:52.389 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791286823292928 [0;39m <==        Row: 39790662006214656, <<BLOB>>
2023-05-17 21:47:52.389 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791286823292928 [0;39m <==      Total: 1
2023-05-17 21:47:52.389 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791286823292928 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:47:52.389 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791286823292928 [0;39m ==> Parameters: 39790662006214656(Long)
2023-05-17 21:47:52.459 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791286823292928 [0;39m <==    Updates: 1
2023-05-17 21:47:52.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791286823292928 [0;39m 返回结果: {"content":"","success":true}
2023-05-17 21:47:52.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791286823292928 [0;39m ------------- 结束 耗时：137 ms -------------
2023-05-17 21:47:53.477 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:47:55.487 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:48:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39791319031353344 [0;39m 生成今日电子书快照开始
2023-05-17 21:48:00.034 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39791319031353344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:48:00.034 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39791319031353344 [0;39m ==> Parameters: 
2023-05-17 21:48:00.105 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39791319031353344 [0;39m <==    Updates: 0
2023-05-17 21:48:00.105 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39791319031353344 [0;39m 生成今日电子书快照结束，耗时：104毫秒
2023-05-17 21:48:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39791340074176512 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:48:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791340074176512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:48:05.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791340074176512 [0;39m ==> Parameters: 
2023-05-17 21:48:05.120 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791340074176512 [0;39m <==    Updates: 3
2023-05-17 21:48:05.120 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39791340074176512 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-17 21:48:10.393 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39791225406099456 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:48:10.393 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39791225406099456 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:48:10.393 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39791225406099456 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:48:10.426 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39791225406099456 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:48:10.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791362756972544 [0;39m ------------- 开始 -------------
2023-05-17 21:48:10.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791362756972544 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:48:10.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791362756972544 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:48:10.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791362756972544 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:48:10.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791362756972544 [0;39m 请求参数: [{"content":"<p><a href=\"https://so.csdn.net/so/search?q=RocketMQ&amp;spm=1001.2101.3001.7020\" target=\"_blank\">RocketMQ</a>作为一款纯java、分布式、队列模型的开源消息中间件，支持事务消息、顺序消息、批量消息、定时消息、消息回溯等<br></p>","ebookId":39789950677422080,"name":"介绍","parent":39790662006214656,"sort":1}]
2023-05-17 21:48:10.493 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39791362756972544 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-17 21:48:10.493 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39791362756972544 [0;39m ==> Parameters: 39791363037990912(Long), 39789950677422080(Long), 39790662006214656(Long), 介绍(String), 1(Integer), 0(Integer), 0(Integer)
2023-05-17 21:48:10.563 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39791362756972544 [0;39m <==    Updates: 1
2023-05-17 21:48:10.563 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39791362756972544 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-17 21:48:10.563 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39791362756972544 [0;39m ==> Parameters: 39791363037990912(Long), <p><a href="https://so.csdn.net/so/search?q=RocketMQ&amp;spm=1001.2101.3001.7020" target="_blank">RocketMQ</a>作为一款纯java、分布式、队列模型的开源消息中间件，支持事务消息、顺序消息、批量消息、定时消息、消息回溯等<br></p>(String)
2023-05-17 21:48:10.632 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39791362756972544 [0;39m <==    Updates: 1
2023-05-17 21:48:10.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791362756972544 [0;39m 返回结果: {"success":true}
2023-05-17 21:48:10.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791362756972544 [0;39m ------------- 结束 耗时：277 ms -------------
2023-05-17 21:48:10.703 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39791362756972544 [0;39m ------------- LoginInterceptor 结束 耗时：310 ms -------------
2023-05-17 21:48:10.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791363952349184 [0;39m ------------- 开始 -------------
2023-05-17 21:48:10.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791363952349184 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:48:10.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791363952349184 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:48:10.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791363952349184 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:48:10.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791363952349184 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:48:10.746 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791363952349184 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:48:10.746 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791363952349184 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:48:10.779 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791363952349184 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:48:10.779 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791363952349184 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 10, 0
2023-05-17 21:48:10.779 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791363952349184 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 21:48:10.785 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791363952349184 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 21:48:10.785 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791363952349184 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 21:48:10.786 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791363952349184 [0;39m <==      Total: 4
2023-05-17 21:48:10.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791363952349184 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":10,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0}],"success":true}
2023-05-17 21:48:10.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791363952349184 [0;39m ------------- 结束 耗时：76 ms -------------
2023-05-17 21:48:14.465 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:48:16.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:48:21.312 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:48:21.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:48:23.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:48:25.383 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:48:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39791465890713600 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:48:35.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791465890713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:48:35.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791465890713600 [0;39m ==> Parameters: 
2023-05-17 21:48:35.129 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791465890713600 [0;39m <==    Updates: 3
2023-05-17 21:48:35.131 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39791465890713600 [0;39m 更新电子书下的文档数据结束，耗时：116毫秒
2023-05-17 21:48:38.532 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:48:40.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:48:51.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:48:51.766 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:48:55.417 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:49:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39791570739924992 [0;39m 生成今日电子书快照开始
2023-05-17 21:49:00.036 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39791570739924992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:49:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39791570739924992 [0;39m ==> Parameters: 
2023-05-17 21:49:00.122 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39791570739924992 [0;39m <==    Updates: 0
2023-05-17 21:49:00.122 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39791570739924992 [0;39m 生成今日电子书快照结束，耗时：109毫秒
2023-05-17 21:49:04.687 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:49:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39791591732416512 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:49:05.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791591732416512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:49:05.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791591732416512 [0;39m ==> Parameters: 
2023-05-17 21:49:05.114 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791591732416512 [0;39m <==    Updates: 3
2023-05-17 21:49:05.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39791591732416512 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-05-17 21:49:21.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:49:21.740 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:49:23.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:49:25.413 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:49:25.766 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39791253164003328 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:49:25.766 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39791253164003328 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:49:25.766 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39791253164003328 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:49:25.802 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39791253164003328 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:49:25.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791678906830848 [0;39m ------------- 开始 -------------
2023-05-17 21:49:25.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791678906830848 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:49:25.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791678906830848 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:49:25.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791678906830848 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:49:25.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791678906830848 [0;39m 请求参数: [{"content":"<h1 id=\"ol6di\">在Maven中导入RocketMq的依赖</h1><pre>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.rocketmq&lt;/groupId&gt;\n    &lt;artifactId&gt;rocketmq-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;<br></pre>","ebookId":39789950677422080,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1}]
2023-05-17 21:49:25.871 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39791678906830848 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-17 21:49:25.873 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39791678906830848 [0;39m ==> Parameters: 39791679196237824(Long), 39789950677422080(Long), 0(Long), RocketMq在Springboot的基础应用(String), 1(Integer), 0(Integer), 0(Integer)
2023-05-17 21:49:25.935 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39791678906830848 [0;39m <==    Updates: 1
2023-05-17 21:49:25.935 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39791678906830848 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-17 21:49:25.935 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39791678906830848 [0;39m ==> Parameters: 39791679196237824(Long), <h1 id="ol6di">在Maven中导入RocketMq的依赖</h1><pre>&lt;dependency&gt;
    &lt;groupId&gt;org.apache.rocketmq&lt;/groupId&gt;
    &lt;artifactId&gt;rocketmq-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;2.0.2&lt;/version&gt;
&lt;/dependency&gt;<br></pre>(String)
2023-05-17 21:49:26.011 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39791678906830848 [0;39m <==    Updates: 1
2023-05-17 21:49:26.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791678906830848 [0;39m 返回结果: {"success":true}
2023-05-17 21:49:26.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791678906830848 [0;39m ------------- 结束 耗时：280 ms -------------
2023-05-17 21:49:26.083 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39791678906830848 [0;39m ------------- LoginInterceptor 结束 耗时：317 ms -------------
2023-05-17 21:49:26.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791680114790400 [0;39m ------------- 开始 -------------
2023-05-17 21:49:26.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791680114790400 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:49:26.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791680114790400 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:49:26.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791680114790400 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:49:26.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791680114790400 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:49:26.129 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791680114790400 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:49:26.129 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791680114790400 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:49:26.163 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791680114790400 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:49:26.163 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791680114790400 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 10, 0
2023-05-17 21:49:26.163 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791680114790400 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 21:49:26.163 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791680114790400 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 21:49:26.163 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791680114790400 [0;39m <==        Row: 39791679196237824, 39789950677422080, 0, RocketMq在Springboot的基础应用, 1, 0, 0
2023-05-17 21:49:26.163 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791680114790400 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 21:49:26.163 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791680114790400 [0;39m <==      Total: 5
2023-05-17 21:49:26.163 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791680114790400 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":10,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0}],"success":true}
2023-05-17 21:49:26.163 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791680114790400 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-17 21:49:27.450 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:49:28.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791688134299648 [0;39m ------------- 开始 -------------
2023-05-17 21:49:28.003 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791688134299648 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39791679196237824 GET
2023-05-17 21:49:28.003 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791688134299648 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:49:28.003 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791688134299648 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:49:28.003 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791688134299648 [0;39m 请求参数: [39791679196237824]
2023-05-17 21:49:28.036 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791688134299648 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:49:28.036 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791688134299648 [0;39m ==> Parameters: 39791679196237824(Long)
2023-05-17 21:49:28.070 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791688134299648 [0;39m <==    Columns: id, content
2023-05-17 21:49:28.070 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791688134299648 [0;39m <==        Row: 39791679196237824, <<BLOB>>
2023-05-17 21:49:28.071 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791688134299648 [0;39m <==      Total: 1
2023-05-17 21:49:28.071 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791688134299648 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:49:28.071 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791688134299648 [0;39m ==> Parameters: 39791679196237824(Long)
2023-05-17 21:49:28.136 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791688134299648 [0;39m <==    Updates: 1
2023-05-17 21:49:28.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791688134299648 [0;39m 返回结果: {"content":"<h1 id=\"ol6di\">在Maven中导入RocketMq的依赖</h1><pre>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.rocketmq&lt;/groupId&gt;\n    &lt;artifactId&gt;rocketmq-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;<br></pre>","success":true}
2023-05-17 21:49:28.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791688134299648 [0;39m ------------- 结束 耗时：134 ms -------------
2023-05-17 21:49:29.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:49:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39791717519593472 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:49:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791717519593472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:49:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791717519593472 [0;39m ==> Parameters: 
2023-05-17 21:49:35.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791717519593472 [0;39m <==    Updates: 3
2023-05-17 21:49:35.117 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39791717519593472 [0;39m 更新电子书下的文档数据结束，耗时：109毫秒
2023-05-17 21:49:51.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:49:51.734 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:49:53.388 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:49:55.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:49:57.468 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:50:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39791822360416256 [0;39m 生成今日电子书快照开始
2023-05-17 21:50:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39791822360416256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:50:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39791822360416256 [0;39m ==> Parameters: 
2023-05-17 21:50:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39791822360416256 [0;39m <==    Updates: 0
2023-05-17 21:50:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39791822360416256 [0;39m 生成今日电子书快照结束，耗时：106毫秒
2023-05-17 21:50:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39791843369684992 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:50:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791843369684992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:50:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791843369684992 [0;39m ==> Parameters: 
2023-05-17 21:50:05.115 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791843369684992 [0;39m <==    Updates: 3
2023-05-17 21:50:05.115 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39791843369684992 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-17 21:50:13.574 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39791286823292928 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:50:13.575 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39791286823292928 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:50:13.575 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39791286823292928 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:50:13.607 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39791286823292928 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:50:13.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791879415533568 [0;39m ------------- 开始 -------------
2023-05-17 21:50:13.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791879415533568 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:50:13.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791879415533568 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:50:13.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791879415533568 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:50:13.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791879415533568 [0;39m 请求参数: [{"content":"<p>导入配置，在properties或者yml中</p><pre>rocketmq.name-server=127.0.0.1:9876\nrocketmq.producer.group=default<br></pre>","ebookId":39789950677422080,"name":"配置","parent":39791679196237824,"sort":1}]
2023-05-17 21:50:13.676 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39791879415533568 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-17 21:50:13.676 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39791879415533568 [0;39m ==> Parameters: 39791879704940544(Long), 39789950677422080(Long), 39791679196237824(Long), 配置(String), 1(Integer), 0(Integer), 0(Integer)
2023-05-17 21:50:13.743 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39791879415533568 [0;39m <==    Updates: 1
2023-05-17 21:50:13.743 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39791879415533568 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-17 21:50:13.746 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39791879415533568 [0;39m ==> Parameters: 39791879704940544(Long), <p>导入配置，在properties或者yml中</p><pre>rocketmq.name-server=127.0.0.1:9876
rocketmq.producer.group=default<br></pre>(String)
2023-05-17 21:50:13.808 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39791879415533568 [0;39m <==    Updates: 1
2023-05-17 21:50:13.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791879415533568 [0;39m 返回结果: {"success":true}
2023-05-17 21:50:13.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791879415533568 [0;39m ------------- 结束 耗时：272 ms -------------
2023-05-17 21:50:13.879 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39791879415533568 [0;39m ------------- LoginInterceptor 结束 耗时：304 ms -------------
2023-05-17 21:50:13.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791880589938688 [0;39m ------------- 开始 -------------
2023-05-17 21:50:13.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791880589938688 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:50:13.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791880589938688 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:50:13.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791880589938688 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:50:13.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791880589938688 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:50:13.926 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791880589938688 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:50:13.926 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791880589938688 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:50:13.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791880589938688 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:50:13.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791880589938688 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 10, 0
2023-05-17 21:50:13.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791880589938688 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 21:50:13.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791880589938688 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 21:50:13.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791880589938688 [0;39m <==        Row: 39791679196237824, 39789950677422080, 0, RocketMq在Springboot的基础应用, 1, 1, 0
2023-05-17 21:50:13.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791880589938688 [0;39m <==        Row: 39791879704940544, 39789950677422080, 39791679196237824, 配置, 1, 0, 0
2023-05-17 21:50:13.960 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39791880589938688 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 21:50:13.960 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39791880589938688 [0;39m <==      Total: 6
2023-05-17 21:50:13.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791880589938688 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":10,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":39789950677422080,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0}],"success":true}
2023-05-17 21:50:13.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791880589938688 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-17 21:50:15.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39791886583599104 [0;39m ------------- 开始 -------------
2023-05-17 21:50:15.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39791886583599104 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39791679196237824 GET
2023-05-17 21:50:15.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39791886583599104 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:50:15.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39791886583599104 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:50:15.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39791886583599104 [0;39m 请求参数: [39791679196237824]
2023-05-17 21:50:15.350 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791886583599104 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:50:15.350 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791886583599104 [0;39m ==> Parameters: 39791679196237824(Long)
2023-05-17 21:50:15.386 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791886583599104 [0;39m <==    Columns: id, content
2023-05-17 21:50:15.386 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39791886583599104 [0;39m <==        Row: 39791679196237824, <<BLOB>>
2023-05-17 21:50:15.386 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39791886583599104 [0;39m <==      Total: 1
2023-05-17 21:50:15.386 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791886583599104 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:50:15.386 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791886583599104 [0;39m ==> Parameters: 39791679196237824(Long)
2023-05-17 21:50:15.457 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39791886583599104 [0;39m <==    Updates: 1
2023-05-17 21:50:15.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39791886583599104 [0;39m 返回结果: {"content":"<h1 id=\"ol6di\">在Maven中导入RocketMq的依赖</h1><pre>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.rocketmq&lt;/groupId&gt;\n    &lt;artifactId&gt;rocketmq-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;<br></pre>","success":true}
2023-05-17 21:50:15.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39791886583599104 [0;39m ------------- 结束 耗时：142 ms -------------
2023-05-17 21:50:19.489 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:50:21.517 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:50:21.761 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:50:23.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:50:25.557 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:50:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39791969177833472 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:50:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791969177833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:50:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791969177833472 [0;39m ==> Parameters: 
2023-05-17 21:50:35.118 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39791969177833472 [0;39m <==    Updates: 3
2023-05-17 21:50:35.118 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39791969177833472 [0;39m 更新电子书下的文档数据结束，耗时：110毫秒
2023-05-17 21:50:44.546 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:50:46.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:50:51.310 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:50:51.735 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:50:55.365 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:51:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39792074089959424 [0;39m 生成今日电子书快照开始
2023-05-17 21:51:00.056 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39792074089959424 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:51:00.056 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39792074089959424 [0;39m ==> Parameters: 
2023-05-17 21:51:00.129 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39792074089959424 [0;39m <==    Updates: 0
2023-05-17 21:51:00.129 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39792074089959424 [0;39m 生成今日电子书快照结束，耗时：108毫秒
2023-05-17 21:51:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39792094994370560 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:51:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792094994370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:51:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792094994370560 [0;39m ==> Parameters: 
2023-05-17 21:51:05.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792094994370560 [0;39m <==    Updates: 3
2023-05-17 21:51:05.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39792094994370560 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 21:51:10.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:51:21.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:51:21.748 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:51:23.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:51:25.391 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:51:32.776 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:51:34.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:51:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39792220815101952 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:51:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792220815101952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:51:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792220815101952 [0;39m ==> Parameters: 
2023-05-17 21:51:35.098 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792220815101952 [0;39m <==    Updates: 3
2023-05-17 21:51:35.098 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39792220815101952 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-17 21:51:51.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:51:51.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:51:53.391 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:51:55.408 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:51:57.448 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:51:59.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:52:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39792325668507648 [0;39m 生成今日电子书快照开始
2023-05-17 21:52:00.036 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39792325668507648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:52:00.036 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39792325668507648 [0;39m ==> Parameters: 
2023-05-17 21:52:00.108 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39792325668507648 [0;39m <==    Updates: 0
2023-05-17 21:52:00.108 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39792325668507648 [0;39m 生成今日电子书快照结束，耗时：106毫秒
2023-05-17 21:52:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39792346673582080 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:52:05.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792346673582080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:52:05.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792346673582080 [0;39m ==> Parameters: 
2023-05-17 21:52:05.114 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792346673582080 [0;39m <==    Updates: 3
2023-05-17 21:52:05.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39792346673582080 [0;39m 更新电子书下的文档数据结束，耗时：104毫秒
2023-05-17 21:52:07.468 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39791363952349184 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 21:52:07.468 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39791363952349184 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 21:52:07.468 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39791363952349184 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 21:52:07.501 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39791363952349184 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 21:52:07.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39792357134176256 [0;39m ------------- 开始 -------------
2023-05-17 21:52:07.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39792357134176256 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 21:52:07.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39792357134176256 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 21:52:07.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39792357134176256 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:52:07.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39792357134176256 [0;39m 请求参数: [{"content":"<p>在应用中导入</p><pre>@Autowired<br>private RocketMQTemplate rocketMQTemplate;</pre><p>并且在代码中直接使用converAndSend方法进行发送</p><p>/**<br>         * 点赞<br>         */<br>        public void vote(Long id) {<br>            // docMapperCust.increaseVoteCount(id);<br>            // 远程IP+doc.id作为key，24小时内不能重复<br>            String ip = RequestContext.getRemoteAddr();<br>            if (redisUtil.validateRepeat(\"DOC_VOTE_\" + id + \"_\" + ip, 5000)) {<br>                docMapperCust.increaseVoteCount(id);<br>            } else {<br>                throw new BusinessException(BusinessExceptionCode.VOTE_REPEAT);<br>            }<br><br>            // 推送消息<br>            Doc docDb = docMapper.selectByPrimaryKey(id);<br>            String logId = MDC.get(\"LOG_ID\");<br>//            wsService.sendInfo(\"【\" + docDb.getName() + \"】被点赞！\", logId);<br>             rocketMQTemplate.convertAndSend(\"VOTE_TOPIC\", \"【\" + docDb.getName() + \"】被点赞！\");<br>        }<br></p>","ebookId":39789950677422080,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2}]
2023-05-17 21:52:07.583 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39792357134176256 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-17 21:52:07.583 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39792357134176256 [0;39m ==> Parameters: 39792357465526272(Long), 39789950677422080(Long), 39791679196237824(Long), 生产者和消费者（发送端和接受端）(String), 2(Integer), 0(Integer), 0(Integer)
2023-05-17 21:52:07.658 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39792357134176256 [0;39m <==    Updates: 1
2023-05-17 21:52:07.658 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39792357134176256 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-17 21:52:07.658 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39792357134176256 [0;39m ==> Parameters: 39792357465526272(Long), <p>在应用中导入</p><pre>@Autowired<br>private RocketMQTemplate rocketMQTemplate;</pre><p>并且在代码中直接使用converAndSend方法进行发送</p><p>/**<br>         * 点赞<br>         */<br>        public void vote(Long id) {<br>            // docMapperCust.increaseVoteCount(id);<br>            // 远程IP+doc.id作为key，24小时内不能重复<br>            String ip = RequestContext.getRemoteAddr();<br>            if (redisUtil.validateRepeat("DOC_VOTE_" + id + "_" + ip, 5000)) {<br>                docMapperCust.increaseVoteCount(id);<br>            } else {<br>                throw new BusinessException(BusinessExceptionCode.VOTE_REPEAT);<br>            }<br><br>            // 推送消息<br>            Doc docDb = docMapper.selectByPrimaryKey(id);<br>            String logId = MDC.get("LOG_ID");<br>//            wsService.sendInfo("【" + docDb.getName() + "】被点赞！", logId);<br>             rocketMQTemplate.convertAndSend("VOTE_TOPIC", "【" + docDb.getName() + "】被点赞！");<br>        }<br></p>(String)
2023-05-17 21:52:07.735 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39792357134176256 [0;39m <==    Updates: 1
2023-05-17 21:52:07.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39792357134176256 [0;39m 返回结果: {"success":true}
2023-05-17 21:52:07.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39792357134176256 [0;39m ------------- 结束 耗时：309 ms -------------
2023-05-17 21:52:07.813 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39792357134176256 [0;39m ------------- LoginInterceptor 结束 耗时：345 ms -------------
2023-05-17 21:52:07.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39792358459576320 [0;39m ------------- 开始 -------------
2023-05-17 21:52:07.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39792358459576320 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 21:52:07.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39792358459576320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 21:52:07.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39792358459576320 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:52:07.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39792358459576320 [0;39m 请求参数: [39789950677422080]
2023-05-17 21:52:07.855 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39792358459576320 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 21:52:07.855 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39792358459576320 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 21:52:07.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39792358459576320 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 21:52:07.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39792358459576320 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 10, 0
2023-05-17 21:52:07.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39792358459576320 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 21:52:07.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39792358459576320 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 21:52:07.887 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39792358459576320 [0;39m <==        Row: 39791679196237824, 39789950677422080, 0, RocketMq在Springboot的基础应用, 1, 2, 0
2023-05-17 21:52:07.893 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39792358459576320 [0;39m <==        Row: 39791879704940544, 39789950677422080, 39791679196237824, 配置, 1, 0, 0
2023-05-17 21:52:07.893 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39792358459576320 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 21:52:07.893 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39792358459576320 [0;39m <==        Row: 39792357465526272, 39789950677422080, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 0, 0
2023-05-17 21:52:07.893 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39792358459576320 [0;39m <==      Total: 7
2023-05-17 21:52:07.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39792358459576320 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":10,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 21:52:07.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39792358459576320 [0;39m ------------- 结束 耗时：75 ms -------------
2023-05-17 21:52:21.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:52:21.750 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:52:23.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:52:27.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:52:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39792472515284992 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:52:35.061 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792472515284992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:52:35.061 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792472515284992 [0;39m ==> Parameters: 
2023-05-17 21:52:35.351 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792472515284992 [0;39m <==    Updates: 3
2023-05-17 21:52:35.352 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39792472515284992 [0;39m 更新电子书下的文档数据结束，耗时：339毫秒
2023-05-17 21:52:51.747 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:52:53.478 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:52:55.500 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:52:57.548 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:53:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39792577360302080 [0;39m 生成今日电子书快照开始
2023-05-17 21:53:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39792577360302080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:53:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39792577360302080 [0;39m ==> Parameters: 
2023-05-17 21:53:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39792577360302080 [0;39m <==    Updates: 0
2023-05-17 21:53:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39792577360302080 [0;39m 生成今日电子书快照结束，耗时：101毫秒
2023-05-17 21:53:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39792598294073344 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:53:05.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792598294073344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:53:05.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792598294073344 [0;39m ==> Parameters: 
2023-05-17 21:53:05.098 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792598294073344 [0;39m <==    Updates: 3
2023-05-17 21:53:05.099 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39792598294073344 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 21:53:13.498 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:53:15.536 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:53:21.351 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:53:21.775 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:53:23.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:53:25.416 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:53:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39792724148359168 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:53:35.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792724148359168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:53:35.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792724148359168 [0;39m ==> Parameters: 
2023-05-17 21:53:35.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792724148359168 [0;39m <==    Updates: 3
2023-05-17 21:53:35.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39792724148359168 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-17 21:53:37.590 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:53:39.610 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:53:51.750 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:53:53.358 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:53:55.392 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:54:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39792829077262336 [0;39m 生成今日电子书快照开始
2023-05-17 21:54:00.057 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39792829077262336 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:54:00.057 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39792829077262336 [0;39m ==> Parameters: 
2023-05-17 21:54:00.122 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39792829077262336 [0;39m <==    Updates: 0
2023-05-17 21:54:00.122 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39792829077262336 [0;39m 生成今日电子书快照结束，耗时：98毫秒
2023-05-17 21:54:01.652 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:54:03.732 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:54:05.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39792850027810816 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:54:05.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792850027810816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:54:05.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792850027810816 [0;39m ==> Parameters: 
2023-05-17 21:54:05.114 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792850027810816 [0;39m <==    Updates: 3
2023-05-17 21:54:05.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39792850027810816 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-17 21:54:13.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39792884941197312 [0;39m ------------- 开始 -------------
2023-05-17 21:54:13.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39792884941197312 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39792357465526272 GET
2023-05-17 21:54:13.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39792884941197312 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 21:54:13.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39792884941197312 [0;39m 远程地址: 127.0.0.1
2023-05-17 21:54:13.344 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39792884941197312 [0;39m 请求参数: [39792357465526272]
2023-05-17 21:54:13.380 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39792884941197312 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 21:54:13.381 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39792884941197312 [0;39m ==> Parameters: 39792357465526272(Long)
2023-05-17 21:54:13.416 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39792884941197312 [0;39m <==    Columns: id, content
2023-05-17 21:54:13.418 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39792884941197312 [0;39m <==        Row: 39792357465526272, <<BLOB>>
2023-05-17 21:54:13.418 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39792884941197312 [0;39m <==      Total: 1
2023-05-17 21:54:13.418 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39792884941197312 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 21:54:13.418 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39792884941197312 [0;39m ==> Parameters: 39792357465526272(Long)
2023-05-17 21:54:13.495 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39792884941197312 [0;39m <==    Updates: 1
2023-05-17 21:54:13.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39792884941197312 [0;39m 返回结果: {"content":"<p>在应用中导入</p><pre>@Autowired<br>private RocketMQTemplate rocketMQTemplate;</pre><p>并且在代码中直接使用converAndSend方法进行发送</p><p>/**<br>         * 点赞<br>         */<br>        public void vote(Long id) {<br>            // docMapperCust.increaseVoteCount(id);<br>            // 远程IP+doc.id作为key，24小时内不能重复<br>            String ip = RequestContext.getRemoteAddr();<br>            if (redisUtil.validateRepeat(\"DOC_VOTE_\" + id + \"_\" + ip, 5000)) {<br>                docMapperCust.increaseVoteCount(id);<br>            } else {<br>                throw new BusinessException(BusinessExceptionCode.VOTE_REPEAT);<br>            }<br><br>            // 推送消息<br>            Doc docDb = docMapper.selectByPrimaryKey(id);<br>            String logId = MDC.get(\"LOG_ID\");<br>//            wsService.sendInfo(\"【\" + docDb.getName() + \"】被点赞！\", logId);<br>             rocketMQTemplate.convertAndSend(\"VOTE_TOPIC\", \"【\" + docDb.getName() + \"】被点赞！\");<br>        }<br></p>","success":true}
2023-05-17 21:54:13.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39792884941197312 [0;39m ------------- 结束 耗时：152 ms -------------
2023-05-17 21:54:21.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:54:21.768 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:54:25.408 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:54:27.450 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:54:29.498 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:54:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39792975819182080 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:54:35.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792975819182080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:54:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792975819182080 [0;39m ==> Parameters: 
2023-05-17 21:54:35.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39792975819182080 [0;39m <==    Updates: 3
2023-05-17 21:54:35.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39792975819182080 [0;39m 更新电子书下的文档数据结束，耗时：103毫秒
2023-05-17 21:54:51.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:54:51.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:54:53.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:54:55.419 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:54:57.457 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:55:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39793080672587776 [0;39m 生成今日电子书快照开始
2023-05-17 21:55:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39793080672587776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:55:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39793080672587776 [0;39m ==> Parameters: 
2023-05-17 21:55:00.118 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39793080672587776 [0;39m <==    Updates: 0
2023-05-17 21:55:00.119 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39793080672587776 [0;39m 生成今日电子书快照结束，耗时：110毫秒
2023-05-17 21:55:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39793101631524864 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:55:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793101631524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:55:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793101631524864 [0;39m ==> Parameters: 
2023-05-17 21:55:05.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793101631524864 [0;39m <==    Updates: 3
2023-05-17 21:55:05.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39793101631524864 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-17 21:55:17.463 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:55:19.496 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:55:21.553 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:55:21.755 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:55:23.582 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:55:25.620 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:55:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39793227502587904 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:55:35.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793227502587904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:55:35.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793227502587904 [0;39m ==> Parameters: 
2023-05-17 21:55:35.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793227502587904 [0;39m <==    Updates: 3
2023-05-17 21:55:35.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39793227502587904 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-17 21:55:41.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:55:43.565 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:55:51.767 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:55:53.380 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:55:55.412 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:56:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39793332343410688 [0;39m 生成今日电子书快照开始
2023-05-17 21:56:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39793332343410688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:56:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39793332343410688 [0;39m ==> Parameters: 
2023-05-17 21:56:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39793332343410688 [0;39m <==    Updates: 0
2023-05-17 21:56:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39793332343410688 [0;39m 生成今日电子书快照结束，耗时：99毫秒
2023-05-17 21:56:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39793353293959168 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:56:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793353293959168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:56:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793353293959168 [0;39m ==> Parameters: 
2023-05-17 21:56:05.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793353293959168 [0;39m <==    Updates: 3
2023-05-17 21:56:05.104 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39793353293959168 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 21:56:05.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:56:07.664 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:56:21.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:56:21.730 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:56:23.369 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:56:25.395 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:56:29.702 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:56:31.739 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:56:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39793479114690560 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:56:35.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793479114690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:56:35.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793479114690560 [0;39m ==> Parameters: 
2023-05-17 21:56:35.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793479114690560 [0;39m <==    Updates: 3
2023-05-17 21:56:35.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39793479114690560 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 21:56:51.346 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:56:51.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:56:53.372 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:56:55.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:56:57.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:57:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39793583989067776 [0;39m 生成今日电子书快照开始
2023-05-17 21:57:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39793583989067776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:57:00.043 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39793583989067776 [0;39m ==> Parameters: 
2023-05-17 21:57:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39793583989067776 [0;39m <==    Updates: 0
2023-05-17 21:57:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39793583989067776 [0;39m 生成今日电子书快照结束，耗时：102毫秒
2023-05-17 21:57:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39793604985753600 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:57:05.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793604985753600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:57:05.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793604985753600 [0;39m ==> Parameters: 
2023-05-17 21:57:05.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793604985753600 [0;39m <==    Updates: 3
2023-05-17 21:57:05.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39793604985753600 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 21:57:19.447 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:57:21.496 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:57:21.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:57:23.534 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:57:25.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:57:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39793730802290688 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:57:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793730802290688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:57:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793730802290688 [0;39m ==> Parameters: 
2023-05-17 21:57:35.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793730802290688 [0;39m <==    Updates: 3
2023-05-17 21:57:35.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39793730802290688 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-17 21:57:44.496 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:57:46.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:57:51.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:57:51.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:57:53.385 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:57:55.428 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39793835617947648 [0;39m 生成今日电子书快照开始
2023-05-17 21:58:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39793835617947648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:58:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39793835617947648 [0;39m ==> Parameters: 
2023-05-17 21:58:00.102 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39793835617947648 [0;39m <==    Updates: 0
2023-05-17 21:58:00.103 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39793835617947648 [0;39m 生成今日电子书快照结束，耗时：101毫秒
2023-05-17 21:58:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39793856602050560 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:58:05.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793856602050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:58:05.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793856602050560 [0;39m ==> Parameters: 
2023-05-17 21:58:05.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793856602050560 [0;39m <==    Updates: 3
2023-05-17 21:58:05.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39793856602050560 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 21:58:08.603 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:10.628 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:21.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:21.745 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:23.354 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:25.392 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:32.667 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:34.685 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39793982464724992 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:58:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793982464724992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:58:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793982464724992 [0;39m ==> Parameters: 
2023-05-17 21:58:35.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39793982464724992 [0;39m <==    Updates: 3
2023-05-17 21:58:35.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39793982464724992 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-17 21:58:51.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:51.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:53.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:55.380 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:57.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:58:59.453 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:59:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39794087330713600 [0;39m 生成今日电子书快照开始
2023-05-17 21:59:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39794087330713600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 21:59:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39794087330713600 [0;39m ==> Parameters: 
2023-05-17 21:59:00.115 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39794087330713600 [0;39m <==    Updates: 0
2023-05-17 21:59:00.117 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39794087330713600 [0;39m 生成今日电子书快照结束，耗时：102毫秒
2023-05-17 21:59:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39794108281262080 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:59:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794108281262080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:59:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794108281262080 [0;39m ==> Parameters: 
2023-05-17 21:59:05.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794108281262080 [0;39m <==    Updates: 3
2023-05-17 21:59:05.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39794108281262080 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 21:59:21.748 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:59:23.394 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:59:25.412 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:59:27.446 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:59:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39794234127159296 [0;39m 更新电子书下的文档数据开始
2023-05-17 21:59:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794234127159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 21:59:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794234127159296 [0;39m ==> Parameters: 
2023-05-17 21:59:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794234127159296 [0;39m <==    Updates: 3
2023-05-17 21:59:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39794234127159296 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-17 21:59:49.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:59:51.538 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:59:51.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:59:53.558 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:59:55.610 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 21:59:57.638 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:00:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39794338926039040 [0;39m 生成今日电子书快照开始
2023-05-17 22:00:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39794338926039040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:00:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39794338926039040 [0;39m ==> Parameters: 
2023-05-17 22:00:00.103 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39794338926039040 [0;39m <==    Updates: 0
2023-05-17 22:00:00.103 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39794338926039040 [0;39m 生成今日电子书快照结束，耗时：103毫秒
2023-05-17 22:00:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39794359939502080 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:00:05.145 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794359939502080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:00:05.145 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794359939502080 [0;39m ==> Parameters: 
2023-05-17 22:00:05.433 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794359939502080 [0;39m <==    Updates: 3
2023-05-17 22:00:05.433 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39794359939502080 [0;39m 更新电子书下的文档数据结束，耗时：423毫秒
2023-05-17 22:00:13.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:00:15.569 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:00:21.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:00:21.767 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:00:23.379 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:00:25.414 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:00:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39794485760233472 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:00:35.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794485760233472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:00:35.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794485760233472 [0;39m ==> Parameters: 
2023-05-17 22:00:35.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794485760233472 [0;39m <==    Updates: 3
2023-05-17 22:00:35.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39794485760233472 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-17 22:00:36.608 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39791879415533568 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:00:36.608 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39791879415533568 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 22:00:36.608 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39791879415533568 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 22:00:37.590 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:00:37.657 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39791880589938688 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:00:37.657 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39791880589938688 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 22:00:37.657 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39791880589938688 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 22:00:38.046 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39791886583599104 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:00:38.046 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39791886583599104 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 22:00:38.047 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39791886583599104 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 22:00:38.192 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39791362756972544 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:00:38.193 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39791362756972544 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 22:00:38.193 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39791362756972544 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 22:00:38.321 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39792357134176256 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:00:38.321 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39792357134176256 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 22:00:38.321 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39792357134176256 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 22:00:39.610 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:00:45.248 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39792358459576320 [0;39m 连接关闭，token：oOsZlmbqZY，session id：0！当前连接数：0
2023-05-17 22:00:45.926 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39791678906830848 [0;39m 有新连接：token：jOG83Yqnud，session id：1，当前连接数：1
2023-05-17 22:00:46.005 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794531884994560 [0;39m ------------- 开始 -------------
2023-05-17 22:00:46.005 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794531884994560 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 22:00:46.005 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794531884994560 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 22:00:46.005 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794531884994560 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:00:46.006 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794531884994560 [0;39m 请求参数: [39789950677422080]
2023-05-17 22:00:51.019 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39794531884994560 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@285aaa9c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:00:51.045 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794531884994560 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 22:00:51.045 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794531884994560 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 22:00:51.087 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794531884994560 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 22:00:51.087 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794531884994560 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 10, 0
2023-05-17 22:00:51.087 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794531884994560 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 22:00:51.087 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794531884994560 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 22:00:51.087 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794531884994560 [0;39m <==        Row: 39791679196237824, 39789950677422080, 0, RocketMq在Springboot的基础应用, 1, 2, 0
2023-05-17 22:00:51.087 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794531884994560 [0;39m <==        Row: 39791879704940544, 39789950677422080, 39791679196237824, 配置, 1, 0, 0
2023-05-17 22:00:51.087 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794531884994560 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 22:00:51.087 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794531884994560 [0;39m <==        Row: 39792357465526272, 39789950677422080, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 1, 0
2023-05-17 22:00:51.087 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794531884994560 [0;39m <==      Total: 7
2023-05-17 22:00:51.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794531884994560 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":10,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":1,"voteCount":0}],"success":true}
2023-05-17 22:00:51.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794531884994560 [0;39m ------------- 结束 耗时：5082 ms -------------
2023-05-17 22:00:51.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:00:51.748 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:00:53.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:00:55.378 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:00:55.805 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39791879415533568 [0;39m 系统异常：
org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:74)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:272)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.convertLettuceAccessException(LettuceStringCommands.java:800)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:70)
	at org.springframework.data.redis.connection.DefaultedRedisConnection.get(DefaultedRedisConnection.java:267)
	at org.springframework.data.redis.core.DefaultValueOperations$1.inRedis(DefaultValueOperations.java:57)
	at org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:60)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:229)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:189)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:96)
	at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:53)
	at com.jiawa.wiki.interceptor.LoginInterceptor.preHandle(LoginInterceptor.java:53)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1056)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at io.lettuce.core.internal.Exceptions.bubble(Exceptions.java:83)
	at io.lettuce.core.internal.Futures.awaitOrCancel(Futures.java:250)
	at io.lettuce.core.FutureSyncInvocationHandler.handleInvocation(FutureSyncInvocationHandler.java:75)
	at io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80)
	at com.sun.proxy.$Proxy144.get(Unknown Source)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:68)
	... 49 common frames omitted
Caused by: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at sun.nio.ch.SocketDispatcher.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)
	at sun.nio.ch.IOUtil.read(IOUtil.java:192)
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:378)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1134)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-17 22:00:55.805 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39791879415533568 [0;39m Resolved [org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。]
2023-05-17 22:00:56.015 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39791886583599104 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 22:00:56.015 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39792357134176256 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 22:00:56.015 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39791880589938688 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 22:00:56.015 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39791362756972544 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 22:00:56.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794573878366208 [0;39m ------------- 开始 -------------
2023-05-17 22:00:56.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794573882560512 [0;39m ------------- 开始 -------------
2023-05-17 22:00:56.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794573882560513 [0;39m ------------- 开始 -------------
2023-05-17 22:00:56.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794573882560512 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 22:00:56.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794573882560513 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 22:00:56.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794573882560512 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 22:00:56.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794573882560513 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 22:00:56.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794573882560513 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:00:56.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794573886754816 [0;39m ------------- 开始 -------------
2023-05-17 22:00:56.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794573882560513 [0;39m 请求参数: [{"content":"<p><h3 id=\"h1asa\">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = \"default\", topic = \"VOTE_TOPIC\")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info(\"ROCKETMQ收到消息：{}\", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>","ebookId":39789950677422080,"name":"服务端","parent":39791679196237824,"sort":3}]
2023-05-17 22:00:56.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794573886754816 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 22:00:56.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794573882560512 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:00:56.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794573882560512 [0;39m 请求参数: [{"content":"<p><h3 id=\"h1asa\">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = \"default\", topic = \"VOTE_TOPIC\")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info(\"ROCKETMQ收到消息：{}\", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>","ebookId":39789950677422080,"name":"服务端","parent":39791679196237824,"sort":3}]
2023-05-17 22:00:56.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794573886754816 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 22:00:56.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794573886754816 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:00:56.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794573878366208 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 22:00:56.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794573886754816 [0;39m 请求参数: [{"content":"<p><h3 id=\"h1asa\">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = \"default\", topic = \"VOTE_TOPIC\")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info(\"ROCKETMQ收到消息：{}\", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>","ebookId":39789950677422080,"name":"服务端","parent":39791679196237824,"sort":3}]
2023-05-17 22:00:56.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794573878366208 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 22:00:56.021 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794573878366208 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:00:56.021 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794573878366208 [0;39m 请求参数: [{"content":"<p><h3 id=\"h1asa\">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = \"default\", topic = \"VOTE_TOPIC\")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info(\"ROCKETMQ收到消息：{}\", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>","ebookId":39789950677422080,"name":"服务端","parent":39791679196237824,"sort":3}]
2023-05-17 22:00:56.084 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794573882560513 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-17 22:00:56.084 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794573882560513 [0;39m ==> Parameters: 39794574159384576(Long), 39789950677422080(Long), 39791679196237824(Long), 服务端(String), 3(Integer), 0(Integer), 0(Integer)
2023-05-17 22:00:56.155 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794573882560513 [0;39m <==    Updates: 1
2023-05-17 22:00:56.155 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794573882560513 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-17 22:00:56.156 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794573882560513 [0;39m ==> Parameters: 39794574159384576(Long), <p><h3 id="h1asa">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = "default", topic = "VOTE_TOPIC")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info("ROCKETMQ收到消息：{}", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>(String)
2023-05-17 22:00:56.223 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794573882560513 [0;39m <==    Updates: 1
2023-05-17 22:00:56.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794573882560513 [0;39m 返回结果: {"success":true}
2023-05-17 22:00:56.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794573882560513 [0;39m ------------- 结束 耗时：275 ms -------------
2023-05-17 22:00:56.293 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39794573882560513 [0;39m ------------- LoginInterceptor 结束 耗时：18247 ms -------------
2023-05-17 22:01:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39794590634610688 [0;39m 生成今日电子书快照开始
2023-05-17 22:01:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39794590634610688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:01:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39794590634610688 [0;39m ==> Parameters: 
2023-05-17 22:01:00.114 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39794590634610688 [0;39m <==    Updates: 0
2023-05-17 22:01:00.114 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39794590634610688 [0;39m 生成今日电子书快照结束，耗时：102毫秒
2023-05-17 22:01:01.035 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39794573878366208 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@46d9d168 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:01:01.035 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39794573886754816 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@494291d (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:01:01.035 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39794573882560512 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@130815c6 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:01:01.102 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794573882560512 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-17 22:01:01.104 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794573882560512 [0;39m ==> Parameters: 39794595206402048(Long), 39789950677422080(Long), 39791679196237824(Long), 服务端(String), 3(Integer), 0(Integer), 0(Integer)
2023-05-17 22:01:01.169 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794573882560512 [0;39m <==    Updates: 1
2023-05-17 22:01:01.169 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794573882560512 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-17 22:01:01.170 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794573882560512 [0;39m ==> Parameters: 39794595206402048(Long), <p><h3 id="h1asa">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = "default", topic = "VOTE_TOPIC")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info("ROCKETMQ收到消息：{}", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>(String)
2023-05-17 22:01:01.236 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794573882560512 [0;39m <==    Updates: 1
2023-05-17 22:01:01.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794573882560512 [0;39m 返回结果: {"success":true}
2023-05-17 22:01:01.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794573882560512 [0;39m ------------- 结束 耗时：5289 ms -------------
2023-05-17 22:01:01.307 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39794573882560512 [0;39m ------------- LoginInterceptor 结束 耗时：23114 ms -------------
2023-05-17 22:01:01.658 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:01:03.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:01:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39794611618713600 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:01:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794611618713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:01:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794611618713600 [0;39m ==> Parameters: 
2023-05-17 22:01:05.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794611618713600 [0;39m <==    Updates: 3
2023-05-17 22:01:05.117 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39794611618713600 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-17 22:01:06.041 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39794573886754816 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6ed06469 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:01:06.041 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39794573878366208 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@750967c1 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:01:06.107 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794573878366208 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-17 22:01:06.108 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794573878366208 [0;39m ==> Parameters: 39794616198893568(Long), 39789950677422080(Long), 39791679196237824(Long), 服务端(String), 3(Integer), 0(Integer), 0(Integer)
2023-05-17 22:01:06.173 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794573878366208 [0;39m <==    Updates: 1
2023-05-17 22:01:06.173 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794573878366208 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-17 22:01:06.173 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794573878366208 [0;39m ==> Parameters: 39794616198893568(Long), <p><h3 id="h1asa">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = "default", topic = "VOTE_TOPIC")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info("ROCKETMQ收到消息：{}", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>(String)
2023-05-17 22:01:06.235 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794573878366208 [0;39m <==    Updates: 1
2023-05-17 22:01:06.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794573878366208 [0;39m 返回结果: {"success":true}
2023-05-17 22:01:06.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794573878366208 [0;39m ------------- 结束 耗时：10295 ms -------------
2023-05-17 22:01:06.312 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39794573878366208 [0;39m ------------- LoginInterceptor 结束 耗时：28655 ms -------------
2023-05-17 22:01:11.057 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39794573886754816 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5aba902b (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:01:11.124 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794573886754816 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-17 22:01:11.124 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794573886754816 [0;39m ==> Parameters: 39794637241716736(Long), 39789950677422080(Long), 39791679196237824(Long), 服务端(String), 3(Integer), 0(Integer), 0(Integer)
2023-05-17 22:01:11.186 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794573886754816 [0;39m <==    Updates: 1
2023-05-17 22:01:11.186 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794573886754816 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-17 22:01:11.186 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794573886754816 [0;39m ==> Parameters: 39794637241716736(Long), <p><h3 id="h1asa">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = "default", topic = "VOTE_TOPIC")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info("ROCKETMQ收到消息：{}", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>(String)
2023-05-17 22:01:11.258 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794573886754816 [0;39m <==    Updates: 1
2023-05-17 22:01:11.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794573886754816 [0;39m 返回结果: {"success":true}
2023-05-17 22:01:11.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794573886754816 [0;39m ------------- 结束 耗时：15306 ms -------------
2023-05-17 22:01:11.325 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39794573886754816 [0;39m ------------- LoginInterceptor 结束 耗时：33004 ms -------------
2023-05-17 22:01:13.696 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39792884941197312 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:01:13.698 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39792884941197312 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 22:01:13.698 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39792884941197312 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 22:01:13.729 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39792884941197312 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 22:01:13.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794648180461568 [0;39m ------------- 开始 -------------
2023-05-17 22:01:13.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794648180461568 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 22:01:13.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794648180461568 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 22:01:13.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794648180461568 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:13.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794648180461568 [0;39m 请求参数: [{"content":"<p><h3 id=\"2oqdc\">通过注解@RocketMQMessageListener 设置consumerGroup 对应的是我们配置文件的consumerGroup ，和topic 对应的是我们的发送端发送的topic</h3>@Service<br>@RocketMQMessageListener(consumerGroup = \"default\", topic = \"VOTE_TOPIC\")<br>public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>@Resource<br>public WebSocketServer webSocketServer;<br><br>@Override<br>public void onMessage(MessageExt messageExt) {<br>byte[] body = messageExt.getBody();<br>LOG.info(\"ROCKETMQ收到消息：{}\", new String(body));<br>webSocketServer.sendInfo(new String(body));<br>}<br>}<br></p>","ebookId":39789950677422080,"name":"服务端","parent":39791679196237824,"sort":3}]
2023-05-17 22:01:13.798 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794648180461568 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-17 22:01:13.799 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794648180461568 [0;39m ==> Parameters: 39794648457285632(Long), 39789950677422080(Long), 39791679196237824(Long), 服务端(String), 3(Integer), 0(Integer), 0(Integer)
2023-05-17 22:01:13.866 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39794648180461568 [0;39m <==    Updates: 1
2023-05-17 22:01:13.867 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794648180461568 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-17 22:01:13.867 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794648180461568 [0;39m ==> Parameters: 39794648457285632(Long), <p><h3 id="2oqdc">通过注解@RocketMQMessageListener 设置consumerGroup 对应的是我们配置文件的consumerGroup ，和topic 对应的是我们的发送端发送的topic</h3>@Service<br>@RocketMQMessageListener(consumerGroup = "default", topic = "VOTE_TOPIC")<br>public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>@Resource<br>public WebSocketServer webSocketServer;<br><br>@Override<br>public void onMessage(MessageExt messageExt) {<br>byte[] body = messageExt.getBody();<br>LOG.info("ROCKETMQ收到消息：{}", new String(body));<br>webSocketServer.sendInfo(new String(body));<br>}<br>}<br></p>(String)
2023-05-17 22:01:13.937 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39794648180461568 [0;39m <==    Updates: 1
2023-05-17 22:01:14.006 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794648180461568 [0;39m 返回结果: {"success":true}
2023-05-17 22:01:14.006 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794648180461568 [0;39m ------------- 结束 耗时：274 ms -------------
2023-05-17 22:01:14.006 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39794648180461568 [0;39m ------------- LoginInterceptor 结束 耗时：308 ms -------------
2023-05-17 22:01:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794649371643904 [0;39m ------------- 开始 -------------
2023-05-17 22:01:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794649371643904 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 22:01:14.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794649371643904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 22:01:14.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794649371643904 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:14.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794649371643904 [0;39m 请求参数: [39789950677422080]
2023-05-17 22:01:14.017 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794649371643904 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 22:01:14.018 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794649371643904 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 22:01:14.052 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794649371643904 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 22:01:14.052 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794649371643904 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 10, 0
2023-05-17 22:01:14.052 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794649371643904 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 22:01:14.052 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794649371643904 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 22:01:14.052 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794649371643904 [0;39m <==        Row: 39791679196237824, 39789950677422080, 0, RocketMq在Springboot的基础应用, 1, 2, 0
2023-05-17 22:01:14.052 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794649371643904 [0;39m <==        Row: 39791879704940544, 39789950677422080, 39791679196237824, 配置, 1, 0, 0
2023-05-17 22:01:14.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794649371643904 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 22:01:14.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794649371643904 [0;39m <==        Row: 39792357465526272, 39789950677422080, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 1, 0
2023-05-17 22:01:14.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794649371643904 [0;39m <==        Row: 39794574159384576, 39789950677422080, 39791679196237824, 服务端, 3, 0, 0
2023-05-17 22:01:14.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794649371643904 [0;39m <==        Row: 39794595206402048, 39789950677422080, 39791679196237824, 服务端, 3, 0, 0
2023-05-17 22:01:14.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794649371643904 [0;39m <==        Row: 39794616198893568, 39789950677422080, 39791679196237824, 服务端, 3, 0, 0
2023-05-17 22:01:14.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794649371643904 [0;39m <==        Row: 39794637241716736, 39789950677422080, 39791679196237824, 服务端, 3, 0, 0
2023-05-17 22:01:14.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794649371643904 [0;39m <==        Row: 39794648457285632, 39789950677422080, 39791679196237824, 服务端, 3, 0, 0
2023-05-17 22:01:14.054 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794649371643904 [0;39m <==      Total: 12
2023-05-17 22:01:14.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794649371643904 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":10,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":39789950677422080,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39794595206402048,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39794616198893568,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39794637241716736,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39794648457285632,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 22:01:14.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794649371643904 [0;39m ------------- 结束 耗时：38 ms -------------
2023-05-17 22:01:17.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794664848625664 [0;39m ------------- 开始 -------------
2023-05-17 22:01:17.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794664848625664 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39794595206402048 GET
2023-05-17 22:01:17.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794664848625664 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 22:01:17.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794664848625664 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:17.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794664848625664 [0;39m 请求参数: [39794595206402048]
2023-05-17 22:01:17.736 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794664848625664 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 22:01:17.741 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794664848625664 [0;39m ==> Parameters: 39794595206402048(Long)
2023-05-17 22:01:17.769 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39794664848625664 [0;39m <==    Columns: id, content
2023-05-17 22:01:17.775 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39794664848625664 [0;39m <==        Row: 39794595206402048, <<BLOB>>
2023-05-17 22:01:17.775 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794664848625664 [0;39m <==      Total: 1
2023-05-17 22:01:17.776 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794664848625664 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 22:01:17.776 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794664848625664 [0;39m ==> Parameters: 39794595206402048(Long)
2023-05-17 22:01:17.845 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794664848625664 [0;39m <==    Updates: 1
2023-05-17 22:01:17.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794664848625664 [0;39m 返回结果: {"content":"<p><h3 id=\"h1asa\">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = \"default\", topic = \"VOTE_TOPIC\")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info(\"ROCKETMQ收到消息：{}\", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>","success":true}
2023-05-17 22:01:17.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794664848625664 [0;39m ------------- 结束 耗时：140 ms -------------
2023-05-17 22:01:18.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794668652859392 [0;39m ------------- 开始 -------------
2023-05-17 22:01:18.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794668652859392 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39794574159384576 GET
2023-05-17 22:01:18.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794668652859392 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 22:01:18.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794668652859392 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:18.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794668652859392 [0;39m 请求参数: [39794574159384576]
2023-05-17 22:01:18.648 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794668652859392 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 22:01:18.649 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794668652859392 [0;39m ==> Parameters: 39794574159384576(Long)
2023-05-17 22:01:18.681 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39794668652859392 [0;39m <==    Columns: id, content
2023-05-17 22:01:18.681 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39794668652859392 [0;39m <==        Row: 39794574159384576, <<BLOB>>
2023-05-17 22:01:18.681 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794668652859392 [0;39m <==      Total: 1
2023-05-17 22:01:18.681 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794668652859392 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 22:01:18.681 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794668652859392 [0;39m ==> Parameters: 39794574159384576(Long)
2023-05-17 22:01:18.752 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794668652859392 [0;39m <==    Updates: 1
2023-05-17 22:01:18.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794668652859392 [0;39m 返回结果: {"content":"<p><h3 id=\"h1asa\">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = \"default\", topic = \"VOTE_TOPIC\")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info(\"ROCKETMQ收到消息：{}\", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>","success":true}
2023-05-17 22:01:18.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794668652859392 [0;39m ------------- 结束 耗时：140 ms -------------
2023-05-17 22:01:19.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794671257522176 [0;39m ------------- 开始 -------------
2023-05-17 22:01:19.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794671257522176 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39794595206402048 GET
2023-05-17 22:01:19.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794671257522176 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 22:01:19.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794671257522176 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:19.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794671257522176 [0;39m 请求参数: [39794595206402048]
2023-05-17 22:01:19.267 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794671257522176 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 22:01:19.267 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794671257522176 [0;39m ==> Parameters: 39794595206402048(Long)
2023-05-17 22:01:19.300 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39794671257522176 [0;39m <==    Columns: id, content
2023-05-17 22:01:19.301 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39794671257522176 [0;39m <==        Row: 39794595206402048, <<BLOB>>
2023-05-17 22:01:19.301 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794671257522176 [0;39m <==      Total: 1
2023-05-17 22:01:19.301 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794671257522176 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 22:01:19.302 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794671257522176 [0;39m ==> Parameters: 39794595206402048(Long)
2023-05-17 22:01:19.366 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794671257522176 [0;39m <==    Updates: 1
2023-05-17 22:01:19.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794671257522176 [0;39m 返回结果: {"content":"<p><h3 id=\"h1asa\">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = \"default\", topic = \"VOTE_TOPIC\")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info(\"ROCKETMQ收到消息：{}\", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>","success":true}
2023-05-17 22:01:19.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794671257522176 [0;39m ------------- 结束 耗时：132 ms -------------
2023-05-17 22:01:19.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794672880717824 [0;39m ------------- 开始 -------------
2023-05-17 22:01:19.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794672880717824 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39794616198893568 GET
2023-05-17 22:01:19.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794672880717824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 22:01:19.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794672880717824 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:19.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794672880717824 [0;39m 请求参数: [39794616198893568]
2023-05-17 22:01:19.624 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794672880717824 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 22:01:19.625 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794672880717824 [0;39m ==> Parameters: 39794616198893568(Long)
2023-05-17 22:01:19.659 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39794672880717824 [0;39m <==    Columns: id, content
2023-05-17 22:01:19.659 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39794672880717824 [0;39m <==        Row: 39794616198893568, <<BLOB>>
2023-05-17 22:01:19.659 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794672880717824 [0;39m <==      Total: 1
2023-05-17 22:01:19.660 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794672880717824 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 22:01:19.660 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794672880717824 [0;39m ==> Parameters: 39794616198893568(Long)
2023-05-17 22:01:19.731 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794672880717824 [0;39m <==    Updates: 1
2023-05-17 22:01:19.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794672880717824 [0;39m 返回结果: {"content":"<p><h3 id=\"h1asa\">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = \"default\", topic = \"VOTE_TOPIC\")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info(\"ROCKETMQ收到消息：{}\", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>","success":true}
2023-05-17 22:01:19.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794672880717824 [0;39m ------------- 结束 耗时：110 ms -------------
2023-05-17 22:01:20.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794677804830720 [0;39m ------------- 开始 -------------
2023-05-17 22:01:20.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794677804830720 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39794648457285632 GET
2023-05-17 22:01:20.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794677804830720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 22:01:20.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794677804830720 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:20.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794677804830720 [0;39m 请求参数: [39794648457285632]
2023-05-17 22:01:20.825 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794677804830720 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 22:01:20.825 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794677804830720 [0;39m ==> Parameters: 39794648457285632(Long)
2023-05-17 22:01:20.863 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39794677804830720 [0;39m <==    Columns: id, content
2023-05-17 22:01:20.864 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39794677804830720 [0;39m <==        Row: 39794648457285632, <<BLOB>>
2023-05-17 22:01:20.864 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39794677804830720 [0;39m <==      Total: 1
2023-05-17 22:01:20.864 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794677804830720 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 22:01:20.864 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794677804830720 [0;39m ==> Parameters: 39794648457285632(Long)
2023-05-17 22:01:20.934 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39794677804830720 [0;39m <==    Updates: 1
2023-05-17 22:01:20.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794677804830720 [0;39m 返回结果: {"content":"<p><h3 id=\"2oqdc\">通过注解@RocketMQMessageListener 设置consumerGroup 对应的是我们配置文件的consumerGroup ，和topic 对应的是我们的发送端发送的topic</h3>@Service<br>@RocketMQMessageListener(consumerGroup = \"default\", topic = \"VOTE_TOPIC\")<br>public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>@Resource<br>public WebSocketServer webSocketServer;<br><br>@Override<br>public void onMessage(MessageExt messageExt) {<br>byte[] body = messageExt.getBody();<br>LOG.info(\"ROCKETMQ收到消息：{}\", new String(body));<br>webSocketServer.sendInfo(new String(body));<br>}<br>}<br></p>","success":true}
2023-05-17 22:01:20.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794677804830720 [0;39m ------------- 结束 耗时：139 ms -------------
2023-05-17 22:01:21.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:01:23.360 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:01:23.426 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39794649371643904 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:01:23.426 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39794649371643904 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 22:01:23.435 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39792358459576320 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:01:23.435 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39792358459576320 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/delete/39794648457285632
2023-05-17 22:01:23.435 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39792358459576320 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 22:01:23.470 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39792358459576320 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 22:01:23.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794689028788224 [0;39m ------------- 开始 -------------
2023-05-17 22:01:23.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794689028788224 [0;39m 请求地址: http://127.0.0.1:8880/doc/delete/39794648457285632 DELETE
2023-05-17 22:01:23.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794689028788224 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.delete
2023-05-17 22:01:23.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794689028788224 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:23.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794689028788224 [0;39m 请求参数: ["39794648457285632"]
2023-05-17 22:01:23.506 DEBUG com.jiawa.wiki.mapper.DocMapper.deleteByExample   :137  [32m39794689028788224 [0;39m ==>  Preparing: delete from doc WHERE ( id in ( ? ) )
2023-05-17 22:01:23.506 DEBUG com.jiawa.wiki.mapper.DocMapper.deleteByExample   :137  [32m39794689028788224 [0;39m ==> Parameters: 39794648457285632(String)
2023-05-17 22:01:23.577 DEBUG com.jiawa.wiki.mapper.DocMapper.deleteByExample   :137  [32m39794689028788224 [0;39m <==    Updates: 1
2023-05-17 22:01:23.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794689028788224 [0;39m 返回结果: {"success":true}
2023-05-17 22:01:23.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794689028788224 [0;39m ------------- 结束 耗时：110 ms -------------
2023-05-17 22:01:23.582 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39794689028788224 [0;39m ------------- LoginInterceptor 结束 耗时：147 ms -------------
2023-05-17 22:01:23.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794689565659136 [0;39m ------------- 开始 -------------
2023-05-17 22:01:23.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794689565659136 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 22:01:23.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794689565659136 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 22:01:23.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794689565659136 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:23.600 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794689565659136 [0;39m 请求参数: [39789950677422080]
2023-05-17 22:01:23.601 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794689565659136 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 22:01:23.602 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794689565659136 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 22:01:23.634 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794689565659136 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 22:01:23.634 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794689565659136 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 10, 0
2023-05-17 22:01:23.636 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794689565659136 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 22:01:23.636 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794689565659136 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 22:01:23.636 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794689565659136 [0;39m <==        Row: 39791679196237824, 39789950677422080, 0, RocketMq在Springboot的基础应用, 1, 2, 0
2023-05-17 22:01:23.636 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794689565659136 [0;39m <==        Row: 39791879704940544, 39789950677422080, 39791679196237824, 配置, 1, 0, 0
2023-05-17 22:01:23.636 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794689565659136 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 22:01:23.636 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794689565659136 [0;39m <==        Row: 39792357465526272, 39789950677422080, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 1, 0
2023-05-17 22:01:23.636 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794689565659136 [0;39m <==        Row: 39794574159384576, 39789950677422080, 39791679196237824, 服务端, 3, 1, 0
2023-05-17 22:01:23.637 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794689565659136 [0;39m <==        Row: 39794595206402048, 39789950677422080, 39791679196237824, 服务端, 3, 2, 0
2023-05-17 22:01:23.637 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794689565659136 [0;39m <==        Row: 39794616198893568, 39789950677422080, 39791679196237824, 服务端, 3, 1, 0
2023-05-17 22:01:23.637 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794689565659136 [0;39m <==        Row: 39794637241716736, 39789950677422080, 39791679196237824, 服务端, 3, 0, 0
2023-05-17 22:01:23.637 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794689565659136 [0;39m <==      Total: 11
2023-05-17 22:01:23.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794689565659136 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":10,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":39789950677422080,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":1,"voteCount":0},{"ebookId":39789950677422080,"id":39794595206402048,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39794616198893568,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":1,"voteCount":0},{"ebookId":39789950677422080,"id":39794637241716736,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 22:01:23.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794689565659136 [0;39m ------------- 结束 耗时：38 ms -------------
2023-05-17 22:01:25.395 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:01:25.647 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39794531884994560 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:01:25.647 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39794531884994560 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 22:01:25.649 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39794668652859392 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:01:25.649 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39794668652859392 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/delete/39794637241716736
2023-05-17 22:01:25.649 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39794668652859392 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 22:01:25.680 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39794668652859392 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 22:01:25.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794698294005760 [0;39m ------------- 开始 -------------
2023-05-17 22:01:25.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794698294005760 [0;39m 请求地址: http://127.0.0.1:8880/doc/delete/39794637241716736 DELETE
2023-05-17 22:01:25.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794698294005760 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.delete
2023-05-17 22:01:25.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794698294005760 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:25.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794698294005760 [0;39m 请求参数: ["39794637241716736"]
2023-05-17 22:01:25.715 DEBUG com.jiawa.wiki.mapper.DocMapper.deleteByExample   :137  [32m39794698294005760 [0;39m ==>  Preparing: delete from doc WHERE ( id in ( ? ) )
2023-05-17 22:01:25.715 DEBUG com.jiawa.wiki.mapper.DocMapper.deleteByExample   :137  [32m39794698294005760 [0;39m ==> Parameters: 39794637241716736(String)
2023-05-17 22:01:25.785 DEBUG com.jiawa.wiki.mapper.DocMapper.deleteByExample   :137  [32m39794698294005760 [0;39m <==    Updates: 1
2023-05-17 22:01:25.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794698294005760 [0;39m 返回结果: {"success":true}
2023-05-17 22:01:25.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794698294005760 [0;39m ------------- 结束 耗时：105 ms -------------
2023-05-17 22:01:25.785 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39794698294005760 [0;39m ------------- LoginInterceptor 结束 耗时：136 ms -------------
2023-05-17 22:01:25.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794698793127936 [0;39m ------------- 开始 -------------
2023-05-17 22:01:25.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794698793127936 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 22:01:25.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794698793127936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 22:01:25.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794698793127936 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:25.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794698793127936 [0;39m 请求参数: [39789950677422080]
2023-05-17 22:01:25.802 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794698793127936 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 22:01:25.802 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794698793127936 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 22:01:25.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794698793127936 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 22:01:25.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794698793127936 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 10, 0
2023-05-17 22:01:25.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794698793127936 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 22:01:25.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794698793127936 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 22:01:25.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794698793127936 [0;39m <==        Row: 39791679196237824, 39789950677422080, 0, RocketMq在Springboot的基础应用, 1, 2, 0
2023-05-17 22:01:25.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794698793127936 [0;39m <==        Row: 39791879704940544, 39789950677422080, 39791679196237824, 配置, 1, 0, 0
2023-05-17 22:01:25.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794698793127936 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 22:01:25.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794698793127936 [0;39m <==        Row: 39792357465526272, 39789950677422080, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 1, 0
2023-05-17 22:01:25.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794698793127936 [0;39m <==        Row: 39794574159384576, 39789950677422080, 39791679196237824, 服务端, 3, 1, 0
2023-05-17 22:01:25.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794698793127936 [0;39m <==        Row: 39794595206402048, 39789950677422080, 39791679196237824, 服务端, 3, 2, 0
2023-05-17 22:01:25.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794698793127936 [0;39m <==        Row: 39794616198893568, 39789950677422080, 39791679196237824, 服务端, 3, 1, 0
2023-05-17 22:01:25.831 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794698793127936 [0;39m <==      Total: 10
2023-05-17 22:01:25.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794698793127936 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":10,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":39789950677422080,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":1,"voteCount":0},{"ebookId":39789950677422080,"id":39794595206402048,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39794616198893568,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":1,"voteCount":0}],"success":true}
2023-05-17 22:01:25.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794698793127936 [0;39m ------------- 结束 耗时：40 ms -------------
2023-05-17 22:01:27.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:01:27.610 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39794573882560512 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:01:27.610 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39794573882560512 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 22:01:27.612 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39794672880717824 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:01:27.612 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39794672880717824 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/delete/39794616198893568
2023-05-17 22:01:27.613 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39794672880717824 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 22:01:27.645 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39794672880717824 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 22:01:27.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794706535813120 [0;39m ------------- 开始 -------------
2023-05-17 22:01:27.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794706535813120 [0;39m 请求地址: http://127.0.0.1:8880/doc/delete/39794616198893568 DELETE
2023-05-17 22:01:27.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794706535813120 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.delete
2023-05-17 22:01:27.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794706535813120 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:27.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794706535813120 [0;39m 请求参数: ["39794616198893568"]
2023-05-17 22:01:27.682 DEBUG com.jiawa.wiki.mapper.DocMapper.deleteByExample   :137  [32m39794706535813120 [0;39m ==>  Preparing: delete from doc WHERE ( id in ( ? ) )
2023-05-17 22:01:27.685 DEBUG com.jiawa.wiki.mapper.DocMapper.deleteByExample   :137  [32m39794706535813120 [0;39m ==> Parameters: 39794616198893568(String)
2023-05-17 22:01:27.749 DEBUG com.jiawa.wiki.mapper.DocMapper.deleteByExample   :137  [32m39794706535813120 [0;39m <==    Updates: 1
2023-05-17 22:01:27.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794706535813120 [0;39m 返回结果: {"success":true}
2023-05-17 22:01:27.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794706535813120 [0;39m ------------- 结束 耗时：104 ms -------------
2023-05-17 22:01:27.749 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39794706535813120 [0;39m ------------- LoginInterceptor 结束 耗时：137 ms -------------
2023-05-17 22:01:27.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794707034935296 [0;39m ------------- 开始 -------------
2023-05-17 22:01:27.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794707034935296 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 22:01:27.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794707034935296 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 22:01:27.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794707034935296 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:27.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794707034935296 [0;39m 请求参数: [39789950677422080]
2023-05-17 22:01:27.765 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794707034935296 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 22:01:27.765 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794707034935296 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 22:01:27.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794707034935296 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 22:01:27.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794707034935296 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 10, 0
2023-05-17 22:01:27.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794707034935296 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 22:01:27.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794707034935296 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 22:01:27.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794707034935296 [0;39m <==        Row: 39791679196237824, 39789950677422080, 0, RocketMq在Springboot的基础应用, 1, 2, 0
2023-05-17 22:01:27.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794707034935296 [0;39m <==        Row: 39791879704940544, 39789950677422080, 39791679196237824, 配置, 1, 0, 0
2023-05-17 22:01:27.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794707034935296 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 22:01:27.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794707034935296 [0;39m <==        Row: 39792357465526272, 39789950677422080, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 1, 0
2023-05-17 22:01:27.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794707034935296 [0;39m <==        Row: 39794574159384576, 39789950677422080, 39791679196237824, 服务端, 3, 1, 0
2023-05-17 22:01:27.801 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794707034935296 [0;39m <==        Row: 39794595206402048, 39789950677422080, 39791679196237824, 服务端, 3, 2, 0
2023-05-17 22:01:27.801 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794707034935296 [0;39m <==      Total: 9
2023-05-17 22:01:27.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794707034935296 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":10,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":39789950677422080,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":1,"voteCount":0},{"ebookId":39789950677422080,"id":39794595206402048,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":2,"voteCount":0}],"success":true}
2023-05-17 22:01:27.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794707034935296 [0;39m ------------- 结束 耗时：37 ms -------------
2023-05-17 22:01:29.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:01:29.695 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39794677804830720 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:01:29.695 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39794677804830720 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-17 22:01:29.697 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39794649371643904 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:01:29.697 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39794649371643904 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/delete/39794595206402048
2023-05-17 22:01:29.697 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39794649371643904 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 22:01:29.728 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39794649371643904 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 22:01:29.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794715272548352 [0;39m ------------- 开始 -------------
2023-05-17 22:01:29.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794715272548352 [0;39m 请求地址: http://127.0.0.1:8880/doc/delete/39794595206402048 DELETE
2023-05-17 22:01:29.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794715272548352 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.delete
2023-05-17 22:01:29.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794715272548352 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:29.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794715272548352 [0;39m 请求参数: ["39794595206402048"]
2023-05-17 22:01:29.764 DEBUG com.jiawa.wiki.mapper.DocMapper.deleteByExample   :137  [32m39794715272548352 [0;39m ==>  Preparing: delete from doc WHERE ( id in ( ? ) )
2023-05-17 22:01:29.764 DEBUG com.jiawa.wiki.mapper.DocMapper.deleteByExample   :137  [32m39794715272548352 [0;39m ==> Parameters: 39794595206402048(String)
2023-05-17 22:01:29.832 DEBUG com.jiawa.wiki.mapper.DocMapper.deleteByExample   :137  [32m39794715272548352 [0;39m <==    Updates: 1
2023-05-17 22:01:29.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794715272548352 [0;39m 返回结果: {"success":true}
2023-05-17 22:01:29.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794715272548352 [0;39m ------------- 结束 耗时：104 ms -------------
2023-05-17 22:01:29.832 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39794715272548352 [0;39m ------------- LoginInterceptor 结束 耗时：135 ms -------------
2023-05-17 22:01:29.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39794715754893312 [0;39m ------------- 开始 -------------
2023-05-17 22:01:29.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39794715754893312 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 22:01:29.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39794715754893312 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 22:01:29.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39794715754893312 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:01:29.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39794715754893312 [0;39m 请求参数: [39789950677422080]
2023-05-17 22:01:29.845 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794715754893312 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 22:01:29.846 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794715754893312 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 22:01:29.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794715754893312 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 22:01:29.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794715754893312 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 10, 0
2023-05-17 22:01:29.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794715754893312 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 22:01:29.880 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794715754893312 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 22:01:29.880 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794715754893312 [0;39m <==        Row: 39791679196237824, 39789950677422080, 0, RocketMq在Springboot的基础应用, 1, 2, 0
2023-05-17 22:01:29.880 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794715754893312 [0;39m <==        Row: 39791879704940544, 39789950677422080, 39791679196237824, 配置, 1, 0, 0
2023-05-17 22:01:29.880 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794715754893312 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 22:01:29.880 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794715754893312 [0;39m <==        Row: 39792357465526272, 39789950677422080, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 1, 0
2023-05-17 22:01:29.881 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39794715754893312 [0;39m <==        Row: 39794574159384576, 39789950677422080, 39791679196237824, 服务端, 3, 1, 0
2023-05-17 22:01:29.882 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39794715754893312 [0;39m <==      Total: 8
2023-05-17 22:01:29.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39794715754893312 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":10,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":39789950677422080,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":1,"voteCount":0}],"success":true}
2023-05-17 22:01:29.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39794715754893312 [0;39m ------------- 结束 耗时：39 ms -------------
2023-05-17 22:01:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39794737460416512 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:01:35.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794737460416512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:01:35.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794737460416512 [0;39m ==> Parameters: 
2023-05-17 22:01:35.120 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794737460416512 [0;39m <==    Updates: 3
2023-05-17 22:01:35.120 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39794737460416512 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-17 22:01:51.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:01:51.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:01:53.380 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:01:55.405 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:01:57.450 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:02:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39794842301239296 [0;39m 生成今日电子书快照开始
2023-05-17 22:02:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39794842301239296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:02:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39794842301239296 [0;39m ==> Parameters: 
2023-05-17 22:02:00.121 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39794842301239296 [0;39m <==    Updates: 0
2023-05-17 22:02:00.121 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39794842301239296 [0;39m 生成今日电子书快照结束，耗时：107毫秒
2023-05-17 22:02:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39794863276953600 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:02:05.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794863276953600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:02:05.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794863276953600 [0;39m ==> Parameters: 
2023-05-17 22:02:05.114 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794863276953600 [0;39m <==    Updates: 3
2023-05-17 22:02:05.114 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39794863276953600 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-17 22:02:19.486 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:02:21.534 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:02:21.752 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:02:25.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:02:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39794989097684992 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:02:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794989097684992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:02:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794989097684992 [0;39m ==> Parameters: 
2023-05-17 22:02:35.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39794989097684992 [0;39m <==    Updates: 3
2023-05-17 22:02:35.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39794989097684992 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-05-17 22:02:44.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:02:46.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:02:51.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:02:51.766 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:02:53.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:02:55.421 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:03:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39795093963673600 [0;39m 生成今日电子书快照开始
2023-05-17 22:03:00.047 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39795093963673600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:03:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39795093963673600 [0;39m ==> Parameters: 
2023-05-17 22:03:00.116 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39795093963673600 [0;39m <==    Updates: 0
2023-05-17 22:03:00.116 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39795093963673600 [0;39m 生成今日电子书快照结束，耗时：101毫秒
2023-05-17 22:03:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39795114872279040 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:03:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795114872279040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:03:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795114872279040 [0;39m ==> Parameters: 
2023-05-17 22:03:05.099 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795114872279040 [0;39m <==    Updates: 3
2023-05-17 22:03:05.099 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39795114872279040 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-17 22:03:08.566 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:03:10.569 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:03:21.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:03:21.754 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:03:23.362 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:03:25.410 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:03:32.620 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:03:34.656 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:03:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39795240768507904 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:03:35.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795240768507904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:03:35.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795240768507904 [0;39m ==> Parameters: 
2023-05-17 22:03:35.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795240768507904 [0;39m <==    Updates: 3
2023-05-17 22:03:35.119 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39795240768507904 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-17 22:03:51.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:03:51.742 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:03:53.385 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:03:57.468 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:03:59.511 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:04:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39795345588359168 [0;39m 生成今日电子书快照开始
2023-05-17 22:04:00.304 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39795345588359168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:04:00.304 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39795345588359168 [0;39m ==> Parameters: 
2023-05-17 22:04:00.605 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39795345588359168 [0;39m <==    Updates: 0
2023-05-17 22:04:00.605 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39795345588359168 [0;39m 生成今日电子书快照结束，耗时：598毫秒
2023-05-17 22:04:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39795366568267776 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:04:05.279 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795366568267776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:04:05.280 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795366568267776 [0;39m ==> Parameters: 
2023-05-17 22:04:05.570 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795366568267776 [0;39m <==    Updates: 3
2023-05-17 22:04:05.570 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39795366568267776 [0;39m 更新电子书下的文档数据结束，耗时：561毫秒
2023-05-17 22:04:21.347 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:04:21.755 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:04:23.355 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:04:25.402 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:04:27.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:04:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39795492372221952 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:04:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795492372221952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:04:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795492372221952 [0;39m ==> Parameters: 
2023-05-17 22:04:35.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795492372221952 [0;39m <==    Updates: 3
2023-05-17 22:04:35.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39795492372221952 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-05-17 22:04:49.500 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:04:51.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:04:51.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:04:53.577 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:04:55.627 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:05:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39795597238210560 [0;39m 生成今日电子书快照开始
2023-05-17 22:05:00.039 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39795597238210560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:05:00.039 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39795597238210560 [0;39m ==> Parameters: 
2023-05-17 22:05:00.106 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39795597238210560 [0;39m <==    Updates: 0
2023-05-17 22:05:00.106 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39795597238210560 [0;39m 生成今日电子书快照结束，耗时：101毫秒
2023-05-17 22:05:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39795618251673600 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:05:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795618251673600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:05:05.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795618251673600 [0;39m ==> Parameters: 
2023-05-17 22:05:05.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795618251673600 [0;39m <==    Updates: 3
2023-05-17 22:05:05.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39795618251673600 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 22:05:14.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:05:16.568 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:05:21.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:05:21.734 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:05:23.365 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:05:25.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:05:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39795744059822080 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:05:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795744059822080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:05:35.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795744059822080 [0;39m ==> Parameters: 
2023-05-17 22:05:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795744059822080 [0;39m <==    Updates: 3
2023-05-17 22:05:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39795744059822080 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-17 22:05:38.589 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:05:40.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:05:51.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:05:51.722 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:05:53.313 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:05:55.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:06:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39795848900644864 [0;39m 生成今日电子书快照开始
2023-05-17 22:06:00.039 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39795848900644864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:06:00.045 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39795848900644864 [0;39m ==> Parameters: 
2023-05-17 22:06:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39795848900644864 [0;39m <==    Updates: 0
2023-05-17 22:06:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39795848900644864 [0;39m 生成今日电子书快照结束，耗时：105毫秒
2023-05-17 22:06:02.655 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:06:04.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:06:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39795869855387648 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:06:05.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795869855387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:06:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795869855387648 [0;39m ==> Parameters: 
2023-05-17 22:06:05.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795869855387648 [0;39m <==    Updates: 3
2023-05-17 22:06:05.101 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39795869855387648 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-17 22:06:21.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:06:21.738 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:06:23.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:06:25.391 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:06:27.422 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:06:29.462 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:06:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39795995726450688 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:06:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795995726450688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:06:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795995726450688 [0;39m ==> Parameters: 
2023-05-17 22:06:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39795995726450688 [0;39m <==    Updates: 3
2023-05-17 22:06:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39795995726450688 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 22:06:51.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:06:51.742 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:06:53.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:06:55.380 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:06:57.392 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:07:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39796100558884864 [0;39m 生成今日电子书快照开始
2023-05-17 22:07:00.039 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39796100558884864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:07:00.040 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39796100558884864 [0;39m ==> Parameters: 
2023-05-17 22:07:00.101 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39796100558884864 [0;39m <==    Updates: 0
2023-05-17 22:07:00.101 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39796100558884864 [0;39m 生成今日电子书快照结束，耗时：95毫秒
2023-05-17 22:07:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39796121572347904 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:07:05.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796121572347904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:07:05.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796121572347904 [0;39m ==> Parameters: 
2023-05-17 22:07:05.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796121572347904 [0;39m <==    Updates: 3
2023-05-17 22:07:05.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39796121572347904 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 22:07:19.428 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:07:21.463 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:07:21.745 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:07:23.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:07:25.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:07:27.571 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:07:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39796247351136256 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:07:35.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796247351136256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:07:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796247351136256 [0;39m ==> Parameters: 
2023-05-17 22:07:35.104 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796247351136256 [0;39m <==    Updates: 3
2023-05-17 22:07:35.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39796247351136256 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-17 22:07:43.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:07:45.513 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:07:51.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:07:51.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:07:53.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:07:55.393 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39796352246484992 [0;39m 生成今日电子书快照开始
2023-05-17 22:08:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39796352246484992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:08:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39796352246484992 [0;39m ==> Parameters: 
2023-05-17 22:08:00.113 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39796352246484992 [0;39m <==    Updates: 0
2023-05-17 22:08:00.113 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39796352246484992 [0;39m 生成今日电子书快照结束，耗时：100毫秒
2023-05-17 22:08:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39796373176061952 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:08:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796373176061952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:08:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796373176061952 [0;39m ==> Parameters: 
2023-05-17 22:08:05.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796373176061952 [0;39m <==    Updates: 3
2023-05-17 22:08:05.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39796373176061952 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-17 22:08:07.543 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:09.562 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:21.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:21.737 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:23.386 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:25.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:31.611 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:33.647 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39796499017764864 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:08:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796499017764864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:08:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796499017764864 [0;39m ==> Parameters: 
2023-05-17 22:08:35.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796499017764864 [0;39m <==    Updates: 3
2023-05-17 22:08:35.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39796499017764864 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 22:08:51.339 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:51.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:53.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:55.401 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:57.433 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:08:59.446 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:09:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39796603883753472 [0;39m 生成今日电子书快照开始
2023-05-17 22:09:00.055 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39796603883753472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:09:00.056 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39796603883753472 [0;39m ==> Parameters: 
2023-05-17 22:09:00.124 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39796603883753472 [0;39m <==    Updates: 0
2023-05-17 22:09:00.124 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39796603883753472 [0;39m 生成今日电子书快照结束，耗时：116毫秒
2023-05-17 22:09:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39796624893022208 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:09:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796624893022208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:09:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796624893022208 [0;39m ==> Parameters: 
2023-05-17 22:09:05.117 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796624893022208 [0;39m <==    Updates: 3
2023-05-17 22:09:05.118 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39796624893022208 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-17 22:09:21.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:09:21.773 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:09:23.358 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:09:25.397 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:09:27.432 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:09:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39796750692782080 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:09:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796750692782080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:09:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796750692782080 [0;39m ==> Parameters: 
2023-05-17 22:09:35.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796750692782080 [0;39m <==    Updates: 3
2023-05-17 22:09:35.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39796750692782080 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-05-17 22:09:49.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:09:51.505 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:09:51.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:09:53.546 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:09:55.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:09:57.588 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:10:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39796855537799168 [0;39m 生成今日电子书快照开始
2023-05-17 22:10:00.040 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39796855537799168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:10:00.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39796855537799168 [0;39m ==> Parameters: 
2023-05-17 22:10:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39796855537799168 [0;39m <==    Updates: 0
2023-05-17 22:10:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39796855537799168 [0;39m 生成今日电子书快照结束，耗时：104毫秒
2023-05-17 22:10:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39796876488347648 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:10:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796876488347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:10:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796876488347648 [0;39m ==> Parameters: 
2023-05-17 22:10:05.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39796876488347648 [0;39m <==    Updates: 3
2023-05-17 22:10:05.111 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39796876488347648 [0;39m 更新电子书下的文档数据结束，耗时：109毫秒
2023-05-17 22:10:13.545 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:10:15.578 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:10:21.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:10:21.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:10:23.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:10:25.393 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:10:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39797002359410688 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:10:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797002359410688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:10:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797002359410688 [0;39m ==> Parameters: 
2023-05-17 22:10:35.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797002359410688 [0;39m <==    Updates: 3
2023-05-17 22:10:35.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39797002359410688 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-05-17 22:10:37.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:10:39.647 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:10:51.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:10:51.761 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:10:53.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:10:55.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:11:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39797107175067648 [0;39m 生成今日电子书快照开始
2023-05-17 22:11:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39797107175067648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:11:00.036 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39797107175067648 [0;39m ==> Parameters: 
2023-05-17 22:11:00.104 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39797107175067648 [0;39m <==    Updates: 0
2023-05-17 22:11:00.104 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39797107175067648 [0;39m 生成今日电子书快照结束，耗时：102毫秒
2023-05-17 22:11:01.661 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:11:03.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:11:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39797128159170560 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:11:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797128159170560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:11:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797128159170560 [0;39m ==> Parameters: 
2023-05-17 22:11:05.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797128159170560 [0;39m <==    Updates: 3
2023-05-17 22:11:05.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39797128159170560 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 22:11:21.310 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:11:21.739 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:11:23.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:11:25.351 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:11:27.385 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:11:29.406 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:11:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39797254009262080 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:11:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797254009262080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:11:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797254009262080 [0;39m ==> Parameters: 
2023-05-17 22:11:35.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797254009262080 [0;39m <==    Updates: 3
2023-05-17 22:11:35.110 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39797254009262080 [0;39m 更新电子书下的文档数据结束，耗时：100毫秒
2023-05-17 22:11:51.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:11:51.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:11:55.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:11:57.431 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:12:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39797358841696256 [0;39m 生成今日电子书快照开始
2023-05-17 22:12:05.015 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39797358841696256 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@50e81c1d (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:12:10.026 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39797358841696256 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7db8abb9 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:12:15.038 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39797358841696256 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@31b7e3ce (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:12:19.488 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:12:20.051 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39797358841696256 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@a6f7982 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:12:21.531 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:12:21.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:12:23.573 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:12:25.054 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39797358841696256 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3c15c21e (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:12:25.600 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:12:30.062 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39797358841696256 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@1479e542 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:12:30.069 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39797358841696256 [0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30059ms.
### The error may exist in file [D:\work\jiawawiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30059ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy96.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy110.genSnapshot(Unknown Source)
	at com.jiawa.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.jiawa.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor221.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30059ms.
### The error may exist in file [D:\work\jiawawiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.jiawa.wiki.mapper.EbookSnapshotMapperCust.genSnapshot
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30059ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at sun.reflect.GeneratedMethodAccessor160.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30059ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor159.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 25 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30059ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 38 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2498)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:560)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:173)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 43 common frames omitted
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at sun.reflect.GeneratedConstructorAccessor80.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:1171)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:576)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2494)
	... 46 common frames omitted
2023-05-17 22:12:30.069 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39797484943446016 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:12:35.077 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39797484943446016 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6c8c9031 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:12:35.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797484943446016 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:12:35.110 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797484943446016 [0;39m ==> Parameters: 
2023-05-17 22:12:35.176 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797484943446016 [0;39m <==    Updates: 3
2023-05-17 22:12:35.176 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39797484943446016 [0;39m 更新电子书下的文档数据结束，耗时：5107毫秒
2023-05-17 22:12:44.537 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:12:46.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:12:51.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:12:51.752 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:12:53.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:12:55.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39797610512519168 [0;39m 生成今日电子书快照开始
2023-05-17 22:13:00.039 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39797610512519168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:13:00.039 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39797610512519168 [0;39m ==> Parameters: 
2023-05-17 22:13:00.107 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39797610512519168 [0;39m <==    Updates: 0
2023-05-17 22:13:00.108 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39797610512519168 [0;39m 生成今日电子书快照结束，耗时：101毫秒
2023-05-17 22:13:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39797631492427776 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:13:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797631492427776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:13:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797631492427776 [0;39m ==> Parameters: 
2023-05-17 22:13:05.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797631492427776 [0;39m <==    Updates: 3
2023-05-17 22:13:05.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39797631492427776 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 22:13:08.610 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:10.655 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:21.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:21.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:23.347 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:25.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:32.692 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:34.735 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39797757287993344 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:13:35.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797757287993344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:13:35.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797757287993344 [0;39m ==> Parameters: 
2023-05-17 22:13:35.105 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797757287993344 [0;39m <==    Updates: 3
2023-05-17 22:13:35.105 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39797757287993344 [0;39m 更新电子书下的文档数据结束，耗时：104毫秒
2023-05-17 22:13:51.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:51.748 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:53.364 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:55.385 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:57.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:13:59.448 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:14:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39797862208507904 [0;39m 生成今日电子书快照开始
2023-05-17 22:14:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39797862208507904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:14:00.048 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39797862208507904 [0;39m ==> Parameters: 
2023-05-17 22:14:00.115 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39797862208507904 [0;39m <==    Updates: 0
2023-05-17 22:14:00.115 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39797862208507904 [0;39m 生成今日电子书快照结束，耗时：99毫秒
2023-05-17 22:14:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39797883117113344 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:14:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797883117113344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:14:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797883117113344 [0;39m ==> Parameters: 
2023-05-17 22:14:05.098 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39797883117113344 [0;39m <==    Updates: 3
2023-05-17 22:14:05.098 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39797883117113344 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 22:14:21.313 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:14:21.748 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:14:25.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:14:27.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:14:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39798008963010560 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:14:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798008963010560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:14:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798008963010560 [0;39m ==> Parameters: 
2023-05-17 22:14:35.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798008963010560 [0;39m <==    Updates: 3
2023-05-17 22:14:35.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39798008963010560 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 22:14:49.397 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:14:51.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:14:51.732 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:14:53.450 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:14:55.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:15:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39798113833193472 [0;39m 生成今日电子书快照开始
2023-05-17 22:15:00.040 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39798113833193472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:15:00.040 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39798113833193472 [0;39m ==> Parameters: 
2023-05-17 22:15:00.105 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39798113833193472 [0;39m <==    Updates: 0
2023-05-17 22:15:00.105 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39798113833193472 [0;39m 生成今日电子书快照结束，耗时：97毫秒
2023-05-17 22:15:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39798134817296384 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:15:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798134817296384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:15:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798134817296384 [0;39m ==> Parameters: 
2023-05-17 22:15:05.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798134817296384 [0;39m <==    Updates: 3
2023-05-17 22:15:05.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39798134817296384 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-05-17 22:15:14.438 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:15:16.486 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:15:21.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:15:21.772 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:15:25.386 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:15:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39798260617056256 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:15:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798260617056256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:15:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798260617056256 [0;39m ==> Parameters: 
2023-05-17 22:15:35.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798260617056256 [0;39m <==    Updates: 3
2023-05-17 22:15:35.101 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39798260617056256 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 22:15:38.512 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:15:40.558 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:15:51.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:15:51.758 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:15:53.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:15:55.393 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:16:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39798365462073344 [0;39m 生成今日电子书快照开始
2023-05-17 22:16:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39798365462073344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:16:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39798365462073344 [0;39m ==> Parameters: 
2023-05-17 22:16:00.098 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39798365462073344 [0;39m <==    Updates: 0
2023-05-17 22:16:00.098 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39798365462073344 [0;39m 生成今日电子书快照结束，耗时：97毫秒
2023-05-17 22:16:02.588 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:16:04.607 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:16:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39798386450370560 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:16:05.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798386450370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:16:05.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798386450370560 [0;39m ==> Parameters: 
2023-05-17 22:16:05.101 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798386450370560 [0;39m <==    Updates: 3
2023-05-17 22:16:05.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39798386450370560 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 22:16:21.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:16:21.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:16:23.356 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:16:25.397 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:16:27.407 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:16:29.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:16:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39798512300462080 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:16:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798512300462080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:16:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798512300462080 [0;39m ==> Parameters: 
2023-05-17 22:16:35.108 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798512300462080 [0;39m <==    Updates: 3
2023-05-17 22:16:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39798512300462080 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-17 22:16:51.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:16:51.747 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:16:53.372 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:16:55.397 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:16:57.426 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:17:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39798617132896256 [0;39m 生成今日电子书快照开始
2023-05-17 22:17:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39798617132896256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:17:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39798617132896256 [0;39m ==> Parameters: 
2023-05-17 22:17:00.101 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39798617132896256 [0;39m <==    Updates: 0
2023-05-17 22:17:00.101 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39798617132896256 [0;39m 生成今日电子书快照结束，耗时：97毫秒
2023-05-17 22:17:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39798638087639040 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:17:05.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798638087639040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:17:05.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798638087639040 [0;39m ==> Parameters: 
2023-05-17 22:17:05.098 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798638087639040 [0;39m <==    Updates: 3
2023-05-17 22:17:05.099 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39798638087639040 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-17 22:17:19.469 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:17:21.505 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:17:21.769 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:17:25.550 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:17:27.593 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:17:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39798763971284992 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:17:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798763971284992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:17:35.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798763971284992 [0;39m ==> Parameters: 
2023-05-17 22:17:35.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798763971284992 [0;39m <==    Updates: 3
2023-05-17 22:17:35.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39798763971284992 [0;39m 更新电子书下的文档数据结束，耗时：94毫秒
2023-05-17 22:17:43.553 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:17:45.570 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:17:51.743 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:17:53.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:17:55.414 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39798868824690688 [0;39m 生成今日电子书快照开始
2023-05-17 22:18:00.045 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39798868824690688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:18:00.045 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39798868824690688 [0;39m ==> Parameters: 
2023-05-17 22:18:00.112 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39798868824690688 [0;39m <==    Updates: 0
2023-05-17 22:18:00.113 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39798868824690688 [0;39m 生成今日电子书快照结束，耗时：101毫秒
2023-05-17 22:18:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39798889821376512 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:18:05.069 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798889821376512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:18:05.069 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798889821376512 [0;39m ==> Parameters: 
2023-05-17 22:18:05.369 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39798889821376512 [0;39m <==    Updates: 3
2023-05-17 22:18:05.369 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39798889821376512 [0;39m 更新电子书下的文档数据结束，耗时：351毫秒
2023-05-17 22:18:07.607 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:09.627 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:21.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:21.771 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:23.393 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:25.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:31.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:33.714 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39799015637913600 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:18:35.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799015637913600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:18:35.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799015637913600 [0;39m ==> Parameters: 
2023-05-17 22:18:35.111 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799015637913600 [0;39m <==    Updates: 3
2023-05-17 22:18:35.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39799015637913600 [0;39m 更新电子书下的文档数据结束，耗时：97毫秒
2023-05-17 22:18:51.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:51.745 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:53.382 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:55.414 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:57.442 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:18:59.482 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:19:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39799120445181952 [0;39m 生成今日电子书快照开始
2023-05-17 22:19:00.290 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39799120445181952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:19:00.292 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39799120445181952 [0;39m ==> Parameters: 
2023-05-17 22:19:00.598 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39799120445181952 [0;39m <==    Updates: 0
2023-05-17 22:19:00.598 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39799120445181952 [0;39m 生成今日电子书快照结束，耗时：595毫秒
2023-05-17 22:19:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39799141416701952 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:19:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799141416701952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:19:05.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799141416701952 [0;39m ==> Parameters: 
2023-05-17 22:19:05.100 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799141416701952 [0;39m <==    Updates: 3
2023-05-17 22:19:05.101 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39799141416701952 [0;39m 更新电子书下的文档数据结束，耗时：98毫秒
2023-05-17 22:19:21.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:19:21.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:19:23.369 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:19:25.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:19:27.443 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:19:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39799267258404864 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:19:35.228 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799267258404864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:19:35.229 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799267258404864 [0;39m ==> Parameters: 
2023-05-17 22:19:35.537 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799267258404864 [0;39m <==    Updates: 3
2023-05-17 22:19:35.537 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39799267258404864 [0;39m 更新电子书下的文档数据结束，耗时：531毫秒
2023-05-17 22:19:49.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:19:51.507 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:19:51.759 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:19:53.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:19:55.589 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:19:57.622 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:20:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39799372116004864 [0;39m 生成今日电子书快照开始
2023-05-17 22:20:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39799372116004864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:20:00.038 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39799372116004864 [0;39m ==> Parameters: 
2023-05-17 22:20:00.116 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39799372116004864 [0;39m <==    Updates: 0
2023-05-17 22:20:00.116 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39799372116004864 [0;39m 生成今日电子书快照结束，耗时：110毫秒
2023-05-17 22:20:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39799393087524864 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:20:05.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799393087524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:20:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799393087524864 [0;39m ==> Parameters: 
2023-05-17 22:20:05.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799393087524864 [0;39m <==    Updates: 3
2023-05-17 22:20:05.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39799393087524864 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-05-17 22:20:13.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:20:15.571 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:20:21.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:20:21.769 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:20:23.375 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:20:25.422 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:20:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39799518916644864 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:20:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799518916644864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:20:35.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799518916644864 [0;39m ==> Parameters: 
2023-05-17 22:20:35.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799518916644864 [0;39m <==    Updates: 3
2023-05-17 22:20:35.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39799518916644864 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-05-17 22:20:37.625 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:20:39.662 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:20:51.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:20:51.758 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:20:53.387 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:20:55.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:21:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39799623807799296 [0;39m 生成今日电子书快照开始
2023-05-17 22:21:00.078 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39799623807799296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:21:00.078 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39799623807799296 [0;39m ==> Parameters: 
2023-05-17 22:21:00.472 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39799623807799296 [0;39m <==    Updates: 0
2023-05-17 22:21:00.472 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39799623807799296 [0;39m 生成今日电子书快照结束，耗时：458毫秒
2023-05-17 22:21:01.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:21:03.740 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:21:04.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39799642522783744 [0;39m ------------- 开始 -------------
2023-05-17 22:21:04.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39799642522783744 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39791879704940544 GET
2023-05-17 22:21:04.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39799642522783744 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 22:21:04.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39799642522783744 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:21:04.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39799642522783744 [0;39m 请求参数: [39791879704940544]
2023-05-17 22:21:04.739 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799642522783744 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 22:21:04.739 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799642522783744 [0;39m ==> Parameters: 39791879704940544(Long)
2023-05-17 22:21:05.006 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39799642522783744 [0;39m <==    Columns: id, content
2023-05-17 22:21:05.006 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39799642522783744 [0;39m <==        Row: 39791879704940544, <<BLOB>>
2023-05-17 22:21:05.006 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799642522783744 [0;39m <==      Total: 1
2023-05-17 22:21:05.006 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799642522783744 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 22:21:05.006 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799642522783744 [0;39m ==> Parameters: 39791879704940544(Long)
2023-05-17 22:21:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39799644791902208 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:21:05.334 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799642522783744 [0;39m <==    Updates: 1
2023-05-17 22:21:05.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39799642522783744 [0;39m 返回结果: {"content":"<p>导入配置，在properties或者yml中</p><pre>rocketmq.name-server=127.0.0.1:9876\nrocketmq.producer.group=default<br></pre>","success":true}
2023-05-17 22:21:05.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39799642522783744 [0;39m ------------- 结束 耗时：859 ms -------------
2023-05-17 22:21:10.024 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m39799644791902208 [0;39m HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@56ecf200 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2023-05-17 22:21:10.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799644791902208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:21:10.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799644791902208 [0;39m ==> Parameters: 
2023-05-17 22:21:10.339 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799644791902208 [0;39m <==    Updates: 3
2023-05-17 22:21:10.339 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39799644791902208 [0;39m 更新电子书下的文档数据结束，耗时：5322毫秒
2023-05-17 22:21:21.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:21:21.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:21:25.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:21:27.433 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:21:29.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:21:30.098 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39794698793127936 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:21:30.098 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39794698793127936 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 22:21:30.098 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39794698793127936 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 22:21:33.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39799766133116928 [0;39m ------------- 开始 -------------
2023-05-17 22:21:33.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39799766133116928 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39791879704940544 GET
2023-05-17 22:21:33.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39799766133116928 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 22:21:33.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39799766133116928 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:21:33.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39799766133116928 [0;39m 请求参数: [39791879704940544]
2023-05-17 22:21:33.979 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799766133116928 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 22:21:33.980 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799766133116928 [0;39m ==> Parameters: 39791879704940544(Long)
2023-05-17 22:21:34.012 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39799766133116928 [0;39m <==    Columns: id, content
2023-05-17 22:21:34.013 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39799766133116928 [0;39m <==        Row: 39791879704940544, <<BLOB>>
2023-05-17 22:21:34.013 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799766133116928 [0;39m <==      Total: 1
2023-05-17 22:21:34.013 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799766133116928 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 22:21:34.013 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799766133116928 [0;39m ==> Parameters: 39791879704940544(Long)
2023-05-17 22:21:34.079 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799766133116928 [0;39m <==    Updates: 1
2023-05-17 22:21:34.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39799766133116928 [0;39m 返回结果: {"content":"<p>导入配置，在properties或者yml中</p><pre>rocketmq.name-server=127.0.0.1:9876\nrocketmq.producer.group=default<br></pre>","success":true}
2023-05-17 22:21:34.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39799766133116928 [0;39m ------------- 结束 耗时：132 ms -------------
2023-05-17 22:21:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39799770570690560 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:21:35.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799770570690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:21:35.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799770570690560 [0;39m ==> Parameters: 
2023-05-17 22:21:35.100 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799770570690560 [0;39m <==    Updates: 3
2023-05-17 22:21:35.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39799770570690560 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-17 22:21:35.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39799772030308352 [0;39m ------------- 开始 -------------
2023-05-17 22:21:35.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39799772030308352 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39792357465526272 GET
2023-05-17 22:21:35.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39799772030308352 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 22:21:35.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39799772030308352 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:21:35.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39799772030308352 [0;39m 请求参数: [39792357465526272]
2023-05-17 22:21:35.353 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799772030308352 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 22:21:35.354 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799772030308352 [0;39m ==> Parameters: 39792357465526272(Long)
2023-05-17 22:21:35.384 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39799772030308352 [0;39m <==    Columns: id, content
2023-05-17 22:21:35.384 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39799772030308352 [0;39m <==        Row: 39792357465526272, <<BLOB>>
2023-05-17 22:21:35.384 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799772030308352 [0;39m <==      Total: 1
2023-05-17 22:21:35.384 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799772030308352 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 22:21:35.384 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799772030308352 [0;39m ==> Parameters: 39792357465526272(Long)
2023-05-17 22:21:35.453 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799772030308352 [0;39m <==    Updates: 1
2023-05-17 22:21:35.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39799772030308352 [0;39m 返回结果: {"content":"<p>在应用中导入</p><pre>@Autowired<br>private RocketMQTemplate rocketMQTemplate;</pre><p>并且在代码中直接使用converAndSend方法进行发送</p><p>/**<br>         * 点赞<br>         */<br>        public void vote(Long id) {<br>            // docMapperCust.increaseVoteCount(id);<br>            // 远程IP+doc.id作为key，24小时内不能重复<br>            String ip = RequestContext.getRemoteAddr();<br>            if (redisUtil.validateRepeat(\"DOC_VOTE_\" + id + \"_\" + ip, 5000)) {<br>                docMapperCust.increaseVoteCount(id);<br>            } else {<br>                throw new BusinessException(BusinessExceptionCode.VOTE_REPEAT);<br>            }<br><br>            // 推送消息<br>            Doc docDb = docMapper.selectByPrimaryKey(id);<br>            String logId = MDC.get(\"LOG_ID\");<br>//            wsService.sendInfo(\"【\" + docDb.getName() + \"】被点赞！\", logId);<br>             rocketMQTemplate.convertAndSend(\"VOTE_TOPIC\", \"【\" + docDb.getName() + \"】被点赞！\");<br>        }<br></p>","success":true}
2023-05-17 22:21:35.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39799772030308352 [0;39m ------------- 结束 耗时：102 ms -------------
2023-05-17 22:21:36.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39799775046012928 [0;39m ------------- 开始 -------------
2023-05-17 22:21:36.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39799775046012928 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39791879704940544 GET
2023-05-17 22:21:36.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39799775046012928 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 22:21:36.073 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39799775046012928 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:21:36.073 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39799775046012928 [0;39m 请求参数: [39791879704940544]
2023-05-17 22:21:36.104 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799775046012928 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 22:21:36.105 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799775046012928 [0;39m ==> Parameters: 39791879704940544(Long)
2023-05-17 22:21:36.133 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39799775046012928 [0;39m <==    Columns: id, content
2023-05-17 22:21:36.133 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39799775046012928 [0;39m <==        Row: 39791879704940544, <<BLOB>>
2023-05-17 22:21:36.133 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799775046012928 [0;39m <==      Total: 1
2023-05-17 22:21:36.133 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799775046012928 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 22:21:36.133 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799775046012928 [0;39m ==> Parameters: 39791879704940544(Long)
2023-05-17 22:21:36.206 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799775046012928 [0;39m <==    Updates: 1
2023-05-17 22:21:36.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39799775046012928 [0;39m 返回结果: {"content":"<p>导入配置，在properties或者yml中</p><pre>rocketmq.name-server=127.0.0.1:9876\nrocketmq.producer.group=default<br></pre>","success":true}
2023-05-17 22:21:36.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39799775046012928 [0;39m ------------- 结束 耗时：135 ms -------------
2023-05-17 22:21:39.201 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39794677804830720 [0;39m 连接关闭，token：jOG83Yqnud，session id：1！当前连接数：0
2023-05-17 22:21:39.833 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39794715272548352 [0;39m 有新连接：token：FbP1L0afhG，session id：2，当前连接数：1
2023-05-17 22:21:39.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39799791131168768 [0;39m ------------- 开始 -------------
2023-05-17 22:21:39.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39799791131168768 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 22:21:39.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39799791131168768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 22:21:39.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39799791131168768 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:21:39.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39799791131168768 [0;39m 请求参数: [39789950677422080]
2023-05-17 22:21:39.942 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39799791131168768 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 22:21:39.942 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39799791131168768 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 22:21:39.975 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799791131168768 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 22:21:39.975 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799791131168768 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 10, 0
2023-05-17 22:21:39.975 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799791131168768 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 22:21:39.975 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799791131168768 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 22:21:39.975 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799791131168768 [0;39m <==        Row: 39791679196237824, 39789950677422080, 0, RocketMq在Springboot的基础应用, 1, 2, 0
2023-05-17 22:21:39.975 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799791131168768 [0;39m <==        Row: 39791879704940544, 39789950677422080, 39791679196237824, 配置, 1, 3, 0
2023-05-17 22:21:39.976 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799791131168768 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 22:21:39.976 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799791131168768 [0;39m <==        Row: 39792357465526272, 39789950677422080, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 2, 0
2023-05-17 22:21:39.976 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799791131168768 [0;39m <==        Row: 39794574159384576, 39789950677422080, 39791679196237824, 服务端, 3, 1, 0
2023-05-17 22:21:39.976 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39799791131168768 [0;39m <==      Total: 8
2023-05-17 22:21:39.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39799791131168768 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":10,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":1,"voteCount":0}],"success":true}
2023-05-17 22:21:39.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39799791131168768 [0;39m ------------- 结束 耗时：69 ms -------------
2023-05-17 22:21:41.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39799796181110784 [0;39m ------------- 开始 -------------
2023-05-17 22:21:41.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39799796181110784 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39791879704940544 GET
2023-05-17 22:21:41.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39799796181110784 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 22:21:41.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39799796181110784 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:21:41.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39799796181110784 [0;39m 请求参数: [39791879704940544]
2023-05-17 22:21:41.145 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799796181110784 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 22:21:41.145 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799796181110784 [0;39m ==> Parameters: 39791879704940544(Long)
2023-05-17 22:21:41.177 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39799796181110784 [0;39m <==    Columns: id, content
2023-05-17 22:21:41.177 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39799796181110784 [0;39m <==        Row: 39791879704940544, <<BLOB>>
2023-05-17 22:21:41.177 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39799796181110784 [0;39m <==      Total: 1
2023-05-17 22:21:41.177 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799796181110784 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 22:21:41.177 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799796181110784 [0;39m ==> Parameters: 39791879704940544(Long)
2023-05-17 22:21:41.244 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39799796181110784 [0;39m <==    Updates: 1
2023-05-17 22:21:41.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39799796181110784 [0;39m 返回结果: {"content":"<p>导入配置，在properties或者yml中</p><pre>rocketmq.name-server=127.0.0.1:9876\nrocketmq.producer.group=default<br></pre>","success":true}
2023-05-17 22:21:41.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39799796181110784 [0;39m ------------- 结束 耗时：133 ms -------------
2023-05-17 22:21:49.316 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39794698793127936 [0;39m 系统异常：
org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:74)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:272)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.convertLettuceAccessException(LettuceStringCommands.java:800)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:70)
	at org.springframework.data.redis.connection.DefaultedRedisConnection.get(DefaultedRedisConnection.java:267)
	at org.springframework.data.redis.core.DefaultValueOperations$1.inRedis(DefaultValueOperations.java:57)
	at org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:60)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:229)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:189)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:96)
	at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:53)
	at com.jiawa.wiki.interceptor.LoginInterceptor.preHandle(LoginInterceptor.java:53)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:148)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1056)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at io.lettuce.core.internal.Exceptions.bubble(Exceptions.java:83)
	at io.lettuce.core.internal.Futures.awaitOrCancel(Futures.java:250)
	at io.lettuce.core.FutureSyncInvocationHandler.handleInvocation(FutureSyncInvocationHandler.java:75)
	at io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80)
	at com.sun.proxy.$Proxy144.get(Unknown Source)
	at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:68)
	... 49 common frames omitted
Caused by: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at sun.nio.ch.SocketDispatcher.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)
	at sun.nio.ch.IOUtil.read(IOUtil.java:192)
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:378)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1134)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-17 22:21:49.319 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39794698793127936 [0;39m Resolved [org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.io.IOException: 远程主机强迫关闭了一个现有的连接。]
2023-05-17 22:21:51.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:21:51.725 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:21:53.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:21:55.390 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:21:57.432 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:22:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39799875419901952 [0;39m 生成今日电子书快照开始
2023-05-17 22:22:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39799875419901952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:22:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39799875419901952 [0;39m ==> Parameters: 
2023-05-17 22:22:00.099 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39799875419901952 [0;39m <==    Updates: 0
2023-05-17 22:22:00.108 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39799875419901952 [0;39m 生成今日电子书快照结束，耗时：105毫秒
2023-05-17 22:22:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39799896420782080 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:22:05.203 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799896420782080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:22:05.203 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799896420782080 [0;39m ==> Parameters: 
2023-05-17 22:22:05.369 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39799896420782080 [0;39m <==    Updates: 3
2023-05-17 22:22:05.369 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39799896420782080 [0;39m 更新电子书下的文档数据结束，耗时：359毫秒
2023-05-17 22:22:18.968 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39794531884994560 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:22:18.968 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39794531884994560 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 22:22:18.968 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39794531884994560 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 22:22:19.008 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39794531884994560 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 22:22:19.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39799955136843776 [0;39m ------------- 开始 -------------
2023-05-17 22:22:19.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39799955136843776 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 22:22:19.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39799955136843776 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 22:22:19.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39799955136843776 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:22:19.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39799955136843776 [0;39m 请求参数: [{"content":"<p>导入配置，在properties或者yml中</p><pre>rocketmq.name-server=127.0.0.1:9876\nrocketmq.producer.group=default<br></pre><p><br></p><p><br></p><p>且需要打开你的RocketMq 输入<span style=\"font-size: 1em;\">mqbroker.cmd -n 127.0.0.1:9876 autoCreateTopicEnable=true 和打开</span><span style=\"font-size: 1em;\">mqnamesrv.cmd</span></p>","ebookId":39789950677422080,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":3,"voteCount":0}]
2023-05-17 22:22:19.070 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39799955136843776 [0;39m ==>  Preparing: update doc set ebook_id = ?, parent = ?, `name` = ?, sort = ?, view_count = ?, vote_count = ? where id = ?
2023-05-17 22:22:19.070 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39799955136843776 [0;39m ==> Parameters: 39789950677422080(Long), 39791679196237824(Long), 配置(String), 1(Integer), 3(Integer), 0(Integer), 39791879704940544(Long)
2023-05-17 22:22:19.139 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m39799955136843776 [0;39m <==    Updates: 1
2023-05-17 22:22:19.139 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39799955136843776 [0;39m ==>  Preparing: update content set content = ? where id = ?
2023-05-17 22:22:19.141 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39799955136843776 [0;39m ==> Parameters: <p>导入配置，在properties或者yml中</p><pre>rocketmq.name-server=127.0.0.1:9876
rocketmq.producer.group=default<br></pre><p><br></p><p><br></p><p>且需要打开你的RocketMq 输入<span style="font-size: 1em;">mqbroker.cmd -n 127.0.0.1:9876 autoCreateTopicEnable=true 和打开</span><span style="font-size: 1em;">mqnamesrv.cmd</span></p>(String), 39791879704940544(Long)
2023-05-17 22:22:19.203 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m39799955136843776 [0;39m <==    Updates: 1
2023-05-17 22:22:19.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39799955136843776 [0;39m 返回结果: {"success":true}
2023-05-17 22:22:19.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39799955136843776 [0;39m ------------- 结束 耗时：263 ms -------------
2023-05-17 22:22:19.272 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39799955136843776 [0;39m ------------- LoginInterceptor 结束 耗时：304 ms -------------
2023-05-17 22:22:19.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39799956281888768 [0;39m ------------- 开始 -------------
2023-05-17 22:22:19.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39799956281888768 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 22:22:19.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39799956281888768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 22:22:19.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39799956281888768 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:22:19.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39799956281888768 [0;39m 请求参数: [39789950677422080]
2023-05-17 22:22:19.284 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39799956281888768 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 22:22:19.285 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39799956281888768 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 22:22:19.313 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799956281888768 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 22:22:19.313 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799956281888768 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 10, 0
2023-05-17 22:22:19.313 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799956281888768 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 22:22:19.313 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799956281888768 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 22:22:19.313 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799956281888768 [0;39m <==        Row: 39791679196237824, 39789950677422080, 0, RocketMq在Springboot的基础应用, 1, 2, 0
2023-05-17 22:22:19.313 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799956281888768 [0;39m <==        Row: 39791879704940544, 39789950677422080, 39791679196237824, 配置, 1, 3, 0
2023-05-17 22:22:19.313 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799956281888768 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 22:22:19.313 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799956281888768 [0;39m <==        Row: 39792357465526272, 39789950677422080, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 2, 0
2023-05-17 22:22:19.313 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39799956281888768 [0;39m <==        Row: 39794574159384576, 39789950677422080, 39791679196237824, 服务端, 3, 1, 0
2023-05-17 22:22:19.320 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39799956281888768 [0;39m <==      Total: 8
2023-05-17 22:22:19.320 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39799956281888768 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":10,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":1,"voteCount":0}],"success":true}
2023-05-17 22:22:19.320 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39799956281888768 [0;39m ------------- 结束 耗时：38 ms -------------
2023-05-17 22:22:21.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:22:21.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:22:23.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:22:27.613 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:22:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39800022275067904 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:22:35.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800022275067904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:22:35.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800022275067904 [0;39m ==> Parameters: 
2023-05-17 22:22:35.112 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800022275067904 [0;39m <==    Updates: 3
2023-05-17 22:22:35.112 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39800022275067904 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-05-17 22:22:43.539 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:22:45.582 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:22:51.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:22:51.760 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:22:53.369 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:22:55.419 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39800127078141952 [0;39m 生成今日电子书快照开始
2023-05-17 22:23:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39800127078141952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:23:00.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39800127078141952 [0;39m ==> Parameters: 
2023-05-17 22:23:00.101 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39800127078141952 [0;39m <==    Updates: 0
2023-05-17 22:23:00.101 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39800127078141952 [0;39m 生成今日电子书快照结束，耗时：98毫秒
2023-05-17 22:23:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39800148112576512 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:23:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800148112576512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:23:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800148112576512 [0;39m ==> Parameters: 
2023-05-17 22:23:05.113 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800148112576512 [0;39m <==    Updates: 3
2023-05-17 22:23:05.113 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39800148112576512 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
2023-05-17 22:23:07.643 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:09.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:21.347 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:21.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:23.386 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:25.416 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:31.732 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:33.782 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39800273920724992 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:23:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800273920724992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:23:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800273920724992 [0;39m ==> Parameters: 
2023-05-17 22:23:35.109 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800273920724992 [0;39m <==    Updates: 3
2023-05-17 22:23:35.109 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39800273920724992 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-05-17 22:23:48.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800331269443584 [0;39m ------------- 开始 -------------
2023-05-17 22:23:48.687 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800331269443584 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39794574159384576 GET
2023-05-17 22:23:48.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800331269443584 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 22:23:48.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800331269443584 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:23:48.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800331269443584 [0;39m 请求参数: [39794574159384576]
2023-05-17 22:23:48.721 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39800331269443584 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 22:23:48.721 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39800331269443584 [0;39m ==> Parameters: 39794574159384576(Long)
2023-05-17 22:23:48.755 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39800331269443584 [0;39m <==    Columns: id, content
2023-05-17 22:23:48.756 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39800331269443584 [0;39m <==        Row: 39794574159384576, <<BLOB>>
2023-05-17 22:23:48.756 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39800331269443584 [0;39m <==      Total: 1
2023-05-17 22:23:48.756 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39800331269443584 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 22:23:48.756 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39800331269443584 [0;39m ==> Parameters: 39794574159384576(Long)
2023-05-17 22:23:48.825 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39800331269443584 [0;39m <==    Updates: 1
2023-05-17 22:23:48.825 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800331269443584 [0;39m 返回结果: {"content":"<p><h3 id=\"h1asa\">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = \"default\", topic = \"VOTE_TOPIC\")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info(\"ROCKETMQ收到消息：{}\", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>","success":true}
2023-05-17 22:23:48.825 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800331269443584 [0;39m ------------- 结束 耗时：139 ms -------------
2023-05-17 22:23:51.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:51.742 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:53.347 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:55.385 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:57.413 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:23:59.428 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:24:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39800378769936384 [0;39m 生成今日电子书快照开始
2023-05-17 22:24:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39800378769936384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:24:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39800378769936384 [0;39m ==> Parameters: 
2023-05-17 22:24:00.115 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39800378769936384 [0;39m <==    Updates: 0
2023-05-17 22:24:00.115 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39800378769936384 [0;39m 生成今日电子书快照结束，耗时：104毫秒
2023-05-17 22:24:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39800399766622208 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:24:05.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800399766622208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:24:05.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800399766622208 [0;39m ==> Parameters: 
2023-05-17 22:24:05.116 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800399766622208 [0;39m <==    Updates: 3
2023-05-17 22:24:05.116 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39800399766622208 [0;39m 更新电子书下的文档数据结束，耗时：99毫秒
2023-05-17 22:24:21.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:24:21.742 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:24:25.347 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:24:27.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:24:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39800525553799168 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:24:35.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800525553799168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:24:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800525553799168 [0;39m ==> Parameters: 
2023-05-17 22:24:35.103 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800525553799168 [0;39m <==    Updates: 3
2023-05-17 22:24:35.103 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39800525553799168 [0;39m 更新电子书下的文档数据结束，耗时：96毫秒
2023-05-17 22:24:49.007 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39799775046012928 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-17 22:24:49.008 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39799775046012928 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-17 22:24:49.008 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39799775046012928 [0;39m 登录校验开始，token：39789895941754880
2023-05-17 22:24:49.044 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39799775046012928 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39789895941754880"}
2023-05-17 22:24:49.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800584437633024 [0;39m ------------- 开始 -------------
2023-05-17 22:24:49.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800584437633024 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-17 22:24:49.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800584437633024 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-17 22:24:49.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800584437633024 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:24:49.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800584437633024 [0;39m 请求参数: [{"content":"<h3 id=\"u7xkq\">通过以上步骤就能实现一个最基本的Mq的使用</h3>","ebookId":39789950677422080,"name":"完结","parent":39791679196237824,"sort":4}]
2023-05-17 22:24:49.111 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39800584437633024 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-17 22:24:49.112 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39800584437633024 [0;39m ==> Parameters: 39800584710262784(Long), 39789950677422080(Long), 39791679196237824(Long), 完结(String), 4(Integer), 0(Integer), 0(Integer)
2023-05-17 22:24:49.175 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m39800584437633024 [0;39m <==    Updates: 1
2023-05-17 22:24:49.175 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39800584437633024 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-17 22:24:49.175 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39800584437633024 [0;39m ==> Parameters: 39800584710262784(Long), <h3 id="u7xkq">通过以上步骤就能实现一个最基本的Mq的使用</h3>(String)
2023-05-17 22:24:49.240 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m39800584437633024 [0;39m <==    Updates: 1
2023-05-17 22:24:49.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800584437633024 [0;39m 返回结果: {"success":true}
2023-05-17 22:24:49.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800584437633024 [0;39m ------------- 结束 耗时：260 ms -------------
2023-05-17 22:24:49.307 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39800584437633024 [0;39m ------------- LoginInterceptor 结束 耗时：299 ms -------------
2023-05-17 22:24:49.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800585595260928 [0;39m ------------- 开始 -------------
2023-05-17 22:24:49.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800585595260928 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/39789950677422080 GET
2023-05-17 22:24:49.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800585595260928 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 22:24:49.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800585595260928 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:24:49.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800585595260928 [0;39m 请求参数: [39789950677422080]
2023-05-17 22:24:49.323 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39800585595260928 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 22:24:49.323 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39800585595260928 [0;39m ==> Parameters: 39789950677422080(Long)
2023-05-17 22:24:49.356 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39800585595260928 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 22:24:49.358 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39800585595260928 [0;39m <==        Row: 39790662006214656, 39789950677422080, 0, RocketMQ 介绍及基本概念, 0, 10, 0
2023-05-17 22:24:49.358 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39800585595260928 [0;39m <==        Row: 39790373182246912, 39789950677422080, 39790373182246912, 介绍, 1, 0, 0
2023-05-17 22:24:49.358 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39800585595260928 [0;39m <==        Row: 39791363037990912, 39789950677422080, 39790662006214656, 介绍, 1, 0, 0
2023-05-17 22:24:49.358 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39800585595260928 [0;39m <==        Row: 39791679196237824, 39789950677422080, 0, RocketMq在Springboot的基础应用, 1, 2, 0
2023-05-17 22:24:49.358 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39800585595260928 [0;39m <==        Row: 39791879704940544, 39789950677422080, 39791679196237824, 配置, 1, 3, 0
2023-05-17 22:24:49.359 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39800585595260928 [0;39m <==        Row: 39790797704531968, 39789950677422080, 39790662006214656, RocketMQ 特点, 2, 3, 0
2023-05-17 22:24:49.359 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39800585595260928 [0;39m <==        Row: 39792357465526272, 39789950677422080, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 2, 0
2023-05-17 22:24:49.359 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39800585595260928 [0;39m <==        Row: 39794574159384576, 39789950677422080, 39791679196237824, 服务端, 3, 2, 0
2023-05-17 22:24:49.359 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39800585595260928 [0;39m <==        Row: 39800584710262784, 39789950677422080, 39791679196237824, 完结, 4, 0, 0
2023-05-17 22:24:49.359 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39800585595260928 [0;39m <==      Total: 9
2023-05-17 22:24:49.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800585595260928 [0;39m 返回结果: {"content":[{"ebookId":39789950677422080,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":10,"voteCount":0},{"ebookId":39789950677422080,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":39789950677422080,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":39789950677422080,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":2,"voteCount":0},{"ebookId":39789950677422080,"id":39800584710262784,"name":"完结","parent":39791679196237824,"sort":4,"viewCount":0,"voteCount":0}],"success":true}
2023-05-17 22:24:49.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800585595260928 [0;39m ------------- 结束 耗时：38 ms -------------
2023-05-17 22:24:49.422 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:24:50.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800591047856128 [0;39m ------------- 开始 -------------
2023-05-17 22:24:50.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800591047856128 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39800584710262784 GET
2023-05-17 22:24:50.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800591047856128 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 22:24:50.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800591047856128 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:24:50.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800591047856128 [0;39m 请求参数: [39800584710262784]
2023-05-17 22:24:50.656 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39800591047856128 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 22:24:50.656 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39800591047856128 [0;39m ==> Parameters: 39800584710262784(Long)
2023-05-17 22:24:50.688 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39800591047856128 [0;39m <==    Columns: id, content
2023-05-17 22:24:50.689 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39800591047856128 [0;39m <==        Row: 39800584710262784, <<BLOB>>
2023-05-17 22:24:50.689 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39800591047856128 [0;39m <==      Total: 1
2023-05-17 22:24:50.690 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39800591047856128 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 22:24:50.690 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39800591047856128 [0;39m ==> Parameters: 39800584710262784(Long)
2023-05-17 22:24:50.757 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39800591047856128 [0;39m <==    Updates: 1
2023-05-17 22:24:50.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800591047856128 [0;39m 返回结果: {"content":"<h3 id=\"u7xkq\">通过以上步骤就能实现一个最基本的Mq的使用</h3>","success":true}
2023-05-17 22:24:50.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800591047856128 [0;39m ------------- 结束 耗时：136 ms -------------
2023-05-17 22:24:51.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:24:51.752 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:24:53.500 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:24:55.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:24:57.585 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:25:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39800630407204864 [0;39m 生成今日电子书快照开始
2023-05-17 22:25:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39800630407204864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:25:00.038 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39800630407204864 [0;39m ==> Parameters: 
2023-05-17 22:25:00.112 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39800630407204864 [0;39m <==    Updates: 0
2023-05-17 22:25:00.112 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39800630407204864 [0;39m 生成今日电子书快照结束，耗时：106毫秒
2023-05-17 22:25:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39800651382919168 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:25:05.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800651382919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:25:05.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800651382919168 [0;39m ==> Parameters: 
2023-05-17 22:25:05.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800651382919168 [0;39m <==    Updates: 3
2023-05-17 22:25:05.108 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39800651382919168 [0;39m 更新电子书下的文档数据结束，耗时：101毫秒
2023-05-17 22:25:13.587 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:25:15.625 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:25:21.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:25:21.764 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:25:23.364 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:25:25.407 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:25:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39800777224622080 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:25:35.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800777224622080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:25:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800777224622080 [0;39m ==> Parameters: 
2023-05-17 22:25:35.168 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800777224622080 [0;39m <==    Updates: 3
2023-05-17 22:25:35.169 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39800777224622080 [0;39m 更新电子书下的文档数据结束，耗时：158毫秒
2023-05-17 22:25:37.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:25:39.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-17 22:25:48.642 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：FbP1L0afhG，session id：2！当前连接数：0
2023-05-17 22:25:48.696 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-17 22:25:48.699 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-17 22:25:48.699 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-17 22:25:48.700 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-17 22:25:48.704 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-17 22:25:49.079 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-17 22:25:49.079 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-17 22:25:54.524 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-17 22:25:54.530 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 22524 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-17 22:25:54.530 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-17 22:25:54.572 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-17 22:25:54.572 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-17 22:25:55.175 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-17 22:25:55.177 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-17 22:25:55.201 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2023-05-17 22:25:55.763 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-17 22:25:55.770 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-17 22:25:55.770 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-17 22:25:55.770 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-17 22:25:55.841 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-17 22:25:55.843 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1271 ms
2023-05-17 22:25:56.502 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-17 22:25:56.762 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-17 22:25:56.800 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-17 22:25:56.818 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-17 22:25:56.837 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-17 22:25:56.847 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 2.661 seconds (JVM running for 3.491)
2023-05-17 22:25:56.849 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-17 22:25:56.849 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-17 22:26:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39800882082222080 [0;39m 生成今日电子书快照开始
2023-05-17 22:26:00.037 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39800882082222080 [0;39m HikariPool-1 - Starting...
2023-05-17 22:26:01.336 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39800882082222080 [0;39m HikariPool-1 - Start completed.
2023-05-17 22:26:01.342 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39800882082222080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:26:01.359 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39800882082222080 [0;39m ==> Parameters: 
2023-05-17 22:26:01.432 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39800882082222080 [0;39m <==    Updates: 0
2023-05-17 22:26:01.434 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39800882082222080 [0;39m 生成今日电子书快照结束，耗时：1423毫秒
2023-05-17 22:26:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39800903028576256 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:26:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800903028576256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:26:05.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800903028576256 [0;39m ==> Parameters: 
2023-05-17 22:26:05.107 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39800903028576256 [0;39m <==    Updates: 3
2023-05-17 22:26:05.107 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39800903028576256 [0;39m 更新电子书下的文档数据结束，耗时：102毫秒
2023-05-17 22:26:12.482 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-17 22:26:12.483 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-17 22:26:12.484 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-17 22:26:12.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800934523604994 [0;39m ------------- 开始 -------------
2023-05-17 22:26:12.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800934523604992 [0;39m ------------- 开始 -------------
2023-05-17 22:26:12.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800934523604993 [0;39m ------------- 开始 -------------
2023-05-17 22:26:12.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800934523604992 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-17 22:26:12.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800934523604993 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-17 22:26:12.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800934523604994 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-17 22:26:12.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800934523604992 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-17 22:26:12.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800934523604994 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-17 22:26:12.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800934523604993 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-17 22:26:12.515 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800934523604992 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:26:12.515 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800934523604993 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:26:12.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800934523604994 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:26:12.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800934523604993 [0;39m 请求参数: []
2023-05-17 22:26:12.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800934523604994 [0;39m 请求参数: []
2023-05-17 22:26:12.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800934523604992 [0;39m 请求参数: []
2023-05-17 22:26:12.584 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39800934523604992 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 22:26:12.584 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39800934523604992 [0;39m ==> Parameters: 
2023-05-17 22:26:12.586 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39800934523604993 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-17 22:26:12.586 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39800934523604993 [0;39m ==> Parameters: 
2023-05-17 22:26:12.598 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39800934523604994 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-17 22:26:12.598 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39800934523604994 [0;39m ==> Parameters: 
2023-05-17 22:26:12.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==    Columns: id, parent, name, sort
2023-05-17 22:26:12.638 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39800934523604993 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-17 22:26:12.638 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39800934523604992 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-17 22:26:12.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-17 22:26:12.638 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39800934523604993 [0;39m <==        Row: 2023-05-16, 595, 16, 93, 4
2023-05-17 22:26:12.638 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39800934523604992 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-17 22:26:12.639 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-17 22:26:12.639 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-17 22:26:12.641 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 200, 0, Java, 200
2023-05-17 22:26:12.641 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39800934523604992 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-17 22:26:12.641 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39800934523604993 [0;39m <==        Row: 2023-05-17, 691, 17, 96, 1
2023-05-17 22:26:12.641 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-17 22:26:12.641 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39800934523604992 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-17 22:26:12.641 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39800934523604993 [0;39m <==      Total: 2
2023-05-17 22:26:12.641 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-17 22:26:12.641 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39800934523604992 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-17 22:26:12.642 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 300, 0, Python, 300
2023-05-17 22:26:12.642 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39800934523604992 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-17 22:26:12.642 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-17 22:26:12.642 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39800934523604992 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-17 22:26:12.642 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-17 22:26:12.642 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39800934523604992 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-17 22:26:12.642 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-17 22:26:12.643 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39800934523604992 [0;39m <==        Row: 2023-05-16, 93, 4
2023-05-17 22:26:12.643 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-17 22:26:12.643 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-17 22:26:12.643 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-17 22:26:12.644 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39800934523604992 [0;39m <==      Total: 8
2023-05-17 22:26:12.644 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-17 22:26:12.645 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39800934523604994 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-17 22:26:12.645 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39800934523604994 [0;39m <==      Total: 15
2023-05-17 22:26:12.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800934523604994 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-17 22:26:12.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800934523604994 [0;39m ------------- 结束 耗时：153 ms -------------
2023-05-17 22:26:12.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800934523604993 [0;39m 返回结果: {"content":[{"date":1684166400000,"viewCount":595,"viewIncrease":93,"voteCount":16,"voteIncrease":4},{"date":1684252800000,"viewCount":691,"viewIncrease":96,"voteCount":17,"voteIncrease":1}],"success":true}
2023-05-17 22:26:12.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800934523604993 [0;39m ------------- 结束 耗时：154 ms -------------
2023-05-17 22:26:12.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800934523604992 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0},{"date":1684166400000,"viewCount":0,"viewIncrease":93,"voteCount":0,"voteIncrease":4}],"success":true}
2023-05-17 22:26:12.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800934523604992 [0;39m ------------- 结束 耗时：155 ms -------------
2023-05-17 22:26:13.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800939498049536 [0;39m ------------- 开始 -------------
2023-05-17 22:26:13.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800939498049536 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 22:26:13.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800939498049536 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 22:26:13.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800939498049536 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:26:13.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800939498049536 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-17 22:26:13.918 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39800939498049536 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 22:26:13.919 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39800939498049536 [0;39m ==> Parameters: 102(Long)
2023-05-17 22:26:13.954 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39800939498049536 [0;39m <==    Columns: count(0)
2023-05-17 22:26:13.955 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39800939498049536 [0;39m <==        Row: 0
2023-05-17 22:26:13.955 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39800939498049536 [0;39m <==      Total: 1
2023-05-17 22:26:13.957 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39800939498049536 [0;39m 总行数：0
2023-05-17 22:26:13.958 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39800939498049536 [0;39m 总页数：0
2023-05-17 22:26:13.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800939498049536 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-17 22:26:13.960 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800939498049536 [0;39m ------------- 结束 耗时：261 ms -------------
2023-05-17 22:26:14.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800942727663616 [0;39m ------------- 开始 -------------
2023-05-17 22:26:14.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800942727663616 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-17 22:26:14.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800942727663616 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-17 22:26:14.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800942727663616 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:26:14.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800942727663616 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-17 22:26:14.504 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39800942727663616 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-17 22:26:14.505 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39800942727663616 [0;39m ==> Parameters: 101(Long)
2023-05-17 22:26:14.538 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39800942727663616 [0;39m <==    Columns: count(0)
2023-05-17 22:26:14.539 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39800942727663616 [0;39m <==        Row: 1
2023-05-17 22:26:14.540 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39800942727663616 [0;39m <==      Total: 1
2023-05-17 22:26:14.543 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39800942727663616 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-17 22:26:14.544 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39800942727663616 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-17 22:26:14.577 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39800942727663616 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-17 22:26:14.577 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39800942727663616 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 207, 2
2023-05-17 22:26:14.578 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39800942727663616 [0;39m <==      Total: 1
2023-05-17 22:26:14.578 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39800942727663616 [0;39m 总行数：1
2023-05-17 22:26:14.579 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39800942727663616 [0;39m 总页数：1
2023-05-17 22:26:14.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800942727663616 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":207,"voteCount":2}],"total":1},"success":true}
2023-05-17 22:26:14.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800942727663616 [0;39m ------------- 结束 耗时：117 ms -------------
2023-05-17 22:26:15.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800945105833984 [0;39m ------------- 开始 -------------
2023-05-17 22:26:15.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800945105833984 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-17 22:26:15.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800945105833984 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-17 22:26:15.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800945105833984 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:26:15.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800945105833984 [0;39m 请求参数: [2]
2023-05-17 22:26:15.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800945110028288 [0;39m ------------- 开始 -------------
2023-05-17 22:26:15.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800945110028288 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 22:26:15.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800945110028288 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 22:26:15.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800945110028288 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:26:15.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800945110028288 [0;39m 请求参数: [2]
2023-05-17 22:26:15.045 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39800945110028288 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 22:26:15.045 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39800945110028288 [0;39m ==> Parameters: 2(Long)
2023-05-17 22:26:15.084 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39800945110028288 [0;39m <==      Total: 0
2023-05-17 22:26:15.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39800945105833984 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-17 22:26:15.084 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39800945105833984 [0;39m ==> Parameters: 2(Long)
2023-05-17 22:26:15.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800945110028288 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 22:26:15.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800945110028288 [0;39m ------------- 结束 耗时：47 ms -------------
2023-05-17 22:26:15.118 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39800945105833984 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 22:26:15.118 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39800945105833984 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 207, 2
2023-05-17 22:26:15.119 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39800945105833984 [0;39m <==      Total: 1
2023-05-17 22:26:15.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800945105833984 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":207,"voteCount":2}],"success":true}
2023-05-17 22:26:15.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800945105833984 [0;39m ------------- 结束 耗时：92 ms -------------
2023-05-17 22:26:15.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800945546235904 [0;39m ------------- 开始 -------------
2023-05-17 22:26:15.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800945546235904 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-17 22:26:15.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800945546235904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-17 22:26:15.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800945546235904 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:26:15.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800945546235904 [0;39m 请求参数: [38625501966897152]
2023-05-17 22:26:15.143 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39800945546235904 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-17 22:26:15.143 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39800945546235904 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 22:26:15.177 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39800945546235904 [0;39m <==    Columns: id, content
2023-05-17 22:26:15.177 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39800945546235904 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-17 22:26:15.177 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39800945546235904 [0;39m <==      Total: 1
2023-05-17 22:26:15.179 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39800945546235904 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-17 22:26:15.180 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39800945546235904 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 22:26:15.246 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39800945546235904 [0;39m <==    Updates: 1
2023-05-17 22:26:15.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800945546235904 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-17 22:26:15.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800945546235904 [0;39m ------------- 结束 耗时：105 ms -------------
2023-05-17 22:26:15.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800948889096192 [0;39m ------------- 开始 -------------
2023-05-17 22:26:15.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800948889096192 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-17 22:26:15.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800948889096192 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-17 22:26:15.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800948889096192 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:26:15.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800948889096192 [0;39m 请求参数: [2]
2023-05-17 22:26:15.972 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39800948889096192 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-17 22:26:15.972 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39800948889096192 [0;39m ==> Parameters: 2(Long)
2023-05-17 22:26:16.004 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39800948889096192 [0;39m <==      Total: 0
2023-05-17 22:26:16.005 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800948889096192 [0;39m 返回结果: {"content":[],"success":true}
2023-05-17 22:26:16.006 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800948889096192 [0;39m ------------- 结束 耗时：68 ms -------------
2023-05-17 22:26:17.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39800954215862272 [0;39m ------------- 开始 -------------
2023-05-17 22:26:17.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39800954215862272 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/38625501966897152 GET
2023-05-17 22:26:17.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39800954215862272 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-17 22:26:17.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39800954215862272 [0;39m 远程地址: 127.0.0.1
2023-05-17 22:26:17.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39800954215862272 [0;39m 请求参数: [38625501966897152]
2023-05-17 22:26:17.873 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m39800954215862272 [0;39m key不存在，放入：DOC_VOTE_38625501966897152_127.0.0.1，过期 5000 秒
2023-05-17 22:26:17.948 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39800954215862272 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-17 22:26:17.949 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39800954215862272 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 22:26:18.021 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39800954215862272 [0;39m <==    Updates: 1
2023-05-17 22:26:18.022 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39800954215862272 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-17 22:26:18.023 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39800954215862272 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-17 22:26:18.057 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m39800954215862272 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-17 22:26:18.057 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m39800954215862272 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 208, 3
2023-05-17 22:26:18.058 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39800954215862272 [0;39m <==      Total: 1
2023-05-17 22:26:18.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39800954215862272 [0;39m 返回结果: {"success":true}
2023-05-17 22:26:18.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39800954215862272 [0;39m ------------- 结束 耗时：854 ms -------------
2023-05-17 22:26:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39801028887056384 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:26:35.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39801028887056384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:26:35.046 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39801028887056384 [0;39m ==> Parameters: 
2023-05-17 22:26:35.127 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39801028887056384 [0;39m <==    Updates: 3
2023-05-17 22:26:35.128 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39801028887056384 [0;39m 更新电子书下的文档数据结束，耗时：115毫秒
2023-05-17 22:27:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39801133748850688 [0;39m 生成今日电子书快照开始
2023-05-17 22:27:00.044 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39801133748850688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-17 22:27:00.046 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39801133748850688 [0;39m ==> Parameters: 
2023-05-17 22:27:00.120 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39801133748850688 [0;39m <==    Updates: 0
2023-05-17 22:27:00.120 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39801133748850688 [0;39m 生成今日电子书快照结束，耗时：108毫秒
2023-05-17 22:27:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39801154716176384 [0;39m 更新电子书下的文档数据开始
2023-05-17 22:27:05.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39801154716176384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-17 22:27:05.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39801154716176384 [0;39m ==> Parameters: 
2023-05-17 22:27:05.106 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39801154716176384 [0;39m <==    Updates: 3
2023-05-17 22:27:05.106 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39801154716176384 [0;39m 更新电子书下的文档数据结束，耗时：95毫秒
